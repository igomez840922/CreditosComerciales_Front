{"ast":null,"code":"var _jsxFileName = \"D:\\\\_PROJECTS\\\\_SOAINT\\\\JBPM\\\\App\\\\banescocreditoscomerciales\\\\src\\\\pages\\\\CommercialCredit\\\\4_InformeGestionReforzado\\\\FormularioIGR\\\\Secciones\\\\GobiernoCorporativoJunta.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport SweetAlert from \"react-bootstrap-sweetalert\";\nimport { useTranslation } from \"react-i18next\";\nimport LoadingOverlay from \"react-loading-overlay\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport { Button, Col, Row, Table } from \"reactstrap\";\nimport { BackendServices } from \"../../../../../services\";\nimport ModalGobiernoCorporativoJunta from \"./ModalGobiernoCorporativoJunta\";\nimport * as url from \"../../../../../helpers/url_helper\";\nimport { uniq_key } from \"../../../../../helpers/unq_key\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ROWS_GOVERNANCE = [{\n  name: \"Test\",\n  charge: \"Test charge\",\n  description: \"Test Description\"\n}];\n\nconst GobiernoCorporativoJunta = () => {\n  _s();\n\n  const {\n    t\n  } = useTranslation();\n  const [successSave_dlg, setSuccessSave_dlg] = useState(false);\n  const [locationData, setLocationData] = useState(null);\n  const [confirm_alert, setConfirm_alert] = useState(false);\n  const [dataGovernance, setDataGovernance] = useState(undefined);\n  const [dataGovernanceRows, setDataGovernanceRows] = useState(undefined);\n  const [showModalGovernanceBoard, setShowModalGovernanceBoard] = useState(false);\n  const [isActiveLoading, setIsActiveLoading] = useState(false);\n  const location = useLocation();\n  const history = useHistory();\n  const apiBack = new BackendServices();\n  useEffect(() => {\n    let dataSession;\n\n    if (location.data !== null && location.data !== undefined) {\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\n        //location.data.transactionId = 0;\n        //checkAndCreateProcedure(location.data);\n        history.push(url.URL_DASHBOARD);\n      } else {\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\n        setLocationData(location.data);\n        dataSession = location.data;\n      }\n    } else {\n      //chequeamos si tenemos guardado en session\n      var result = sessionStorage.getItem('locationData');\n\n      if (result !== undefined && result !== null) {\n        result = JSON.parse(result);\n        setLocationData(result);\n        dataSession = result;\n      }\n    }\n\n    initializeData(dataSession);\n    return () => {};\n  }, []);\n\n  function initializeData(dataSession) {\n    setIsActiveLoading(true);\n    setDataGovernanceRows(ROWS_GOVERNANCE.map((governance, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: governance.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: governance.charge\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: governance.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        style: {\n          textAlign: \"right\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"#\",\n          title: t(\"View\"),\n          onClick: () => {\n            toggleGovernanceBoard();\n            updateDataGovernance(governance);\n          },\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"mdi mdi-border-color mdi-24px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 130\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"#\",\n          title: t(\"View\"),\n          onClick: () => {\n            setConfirm_alert(true);\n            updateDataGovernance(governance);\n          },\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"mdi mdi-trash-can-outline mdi-24px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 129\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, uniq_key(), true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)));\n    setIsActiveLoading(false);\n  }\n\n  function updateDataGovernance(governance) {\n    setDataGovernance(governance);\n  }\n\n  function toggleGovernanceBoard() {\n    setShowModalGovernanceBoard(!showModalGovernanceBoard);\n  }\n\n  function onSave(governance) {\n    setIsActiveLoading(true);\n    !dataGovernance && console.log('new', governance);\n    dataGovernance && console.log('update', governance);\n    setIsActiveLoading(false);\n    toggleGovernanceBoard();\n  }\n\n  return /*#__PURE__*/_jsxDEV(Col, {\n    className: \"col-12\",\n    children: [/*#__PURE__*/_jsxDEV(LoadingOverlay, {\n      active: isActiveLoading,\n      spinner: true,\n      text: t(\"Processinginformation\"),\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-row justify-content-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"card-title\",\n            children: t(\"Members of the Board of Directors\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"btn\",\n            color: \"success\",\n            type: \"button\",\n            style: {\n              margin: '5px'\n            },\n            onClick: () => {\n              toggleGovernanceBoard();\n              updateDataGovernance(undefined);\n            },\n            title: t(\"Add\"),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-lg fa-plus-circle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 199\n            }, this), \" \", \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-responsive styled-table-div\",\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              className: \"table table-striped table-hover styled-table table\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: t(\"Name\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: t(\"Charge\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: t(\"Description\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 121,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: dataGovernanceRows !== null && dataGovernanceRows !== void 0 ? dataGovernanceRows : /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: 5,\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"alert alert-info\",\n                      style: {\n                        textAlign: \"center\"\n                      },\n                      children: t(\"NoData\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 130,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ModalGobiernoCorporativoJunta, {\n      isOpen: showModalGovernanceBoard,\n      toggle: () => {\n        toggleGovernanceBoard();\n      },\n      onSave: onSave,\n      dataGovernance: dataGovernance\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, this), successSave_dlg ? /*#__PURE__*/_jsxDEV(SweetAlert, {\n      success: true,\n      title: t(\"SuccessDialog\"),\n      confirmButtonText: t(\"Confirm\"),\n      cancelButtonText: t(\"Cancel\"),\n      onConfirm: () => {\n        setSuccessSave_dlg(false);\n        initializeData(locationData);\n      },\n      children: t(\"SuccessSaveMessage\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }, this) : null, confirm_alert ? /*#__PURE__*/_jsxDEV(SweetAlert, {\n      title: t(\"Areyousure\"),\n      warning: true,\n      showCancel: true,\n      confirmButtonText: t(\"Yesdeleteit\"),\n      cancelButtonText: t(\"Cancel\"),\n      confirmBtnBsStyle: \"success\",\n      cancelBtnBsStyle: \"danger\",\n      onConfirm: () => {\n        apiBack.deleteCorporateGovernment({\n          transactId: dataGovernance.transactId,\n          corporateIdentification: dataGovernance.corporateIdentification\n        }).then(resp => {\n          if (resp.statusCode === \"500\") {\n            setConfirm_alert(false);\n          } else {\n            setConfirm_alert(false);\n            initializeData(locationData);\n          }\n        }).catch(() => {\n          setConfirm_alert(false);\n        });\n      },\n      onCancel: () => setConfirm_alert(false),\n      children: t(\"Youwontbeabletorevertthis\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 17\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 9\n  }, this);\n};\n\n_s(GobiernoCorporativoJunta, \"4VxDinjM3sUMy1WBtS3qOdDFznU=\", false, function () {\n  return [useTranslation, useLocation, useHistory];\n});\n\n_c = GobiernoCorporativoJunta;\nexport default GobiernoCorporativoJunta;\n\nvar _c;\n\n$RefreshReg$(_c, \"GobiernoCorporativoJunta\");","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/GobiernoCorporativoJunta.js"],"names":["useEffect","useState","SweetAlert","useTranslation","LoadingOverlay","Link","useHistory","useLocation","Button","Col","Row","Table","BackendServices","ModalGobiernoCorporativoJunta","url","uniq_key","ROWS_GOVERNANCE","name","charge","description","GobiernoCorporativoJunta","t","successSave_dlg","setSuccessSave_dlg","locationData","setLocationData","confirm_alert","setConfirm_alert","dataGovernance","setDataGovernance","undefined","dataGovernanceRows","setDataGovernanceRows","showModalGovernanceBoard","setShowModalGovernanceBoard","isActiveLoading","setIsActiveLoading","location","history","apiBack","dataSession","data","transactionId","length","push","URL_DASHBOARD","sessionStorage","setItem","JSON","stringify","result","getItem","parse","initializeData","map","governance","index","textAlign","toggleGovernanceBoard","updateDataGovernance","onSave","console","log","margin","deleteCorporateGovernment","transactId","corporateIdentification","then","resp","statusCode","catch"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport SweetAlert from \"react-bootstrap-sweetalert\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport LoadingOverlay from \"react-loading-overlay\";\r\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\r\nimport { Button, Col, Row, Table } from \"reactstrap\";\r\nimport { BackendServices } from \"../../../../../services\";\r\nimport ModalGobiernoCorporativoJunta from \"./ModalGobiernoCorporativoJunta\";\r\nimport * as url from \"../../../../../helpers/url_helper\"\r\nimport { uniq_key } from \"../../../../../helpers/unq_key\";\r\n\r\nconst ROWS_GOVERNANCE = [\r\n    {\r\n        name: \"Test\",\r\n        charge: \"Test charge\",\r\n        description: \"Test Description\",\r\n    }\r\n];\r\n\r\nconst GobiernoCorporativoJunta = () => {\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const [successSave_dlg, setSuccessSave_dlg] = useState(false);\r\n    const [locationData, setLocationData] = useState(null);\r\n    const [confirm_alert, setConfirm_alert] = useState(false);\r\n    const [dataGovernance, setDataGovernance] = useState(undefined);\r\n    const [dataGovernanceRows, setDataGovernanceRows] = useState(undefined);\r\n    const [showModalGovernanceBoard, setShowModalGovernanceBoard] = useState(false);\r\n    const [isActiveLoading, setIsActiveLoading] = useState(false);\r\n\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n\r\n    const apiBack = new BackendServices();\r\n\r\n    useEffect(() => {\r\n\r\n        let dataSession;\r\n        if (location.data !== null && location.data !== undefined) {\r\n            if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n                //location.data.transactionId = 0;\r\n                //checkAndCreateProcedure(location.data);\r\n                history.push(url.URL_DASHBOARD);\r\n            }\r\n            else {\r\n                sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n                setLocationData(location.data);\r\n                dataSession = location.data;\r\n            }\r\n        }\r\n        else {\r\n            //chequeamos si tenemos guardado en session\r\n            var result = sessionStorage.getItem('locationData');\r\n            if (result !== undefined && result !== null) {\r\n                result = JSON.parse(result);\r\n                setLocationData(result);\r\n                dataSession = result;\r\n            }\r\n        }\r\n\r\n        initializeData(dataSession);\r\n        return () => {\r\n\r\n        }\r\n    }, [])\r\n\r\n\r\n    function initializeData(dataSession) {\r\n        setIsActiveLoading(true);\r\n        setDataGovernanceRows(ROWS_GOVERNANCE.map((governance, index) => (\r\n            <tr key={uniq_key()}>\r\n                <td>{governance.name}</td>\r\n                <td>{governance.charge}</td>\r\n                <td>{governance.description}</td>\r\n                <td style={{ textAlign: \"right\" }}>\r\n                    <Link to=\"#\" title={t(\"View\")} onClick={() => { toggleGovernanceBoard(); updateDataGovernance(governance) }}><i className=\"mdi mdi-border-color mdi-24px\"></i></Link>\r\n                    <Link to=\"#\" title={t(\"View\")} onClick={() => { setConfirm_alert(true); updateDataGovernance(governance) }}><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Link>\r\n                </td>\r\n            </tr>\r\n        )));\r\n        setIsActiveLoading(false);\r\n    }\r\n\r\n    function updateDataGovernance(governance) {\r\n        setDataGovernance(governance);\r\n    }\r\n\r\n    function toggleGovernanceBoard() {\r\n        setShowModalGovernanceBoard(!showModalGovernanceBoard);\r\n    }\r\n\r\n    function onSave(governance) {\r\n\r\n        setIsActiveLoading(true);\r\n\r\n        !dataGovernance && console.log('new', governance);\r\n        dataGovernance && console.log('update', governance);\r\n\r\n        setIsActiveLoading(false);\r\n        toggleGovernanceBoard();\r\n\r\n    }\r\n    return (\r\n        <Col className=\"col-12\">\r\n            <LoadingOverlay active={isActiveLoading} spinner text={t(\"Processinginformation\")}>\r\n                <Row>\r\n                    <div className=\"d-flex flex-row justify-content-between\">\r\n                        <h5 className=\"card-title\">\r\n                            {t(\"Members of the Board of Directors\")}\r\n                        </h5>\r\n                        <Button className=\"btn\" color=\"success\" type=\"button\" style={{ margin: '5px' }} onClick={() => { toggleGovernanceBoard(); updateDataGovernance(undefined) }} title={t(\"Add\")}><i className=\"fas fa-lg fa-plus-circle\"></i> {(\" \")}</Button>\r\n                    </div>\r\n                    <Col md=\"12\">\r\n                        <div className=\"table-responsive styled-table-div\">\r\n                            <Table className=\"table table-striped table-hover styled-table table\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>{t(\"Name\")}</th>\r\n                                        <th>{t(\"Charge\")}</th>\r\n                                        <th>{t(\"Description\")}</th>\r\n                                        <th></th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {\r\n                                        dataGovernanceRows ??\r\n                                        <tr>\r\n                                            <td colSpan={5}>\r\n                                                <div className=\"alert alert-info\" style={{ textAlign: \"center\" }}>{t(\"NoData\")}</div>\r\n                                            </td>\r\n                                        </tr>\r\n                                    }\r\n                                </tbody>\r\n                            </Table>\r\n                        </div>\r\n\r\n                    </Col>\r\n                </Row>\r\n            </LoadingOverlay>\r\n\r\n            <ModalGobiernoCorporativoJunta isOpen={showModalGovernanceBoard} toggle={() => { toggleGovernanceBoard() }} onSave={onSave} dataGovernance={dataGovernance} />\r\n\r\n            {successSave_dlg ? (\r\n                <SweetAlert\r\n                    success\r\n                    title={t(\"SuccessDialog\")}\r\n                    confirmButtonText={t(\"Confirm\")}\r\n                    cancelButtonText={t(\"Cancel\")}\r\n                    onConfirm={() => {\r\n                        setSuccessSave_dlg(false)\r\n                        initializeData(locationData);\r\n                    }}\r\n                >\r\n                    {t(\"SuccessSaveMessage\")}\r\n                </SweetAlert>\r\n            ) : null}\r\n\r\n            {confirm_alert ? (\r\n                <SweetAlert\r\n                    title={t(\"Areyousure\")}\r\n                    warning\r\n                    showCancel\r\n                    confirmButtonText={t(\"Yesdeleteit\")}\r\n                    cancelButtonText={t(\"Cancel\")}\r\n                    confirmBtnBsStyle=\"success\"\r\n                    cancelBtnBsStyle=\"danger\"\r\n                    onConfirm={() => {\r\n                        apiBack.deleteCorporateGovernment({ transactId: dataGovernance.transactId, corporateIdentification: dataGovernance.corporateIdentification }).then(resp => {\r\n                            if (resp.statusCode === \"500\") {\r\n                                setConfirm_alert(false)\r\n                            } else {\r\n                                setConfirm_alert(false)\r\n                                initializeData(locationData);\r\n                            }\r\n                        }).catch(() => {\r\n                            setConfirm_alert(false)\r\n                        })\r\n                    }}\r\n                    onCancel={() => setConfirm_alert(false)}\r\n                >\r\n                    {t(\"Youwontbeabletorevertthis\")}\r\n                </SweetAlert>\r\n            ) : null}\r\n        </Col>\r\n    );\r\n}\r\n\r\nexport default GobiernoCorporativoJunta;"]},"metadata":{},"sourceType":"module"}