{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{Modal,ModalHeader,ModalBody,Label,Row,Col,Button}from\"reactstrap\";import{AvForm,AvField,AvGroup}from\"availity-reactstrap-validation\";import{useEffect,useState}from'react';import{CoreServices}from'../../../../services';import Select from\"react-select\";import{useTranslation}from\"react-i18next\";import Currency from\"../../../../helpers/currency\";import*as OPTs from\"../../../../helpers/options_helper\";import\"flatpickr/dist/themes/material_blue.css\";import Flatpickr from\"react-flatpickr\";import moment from\"moment\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ModalNewWarrant=function ModalNewWarrant(props){var _dataReturn$commercia,_dataReturn$fastValue;var currencyData=new Currency();var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),tipoGaranteSelect=_useState2[0],settipoGaranteSelect=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),campoRequeridoGarantia=_useState4[0],setcampoRequeridoGarantia=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),campoRequeridoSubGarantia=_useState6[0],setcampoRequeridoSubGarantia=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),codigoGarantia=_useState8[0],setcodigoGarantia=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),tiposGarantia=_useState10[0],setTiposGarantia=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),subtiposGarantia=_useState12[0],setsubtiposGarantia=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),subtipoGaranteeSelect=_useState14[0],setsubtipoGaranteeSelect=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),dataReturn=_useState16[0],setdataReturn=_useState16[1];var coreServices=new CoreServices();var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),fechaSet=_useState18[0],setfechaSet=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),campoLTV=_useState20[0],setcampoLTV=_useState20[1];React.useEffect(function(){console.log('hola');setfechaSet(props.dataSet.appraisalDate?moment(props.dataSet.appraisalDate).format(\"DD-MM-YYYY\"):\" \");// Read Api Service data\nvar defaultVal=null;setdataReturn(props.dataSet);settipoGaranteSelect(undefined);setcodigoGarantia(null);setsubtipoGaranteeSelect(undefined);setcampoRequeridoGarantia(false);setcampoRequeridoSubGarantia(false);try{loadCatalogWarrant().then(function(typeWarrant){if(typeWarrant.length>0&&props.dataSet.guaranteeTypeName!==null&&tipoGaranteSelect===undefined){defaultVal=typeWarrant.find(function(x){return x.value.toUpperCase()===props.dataSet.guaranteeTypeName.toUpperCase();});if(defaultVal!==undefined){settipoGaranteSelect(defaultVal);setcodigoGarantia(defaultVal.value);loadSubCatalogWarrant(defaultVal.value).then(function(subCatalogWarrant){defaultVal=subCatalogWarrant===null||subCatalogWarrant===void 0?void 0:subCatalogWarrant.find(function(x){return x.value.toUpperCase()===props.dataSet.guaranteeSubtypeCode.toUpperCase();});setsubtipoGaranteeSelect(defaultVal);},function(reject){setsubtipoGaranteeSelect(undefined);});}}});}catch(err){}},[props.isOpen]);function loadCatalogWarrant(){return new Promise(function(resolve,reject){setTiposGarantia(null);// getTipoGarantiaCatalogo\ncoreServices.getTipoGarantiaCatalogo().then(function(response){if(response===null){return;}var json=[];for(var i=0;i<response.Records.length;i++){json.push({label:response.Records[i][\"Description\"],value:response.Records[i][\"Code\"]});}setTiposGarantia(json);resolve(json);}).catch(function(err){reject(undefined);});});}function loadSubCatalogWarrant(codeSubWarrant){return new Promise(function(resolve,reject){coreServices.getSubTipoGarantiaCatalogo(codeSubWarrant).then(function(subCatalogWarrant){var _subCatalogWarrant$Re;var subWarrant=subCatalogWarrant===null||subCatalogWarrant===void 0?void 0:(_subCatalogWarrant$Re=subCatalogWarrant.Records)===null||_subCatalogWarrant$Re===void 0?void 0:_subCatalogWarrant$Re.map(function(subWarrant){return{value:subWarrant.Code,label:subWarrant.Description};});setsubtiposGarantia(subWarrant);resolve(subWarrant);}).catch(function(err){console.log(err);reject(undefined);});});}function handleSubmitGarantias(){var _dataReturn$ltv,_subtipoGaranteeSelec,_subtipoGaranteeSelec2;if(campoLTV){return;}if(codigoGarantia==null){setcampoRequeridoGarantia(true);return;}else{setcampoRequeridoGarantia(false);}if(!subtipoGaranteeSelect){setcampoRequeridoSubGarantia(true);return;}else{setcampoRequeridoSubGarantia(false);}dataReturn.guaranteeTypeName=codigoGarantia;dataReturn.ltv=+currencyData.getRealPercent((_dataReturn$ltv=dataReturn.ltv)!==null&&_dataReturn$ltv!==void 0?_dataReturn$ltv:0);dataReturn.guaranteeSubtypeCode=(_subtipoGaranteeSelec=subtipoGaranteeSelect===null||subtipoGaranteeSelect===void 0?void 0:subtipoGaranteeSelect.value)!==null&&_subtipoGaranteeSelec!==void 0?_subtipoGaranteeSelec:'';dataReturn.guaranteeSubtypeDesc=(_subtipoGaranteeSelec2=subtipoGaranteeSelect===null||subtipoGaranteeSelect===void 0?void 0:subtipoGaranteeSelect.label)!==null&&_subtipoGaranteeSelec2!==void 0?_subtipoGaranteeSelec2:'';setdataReturn(dataReturn);props.saveData(dataReturn,props.tipo);props.toggle();}function handleCancel(){props.toggle();}function check(e){var tecla=document.all?e.keyCode:e.which;//Tecla de retroceso para borrar, siempre la permite\nif(tecla===45){e.preventDefault();return true;}return false;}return/*#__PURE__*/_jsxs(Modal,{isOpen:props.isOpen,toggle:props.toggle,centered:true,size:\"md\",children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:props.toggle,color:\"primary\",children:t(\"Warrants\")}),/*#__PURE__*/_jsxs(ModalBody,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{lg:\"12\",children:/*#__PURE__*/_jsxs(AvGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"type\",children:t(\"Warrant Type\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},onChange:function onChange(e){settipoGaranteSelect(tiposGarantia.find(function(x){return x.value===e.value;}));setcodigoGarantia(e.value);loadSubCatalogWarrant(e.value);setcampoRequeridoGarantia(false);},options:tiposGarantia,value:tipoGaranteSelect,classNamePrefix:\"select2-selection\",placeholder:t(\"SelectGroup\")}),campoRequeridoGarantia?/*#__PURE__*/_jsx(\"p\",{className:\"message-error-parrafo\",children:t(\"Required\")}):null]})}),/*#__PURE__*/_jsx(Col,{lg:\"12\",children:/*#__PURE__*/_jsxs(AvGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"type\",children:t(\"SubWarrantType\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},onChange:function onChange(e){setsubtipoGaranteeSelect(subtiposGarantia.find(function(x){return x.value===e.value;}));setcampoRequeridoSubGarantia(false);},options:subtiposGarantia,value:subtipoGaranteeSelect,classNamePrefix:\"select2-selection\",placeholder:t(\"SelectGroup\")}),campoRequeridoSubGarantia?/*#__PURE__*/_jsx(\"p\",{className:\"message-error-parrafo\",children:t(\"Required\")}):null]})}),/*#__PURE__*/_jsx(Col,{lg:\"6\",children:/*#__PURE__*/_jsxs(AvGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"commercialValue\",children:t(\"Commercial Value\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"commercialValue\",type:\"text\",pattern:\"^[0-9,.]*$\",onKeyUp:function onKeyUp(e){var x=currencyData.getRealValue(e.target.value);e.target.value=currencyData.format(x);},value:currencyData.format((_dataReturn$commercia=dataReturn===null||dataReturn===void 0?void 0:dataReturn.commercialValue)!==null&&_dataReturn$commercia!==void 0?_dataReturn$commercia:0),onChange:function onChange(e){dataReturn.commercialValue=e.target.value;setdataReturn(dataReturn);},id:\"commercialValue\"})]})}),/*#__PURE__*/_jsx(Col,{lg:\"6\",children:/*#__PURE__*/_jsxs(AvGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"fastValue\",children:t(\"Quick V-Value\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"fastValue\",type:\"text\",pattern:\"^[0-9,.]*$\",onKeyUp:function onKeyUp(e){var x=currencyData.getRealValue(e.target.value);e.target.value=currencyData.format(x);},value:currencyData.format((_dataReturn$fastValue=dataReturn===null||dataReturn===void 0?void 0:dataReturn.fastValue)!==null&&_dataReturn$fastValue!==void 0?_dataReturn$fastValue:0),onChange:function onChange(e){dataReturn.fastValue=e.target.value;setdataReturn(dataReturn);},id:\"fastValue\"})]})}),/*#__PURE__*/_jsx(Col,{lg:\"12\",children:/*#__PURE__*/_jsxs(AvGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"observations\",children:t(\"Description\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"observations\",type:\"textarea\",value:dataReturn===null||dataReturn===void 0?void 0:dataReturn.observations,onChange:function onChange(e){dataReturn.observations=e.target.value;setdataReturn(dataReturn);},id:\"observations\",rows:\"4\"})]})}),/*#__PURE__*/_jsx(Col,{lg:\"6\",children:/*#__PURE__*/_jsxs(AvGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"ltv\",children:t(\"LTV%\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"ltv\",type:\"text\",onKeyUp:function onKeyUp(e){var x=currencyData.getRealPercent(e.target.value);e.target.value=currencyData.formatPercent(x,e);},onChange:function onChange(e){var x=currencyData.getRealPercent(e.target.value);parseFloat(x)>100?setcampoLTV(true):setcampoLTV(false);dataReturn.ltv=e.target.value;setdataReturn(dataReturn);},value:\"\".concat(dataReturn===null||dataReturn===void 0?void 0:dataReturn.ltv,\"%\"),id:\"ltv\"}),campoLTV?/*#__PURE__*/_jsx(\"p\",{className:\"message-error-parrafo\",children:t(\"Thepercentageexceeds100%\")}):null]})}),/*#__PURE__*/_jsxs(Col,{lg:\"6\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"appraisalDate\",children:t(\"Appraisal Date\")}),fechaSet&&/*#__PURE__*/_jsx(Flatpickr,{name:\"estimatedDate\",id:\"estimatedDate\",className:\"form-control d-block\",placeholder:OPTs.FORMAT_DATE_SHOW,options:{dateFormat:OPTs.FORMAT_DATE,defaultDate:fechaSet//selectClient !== undefined ? moment(selectClient.birthDate) : null\n},onChange:function onChange(selectedDates,dateStr,instance){dataReturn.appraisalDate=moment(dateStr,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\");setdataReturn(dataReturn);}// onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\") } }) }}\n// onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr).format(\"YYYY-MM-DD\") } }) }}\n})]})]}),/*#__PURE__*/_jsx(Row,{className:\"my-2\",children:/*#__PURE__*/_jsxs(Col,{xl:\"12 text-end\",children:[/*#__PURE__*/_jsxs(Button,{id:\"btnCancel\",color:\"danger\",type:\"button\",style:{margin:'5px'},onClick:handleCancel,children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-cancel mid-12px\"}),\" \",t(\"Cancel\")]}),props.botones?/*#__PURE__*/_jsxs(Button,{id:\"btnSearch\",color:\"success\",type:\"button\",onClick:function onClick(e){handleSubmitGarantias();},style:{margin:'5px'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-content-save mdi-12px\"}),\" \",\" \",t(\"Save\")]}):null]})})]})]});};export default ModalNewWarrant;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/5_PropuestaCredito/Secciones/ModalNewWarrant.js"],"names":["React","Modal","ModalHeader","ModalBody","Label","Row","Col","Button","AvForm","AvField","AvGroup","useEffect","useState","CoreServices","Select","useTranslation","Currency","OPTs","Flatpickr","moment","ModalNewWarrant","props","currencyData","t","i18n","undefined","tipoGaranteSelect","settipoGaranteSelect","campoRequeridoGarantia","setcampoRequeridoGarantia","campoRequeridoSubGarantia","setcampoRequeridoSubGarantia","codigoGarantia","setcodigoGarantia","tiposGarantia","setTiposGarantia","subtiposGarantia","setsubtiposGarantia","subtipoGaranteeSelect","setsubtipoGaranteeSelect","dataReturn","setdataReturn","coreServices","fechaSet","setfechaSet","campoLTV","setcampoLTV","console","log","dataSet","appraisalDate","format","defaultVal","loadCatalogWarrant","then","typeWarrant","length","guaranteeTypeName","find","x","value","toUpperCase","loadSubCatalogWarrant","subCatalogWarrant","guaranteeSubtypeCode","reject","err","isOpen","Promise","resolve","getTipoGarantiaCatalogo","response","json","i","Records","push","label","catch","codeSubWarrant","getSubTipoGarantiaCatalogo","subWarrant","map","Code","Description","handleSubmitGarantias","ltv","getRealPercent","guaranteeSubtypeDesc","saveData","tipo","toggle","handleCancel","check","e","tecla","document","all","keyCode","which","preventDefault","getRealValue","target","commercialValue","fastValue","observations","formatPercent","parseFloat","FORMAT_DATE_SHOW","dateFormat","FORMAT_DATE","defaultDate","selectedDates","dateStr","instance","margin","botones"],"mappings":"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","sourcesContent":["import React from \"react\"\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n    Modal,\r\n    ModalHeader,\r\n    ModalBody,\r\n    Label,\r\n    Row,\r\n    Col,\r\n    Button\r\n} from \"reactstrap\"\r\nimport { AvForm, AvField, AvGroup } from \"availity-reactstrap-validation\"\r\nimport { useEffect, useState } from 'react';\r\nimport { CoreServices } from '../../../../services';\r\nimport Select from \"react-select\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport Currency from \"../../../../helpers/currency\";\r\nimport * as OPTs from \"../../../../helpers/options_helper\";\r\nimport \"flatpickr/dist/themes/material_blue.css\";\r\nimport Flatpickr from \"react-flatpickr\";\r\nimport moment from \"moment\";\r\n\r\nconst ModalNewWarrant = (props) => {\r\n    const currencyData = new Currency();\r\n    const { t, i18n } = useTranslation();\r\n    const [tipoGaranteSelect, settipoGaranteSelect] = useState(undefined);\r\n    const [campoRequeridoGarantia, setcampoRequeridoGarantia] = useState(false);\r\n    const [campoRequeridoSubGarantia, setcampoRequeridoSubGarantia] = useState(false);\r\n    const [codigoGarantia, setcodigoGarantia] = useState(null);\r\n    const [tiposGarantia, setTiposGarantia] = useState([]);\r\n    const [subtiposGarantia, setsubtiposGarantia] = useState([]);\r\n    const [subtipoGaranteeSelect, setsubtipoGaranteeSelect] = useState(null);\r\n    const [dataReturn, setdataReturn] = useState(null);\r\n    const coreServices = new CoreServices();\r\n\r\n    const [fechaSet, setfechaSet] = useState(null);\r\n    const [campoLTV, setcampoLTV] = useState(false);\r\n\r\n    React.useEffect(() => {\r\n        console.log('hola')\r\n        setfechaSet(props.dataSet.appraisalDate ? moment(props.dataSet.appraisalDate).format(\"DD-MM-YYYY\") : \" \")\r\n\r\n        // Read Api Service data\r\n        var defaultVal = null;\r\n        setdataReturn(props.dataSet)\r\n\r\n        settipoGaranteSelect(undefined);\r\n        setcodigoGarantia(null)\r\n        setsubtipoGaranteeSelect(undefined);\r\n\r\n        setcampoRequeridoGarantia(false);\r\n        setcampoRequeridoSubGarantia(false);\r\n\r\n        try {\r\n            loadCatalogWarrant().then(typeWarrant => {\r\n\r\n                if (typeWarrant.length > 0 && props.dataSet.guaranteeTypeName !== null && tipoGaranteSelect === undefined) {\r\n                    defaultVal = typeWarrant.find(x => (x.value).toUpperCase() === (props.dataSet.guaranteeTypeName).toUpperCase());\r\n                    if (defaultVal !== undefined) {\r\n                        settipoGaranteSelect(defaultVal);\r\n                        setcodigoGarantia(defaultVal.value);\r\n\r\n                        loadSubCatalogWarrant(defaultVal.value).then((subCatalogWarrant) => {\r\n\r\n                            defaultVal = subCatalogWarrant?.find(x => (x.value).toUpperCase() === (props.dataSet.guaranteeSubtypeCode).toUpperCase());\r\n                            setsubtipoGaranteeSelect(defaultVal);\r\n\r\n                        }, (reject => {\r\n                            setsubtipoGaranteeSelect(undefined);\r\n                        }));\r\n                    }\r\n                }\r\n\r\n            })\r\n\r\n        }\r\n        catch (err) { }\r\n\r\n    }, [props.isOpen]);\r\n\r\n    function loadCatalogWarrant() {\r\n        return new Promise((resolve, reject) => {\r\n            setTiposGarantia(null)\r\n            // getTipoGarantiaCatalogo\r\n            coreServices.getTipoGarantiaCatalogo().then((response) => {\r\n                if (response === null) { return; }\r\n                let json = [];\r\n                for (let i = 0; i < response.Records.length; i++) { json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] }) }\r\n                setTiposGarantia(json);\r\n                resolve(json);\r\n            }).catch(err => {\r\n                reject(undefined);\r\n            });\r\n        })\r\n    }\r\n\r\n    function loadSubCatalogWarrant(codeSubWarrant) {\r\n        return new Promise((resolve, reject) => {\r\n            coreServices.getSubTipoGarantiaCatalogo(codeSubWarrant).then(subCatalogWarrant => {\r\n                let subWarrant = subCatalogWarrant?.Records?.map(subWarrant => ({ value: subWarrant.Code, label: subWarrant.Description }))\r\n                setsubtiposGarantia(subWarrant);\r\n                resolve(subWarrant);\r\n            }).catch(err => {\r\n                console.log(err)\r\n                reject(undefined);\r\n            });\r\n        })\r\n    }\r\n\r\n    function handleSubmitGarantias() {\r\n\r\n        if (campoLTV) {\r\n            return;\r\n        }\r\n        if (codigoGarantia == null) {\r\n            setcampoRequeridoGarantia(true);\r\n            return;\r\n        } else {\r\n            setcampoRequeridoGarantia(false);\r\n        }\r\n        if (!subtipoGaranteeSelect) {\r\n            setcampoRequeridoSubGarantia(true);\r\n            return;\r\n        } else {\r\n            setcampoRequeridoSubGarantia(false);\r\n        }\r\n        dataReturn.guaranteeTypeName = codigoGarantia;\r\n        dataReturn.ltv = +currencyData.getRealPercent(dataReturn.ltv ?? 0)\r\n        dataReturn.guaranteeSubtypeCode = subtipoGaranteeSelect?.value ?? ''\r\n        dataReturn.guaranteeSubtypeDesc = subtipoGaranteeSelect?.label ?? ''\r\n        setdataReturn(dataReturn);\r\n\r\n        props.saveData(dataReturn, props.tipo);\r\n        props.toggle();\r\n    }\r\n    function handleCancel() {\r\n        props.toggle();\r\n    }\r\n\r\n    function check(e) {\r\n        let tecla = (document.all) ? e.keyCode : e.which;\r\n        //Tecla de retroceso para borrar, siempre la permite\r\n        if (tecla === 45) {\r\n            e.preventDefault();\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    return (\r\n        <Modal isOpen={props.isOpen}\r\n            toggle={props.toggle}\r\n            centered={true}\r\n            size=\"md\">\r\n            <ModalHeader toggle={props.toggle} color=\"primary\">{t(\"Warrants\")}</ModalHeader>\r\n            <ModalBody>\r\n                <Row>\r\n                    <Col lg=\"12\">\r\n                        <AvGroup className=\"mb-3\">\r\n                            <Label htmlFor=\"type\">{t(\"Warrant Type\")}</Label>\r\n                            <Select noOptionsMessage={() => \"\"}\r\n                                onChange={(e) => {\r\n                                    settipoGaranteSelect(tiposGarantia.find(x => x.value === e.value)); setcodigoGarantia(e.value);\r\n                                    loadSubCatalogWarrant(e.value)\r\n                                    setcampoRequeridoGarantia(false)\r\n                                }}\r\n                                options={tiposGarantia}\r\n                                value={tipoGaranteSelect}\r\n                                classNamePrefix=\"select2-selection\"\r\n                                placeholder={t(\"SelectGroup\")}\r\n                            />\r\n                            {campoRequeridoGarantia ?\r\n                                <p className=\"message-error-parrafo\">{t(\"Required\")}</p>\r\n                                : null}\r\n                        </AvGroup>\r\n                    </Col>\r\n                    <Col lg=\"12\">\r\n                        <AvGroup className=\"mb-3\">\r\n                            <Label htmlFor=\"type\">{t(\"SubWarrantType\")}</Label>\r\n                            <Select noOptionsMessage={() => \"\"}\r\n                                onChange={(e) => {\r\n                                    setsubtipoGaranteeSelect(subtiposGarantia.find(x => x.value === e.value));\r\n                                    setcampoRequeridoSubGarantia(false)\r\n                                }}\r\n                                options={subtiposGarantia}\r\n                                value={subtipoGaranteeSelect}\r\n                                classNamePrefix=\"select2-selection\"\r\n                                placeholder={t(\"SelectGroup\")}\r\n                            />\r\n                            {campoRequeridoSubGarantia ?\r\n                                <p className=\"message-error-parrafo\">{t(\"Required\")}</p>\r\n                                : null}\r\n                        </AvGroup>\r\n                    </Col>\r\n                    <Col lg=\"6\">\r\n                        <AvGroup className=\"mb-3\">\r\n                            <Label htmlFor=\"commercialValue\">{t(\"Commercial Value\")}</Label>\r\n                            <AvField\r\n                                className=\"form-control\"\r\n                                name=\"commercialValue\"\r\n                                type=\"text\"\r\n                                pattern=\"^[0-9,.]*$\"\r\n                                onKeyUp={(e) => { let x = currencyData.getRealValue(e.target.value); e.target.value = currencyData.format(x); }}\r\n                                value={currencyData.format(dataReturn?.commercialValue ?? 0)}\r\n                                onChange={(e) => { dataReturn.commercialValue = e.target.value; setdataReturn(dataReturn); }}\r\n                                id=\"commercialValue\" />\r\n                        </AvGroup>\r\n\r\n                    </Col>\r\n                    <Col lg=\"6\">\r\n                        <AvGroup className=\"mb-3\">\r\n                            <Label htmlFor=\"fastValue\">{t(\"Quick V-Value\")}</Label>\r\n                            <AvField\r\n                                className=\"form-control\"\r\n                                name=\"fastValue\"\r\n                                type=\"text\"\r\n                                pattern=\"^[0-9,.]*$\"\r\n                                onKeyUp={(e) => { let x = currencyData.getRealValue(e.target.value); e.target.value = currencyData.format(x); }}\r\n                                value={currencyData.format(dataReturn?.fastValue ?? 0)}\r\n                                onChange={(e) => { dataReturn.fastValue = e.target.value; setdataReturn(dataReturn); }}\r\n                                id=\"fastValue\" />\r\n                        </AvGroup>\r\n\r\n                    </Col>\r\n                    <Col lg=\"12\">\r\n                        <AvGroup className=\"mb-3\">\r\n                            <Label htmlFor=\"observations\">{t(\"Description\")}</Label>\r\n                            <AvField\r\n                                className=\"form-control\"\r\n                                name=\"observations\"\r\n                                type=\"textarea\"\r\n                                value={dataReturn?.observations}\r\n                                onChange={(e) => { dataReturn.observations = e.target.value; setdataReturn(dataReturn); }}\r\n                                id=\"observations\"\r\n                                rows=\"4\" />\r\n                        </AvGroup>\r\n\r\n                    </Col>\r\n                    <Col lg=\"6\">\r\n                        <AvGroup className=\"mb-3\">\r\n                            <Label htmlFor=\"ltv\">{t(\"LTV%\")}</Label>\r\n                            <AvField\r\n                                className=\"form-control\"\r\n                                name=\"ltv\"\r\n                                type=\"text\"\r\n                                onKeyUp={(e) => { let x = currencyData.getRealPercent(e.target.value); e.target.value = currencyData.formatPercent(x, e); }}\r\n                                onChange={(e) => { let x = currencyData.getRealPercent(e.target.value); parseFloat(x) > 100 ? setcampoLTV(true) : setcampoLTV(false); dataReturn.ltv = e.target.value; setdataReturn(dataReturn); }}\r\n                                value={`${dataReturn?.ltv}%`}\r\n                                id=\"ltv\" />\r\n                            {campoLTV ?\r\n                                <p className=\"message-error-parrafo\">{t(\"Thepercentageexceeds100%\")}</p>\r\n                                : null}\r\n                        </AvGroup>\r\n\r\n                    </Col>\r\n                    <Col lg=\"6\">\r\n                        <Label htmlFor=\"appraisalDate\">{t(\"Appraisal Date\")}</Label>\r\n\r\n                        {fechaSet && (<Flatpickr\r\n                            name=\"estimatedDate\"\r\n                            id=\"estimatedDate\"\r\n                            className=\"form-control d-block\"\r\n                            placeholder={OPTs.FORMAT_DATE_SHOW}\r\n                            options={{\r\n                                dateFormat: OPTs.FORMAT_DATE,\r\n                                defaultDate: fechaSet,//selectClient !== undefined ? moment(selectClient.birthDate) : null\r\n                            }}\r\n                            onChange={(selectedDates, dateStr, instance) => {\r\n                                dataReturn.appraisalDate = moment(dateStr, \"DD/MM/YYYY\").format(\"YYYY-MM-DD\"); setdataReturn(dataReturn)\r\n\r\n                            }}\r\n                        // onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\") } }) }}\r\n\r\n                        // onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr).format(\"YYYY-MM-DD\") } }) }}\r\n                        />)}\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"my-2\">\r\n                    <Col xl=\"12 text-end\">\r\n                        <Button id=\"btnCancel\" color=\"danger\" type=\"button\" style={{ margin: '5px' }} onClick={handleCancel}>\r\n                            <i className=\"mdi mdi-cancel mid-12px\"></i> {t(\"Cancel\")}\r\n                        </Button>\r\n                        {props.botones ?\r\n                            <Button id=\"btnSearch\" color=\"success\" type=\"button\" onClick={(e) => { handleSubmitGarantias() }} style={{ margin: '5px' }}><i className=\"mdi mdi-content-save mdi-12px\"></i>\r\n                                {\" \"} {t(\"Save\")}\r\n                            </Button> : null}\r\n                    </Col>\r\n                </Row>\r\n            </ModalBody>\r\n        </Modal>\r\n    )\r\n};\r\nModalNewWarrant.propTypes = {\r\n    toggle: PropTypes.func,\r\n    isOpen: PropTypes.bool\r\n};\r\nexport default ModalNewWarrant;\r\n"]},"metadata":{},"sourceType":"module"}