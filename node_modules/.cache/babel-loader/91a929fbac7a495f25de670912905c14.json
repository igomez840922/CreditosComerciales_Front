{"ast":null,"code":"import _regeneratorRuntime from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import axios from\"axios\";import{convertToUpperCasesData}from'../helpers/commons';//apply base url for axios\nvar API_URL=\"\";// headers: {\n//   \"Content-Type\": \"application/json\",\n//   'Cache-Control': 'no-cache',\n//   'Pragma': 'no-cache',\n//   'Expires': '0',\n// },\nvar axiosApi=axios.create({baseURL:API_URL,headers:{\"Content-Type\":\"application/json\"}});var ApiServiceBackend=/*#__PURE__*/function(){function ApiServiceBackend(){_classCallCheck(this,ApiServiceBackend);}_createClass(ApiServiceBackend,[{key:\"setDataError\",value:function setDataError(err){/*let jsonError = {\r\n      code: err.response.status,\r\n      error: true,\r\n      message: err.response.data,\r\n      method: err.response.config.method,\r\n      serviceType: \"bk\",\r\n      url: err.response.config.url,\r\n    }\r\n\r\n    localStorage.setItem(\"jsonError\", JSON.stringify(jsonError))\r\n    const event = new CustomEvent('errorSoaint', jsonError);\r\n    event.initEvent(\"errorSoaint\", true, true);\r\n    window.dispatchEvent(event);\r\n    */}},{key:\"get\",value:function(){var _get=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url){var _this=this;var config,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:config=_args.length>1&&_args[1]!==undefined?_args[1]:{};_context.next=3;return axiosApi.get(url,_objectSpread({},config)).then(function(response){return response.data;}).catch(function(err){_this.setDataError(err);});case 3:return _context.abrupt(\"return\",_context.sent);case 4:case\"end\":return _context.stop();}}},_callee);}));function get(_x){return _get.apply(this,arguments);}return get;}()},{key:\"getSinData\",value:function(){var _getSinData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(url){var config,_args2=arguments;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:config=_args2.length>1&&_args2[1]!==undefined?_args2[1]:{};_context2.next=3;return axiosApi.get(url,_objectSpread({},config)).then(function(response){return response;});case 3:return _context2.abrupt(\"return\",_context2.sent);case 4:case\"end\":return _context2.stop();}}},_callee2);}));function getSinData(_x2){return _getSinData.apply(this,arguments);}return getSinData;}()},{key:\"post\",value:function(){var _post=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(url,data){var _this2=this;var config,_args3=arguments;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:config=_args3.length>2&&_args3[2]!==undefined?_args3[2]:{};_context3.next=3;return convertToUpperCasesData(data);case 3:return _context3.abrupt(\"return\",axiosApi.post(url,_objectSpread({},data),_objectSpread({},config)).then(function(response){return response.data;}).catch(function(err){_this2.setDataError(err);}));case 4:case\"end\":return _context3.stop();}}},_callee3);}));function post(_x3,_x4){return _post.apply(this,arguments);}return post;}()},{key:\"put\",value:function(){var _put=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(url,data){var _this3=this;var config,_args4=arguments;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:config=_args4.length>2&&_args4[2]!==undefined?_args4[2]:{};_context4.next=3;return convertToUpperCasesData(data);case 3:return _context4.abrupt(\"return\",axiosApi.put(url,_objectSpread({},data),_objectSpread({},config)).then(function(response){return response.data;}).catch(function(err){_this3.setDataError(err);}));case 4:case\"end\":return _context4.stop();}}},_callee4);}));function put(_x5,_x6){return _put.apply(this,arguments);}return put;}()},{key:\"del\",value:function(){var _del=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(url,data){var _this4=this;var config,_args5=arguments;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:config=_args5.length>2&&_args5[2]!==undefined?_args5[2]:{};_context5.next=3;return axiosApi.delete(url,{data:data},_objectSpread({},config)).then(function(response){if(response.statusCode==\"500\"){_this4.setDataError({code:500,error:true,message:\"Error del servidor\",method:'Delete',serviceType:\"bk\",url:''});}return response.data;}).catch(function(err){_this4.setDataError(err);});case 3:return _context5.abrupt(\"return\",_context5.sent);case 4:case\"end\":return _context5.stop();}}},_callee5);}));function del(_x7,_x8){return _del.apply(this,arguments);}return del;}()}]);return ApiServiceBackend;}();export{ApiServiceBackend as default};","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/services/ApiServiceBackend.js"],"names":["axios","convertToUpperCasesData","API_URL","axiosApi","create","baseURL","headers","ApiServiceBackend","err","url","config","get","then","response","data","catch","setDataError","post","put","delete","statusCode","code","error","message","method","serviceType"],"mappings":"q2BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,uBAAT,KAAwC,oBAAxC,CACA;AACA,GAAMC,CAAAA,OAAO,CAAG,EAAhB,CACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAMC,CAAAA,QAAQ,CAAGH,KAAK,CAACI,MAAN,CAAa,CAC5BC,OAAO,CAAEH,OADmB,CAE5BI,OAAO,CAAE,CACP,eAAgB,kBADT,CAFmB,CAAb,CAAjB,C,GAQqBC,CAAAA,iB,yJAEnB,sBAAaC,GAAb,CAAkB,CAChB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MACG,C,+FAED,iBAAUC,GAAV,4JAAeC,MAAf,+CAAwB,EAAxB,uBACeP,CAAAA,QAAQ,CAClBQ,GADU,CACNF,GADM,kBACIC,MADJ,GAEVE,IAFU,CAEL,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAb,EAFH,EAEsBC,KAFtB,CAE4B,SAAAP,GAAG,CAAI,CAC5C,KAAI,CAACQ,YAAL,CAAkBR,GAAlB,EACD,CAJU,CADf,6G,kLAOA,kBAAiBC,GAAjB,kJAAsBC,MAAtB,kDAA+B,EAA/B,wBACeP,CAAAA,QAAQ,CAClBQ,GADU,CACNF,GADM,kBACIC,MADJ,GAEVE,IAFU,CAEL,SAAAC,QAAQ,QAAIA,CAAAA,QAAJ,EAFH,CADf,iH,4LAMA,kBAAWJ,GAAX,CAAgBK,IAAhB,kKAAsBJ,MAAtB,kDAA+B,EAA/B,wBACQT,CAAAA,uBAAuB,CAACa,IAAD,CAD/B,yCAESX,QAAQ,CACZc,IADI,CACCR,GADD,kBACWK,IADX,mBACwBJ,MADxB,GAEJE,IAFI,CAEC,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAb,EAFT,EAE4BC,KAF5B,CAEkC,SAAAP,GAAG,CAAI,CAC5C,MAAI,CAACQ,YAAL,CAAkBR,GAAlB,EACD,CAJI,CAFT,0D,4KASA,kBAAUC,GAAV,CAAeK,IAAf,kKAAqBJ,MAArB,kDAA8B,EAA9B,wBACQT,CAAAA,uBAAuB,CAACa,IAAD,CAD/B,yCAESX,QAAQ,CACZe,GADI,CACAT,GADA,kBACUK,IADV,mBACuBJ,MADvB,GAEJE,IAFI,CAEC,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAb,EAFT,EAE4BC,KAF5B,CAEkC,SAAAP,GAAG,CAAI,CAC5C,MAAI,CAACQ,YAAL,CAAkBR,GAAlB,EACD,CAJI,CAFT,0D,yKASA,kBAAUC,GAAV,CAAeK,IAAf,kKAAqBJ,MAArB,kDAA8B,EAA9B,wBACeP,CAAAA,QAAQ,CAClBgB,MADU,CACHV,GADG,CACE,CAAEK,IAAI,CAAEA,IAAR,CADF,kBACuBJ,MADvB,GAEVE,IAFU,CAEL,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,CAACO,UAAT,EAAuB,KAA3B,CAAkC,CAChC,MAAI,CAACJ,YAAL,CAAkB,CAChBK,IAAI,CAAE,GADU,CAEhBC,KAAK,CAAE,IAFS,CAGhBC,OAAO,CAAE,oBAHO,CAIhBC,MAAM,CAAE,QAJQ,CAKhBC,WAAW,CAAE,IALG,CAMhBhB,GAAG,CAAE,EANW,CAAlB,EAQD,CACD,MAAOI,CAAAA,QAAQ,CAACC,IAAhB,CACD,CAdU,EAcRC,KAdQ,CAcF,SAAAP,GAAG,CAAI,CACd,MAAI,CAACQ,YAAL,CAAkBR,GAAlB,EACD,CAhBU,CADf,iH,kHAlDmBD,iB","sourcesContent":["import axios from \"axios\"\r\nimport { convertToUpperCasesData } from '../helpers/commons'\r\n//apply base url for axios\r\nconst API_URL = \"\"\r\n// headers: {\r\n//   \"Content-Type\": \"application/json\",\r\n//   'Cache-Control': 'no-cache',\r\n//   'Pragma': 'no-cache',\r\n//   'Expires': '0',\r\n// },\r\nconst axiosApi = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\"\r\n  },\r\n})\r\n\r\n\r\nexport default class ApiServiceBackend {\r\n\r\n  setDataError(err) {\r\n    /*let jsonError = {\r\n      code: err.response.status,\r\n      error: true,\r\n      message: err.response.data,\r\n      method: err.response.config.method,\r\n      serviceType: \"bk\",\r\n      url: err.response.config.url,\r\n    }\r\n\r\n    localStorage.setItem(\"jsonError\", JSON.stringify(jsonError))\r\n    const event = new CustomEvent('errorSoaint', jsonError);\r\n    event.initEvent(\"errorSoaint\", true, true);\r\n    window.dispatchEvent(event);\r\n    */\r\n  }\r\n\r\n  async get(url, config = {}) {\r\n    return await axiosApi\r\n      .get(url, { ...config })\r\n      .then(response => response.data).catch(err => {\r\n        this.setDataError(err);\r\n      });\r\n  }\r\n  async getSinData(url, config = {}) {\r\n    return await axiosApi\r\n      .get(url, { ...config })\r\n      .then(response => response)\r\n  }\r\n\r\n  async post(url, data, config = {}) {\r\n    await convertToUpperCasesData(data);\r\n    return axiosApi\r\n      .post(url, { ...data }, { ...config })\r\n      .then(response => response.data).catch(err => {\r\n        this.setDataError(err);\r\n      });\r\n  }\r\n\r\n  async put(url, data, config = {}) {\r\n    await convertToUpperCasesData(data);\r\n    return axiosApi\r\n      .put(url, { ...data }, { ...config })\r\n      .then(response => response.data).catch(err => {\r\n        this.setDataError(err);\r\n      });\r\n  }\r\n\r\n  async del(url, data, config = {}) {\r\n    return await axiosApi\r\n      .delete(url, { data: data }, { ...config })\r\n      .then(response => {\r\n        if (response.statusCode == \"500\") {\r\n          this.setDataError({\r\n            code: 500,\r\n            error: true,\r\n            message: \"Error del servidor\",\r\n            method: 'Delete',\r\n            serviceType: \"bk\",\r\n            url: '',\r\n          });\r\n        }\r\n        return response.data\r\n      }).catch(err => {\r\n        this.setDataError(err);\r\n      });\r\n  }\r\n}\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}