{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Switch,BrowserRouter as Router}from\"react-router-dom\";import{connect}from\"react-redux\";// Import Routes all\nimport{userRoutes,authRoutes}from\"./routes/allRoutes\";// Import all middleware\nimport Authmiddleware from\"./routes/middleware/Authmiddleware\";// layouts Format\nimport VerticalLayout from\"./components/VerticalLayout/\";import HorizontalLayout from\"./components/HorizontalLayout/\";import NonAuthLayout from\"./components/NonAuthLayout\";// Import scss\nimport\"./assets/scss/theme.scss\";import\"./assets/scss/custom.scss\";import fakeBackend from\"./helpers/AuthType/fakeBackend\";import packageJson from\"../package.json\";import ModalErrrorMessage from'./helpers/errorModalSoaint';import*as opt from\"./helpers/options_helper\";import LocalStorageHelper from\"./helpers/LocalStorageHelper\";import toastr from\"toastr\";import\"toastr/build/toastr.min.css\";import{BackendServices}from'./services';// Activating fake backend\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";fakeBackend();var App=function App(props){var _useState=useState(new LocalStorageHelper()),_useState2=_slicedToArray(_useState,2),localStorageHelper=_useState2[0],setlocalStorageHelper=_useState2[1];//On Mounting (componentDidMount)\nReact.useEffect(function(){window.onbeforeunload=confirmExit;function confirmExit(){return\"show warning\";}//Tratamiento de Errores\nwindow.addEventListener('generalError',showGeneralError);return function(){window.removeEventListener(\"generalError\",showGeneralError);};},[]);function showGeneralError(){var error=localStorageHelper.get(\"generalError\");var backendServices=new BackendServices();if(error.error!={}){var _error$type,_error$status,_error$url,_error$error;console.error(\"ErrorLog\",error);toastr.error(error.error,'Error!');var dataSet={\"logType\":(_error$type=error===null||error===void 0?void 0:error.type)!==null&&_error$type!==void 0?_error$type:\"N/A\",\"logTypeDesc\":(_error$status=error===null||error===void 0?void 0:error.status)!==null&&_error$status!==void 0?_error$status:\"500\",\"url\":(_error$url=error===null||error===void 0?void 0:error.url)!==null&&_error$url!==void 0?_error$url:\"NO URL\",\"description\":(_error$error=error===null||error===void 0?void 0:error.error)!==null&&_error$error!==void 0?_error$error:\"NO ERROR DATA\"};backendServices.newErrorsLog(dataSet);}}function getLayout(){var layoutCls=VerticalLayout;switch(props.layout.layoutType){case\"horizontal\":layoutCls=HorizontalLayout;break;default:layoutCls=VerticalLayout;break;}return layoutCls;}var Layout=getLayout();return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Switch,{children:[authRoutes.map(function(route,idx){return/*#__PURE__*/_jsx(Authmiddleware,{path:route.path,layout:NonAuthLayout,component:route.component,isAuthProtected:false},idx);}),userRoutes.map(function(route,idx){return/*#__PURE__*/_jsx(Authmiddleware,{path:route.path,layout:Layout,component:route.component,isAuthProtected:true,exact:true},idx);})]})}),/*#__PURE__*/_jsx(ModalErrrorMessage,{})]});};var mapStateToProps=function mapStateToProps(state){return{layout:state.Layout};};export default connect(mapStateToProps,null)(App);","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/App.js"],"names":["React","useState","Switch","BrowserRouter","Router","connect","userRoutes","authRoutes","Authmiddleware","VerticalLayout","HorizontalLayout","NonAuthLayout","fakeBackend","packageJson","ModalErrrorMessage","opt","LocalStorageHelper","toastr","BackendServices","App","props","localStorageHelper","setlocalStorageHelper","useEffect","window","onbeforeunload","confirmExit","addEventListener","showGeneralError","removeEventListener","error","get","backendServices","console","dataSet","type","status","url","newErrorsLog","getLayout","layoutCls","layout","layoutType","Layout","map","route","idx","path","component","mapStateToProps","state"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types'\r\nimport React, { useState } from 'react';\r\n\r\nimport { Switch, BrowserRouter as Router } from \"react-router-dom\"\r\nimport { connect } from \"react-redux\"\r\n\r\n// Import Routes all\r\nimport { userRoutes, authRoutes } from \"./routes/allRoutes\"\r\n\r\n// Import all middleware\r\nimport Authmiddleware from \"./routes/middleware/Authmiddleware\"\r\n\r\n// layouts Format\r\nimport VerticalLayout from \"./components/VerticalLayout/\"\r\nimport HorizontalLayout from \"./components/HorizontalLayout/\"\r\nimport NonAuthLayout from \"./components/NonAuthLayout\"\r\n\r\n// Import scss\r\nimport \"./assets/scss/theme.scss\"\r\nimport \"./assets/scss/custom.scss\"\r\n\r\n\r\nimport fakeBackend from \"./helpers/AuthType/fakeBackend\"\r\n\r\nimport packageJson from \"../package.json\";\r\nimport ModalErrrorMessage from './helpers/errorModalSoaint';\r\nimport * as opt from \"./helpers/options_helper\"\r\nimport LocalStorageHelper from \"./helpers/LocalStorageHelper\";\r\n\r\n\r\nimport toastr from \"toastr\";\r\nimport \"toastr/build/toastr.min.css\"\r\nimport { BackendServices } from './services';\r\n\r\n\r\n// Activating fake backend\r\nfakeBackend()\r\n\r\nconst App = props => {\r\n\r\n  const [localStorageHelper, setlocalStorageHelper] = useState(new LocalStorageHelper());\r\n\r\n  //On Mounting (componentDidMount)\r\n  React.useEffect(() => {\r\n    window.onbeforeunload = confirmExit;\r\n    function confirmExit() {\r\n      return \"show warning\";\r\n    }\r\n\r\n    //Tratamiento de Errores\r\n    window.addEventListener('generalError', showGeneralError);\r\n    return () => {\r\n      window.removeEventListener(\"generalError\", showGeneralError)\r\n    }\r\n  }, []);\r\n\r\n  function showGeneralError() {\r\n    var error = localStorageHelper.get(\"generalError\");\r\n    const backendServices = new BackendServices();\r\n    if (error.error != {}) {\r\n      console.error(\"ErrorLog\", error);\r\n      toastr.error(error.error, 'Error!');\r\n      let dataSet = {\r\n        \"logType\": error?.type??\"N/A\",\r\n        \"logTypeDesc\": error?.status??\"500\",\r\n        \"url\": error?.url??\"NO URL\",\r\n        \"description\": error?.error??\"NO ERROR DATA\"\r\n      }\r\n      backendServices.newErrorsLog(dataSet)\r\n    }\r\n  }\r\n\r\n  function getLayout() {\r\n    let layoutCls = VerticalLayout\r\n\r\n    switch (props.layout.layoutType) {\r\n      case \"horizontal\":\r\n        layoutCls = HorizontalLayout\r\n        break\r\n      default:\r\n        layoutCls = VerticalLayout\r\n        break\r\n    }\r\n    return layoutCls\r\n  }\r\n\r\n  const Layout = getLayout();\r\n  return (\r\n    <React.Fragment>\r\n      <Router>\r\n        <Switch>\r\n          {authRoutes.map((route, idx) => (\r\n            <Authmiddleware\r\n              path={route.path}\r\n              layout={NonAuthLayout}\r\n              component={route.component}\r\n              key={idx}\r\n              isAuthProtected={false}\r\n            />\r\n          ))}\r\n\r\n          {userRoutes.map((route, idx) => (\r\n            <Authmiddleware\r\n              path={route.path}\r\n              layout={Layout}\r\n              component={route.component}\r\n              key={idx}\r\n              isAuthProtected={true}\r\n              exact\r\n            />\r\n          ))}\r\n        </Switch>\r\n      </Router>\r\n      <ModalErrrorMessage />\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nApp.propTypes = {\r\n  layout: PropTypes.any\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    layout: state.Layout,\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(App)"]},"metadata":{},"sourceType":"module"}