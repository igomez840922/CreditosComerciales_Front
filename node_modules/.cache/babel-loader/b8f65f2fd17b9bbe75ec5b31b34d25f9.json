{"ast":null,"code":"import _regeneratorRuntime from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useTranslation}from\"react-i18next\";import moment from\"moment\";import DatePicker from'react-datepicker';import Select from\"react-select\";import{Row,Col,Card,CardBody,CardFooter,Button,Label,Table}from\"reactstrap\";import Alert from'react-bootstrap/Alert';import{BackendServices,CoreServices,BpmServices}from\"../../../services\";import{AvForm,AvField,AvGroup,AvInput,AvCheckbox}from\"availity-reactstrap-validation\";import{AvDateField}from\"availity-reactstrap-validation\";import{PersonModel}from'../../../models/Common/PersonModel';import{BlackListHistoryModel}from'../../../models/Common/BlackListHistoryModel';import BlackListForm from\"./BlackListForm\";import checkNumber from\"../../../helpers/checkNumber\";import*as OPTs from\"../../../helpers/options_helper\";import{Link}from\"react-router-dom\";//Import Flatepicker\nimport\"flatpickr/dist/themes/material_blue.css\";import Flatpickr from\"react-flatpickr\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Offsymbol=function Offsymbol(){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100%\",fontSize:12,color:\"#fff\",paddingRight:2},children:[\" \",\"No\"]});};var OnSymbol=function OnSymbol(){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100%\",fontSize:12,color:\"#fff\",paddingRight:2},children:[\" \",\"Si\"]});};var ClientForm=function ClientForm(props){var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var _useState=useState(props.transactId),_useState2=_slicedToArray(_useState,2),transactId=_useState2[0],settransactId=_useState2[1];var _useState3=useState(props.clientSelected),_useState4=_slicedToArray(_useState3,2),selectClient=_useState4[0],setselectClient=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),identificationTypeList=_useState6[0],setidentificationTypeList=_useState6[1];var _useState7=useState(undefined),_useState8=_slicedToArray(_useState7,2),identificationTypeSelected=_useState8[0],setidentificationTypeSelected=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),personTypeList=_useState10[0],setpersonTypeList=_useState10[1];var _useState11=useState(undefined),_useState12=_slicedToArray(_useState11,2),personTypeSelected=_useState12[0],setpersonTypeSelected=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),roleList=_useState14[0],setroleList=_useState14[1];var _useState15=useState(undefined),_useState16=_slicedToArray(_useState15,2),roleSelected=_useState16[0],setroleSelected=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),countryList=_useState18[0],setcountryList=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),campoRequeridoCountry=_useState20[0],setcampoRequeridoCountry=_useState20[1];var _useState21=useState(undefined),_useState22=_slicedToArray(_useState21,2),countrySelected=_useState22[0],setcountrySelected=_useState22[1];var _useState23=useState(new BackendServices()),_useState24=_slicedToArray(_useState23,2),apiServiceBackend=_useState24[0],setapiServiceBackend=_useState24[1];var _useState25=useState(new CoreServices()),_useState26=_slicedToArray(_useState25,2),apiCoreServices=_useState26[0],setCoreServices=_useState26[1];var _useState27=useState({show:false,msg:\"\",isError:false}),_useState28=_slicedToArray(_useState27,2),msgData=_useState28[0],setmsgData=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),showBlackListForm=_useState30[0],setshowBlackListForm=_useState30[1];//On Mounting (componentDidMount)\nReact.useEffect(function(){//console.log(\"useEffect\", transactId)\nfetchData();},[]);function fetchData(){loadIdentificationTypes();loadPersonTypes();loadRoles();loadCountries();}//cargar lista de tipo de identificacion\nfunction loadIdentificationTypes(){// consultarCatalogoTipoIdentificacion\napiServiceBackend.consultarCatalogoTipoIdentificacion().then(function(data){if(data!==null&&data!==undefined){var json=[];for(var i=0;i<data.length;i++){json.push({label:t(data[i][\"description\"]),value:data[i][\"id\"]});}setidentificationTypeList(json);setidentificationTypeSelected(selectClient!==undefined?json.find(function(x){return x.value===selectClient.idType;}):json[0]);}}).catch(function(error){});}//cargar lista de tipo de personas\nfunction loadPersonTypes(){// consultarCatalogoTipoPersona\napiServiceBackend.consultarCatalogoTipoPersona().then(function(data){if(data!==null&&data!==undefined){var json=[];for(var i=0;i<data.length;i++){json.push({label:t(data[i][\"label\"]),value:data[i][\"code\"]});}setpersonTypeList(json);setpersonTypeSelected(selectClient!==undefined?json.find(function(x){return x.value===Number(selectClient.personType);}):json[0]);}}).catch(function(error){});}//cargar lista de roles\nfunction loadRoles(){apiServiceBackend.retrieveRoleCatalog().then(function(data){if(data!==null&&data!==undefined){var json=[];for(var i=0;i<data.length;i++){json.push({label:t(data[i][\"roleDescription\"]),value:data[i][\"roleId\"],checked:false});}if(selectClient!==undefined&&selectClient.roles.length>0){selectClient.roles.map(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(item,i){var rol;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:rol=json.find(function(rolItem){return rolItem.value===item.roleId;});if(rol!==undefined&&rol!==null){rol.checked=true;}case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());}setroleList(json);}}).catch(function(error){});}//cargar lista de paises\nfunction loadCountries(){apiCoreServices.getPaisesCatalogo().then(function(data){if(data!==null&&data!==undefined){var json=[];for(var i=0;i<data.Records.length;i++){json.push({label:t(data.Records[i][\"Description\"]),value:data.Records[i][\"Code\"]});}// console.log(\"loadCountries\", selectClient);\nsetcountryList(json);setcountrySelected(json.find(function(x){return x.value===selectClient.nationality;}));// setcountrySelected(selectClient !== undefined ? json.find(x => x.value === selectClient.nationality) : json[0]);\n}}).catch(function(error){});}//Actualizar valores de Cliente cada vez que se actualiza un campo\nfunction handleChangeInputFormClient(e){// console.log(\"handleChangeInputFormClient\", e);\nif(e.target.name=='socialReason')e.target.name='name';var clientPerson=selectClient!==undefined?selectClient:new PersonModel();clientPerson.transactId=transactId;clientPerson[e.target.name]=e.target.value;setselectClient(clientPerson);//si la persona es juridica auto seleccionamos RUC\nif(clientPerson.personType===2){setidentificationTypeSelected(identificationTypeList.find(function(x){return x.value===\"RUC\";}));}}//Actualizar roles de Cliente cada vez que se actualiza un checkbox\nfunction handleChangeInputChkClient(e){var clientPerson=selectClient!==undefined?selectClient:new PersonModel();clientPerson.transactId=transactId;if(e.target.checked){//si es true lo agregamos\nclientPerson.roles.push({roleId:e.target.name});}else{//lo borramos\nclientPerson.roles=clientPerson.roles.filter(function(rol){return rol.roleId!==e.target.name;});}setselectClient(clientPerson);}//Guardar el Cliente\nfunction handleSubmitFormClient(_x3,_x4,_x5){return _handleSubmitFormClient.apply(this,arguments);}//Retorna los campos a mostrar en pantalla segun el tipo de persona seleccionada\nfunction _handleSubmitFormClient(){_handleSubmitFormClient=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event,errors,values){var _values$name,_values$secondName;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:selectClient.name=(_values$name=values.name)!==null&&_values$name!==void 0?_values$name:values.nameJ;selectClient.secondName=(_values$secondName=values.secondName)!==null&&_values$secondName!==void 0?_values$secondName:values.secondNameJ;event.preventDefault();if(!(errors.length>0)){_context2.next=5;break;}return _context2.abrupt(\"return\");case 5:if(!(selectClient!==undefined&&selectClient!==null)){_context2.next=27;break;}if(!(countrySelected==undefined)){_context2.next=11;break;}setcampoRequeridoCountry(true);return _context2.abrupt(\"return\");case 11:setcampoRequeridoCountry(false);case 12:if(!(selectClient.roles.length<=0)){_context2.next=15;break;}showMessage(t(\"YoumustselectatleasoneRoleforthisclient\"),true);return _context2.abrupt(\"return\");case 15:if(!(selectClient.blacklist.length<=0)){_context2.next=18;break;}showMessage(t(\"ThisclienthasnotbeenverifiedonWatchLists\"),true);return _context2.abrupt(\"return\");case 18:if(!(selectClient.idType.length<=0)){_context2.next=21;break;}showMessage(t(\"PleaseselectIdentificationType\"),true);return _context2.abrupt(\"return\");case 21:if(!(selectClient.nationality.length<=0)){_context2.next=24;break;}showMessage(t(\"PleaseselectNationality\"),true);return _context2.abrupt(\"return\");case 24:if(selectClient.personId<=0){//nueva persona\napiServiceBackend.nuevoOrquestadoListaPersonaSolicitud(selectClient).then(function(data){if(data!==null&&data!==undefined){//salir\nprops.onCancel();props.checkDebtorShareholders();}else{showMessage(t(\"Datacouldnotbesaved\"),true);}}).catch(function(error){});}else{apiServiceBackend.actualizarOrquestadoListaPersonaSolicitud(selectClient).then(function(data){if(data!==null&&data!==undefined){//salir\nprops.onCancel();}else{showMessage(t(\"Datacouldnotbesaved\"),true);}}).catch(function(err){});}_context2.next=28;break;case 27:showMessage(t(\"Theclientisnotvalid\"),true);case 28:case\"end\":return _context2.stop();}}},_callee2);}));return _handleSubmitFormClient.apply(this,arguments);}function getClientDataFormByPersonType(personType){if(personType===undefined){return null;}switch(personType.value){case 1:{//Natural\nreturn/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"name\",children:t(\"FirstName\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"name\",type:\"text\",onChange:handleChangeInputFormClient,value:selectClient!==undefined?selectClient.name:'',errorMessage:t(\"Required Field\"),validate:{required:{value:true}}})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"secondName\",children:t(\"SecondName\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"secondName\",type:\"text\",onChange:handleChangeInputFormClient,value:selectClient!==undefined?selectClient.secondName:''})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"lastName\",children:t(\"FirstLastName\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"lastName\",type:\"text\",onChange:handleChangeInputFormClient,value:selectClient!==undefined?selectClient.lastName:'',errorMessage:t(\"Required Field\"),validate:{required:{value:true}}})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"secondSurname\",children:t(\"SecondLastName\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"secondSurname\",type:\"text\",onChange:handleChangeInputFormClient,value:selectClient!==undefined?selectClient.secondSurname:''})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"birthDate\",children:t(\"DBO\")}),/*#__PURE__*/_jsx(Flatpickr,{name:\"birthDate\",className:\"form-control d-block\",placeholder:OPTs.FORMAT_DATE_SHOW,options:{dateFormat:OPTs.FORMAT_DATE,maxDate:new Date().setFullYear(new Date().getFullYear()-18),defaultDate:new Date()//selectClient !== undefined ? moment(selectClient.birthDate) : null\n},onChange:function onChange(selectedDates,dateStr,instance){handleChangeInputFormClient({target:{name:\"birthDate\",value:moment(dateStr).format(\"YYYY-MM-DD\")}});}})]})})]},\"cfn\");}case 2:{//Juridica\nreturn/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"name\",children:t(\"SocialReason\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"nameJ\",type:\"text\",onChange:handleChangeInputFormClient,value:selectClient!==undefined?selectClient.name:'',errorMessage:t(\"Required Field\"),validate:{required:{value:true}}})]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"secondName\",children:t(\"CommercialName\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"secondNameJ\",type:\"text\",onChange:handleChangeInputFormClient,value:selectClient!==undefined?selectClient.secondName:'',errorMessage:t(\"Required Field\")// validate={{ required: { value: true } }}\n})]})})]},\"cfj\");}default:break;}return null;}//Carga de Datos de Cliente de T24 Seleccionado\nfunction loadClientDataT24(dataClientT24){var clientPerson=new PersonModel();if(selectClient!==undefined){clientPerson.personId=selectClient.personId;}clientPerson.customerNumberT24=dataClientT24.id;clientPerson.clientDocumentId=dataClientT24.idnumber;clientPerson.name=dataClientT24.firstname;clientPerson.secondName=dataClientT24.secondname;clientPerson.lastName=dataClientT24.lastname;clientPerson.secondSurname=dataClientT24.secondlastname;clientPerson.personType=personTypeList.find(function(x){return x.value===Number(dataClientT24.partyType);}).value;clientPerson.idType=identificationTypeList.find(function(x){return x.value===dataClientT24.idtype;}).value;setselectClient(clientPerson);setidentificationTypeSelected(identificationTypeList.find(function(x){return x.value===clientPerson.idType;}));setpersonTypeSelected(personTypeList.find(function(x){return x.value===clientPerson.personType;}));}//mostrar mensaje \nfunction showMessage(message){var isError=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;setmsgData({show:true,msg:message,isError:isError});}//Abrir modal de verificacion en listas de vigilancias\nfunction showWatchListCheck(){var show=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;setshowBlackListForm(show);}function addWatchListResult(resultWatchList){if(selectClient!==undefined){var blacklistmdl=new BlackListHistoryModel();//new BlacklistModel();\nblacklistmdl.blackList=resultWatchList.blackList;blacklistmdl.comment=resultWatchList.comments;blacklistmdl.transactId=transactId;selectClient.blacklist.push(blacklistmdl);setselectClient(selectClient);}}//Elimina record de la lista de Incidencias de Black Lista\nreturn/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsx(AvForm,{id:\"frmClient\",className:\"needs-validation\",onSubmit:handleSubmitFormClient,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-sub-title\",children:t(\"ClientData\")}),/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"personType\",children:t(\"PersonType\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},onChange:function onChange(e){setpersonTypeSelected(personTypeList.find(function(x){return x.value===e.value;}));handleChangeInputFormClient({target:{name:'personType',value:e.value}});},options:personTypeList,classNamePrefix:\"select2-selection\",value:personTypeSelected,name:\"personType\"})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"customerNumberT24\",children:t(\"ClientNumber\")}),/*#__PURE__*/_jsx(AvField,{onChange:handleChangeInputFormClient,className:\"form-control\",name:\"customerNumberT24\",type:\"number\",disabled:selectClient!==undefined?selectClient.isNew:true,value:selectClient!==undefined?selectClient.customerNumberT24:''})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[getClientDataFormByPersonType(personTypeSelected),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{children:t(\"IdType\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},onChange:function onChange(e){setidentificationTypeSelected(identificationTypeList.find(function(x){return x.value===e.value;}));handleChangeInputFormClient({target:{name:'idType',value:e.value}});},options:identificationTypeList,classNamePrefix:\"select2-selection\",value:identificationTypeSelected,name:\"idType\"})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"idnumber\",children:t(\"IdNumber\")}),/*#__PURE__*/_jsx(AvField,{onChange:handleChangeInputFormClient,className:\"form-control\",name:\"clientDocumentId\",type:\"text\",validate:{required:{value:true,errorMessage:t(\"Required Field\")}},value:selectClient!==undefined?selectClient.clientDocumentId:''})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"nationality\",children:t(\"Nationality\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},onChange:function onChange(e){setcountrySelected(countryList.find(function(x){return x.value===e.value;}));handleChangeInputFormClient({target:{name:'nationality',value:e.value}});},options:countryList,classNamePrefix:\"select2-selection\",value:countrySelected,name:\"nationality\"}),campoRequeridoCountry?/*#__PURE__*/_jsx(\"p\",{className:\"message-error-parrafo\",children:t(\"Required Field\")}):null]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"phone\",children:t(\"PhoneNumber\")}),/*#__PURE__*/_jsx(AvField,{onChange:handleChangeInputFormClient,className:\"form-control\",name:\"phone\",type:\"text\",onKeyPress:function onKeyPress(e){return checkNumber(e);},validate:{number:{value:true,errorMessage:t(\"InvalidField\")}},value:selectClient!==undefined?selectClient.phone:''})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"email\",children:t(\"Email\")}),/*#__PURE__*/_jsx(AvField,{onChange:handleChangeInputFormClient,className:\"form-control\",name:\"email\",type:\"email\",value:selectClient!==undefined?selectClient.email:''})]})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:12,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-sub-title\",children:t(\"Roles\")}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(Row,{children:roleList.map(function(item,index){return/*#__PURE__*/_jsx(Col,{md:\"4\",children:/*#__PURE__*/_jsxs(AvGroup,{check:true,className:\"my-2\",children:[/*#__PURE__*/_jsx(AvInput,{type:\"checkbox\",defaultChecked:item.checked,name:item.value,onChange:handleChangeInputChkClient}),/*#__PURE__*/_jsxs(Label,{htmlFor:item.value,children:[\" \",item.label]})]})});})})})]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:12,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"card-sub-title\",children:t(\"BlackListIncidences\")})}),/*#__PURE__*/_jsx(Col,{md:6,style:{textAlign:\"right\"},children:/*#__PURE__*/_jsxs(Button,{className:\"btn\",color:\"success\",type:\"button\",style:{margin:'5px'},onClick:showWatchListCheck,title:t(\"Add\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lg fa-plus-circle\"}),\" \",\" \"]})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive styled-table-div\",children:/*#__PURE__*/_jsxs(Table,{className:\"table table-striped table-hover styled-table table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"WithMatches\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Observations\")})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:selectClient!==undefined&&selectClient.blacklist!==undefined&&selectClient.blacklist.length>0?selectClient.blacklist.map(function(item,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.blackList?\"Si\":\"No\"}),/*#__PURE__*/_jsx(\"td\",{children:item.comment})]},index);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:7,children:/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info\",style:{textAlign:\"center\"},children:t(\"NotVerified\")})})})})]})})})})]})})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsx(Alert,{show:msgData.show,variant:msgData.isError?\"danger\":\"success\",dismissible:true,onClose:function onClose(){console.log(\"onClose\");setmsgData({show:false,msg:\"\",isError:false});},children:msgData.msg})})})]}),/*#__PURE__*/_jsxs(CardFooter,{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsxs(Button,{color:\"danger\",style:{margin:'5px 0px'},type:\"button\",onClick:props.onCancel,children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi mdi-cancel mid-12px\"}),\" \",t(\"Cancel\")]}),/*#__PURE__*/_jsxs(Button,{color:\"success\",type:\"submit\",style:{margin:'5px'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-content-save mdi-12px\"}),\" \",t(\"Save\")]})]})]})}),showBlackListForm?/*#__PURE__*/_jsx(BlackListForm,{clientSelected:selectClient,isOpen:showBlackListForm,toggle:function toggle(){setshowBlackListForm(!showBlackListForm);},watchListResult:addWatchListResult}):null]},\"libl\");};export default ClientForm;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/1_Presolicitud/ClientForm.js"],"names":["React","useState","useTranslation","moment","DatePicker","Select","Row","Col","Card","CardBody","CardFooter","Button","Label","Table","Alert","BackendServices","CoreServices","BpmServices","AvForm","AvField","AvGroup","AvInput","AvCheckbox","AvDateField","PersonModel","BlackListHistoryModel","BlackListForm","checkNumber","OPTs","Link","Flatpickr","Offsymbol","display","justifyContent","alignItems","height","fontSize","color","paddingRight","OnSymbol","ClientForm","props","t","i18n","transactId","settransactId","clientSelected","selectClient","setselectClient","identificationTypeList","setidentificationTypeList","undefined","identificationTypeSelected","setidentificationTypeSelected","personTypeList","setpersonTypeList","personTypeSelected","setpersonTypeSelected","roleList","setroleList","roleSelected","setroleSelected","countryList","setcountryList","campoRequeridoCountry","setcampoRequeridoCountry","countrySelected","setcountrySelected","apiServiceBackend","setapiServiceBackend","apiCoreServices","setCoreServices","show","msg","isError","msgData","setmsgData","showBlackListForm","setshowBlackListForm","useEffect","fetchData","loadIdentificationTypes","loadPersonTypes","loadRoles","loadCountries","consultarCatalogoTipoIdentificacion","then","data","json","i","length","push","label","value","find","x","idType","catch","error","consultarCatalogoTipoPersona","Number","personType","retrieveRoleCatalog","checked","roles","map","item","rol","rolItem","roleId","getPaisesCatalogo","Records","nationality","handleChangeInputFormClient","e","target","name","clientPerson","handleChangeInputChkClient","filter","handleSubmitFormClient","event","errors","values","nameJ","secondName","secondNameJ","preventDefault","showMessage","blacklist","personId","nuevoOrquestadoListaPersonaSolicitud","onCancel","checkDebtorShareholders","actualizarOrquestadoListaPersonaSolicitud","err","getClientDataFormByPersonType","required","lastName","secondSurname","FORMAT_DATE_SHOW","dateFormat","FORMAT_DATE","maxDate","Date","setFullYear","getFullYear","defaultDate","selectedDates","dateStr","instance","format","loadClientDataT24","dataClientT24","customerNumberT24","id","clientDocumentId","idnumber","firstname","secondname","lastname","secondlastname","partyType","idtype","message","showWatchListCheck","addWatchListResult","resultWatchList","blacklistmdl","blackList","comment","comments","isNew","errorMessage","number","phone","email","index","textAlign","margin","console","log"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\r\nimport PropTypes from 'prop-types';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport moment from \"moment\";\r\nimport DatePicker from 'react-datepicker';\r\nimport Select from \"react-select\";\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardBody,\r\n  CardFooter,\r\n  Button,\r\n  Label,\r\n  Table,\r\n} from \"reactstrap\"\r\n\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport { BackendServices, CoreServices, BpmServices, } from \"../../../services\";\r\nimport { AvForm, AvField, AvGroup, AvInput, AvCheckbox } from \"availity-reactstrap-validation\";\r\nimport { AvDateField } from \"availity-reactstrap-validation\";\r\nimport { PersonModel } from '../../../models/Common/PersonModel';\r\nimport { BlackListHistoryModel } from '../../../models/Common/BlackListHistoryModel';\r\nimport BlackListForm from \"./BlackListForm\"\r\nimport checkNumber from \"../../../helpers/checkNumber\";\r\nimport * as OPTs from \"../../../helpers/options_helper\"\r\nimport { Link } from \"react-router-dom\"\r\n//Import Flatepicker\r\nimport \"flatpickr/dist/themes/material_blue.css\";\r\nimport Flatpickr from \"react-flatpickr\";\r\n\r\nconst Offsymbol = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: \"100%\",\r\n        fontSize: 12,\r\n        color: \"#fff\",\r\n        paddingRight: 2,\r\n      }}\r\n    >\r\n      {\" \"}\r\n      No\r\n    </div>\r\n  );\r\n};\r\n\r\nconst OnSymbol = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: \"100%\",\r\n        fontSize: 12,\r\n        color: \"#fff\",\r\n        paddingRight: 2,\r\n      }}\r\n    >\r\n      {\" \"}\r\n      Si\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ClientForm = props => {\r\n  const { t, i18n } = useTranslation();\r\n  const [transactId, settransactId] = useState(props.transactId);\r\n  const [selectClient, setselectClient] = useState(props.clientSelected);\r\n  const [identificationTypeList, setidentificationTypeList] = useState([]);\r\n  const [identificationTypeSelected, setidentificationTypeSelected] = useState(undefined);\r\n  const [personTypeList, setpersonTypeList] = useState([]);\r\n  const [personTypeSelected, setpersonTypeSelected] = useState(undefined);\r\n  const [roleList, setroleList] = useState([]);\r\n  const [roleSelected, setroleSelected] = useState(undefined);\r\n  const [countryList, setcountryList] = useState([]);\r\n  const [campoRequeridoCountry, setcampoRequeridoCountry] = useState(false);\r\n  const [countrySelected, setcountrySelected] = useState(undefined);\r\n  const [apiServiceBackend, setapiServiceBackend] = useState(new BackendServices());\r\n  const [apiCoreServices, setCoreServices] = useState(new CoreServices());\r\n  const [msgData, setmsgData] = useState({ show: false, msg: \"\", isError: false });\r\n  const [showBlackListForm, setshowBlackListForm] = useState(false);\r\n  //On Mounting (componentDidMount)\r\n  React.useEffect(() => {\r\n    //console.log(\"useEffect\", transactId)\r\n    fetchData();\r\n  }, []);\r\n  function fetchData() {\r\n    loadIdentificationTypes();\r\n    loadPersonTypes();\r\n    loadRoles();\r\n    loadCountries();\r\n  }\r\n  //cargar lista de tipo de identificacion\r\n  function loadIdentificationTypes() {\r\n    // consultarCatalogoTipoIdentificacion\r\n    apiServiceBackend.consultarCatalogoTipoIdentificacion()\r\n      .then((data) => {\r\n        if (data !== null && data !== undefined) {\r\n          let json = [];\r\n          for (let i = 0; i < data.length; i++) {\r\n            json.push({ label: t(data[i][\"description\"]), value: data[i][\"id\"] })\r\n          }\r\n          setidentificationTypeList(json)\r\n          setidentificationTypeSelected(selectClient !== undefined ? json.find(x => x.value === selectClient.idType) : json[0]);\r\n        }\r\n      }).catch((error) => { });\r\n  }\r\n  //cargar lista de tipo de personas\r\n  function loadPersonTypes() {\r\n    // consultarCatalogoTipoPersona\r\n    apiServiceBackend.consultarCatalogoTipoPersona()\r\n      .then((data) => {\r\n        if (data !== null && data !== undefined) {\r\n          let json = [];\r\n          for (let i = 0; i < data.length; i++) {\r\n            json.push({ label: t(data[i][\"label\"]), value: data[i][\"code\"] })\r\n          }\r\n          setpersonTypeList(json);\r\n          setpersonTypeSelected(selectClient !== undefined ? json.find(x => x.value === Number(selectClient.personType)) : json[0]);\r\n        }\r\n      }).catch((error) => { });\r\n  }\r\n  //cargar lista de roles\r\n  function loadRoles() {\r\n    apiServiceBackend.retrieveRoleCatalog()\r\n      .then((data) => {\r\n        if (data !== null && data !== undefined) {\r\n          let json = [];\r\n          for (let i = 0; i < data.length; i++) {\r\n            json.push({ label: t(data[i][\"roleDescription\"]), value: data[i][\"roleId\"], checked: false })\r\n          }\r\n          if (selectClient !== undefined && selectClient.roles.length > 0) {\r\n            selectClient.roles.map(async function (item, i) {\r\n              var rol = json.find((rolItem) => {\r\n                return rolItem.value === item.roleId;\r\n              })\r\n              if (rol !== undefined && rol !== null) {\r\n                rol.checked = true;\r\n              }\r\n            })\r\n          }\r\n          setroleList(json)\r\n        }\r\n      }).catch((error) => { });\r\n  }\r\n  //cargar lista de paises\r\n  function loadCountries() {\r\n    apiCoreServices.getPaisesCatalogo()\r\n      .then((data) => {\r\n        if (data !== null && data !== undefined) {\r\n          let json = [];\r\n          for (let i = 0; i < data.Records.length; i++) {\r\n            json.push({ label: t(data.Records[i][\"Description\"]), value: data.Records[i][\"Code\"] })\r\n          }\r\n          // console.log(\"loadCountries\", selectClient);\r\n          setcountryList(json);\r\n          setcountrySelected(json.find(x => x.value === selectClient.nationality));\r\n          // setcountrySelected(selectClient !== undefined ? json.find(x => x.value === selectClient.nationality) : json[0]);\r\n        }\r\n      }).catch((error) => { });\r\n  }\r\n  //Actualizar valores de Cliente cada vez que se actualiza un campo\r\n  function handleChangeInputFormClient(e) {\r\n    // console.log(\"handleChangeInputFormClient\", e);\r\n    if (e.target.name == 'socialReason')\r\n      e.target.name = 'name';\r\n    var clientPerson = selectClient !== undefined ? selectClient : new PersonModel();\r\n    clientPerson.transactId = transactId;\r\n    clientPerson[e.target.name] = e.target.value;\r\n    setselectClient(clientPerson);\r\n    //si la persona es juridica auto seleccionamos RUC\r\n    if (clientPerson.personType === 2) {\r\n      setidentificationTypeSelected(identificationTypeList.find(x => x.value === \"RUC\"));\r\n    }\r\n  }\r\n  //Actualizar roles de Cliente cada vez que se actualiza un checkbox\r\n  function handleChangeInputChkClient(e) {\r\n    var clientPerson = selectClient !== undefined ? selectClient : new PersonModel();\r\n    clientPerson.transactId = transactId;\r\n    if (e.target.checked) { //si es true lo agregamos\r\n      clientPerson.roles.push({ roleId: e.target.name })\r\n    }\r\n    else {//lo borramos\r\n      clientPerson.roles = clientPerson.roles.filter(rol => rol.roleId !== e.target.name)\r\n    }\r\n    setselectClient(clientPerson);\r\n  }\r\n  //Guardar el Cliente\r\n  async function handleSubmitFormClient(event, errors, values) {\r\n\r\n    selectClient.name = values.name ?? values.nameJ;\r\n    selectClient.secondName = values.secondName ?? values.secondNameJ;\r\n\r\n    event.preventDefault();\r\n    if (errors.length > 0) {\r\n      return;\r\n    }\r\n\r\n    if (selectClient !== undefined && selectClient !== null) {\r\n      if (countrySelected == undefined) {\r\n        setcampoRequeridoCountry(true);\r\n        return;\r\n      } else {\r\n        setcampoRequeridoCountry(false)\r\n      }\r\n      if (selectClient.roles.length <= 0) {\r\n        showMessage(t(\"YoumustselectatleasoneRoleforthisclient\"), true);\r\n        return;\r\n      }\r\n      if (selectClient.blacklist.length <= 0) {\r\n        showMessage(t(\"ThisclienthasnotbeenverifiedonWatchLists\"), true);\r\n        return;\r\n      }\r\n      if (selectClient.idType.length <= 0) {\r\n        showMessage(t(\"PleaseselectIdentificationType\"), true);\r\n        return;\r\n      }\r\n      if (selectClient.nationality.length <= 0) {\r\n        showMessage(t(\"PleaseselectNationality\"), true);\r\n        return;\r\n      }\r\n\r\n\r\n\r\n      if (selectClient.personId <= 0) {//nueva persona\r\n        apiServiceBackend.nuevoOrquestadoListaPersonaSolicitud(selectClient).then((data) => {\r\n          if (data !== null && data !== undefined) {\r\n            //salir\r\n            props.onCancel();\r\n\r\n            props.checkDebtorShareholders();\r\n          }\r\n          else {\r\n            showMessage(t(\"Datacouldnotbesaved\"), true);\r\n          }\r\n        }).catch((error) => { });\r\n      }\r\n      else {\r\n        apiServiceBackend.actualizarOrquestadoListaPersonaSolicitud(selectClient)\r\n          .then((data) => {\r\n            if (data !== null && data !== undefined) {\r\n              //salir\r\n              props.onCancel();\r\n            }\r\n            else {\r\n              showMessage(t(\"Datacouldnotbesaved\"), true);\r\n            }\r\n          }).catch((err) => { });\r\n      }\r\n    }\r\n    else {\r\n      showMessage(t(\"Theclientisnotvalid\"), true);\r\n    }\r\n  }\r\n  //Retorna los campos a mostrar en pantalla segun el tipo de persona seleccionada\r\n  function getClientDataFormByPersonType(personType) {\r\n    if (personType === undefined) {\r\n      return null;\r\n    }\r\n    switch (personType.value) {\r\n      case 1: {//Natural\r\n        return (<React.Fragment key=\"cfn\">\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"name\">{t(\"FirstName\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                name=\"name\"\r\n                type=\"text\" onChange={handleChangeInputFormClient}\r\n                value={selectClient !== undefined ? selectClient.name : ''}\r\n                errorMessage={t(\"Required Field\")}\r\n                validate={{ required: { value: true } }}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"secondName\">{t(\"SecondName\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                name=\"secondName\"\r\n                type=\"text\" onChange={handleChangeInputFormClient}\r\n                value={selectClient !== undefined ? selectClient.secondName : ''}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"lastName\">{t(\"FirstLastName\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                name=\"lastName\"\r\n                type=\"text\" onChange={handleChangeInputFormClient}\r\n                value={selectClient !== undefined ? selectClient.lastName : ''}\r\n                errorMessage={t(\"Required Field\")}\r\n                validate={{ required: { value: true } }}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"secondSurname\">{t(\"SecondLastName\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                name=\"secondSurname\"\r\n                type=\"text\" onChange={handleChangeInputFormClient}\r\n                value={selectClient !== undefined ? selectClient.secondSurname : ''}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"3\">\r\n            <AvGroup className=\"mb-3\">\r\n              <Label htmlFor=\"birthDate\">{t(\"DBO\")}</Label>\r\n              {/*\r\n              <AvField\r\n                className=\"form-control\"\r\n                name=\"birthDate\"\r\n                validate={{date: {format:OPTs.FORMAT_DATE}}}\r\n                errorMessage={t(\"This client is not of legal age\")}\r\n                max={moment().subtract(18, 'years')}\r\n                type=\"date\" onChange={(e) => { e.target.value = moment(e.target.value).format(\"YYYY-MM-DD\"); handleChangeInputFormClient(e) }}\r\n                value={selectClient !== undefined ? selectClient.birthDate : ''}\r\n                 />*/}\r\n\r\n              <Flatpickr\r\n                name=\"birthDate\"\r\n                className=\"form-control d-block\"\r\n                placeholder={OPTs.FORMAT_DATE_SHOW}\r\n                options={{\r\n                  dateFormat: OPTs.FORMAT_DATE,\r\n                  maxDate: new Date().setFullYear(new Date().getFullYear() - 18),\r\n                  defaultDate: new Date(),//selectClient !== undefined ? moment(selectClient.birthDate) : null\r\n                }}\r\n                onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr).format(\"YYYY-MM-DD\") } }) }}\r\n\r\n              />\r\n\r\n            </AvGroup>\r\n\r\n          </Col>\r\n        </React.Fragment>)\r\n      }\r\n      case 2: {//Juridica\r\n        return (\r\n          <React.Fragment key=\"cfj\">\r\n            <Col md=\"6\">\r\n              <div className=\"mb-3\">\r\n                <Label htmlFor=\"name\">{t(\"SocialReason\")}</Label>\r\n                <AvField\r\n                  className=\"form-control\"\r\n                  name=\"nameJ\"\r\n                  type=\"text\" onChange={handleChangeInputFormClient}\r\n                  value={selectClient !== undefined ? selectClient.name : ''}\r\n                  errorMessage={t(\"Required Field\")}\r\n                  validate={{ required: { value: true } }} />\r\n              </div>\r\n            </Col>\r\n            <Col md=\"6\">\r\n              <div className=\"mb-3\">\r\n                <Label htmlFor=\"secondName\">{t(\"CommercialName\")}</Label>\r\n                <AvField\r\n                  className=\"form-control\"\r\n                  name=\"secondNameJ\"\r\n                  type=\"text\"\r\n                  onChange={handleChangeInputFormClient}\r\n                  value={selectClient !== undefined ? selectClient.secondName : ''}\r\n                  errorMessage={t(\"Required Field\")}\r\n                // validate={{ required: { value: true } }}\r\n                />\r\n              </div>\r\n            </Col>\r\n\r\n          </React.Fragment>\r\n        )\r\n      }\r\n      default:\r\n        break;\r\n    }\r\n    return null;\r\n  }\r\n  //Carga de Datos de Cliente de T24 Seleccionado\r\n  function loadClientDataT24(dataClientT24) {\r\n    var clientPerson = new PersonModel();\r\n    if (selectClient !== undefined) {\r\n      clientPerson.personId = selectClient.personId;\r\n    }\r\n    clientPerson.customerNumberT24 = dataClientT24.id;\r\n    clientPerson.clientDocumentId = dataClientT24.idnumber;\r\n    clientPerson.name = dataClientT24.firstname;\r\n    clientPerson.secondName = dataClientT24.secondname;\r\n    clientPerson.lastName = dataClientT24.lastname;\r\n    clientPerson.secondSurname = dataClientT24.secondlastname;\r\n    clientPerson.personType = personTypeList.find(x => x.value === Number(dataClientT24.partyType)).value;\r\n    clientPerson.idType = identificationTypeList.find(x => x.value === dataClientT24.idtype).value;\r\n    setselectClient(clientPerson);\r\n    setidentificationTypeSelected(identificationTypeList.find(x => x.value === clientPerson.idType));\r\n    setpersonTypeSelected(personTypeList.find(x => x.value === clientPerson.personType));\r\n  }\r\n  //mostrar mensaje \r\n  function showMessage(message, isError = false) {\r\n    setmsgData({ show: true, msg: message, isError: isError })\r\n  }\r\n  //Abrir modal de verificacion en listas de vigilancias\r\n  function showWatchListCheck(show = true) {\r\n    setshowBlackListForm(show);\r\n  }\r\n  function addWatchListResult(resultWatchList) {\r\n    if (selectClient !== undefined) {\r\n      var blacklistmdl = new BlackListHistoryModel(); //new BlacklistModel();\r\n      blacklistmdl.blackList = resultWatchList.blackList;\r\n      blacklistmdl.comment = resultWatchList.comments;\r\n      blacklistmdl.transactId = transactId;\r\n      selectClient.blacklist.push(blacklistmdl);\r\n      setselectClient(selectClient);\r\n    }\r\n  }\r\n\r\n  //Elimina record de la lista de Incidencias de Black Lista\r\n  return (\r\n    <React.Fragment key=\"libl\">\r\n      <p className=\"card-title-desc\"></p>\r\n      <AvForm id=\"frmClient\" className=\"needs-validation\" onSubmit={handleSubmitFormClient}>\r\n        <Card>\r\n          <h5 className=\"card-sub-title\">{t(\"ClientData\")}</h5>\r\n          <CardBody>\r\n            <Row>\r\n              <Col md=\"3\">\r\n                <div className=\"mb-3\">\r\n                  <Label htmlFor=\"personType\">{t(\"PersonType\")}</Label>\r\n                  <Select noOptionsMessage={() => \"\"}\r\n                    onChange={(e) => { setpersonTypeSelected(personTypeList.find(x => x.value === e.value)); handleChangeInputFormClient({ target: { name: 'personType', value: e.value } }) }}\r\n                    options={personTypeList}\r\n                    classNamePrefix=\"select2-selection\"\r\n                    value={personTypeSelected}\r\n                    name=\"personType\"\r\n                  />\r\n                </div>\r\n              </Col>\r\n              <Col md=\"3\">\r\n                <div className=\"mb-3\">\r\n                  <Label htmlFor=\"customerNumberT24\">{t(\"ClientNumber\")}</Label>\r\n                  <AvField onChange={handleChangeInputFormClient} className=\"form-control\"\r\n                    name=\"customerNumberT24\" type=\"number\" disabled={selectClient !== undefined ? selectClient.isNew : true}\r\n                    value={selectClient !== undefined ? selectClient.customerNumberT24 : ''}\r\n                  />\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              {getClientDataFormByPersonType(personTypeSelected)}\r\n\r\n              <Col md=\"3\">\r\n                <div className=\"mb-3\">\r\n                  <Label>{t(\"IdType\")}</Label>\r\n                  <Select noOptionsMessage={() => \"\"}\r\n                    onChange={(e) => { setidentificationTypeSelected(identificationTypeList.find(x => x.value === e.value)); handleChangeInputFormClient({ target: { name: 'idType', value: e.value } }) }}\r\n                    options={identificationTypeList}\r\n                    classNamePrefix=\"select2-selection\"\r\n                    value={identificationTypeSelected}\r\n                    name=\"idType\"\r\n                  />\r\n                </div>\r\n              </Col>\r\n              <Col md=\"3\">\r\n                <div className=\"mb-3\">\r\n                  <Label htmlFor=\"idnumber\">{t(\"IdNumber\")}</Label>\r\n                  <AvField onChange={handleChangeInputFormClient} className=\"form-control\"\r\n                    name=\"clientDocumentId\" type=\"text\"\r\n                    validate={{ required: { value: true, errorMessage: t(\"Required Field\") } }}\r\n                    value={selectClient !== undefined ? selectClient.clientDocumentId : ''}\r\n                  />\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col md=\"3\">\r\n                <div className=\"mb-3\">\r\n                  <Label htmlFor=\"nationality\">{t(\"Nationality\")}</Label>\r\n                  <Select noOptionsMessage={() => \"\"}\r\n                    onChange={(e) => { setcountrySelected(countryList.find(x => x.value === e.value)); handleChangeInputFormClient({ target: { name: 'nationality', value: e.value } }) }}\r\n                    options={countryList}\r\n                    classNamePrefix=\"select2-selection\"\r\n                    value={countrySelected}\r\n                    name=\"nationality\"\r\n                  />\r\n                  {campoRequeridoCountry ?\r\n                    <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n                    : null}\r\n                </div>\r\n              </Col>\r\n              <Col md=\"3\">\r\n                <div className=\"mb-3\">\r\n                  <Label htmlFor=\"phone\">{t(\"PhoneNumber\")}</Label>\r\n                  <AvField onChange={handleChangeInputFormClient} className=\"form-control\"\r\n                    name=\"phone\"\r\n                    type=\"text\"\r\n                    onKeyPress={(e) => { return checkNumber(e) }}\r\n                    validate={{\r\n                      number: { value: true, errorMessage: t(\"InvalidField\") },\r\n                    }}\r\n                    value={selectClient !== undefined ? selectClient.phone : ''}\r\n                  />\r\n                </div>\r\n              </Col>\r\n              <Col md=\"3\">\r\n                <div className=\"mb-3\">\r\n                  <Label htmlFor=\"email\">{t(\"Email\")}</Label>\r\n                  <AvField onChange={handleChangeInputFormClient} className=\"form-control\"\r\n                    name=\"email\" type=\"email\"\r\n                    value={selectClient !== undefined ? selectClient.email : ''}\r\n                  />\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col xs={12}>\r\n                <Card>\r\n                  <h5 className=\"card-sub-title\">{t(\"Roles\")}</h5>\r\n                  <CardBody>\r\n                    <Row>\r\n                      {roleList.map((item, index) => (\r\n                        <Col md=\"4\">\r\n                          <AvGroup check className=\"my-2\">\r\n                            <AvInput type=\"checkbox\" defaultChecked={item.checked} name={item.value} onChange={handleChangeInputChkClient} />\r\n                            <Label htmlFor={item.value}> {item.label}</Label>\r\n                          </AvGroup>\r\n                        </Col>\r\n                      ))}\r\n                    </Row>\r\n                  </CardBody>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n\r\n\r\n            <Row>\r\n              <Col xs={12}>\r\n                <Card>\r\n                  <CardBody>\r\n                    <Row>\r\n                      <Col md=\"6\">\r\n                        <h5 className=\"card-sub-title\">{t(\"BlackListIncidences\")}</h5>\r\n                      </Col>\r\n                      <Col md={6} style={{ textAlign: \"right\", }}>\r\n                        <Button className=\"btn\" color=\"success\" type=\"button\" style={{ margin: '5px' }} onClick={showWatchListCheck} title={t(\"Add\")}><i className=\"fas fa-lg fa-plus-circle\"></i> {(\" \")}</Button>\r\n                      </Col>\r\n                    </Row>\r\n                    <Row>\r\n                      <Col md=\"12\">\r\n                        <div className=\"table-responsive styled-table-div\">\r\n                          <Table className=\"table table-striped table-hover styled-table table\">\r\n                            <thead>\r\n                              <tr>\r\n                                <th>{t(\"WithMatches\")}</th>\r\n                                <th>{t(\"Observations\")}</th>\r\n                              </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                              {selectClient !== undefined && selectClient.blacklist !== undefined && selectClient.blacklist.length > 0 ?\r\n                                selectClient.blacklist.map((item, index) => (\r\n                                  <tr key={index}>\r\n                                    <td>{item.blackList ? \"Si\" : \"No\"}</td>\r\n                                    <td>{item.comment}</td>\r\n                                  </tr>\r\n                                )) :\r\n                                <tr>\r\n                                  <td colSpan={7}>\r\n                                    <div className=\"alert alert-info\" style={{ textAlign: \"center\" }}>{t(\"NotVerified\")}</div>\r\n                                  </td>\r\n                                </tr>\r\n\r\n                              }\r\n                            </tbody>\r\n                          </Table>\r\n                        </div>\r\n                      </Col>\r\n                    </Row>\r\n                  </CardBody>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col md=\"12\">\r\n                <Alert show={msgData.show} variant={msgData.isError ? \"danger\" : \"success\"} dismissible onClose={() => { console.log(\"onClose\"); setmsgData({ show: false, msg: \"\", isError: false }) }}>\r\n                  {msgData.msg}\r\n                </Alert>\r\n              </Col>\r\n            </Row>\r\n          </CardBody>\r\n          <CardFooter style={{ textAlign: \"right\" }}>\r\n            <Button color=\"danger\" style={{ margin: '5px 0px' }} type=\"button\" onClick={props.onCancel}>\r\n              <i className=\"mdi mdi mdi-cancel mid-12px\"></i>{\" \"}{t(\"Cancel\")}\r\n            </Button>\r\n            <Button color=\"success\" type=\"submit\" style={{ margin: '5px' }}><i className=\"mdi mdi-content-save mdi-12px\"></i>\r\n              {\" \"}{t(\"Save\")}\r\n            </Button>\r\n          </CardFooter>\r\n        </Card>\r\n      </AvForm>\r\n      {showBlackListForm ?\r\n        <BlackListForm clientSelected={selectClient} isOpen={showBlackListForm} toggle={() => { setshowBlackListForm(!showBlackListForm) }} watchListResult={addWatchListResult} />\r\n        : null}\r\n    </React.Fragment>\r\n  );\r\n};\r\nClientForm.propTypes = {\r\n  onCancel: PropTypes.func,\r\n  clientSelected: PropTypes.any,\r\n  transactId: PropTypes.any,\r\n  checkDebtorShareholders: PropTypes.func\r\n}\r\nexport default ClientForm;"]},"metadata":{},"sourceType":"module"}