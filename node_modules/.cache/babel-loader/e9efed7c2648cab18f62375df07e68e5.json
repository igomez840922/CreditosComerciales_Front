{"ast":null,"code":"import _regeneratorRuntime from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useRef,useState}from'react';import{BackendServices}from\"../../../../services/\";import Currency from'../../../../helpers/currency';import{optionsPersonType}from'../dummy/optionsSelect';var services=new BackendServices();var currencyValidation=new Currency();export var useFormQuoter=function useFormQuoter(initialForm){var _useState=useState(initialForm),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),response=_useState8[0],setResponse=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),typePerson=_useState10[0],setTypePerson=_useState10[1];var _useState11=useState(optionsPersonType),_useState12=_slicedToArray(_useState11,2),selectionFields=_useState12[0],setselectionFields=_useState12[1];var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),disableFeci=_useState14[0],setDisableFeci=_useState14[1];var _useState15=useState(true),_useState16=_slicedToArray(_useState15,2),disableDefinedFee=_useState16[0],setDisableDefinedFee=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),disableTerm=_useState18[0],setDisableTerm=_useState18[1];var _useState19=useState(true),_useState20=_slicedToArray(_useState19,2),disableGracePeriod=_useState20[0],setDisableGracePeriod=_useState20[1];var refForm=useRef(null);var hdlOnChange=function hdlOnChange(evt,selectField){// console.group('Before')\n// console.info(evt, selectField)\n// console.groupEnd()\nvar name=(evt===null||evt===void 0?void 0:evt.target)?evt.target.name:selectField.name;var value=(evt===null||evt===void 0?void 0:evt.target)?evt.target.value:evt.value;if(name===\"amountDebt\"||name===\"customerDefinedPayment\"){// value = Number(currencyValidation.getRealValue(evt.target.value)).toFixed(2)\nvalue=currencyValidation.getRealValue(evt.target.value);console.info(\"value\",value);}if(name===\"anualRate\"||name===\"feciRate\"){value=currencyValidation.getRealPercent(evt.target.value);console.info(\"value\",value);}// console.group('After')\n// console.info(name, value)\n// console.groupEnd()\nif(selectField===null||selectField===void 0?void 0:selectField.name){auxSelectFields(selectField.name,value);}setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},name,value)));};var handleChangeInput=function handleChangeInput(evt){var regexOnlyNum=new RegExp(/^[0-9]+$/);var regexOnlyNum2=evt.target.value.replace(/[^0-9,.]/g,\"\");var valueAmountDebt=regexOnlyNum2;};var handleKeyOnlyNum=function handleKeyOnlyNum(evt){var keyPress=evt.key;var regexOnlyNum=/^[0-9,.]+$/;if(!regexOnlyNum.test(keyPress))return;// console.log('here!');\n};var hdlOnKeyUpRealNumber=function hdlOnKeyUpRealNumber(e){var input=currencyValidation.getRealValue(e.target.value);e.target.value=currencyValidation.format(input);console.info(\"real number decimal:\",Number(input).toFixed(2));};var hdlOnKeyUpPercentageNumber=function hdlOnKeyUpPercentageNumber(e){var input=currencyValidation.getRealPercent(e.target.value);e.target.value=currencyValidation.formatPercent(input);console.info(\"percentage number:\",input);};var hdlOnSubmit=function hdlOnSubmit(evt){console.group('FORM SUBMIT');console.info(\"evt:\",evt);console.groupEnd();};var hdlOnValidSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.group('VALID FORM');console.info(\"Data submitted!\",form);setLoading(true);_context.next=5;return services.getQuoterPaymentPlan(form.loanType,form.amountDebt,form.anualRate,form.feciRate,form.term,form.paymentPeriod,form.gracePeriod,form.gracePeriodType,form.customerDefinedPayment);case 5:resp=_context.sent;setLoading(false);console.info('Service response',resp);setResponse(resp.payments);// .then(resp => {\n//   setLoading(false)\n//   console.info('Service response', resp)\n//   setResponse(resp.payments)\n// })\nconsole.info(response);console.groupEnd();case 11:case\"end\":return _context.stop();}}},_callee);}));return function hdlOnValidSubmit(){return _ref.apply(this,arguments);};}();var hdlOnInvalidSubmit=function hdlOnInvalidSubmit(evt,errors,values){console.group('INVALID FORM');console.info(\"Not working!\");console.groupEnd();};var hdlTest=function hdlTest(evt){var keyPress=evt.key;console.group('HANDLE TEST');var reOnlyNumbers=new RegExp('^[0-9,.]+$');var rexOnlyNum=/^[0-9,.]+$/;var regexOnlyNum2=evt.target.value.replace(/[^0-9,.]/g,\"\");// const valueAmountDebt = regexOnlyNum2;\nconsole.info(\"regexOnlyNum2\",regexOnlyNum2);console.groupEnd();if(reOnlyNumbers.test(keyPress)){console.info(\"inside regex\");}// evt.target[16].value = \"\"\n// setForm({\n//   amountDebt: \" \"\n// })\n};var auxSelectFields=function auxSelectFields(selectFieldName,selectedValue){switch(selectFieldName){case'feciSelect':var _disableFeci=selectedValue==\"Si\"?false:true;setDisableFeci(_disableFeci);return;case'personType':var type=selectedValue==\"Natural\"?\"Natural\":\"Juridica\";setTypePerson(type);return;case'definedPayment':var definedFee=selectedValue==\"Si\"?false:true;setDisableDefinedFee(definedFee);setDisableTerm(!definedFee);return;case'gracePeriodSelect':var _disableGracePeriod=selectedValue==\"Si\"?false:true;setDisableGracePeriod(_disableGracePeriod);return;default:break;}};var changeSelectOptions=function changeSelectOptions(valueCheck,option){var activateOption=valueCheck===option?false:true;return activateOption;};return{form:form,errors:errors,loading:loading,response:response,hdlTest:hdlTest,hdlOnKeyUpRealNumber:hdlOnKeyUpRealNumber,hdlOnKeyUpPercentageNumber:hdlOnKeyUpPercentageNumber,hdlOnChange:hdlOnChange,hdlOnSubmit:hdlOnSubmit,hdlOnInvalidSubmit:hdlOnInvalidSubmit,hdlOnValidSubmit:hdlOnValidSubmit,disableFeci:disableFeci,disableDefinedFee:disableDefinedFee,disableTerm:disableTerm,disableGracePeriod:disableGracePeriod};};","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/20_Cotizador/Hooks/useFormQuoter.js"],"names":["useRef","useState","BackendServices","Currency","optionsPersonType","services","currencyValidation","useFormQuoter","initialForm","form","setForm","errors","setErrors","loading","setLoading","response","setResponse","typePerson","setTypePerson","selectionFields","setselectionFields","disableFeci","setDisableFeci","disableDefinedFee","setDisableDefinedFee","disableTerm","setDisableTerm","disableGracePeriod","setDisableGracePeriod","refForm","hdlOnChange","evt","selectField","name","target","value","getRealValue","console","info","getRealPercent","auxSelectFields","handleChangeInput","regexOnlyNum","RegExp","regexOnlyNum2","replace","valueAmountDebt","handleKeyOnlyNum","keyPress","key","test","hdlOnKeyUpRealNumber","e","input","format","Number","toFixed","hdlOnKeyUpPercentageNumber","formatPercent","hdlOnSubmit","group","groupEnd","hdlOnValidSubmit","getQuoterPaymentPlan","loanType","amountDebt","anualRate","feciRate","term","paymentPeriod","gracePeriod","gracePeriodType","customerDefinedPayment","resp","payments","hdlOnInvalidSubmit","values","hdlTest","reOnlyNumbers","rexOnlyNum","selectFieldName","selectedValue","type","definedFee","changeSelectOptions","valueCheck","option","activateOption"],"mappings":"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","sourcesContent":["import { useRef, useState } from 'react'\r\nimport { BackendServices } from \"../../../../services/\";\r\nimport Currency from '../../../../helpers/currency';\r\nimport { optionsPersonType } from '../dummy/optionsSelect'\r\n\r\nconst services = new BackendServices()\r\nconst currencyValidation = new Currency()\r\n\r\nexport const useFormQuoter = (initialForm) => {\r\n  const [form, setForm] = useState(initialForm)\r\n  const [errors, setErrors] = useState({})\r\n  const [loading, setLoading] = useState(false)\r\n  const [response, setResponse] = useState(null)\r\n  const [typePerson, setTypePerson] = useState(true)\r\n  const [selectionFields, setselectionFields] = useState(optionsPersonType)\r\n  const [disableFeci, setDisableFeci] = useState(true)\r\n  const [disableDefinedFee, setDisableDefinedFee] = useState(true)\r\n  const [disableTerm, setDisableTerm] = useState(false)\r\n  const [disableGracePeriod, setDisableGracePeriod] = useState(true)\r\n  const refForm = useRef(null)\r\n\r\n  const hdlOnChange = (evt, selectField) => {\r\n    // console.group('Before')\r\n    // console.info(evt, selectField)\r\n    // console.groupEnd()\r\n\r\n    const name = evt?.target\r\n      ? evt.target.name\r\n      : selectField.name\r\n\r\n\r\n    let value = evt?.target\r\n      ? evt.target.value\r\n      : evt.value\r\n\r\n    if (name === \"amountDebt\" || name === \"customerDefinedPayment\") {\r\n      // value = Number(currencyValidation.getRealValue(evt.target.value)).toFixed(2)\r\n      value = currencyValidation.getRealValue(evt.target.value)\r\n      console.info(\"value\", value)\r\n    }\r\n\r\n    if (name === \"anualRate\" || name === \"feciRate\") {\r\n      value = currencyValidation.getRealPercent(evt.target.value)\r\n      console.info(\"value\", value)\r\n    }\r\n\r\n    // console.group('After')\r\n    // console.info(name, value)\r\n    // console.groupEnd()\r\n\r\n    if (selectField?.name) {\r\n      auxSelectFields(selectField.name, value)\r\n    }\r\n\r\n    setForm({\r\n      ...form,\r\n      [name]: value\r\n    })\r\n\r\n  }\r\n\r\n  const handleChangeInput = (evt) => {\r\n    const regexOnlyNum = new RegExp(/^[0-9]+$/)\r\n    const regexOnlyNum2 = evt.target.value.replace(/[^0-9,.]/g, \"\")\r\n    const valueAmountDebt = regexOnlyNum2;\r\n\r\n  }\r\n\r\n  const handleKeyOnlyNum = (evt) => {\r\n    const keyPress = evt.key;\r\n    const regexOnlyNum = /^[0-9,.]+$/\r\n\r\n    if (!regexOnlyNum.test(keyPress)) return\r\n    // console.log('here!');\r\n  }\r\n\r\n  const hdlOnKeyUpRealNumber = (e) => {\r\n    let input = currencyValidation.getRealValue(e.target.value)\r\n    e.target.value = currencyValidation.format(input)\r\n    console.info(\"real number decimal:\", Number(input).toFixed(2))\r\n  }\r\n\r\n  const hdlOnKeyUpPercentageNumber = (e) => {\r\n    let input = currencyValidation.getRealPercent(e.target.value)\r\n    e.target.value = currencyValidation.formatPercent(input)\r\n    console.info(\"percentage number:\", input)\r\n  }\r\n\r\n  const hdlOnSubmit = (evt) => {\r\n    console.group('FORM SUBMIT')\r\n    console.info(\"evt:\", evt)\r\n    console.groupEnd()\r\n  }\r\n\r\n  const hdlOnValidSubmit = async () => {\r\n    console.group('VALID FORM')\r\n    console.info(\"Data submitted!\", form)\r\n\r\n    setLoading(true)\r\n    const resp = await services.getQuoterPaymentPlan(\r\n      form.loanType,\r\n      form.amountDebt,\r\n      form.anualRate,\r\n      form.feciRate,\r\n      form.term,\r\n      form.paymentPeriod,\r\n      form.gracePeriod,\r\n      form.gracePeriodType,\r\n      form.customerDefinedPayment\r\n    )\r\n    setLoading(false)\r\n    console.info('Service response', resp)\r\n    setResponse(resp.payments)\r\n    // .then(resp => {\r\n    //   setLoading(false)\r\n    //   console.info('Service response', resp)\r\n    //   setResponse(resp.payments)\r\n    // })\r\n    console.info(response)\r\n    console.groupEnd()\r\n  }\r\n\r\n  const hdlOnInvalidSubmit = (evt, errors, values) => {\r\n    console.group('INVALID FORM')\r\n    console.info(\"Not working!\")\r\n    console.groupEnd()\r\n\r\n  }\r\n\r\n  const hdlTest = (evt) => {\r\n    const keyPress = evt.key;\r\n    console.group('HANDLE TEST')\r\n\r\n    const reOnlyNumbers = new RegExp('^[0-9,.]+$')\r\n    const rexOnlyNum = /^[0-9,.]+$/\r\n    const regexOnlyNum2 = evt.target.value.replace(/[^0-9,.]/g, \"\")\r\n    // const valueAmountDebt = regexOnlyNum2;\r\n\r\n    console.info(\"regexOnlyNum2\", regexOnlyNum2)\r\n    console.groupEnd()\r\n\r\n    if (reOnlyNumbers.test(keyPress)) {\r\n      console.info(\"inside regex\");\r\n    }\r\n    // evt.target[16].value = \"\"\r\n    // setForm({\r\n    //   amountDebt: \" \"\r\n    // })\r\n  }\r\n\r\n  const auxSelectFields = (selectFieldName, selectedValue) => {\r\n    switch (selectFieldName) {\r\n      case 'feciSelect':\r\n        const disableFeci = selectedValue == \"Si\"\r\n          ? false\r\n          : true\r\n        setDisableFeci(disableFeci)\r\n        return\r\n      case 'personType':\r\n        const type = selectedValue == \"Natural\"\r\n          ? \"Natural\"\r\n          : \"Juridica\"\r\n        setTypePerson(type)\r\n        return\r\n      case 'definedPayment':\r\n        const definedFee = selectedValue == \"Si\"\r\n          ? false\r\n          : true\r\n        setDisableDefinedFee(definedFee)\r\n        setDisableTerm(!definedFee)\r\n        return\r\n      case 'gracePeriodSelect':\r\n        const disableGracePeriod = selectedValue == \"Si\"\r\n          ? false\r\n          : true\r\n        setDisableGracePeriod(disableGracePeriod)\r\n        return\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  const changeSelectOptions = (valueCheck, option) => {\r\n    const activateOption = valueCheck === option ? false : true\r\n\r\n    return activateOption\r\n  }\r\n\r\n\r\n  return {\r\n    form,\r\n    errors,\r\n    loading,\r\n    response,\r\n    hdlTest,\r\n    hdlOnKeyUpRealNumber,\r\n    hdlOnKeyUpPercentageNumber,\r\n    hdlOnChange,\r\n    hdlOnSubmit,\r\n    hdlOnInvalidSubmit,\r\n    hdlOnValidSubmit,\r\n    disableFeci,\r\n    disableDefinedFee,\r\n    disableTerm,\r\n    disableGracePeriod,\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}