{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useTranslation,withTranslation}from\"react-i18next\";import{Row,Col,Button,Label,Modal,Card,CardBody,CardFooter}from\"reactstrap\";import Select from\"react-select\";import{AvForm,AvField,AvGroup}from\"availity-reactstrap-validation\";import{CoreServices}from\"../../../../../services\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ModalInformacionClientes=function ModalInformacionClientes(props){var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),paises=_useState2[0],setPaises=_useState2[1];var _useState3=useState(props.jsonClientes),_useState4=_slicedToArray(_useState3,2),dataReturn=_useState4[0],setDataReturn=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),campoRequeridoCustomType=_useState6[0],setcampoRequeridoCustomType=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),campoRequeridoTipoVenta=_useState8[0],setcampoRequeridoTipoVenta=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),campoRequeridoPais=_useState10[0],setcampoRequeridoPais=_useState10[1];var _useState11=useState(undefined),_useState12=_slicedToArray(_useState11,2),paisSelect=_useState12[0],setpaisSelect=_useState12[1];var _useState13=useState(undefined),_useState14=_slicedToArray(_useState13,2),tipoClienteSelect=_useState14[0],settipoClienteSelect=_useState14[1];var _useState15=useState(undefined),_useState16=_slicedToArray(_useState15,2),tipoVentaSelect=_useState16[0],settipoVentaSelect=_useState16[1];var clienteTipo=[{label:\"Privado\",value:\"1\"},{label:\"Gobierno\",value:\"2\"}];var tipoVentaData=[{label:\"Credito\",value:\"1\"},{label:\"Contado\",value:\"2\"}];React.useEffect(function(){// Read Api Service data\nloadCountry();setcampoRequeridoCustomType(false);setcampoRequeridoTipoVenta(false);setcampoRequeridoPais(false);},[]);React.useEffect(function(){// Read Api Service data\nvar defaultVal=null;setpaisSelect(undefined);settipoClienteSelect(undefined);settipoVentaSelect(undefined);try{if(paises.length>0&&props.jsonClientes.country!==null&&paisSelect===undefined){defaultVal=paises.find(function(x){return x.label===props.jsonClientes.country;});if(defaultVal!==undefined){setpaisSelect(defaultVal);}}if(clienteTipo.length>0&&props.jsonClientes.customerType!==null&&tipoClienteSelect===undefined){defaultVal=clienteTipo.find(function(x){return x.label===props.jsonClientes.customerType;});if(defaultVal!==undefined){settipoClienteSelect(defaultVal);}}if(tipoVentaData.length>0&&props.jsonClientes.salesType!==null&&tipoVentaSelect===undefined){defaultVal=tipoVentaData.find(function(x){return x.label===props.jsonClientes.salesType;});if(defaultVal!==undefined){settipoVentaSelect(defaultVal);}}}catch(err){}setDataReturn(props.jsonClientes);},[props,paises]);// Submitimos formulario para busqueda de clientes\nfunction handleSubmit(event,errors,values){event.preventDefault();if(errors.length>0){return;}props.addCliente(dataReturn,props.tipo);}function loadCountry(){var api=new CoreServices();// getPaisesCatalogo\napi.getPaisesCatalogo().then(function(response){if(response===null){return;}var json=[];for(var i=0;i<response.Records.length;i++){json.push({label:response.Records[i][\"Description\"],value:response.Records[i][\"Code\"]});}setPaises(json);});}function changeAll(e,tipo){if(tipo==\"name\"){dataReturn.name=e.target.value;}if(tipo==\"country\"){dataReturn.country=e.label;}if(tipo==\"salePercentage\"){dataReturn.salePercentage=Number(e.target.value);}if(tipo==\"customerType\"){dataReturn.customerType=e.label;}if(tipo==\"salesType\"){dataReturn.salesType=e.label;}if(tipo==\"termDays\"){dataReturn.termDays=Number(e.target.value);}if(tipo==\"delayReason\"){dataReturn.delayReason=e.target.value;}setDataReturn(dataReturn);}return/*#__PURE__*/_jsxs(Modal,{size:\"xl\",isOpen:props.isOpen,toggle:props.toggle,centered:true,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title mt-0\",children:t(\"ClientsInfo\")}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:props.toggle,\"data-dismiss\":\"modal\",className:\"close\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",style:{backgroundColor:\"#f3f5f7\"},children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xl:\"12\",children:/*#__PURE__*/_jsx(AvForm,{id:\"frmSearch\",className:\"needs-validation\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"name\",children:t(\"FullName\")}),/*#__PURE__*/_jsx(AvField,{onChange:function onChange(e){changeAll(e,\"name\");},className:\"form-control\",type:\"text\",name:\"name\",id:\"name\",value:props.jsonClientes.name})]})}),/*#__PURE__*/_jsx(Col,{md:\"4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"idcountry\",children:t(\"Country\")}),/*#__PURE__*/_jsx(Select,{onChange:function onChange(e){setpaisSelect(paises.find(function(x){return x.label===e.label;}));changeAll(e,\"country\");},options:paises,id:\"paises\",value:paisSelect,classNamePrefix:\"select2-selection\",placeholder:t(\"SelectCountry\")}),campoRequeridoPais?/*#__PURE__*/_jsx(\"p\",{className:\"message-error-parrafo\",children:t(\"Required Field\")}):null]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"salePercent\",children:t(\"SalePercent\")}),/*#__PURE__*/_jsx(AvField,{onChange:function onChange(e){changeAll(e,\"salePercentage\");},className:\"form-control\",name:\"salePercent\",type:\"number\",validate:{number:{value:true,errorMessage:t(\"InvalidField\")}},value:props.jsonClientes.salePercentage,id:\"salePercent\"})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"customerType\",children:t(\"ClientType\")}),/*#__PURE__*/_jsx(Select,{onChange:function onChange(e){settipoClienteSelect(clienteTipo.find(function(x){return x.label===e.label;}));changeAll(e,\"customerType\");},options:clienteTipo,id:\"sustainableCustomer\",classNamePrefix:\"select2-selection\",placeholder:t(\"toselect\"),value:tipoClienteSelect}),campoRequeridoCustomType?/*#__PURE__*/_jsx(\"p\",{className:\"message-error-parrafo\",children:t(\"Required Field\")}):null]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"termDays\",children:t(\"Crterm(days)\")}),/*#__PURE__*/_jsx(AvField,{onChange:function onChange(e){changeAll(e,\"termDays\");},className:\"form-control\",name:\"termDays\",type:\"number\",validate:{number:{value:true,errorMessage:t(\"InvalidField\")}},value:props.jsonClientes.termDays,id:\"termDays\"})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"salesType\",children:t(\"SaleType\")}),/*#__PURE__*/_jsx(Select,{onChange:function onChange(e){settipoVentaSelect(tipoVentaData.find(function(x){return x.label===e.label;}));changeAll(e,\"salesType\");},options:tipoVentaData,id:\"sustainableCustomer\",classNamePrefix:\"select2-selection\",placeholder:t(\"toselect\"),value:tipoVentaSelect}),campoRequeridoTipoVenta?/*#__PURE__*/_jsx(\"p\",{className:\"message-error-parrafo\",children:t(\"Required Field\")}):null]})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"companyHistoryDescription\",children:t(\"IncaseofCollectionDelayindicateReasonforCollectionDelayandStartegia\")}),/*#__PURE__*/_jsx(AvField,{onChange:function onChange(e){changeAll(e,\"delayReason\");},value:props.jsonClientes.delayReason,type:\"textarea\",name:\"companyHistoryDescription\",id:\"companyHistoryDescription\",maxLength:\"1000\",rows:\"7\"})]})})})]}),/*#__PURE__*/_jsxs(CardFooter,{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Button,{id:\"btnNew\",color:\"dark\",type:\"button\",style:{margin:'5px'},onClick:props.toggle,\"data-dismiss\":\"modal\",children:t(\"Cancel\")}),props.botones?/*#__PURE__*/_jsxs(Button,{id:\"btnSearch\",color:\"success\",type:\"submit\",style:{margin:'5px'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-content-save mdi-12px\"}),\" \",\" \",props.tipo==\"guardar\"?t(\"Save\"):t(\"Edit\")]}):null]})]})})})})})]});};export default withTranslation()(ModalInformacionClientes);","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/ModalInformacionClientes.js"],"names":["React","useState","useTranslation","withTranslation","Row","Col","Button","Label","Modal","Card","CardBody","CardFooter","Select","AvForm","AvField","AvGroup","CoreServices","ModalInformacionClientes","props","t","i18n","paises","setPaises","jsonClientes","dataReturn","setDataReturn","campoRequeridoCustomType","setcampoRequeridoCustomType","campoRequeridoTipoVenta","setcampoRequeridoTipoVenta","campoRequeridoPais","setcampoRequeridoPais","undefined","paisSelect","setpaisSelect","tipoClienteSelect","settipoClienteSelect","tipoVentaSelect","settipoVentaSelect","clienteTipo","label","value","tipoVentaData","useEffect","loadCountry","defaultVal","length","country","find","x","customerType","salesType","err","handleSubmit","event","errors","values","preventDefault","addCliente","tipo","api","getPaisesCatalogo","then","response","json","i","Records","push","changeAll","e","name","target","salePercentage","Number","termDays","delayReason","isOpen","toggle","backgroundColor","number","errorMessage","textAlign","margin","botones"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\r\nimport { useTranslation, withTranslation } from \"react-i18next\"\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Label,\r\n  Modal,\r\n  Card,\r\n  CardBody,\r\n  CardFooter,\r\n} from \"reactstrap\"\r\nimport Select from \"react-select\";\r\nimport { AvForm, AvField, AvGroup } from \"availity-reactstrap-validation\"\r\nimport { CoreServices } from \"../../../../../services\";\r\nconst ModalInformacionClientes = (props) => {\r\n  const { t, i18n } = useTranslation();\r\n  const [paises, setPaises] = useState([]);\r\n  const [dataReturn, setDataReturn] = useState(props.jsonClientes);\r\n  const [campoRequeridoCustomType, setcampoRequeridoCustomType] = useState(false);\r\n  const [campoRequeridoTipoVenta, setcampoRequeridoTipoVenta] = useState(false);\r\n  const [campoRequeridoPais, setcampoRequeridoPais] = useState(false);\r\n  const [paisSelect, setpaisSelect] = useState(undefined);\r\n  const [tipoClienteSelect, settipoClienteSelect] = useState(undefined);\r\n  const [tipoVentaSelect, settipoVentaSelect] = useState(undefined);\r\n  const clienteTipo = [{ label: \"Privado\", value: \"1\" }, { label: \"Gobierno\", value: \"2\" }];\r\n  const tipoVentaData = [{ label: \"Credito\", value: \"1\" }, { label: \"Contado\", value: \"2\" }];\r\n  React.useEffect(() => {\r\n    // Read Api Service data\r\n    loadCountry()\r\n    setcampoRequeridoCustomType(false);\r\n    setcampoRequeridoTipoVenta(false);\r\n    setcampoRequeridoPais(false);\r\n  }, []);\r\n  React.useEffect(() => {\r\n    // Read Api Service data\r\n    var defaultVal = null;\r\n    setpaisSelect(undefined)\r\n    settipoClienteSelect(undefined)\r\n    settipoVentaSelect(undefined)\r\n    try {\r\n      if (paises.length > 0 && props.jsonClientes.country !== null && paisSelect === undefined) {\r\n        defaultVal = paises.find(x => x.label === props.jsonClientes.country);\r\n        if (defaultVal !== undefined) {\r\n          setpaisSelect(defaultVal);\r\n        }\r\n      }\r\n      if (clienteTipo.length > 0 && props.jsonClientes.customerType !== null && tipoClienteSelect === undefined) {\r\n        defaultVal = clienteTipo.find(x => x.label === props.jsonClientes.customerType);\r\n        if (defaultVal !== undefined) {\r\n          settipoClienteSelect(defaultVal);\r\n        }\r\n      }\r\n      if (tipoVentaData.length > 0 && props.jsonClientes.salesType !== null && tipoVentaSelect === undefined) {\r\n        defaultVal = tipoVentaData.find(x => x.label === props.jsonClientes.salesType);\r\n        if (defaultVal !== undefined) {\r\n          settipoVentaSelect(defaultVal);\r\n        }\r\n      }\r\n    }\r\n    catch (err) { }\r\n    setDataReturn(props.jsonClientes)\r\n\r\n  }, [props, paises]);\r\n  // Submitimos formulario para busqueda de clientes\r\n  function handleSubmit(event, errors, values) {\r\n    event.preventDefault();\r\n    if (errors.length > 0) {\r\n      return;\r\n    }\r\n    props.addCliente(dataReturn, props.tipo);\r\n  }\r\n  function loadCountry() {\r\n    const api = new CoreServices();\r\n    // getPaisesCatalogo\r\n    api.getPaisesCatalogo()\r\n      .then(response => {\r\n        if (response === null) { return; }\r\n        let json = [];\r\n        for (let i = 0; i < response.Records.length; i++) {\r\n          json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n        }\r\n        setPaises(json);\r\n      });\r\n  }\r\n  function changeAll(e, tipo) {\r\n    if (tipo == \"name\") {\r\n      dataReturn.name = e.target.value;\r\n    }\r\n    if (tipo == \"country\") {\r\n      dataReturn.country = e.label;\r\n    }\r\n    if (tipo == \"salePercentage\") {\r\n      dataReturn.salePercentage = Number(e.target.value);\r\n    }\r\n    if (tipo == \"customerType\") {\r\n      dataReturn.customerType = e.label;\r\n    }\r\n    if (tipo == \"salesType\") {\r\n      dataReturn.salesType = e.label;\r\n    }\r\n    if (tipo == \"termDays\") {\r\n      dataReturn.termDays = Number(e.target.value);\r\n    }\r\n    if (tipo == \"delayReason\") {\r\n      dataReturn.delayReason = e.target.value;\r\n    }\r\n    setDataReturn(dataReturn)\r\n  }\r\n  return (\r\n    <Modal\r\n      size=\"xl\"\r\n      isOpen={props.isOpen}\r\n      toggle={props.toggle}\r\n      centered={true}>\r\n      <div className=\"modal-header\">\r\n        <h5 className=\"modal-title mt-0\">{t(\"ClientsInfo\")}</h5>\r\n        <button\r\n          type=\"button\"\r\n          onClick={props.toggle}\r\n          data-dismiss=\"modal\"\r\n          className=\"close\"\r\n          aria-label=\"Close\">\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div className=\"modal-body\" style={{ backgroundColor: \"#f3f5f7\" }}>\r\n        <Row>\r\n          <Col xl=\"12\">\r\n            <AvForm id=\"frmSearch\" className=\"needs-validation\" onSubmit={handleSubmit}>\r\n              <Card>\r\n                <CardBody>\r\n                  <Row>\r\n                    <Col md=\"8\">\r\n                      <div className=\"mb-3\">\r\n                        <Label htmlFor=\"name\">{t(\"FullName\")}</Label>\r\n                        <AvField\r\n                          onChange={(e) => {\r\n                            changeAll(e, \"name\");\r\n                          }}\r\n                          className=\"form-control\"\r\n                          type=\"text\"\r\n                          name=\"name\"\r\n                          id=\"name\"\r\n                          value={props.jsonClientes.name}                          \r\n                        />\r\n                      </div>\r\n                    </Col>\r\n                    <Col md=\"4\">\r\n                      <div className=\"mb-3\">\r\n                        <Label htmlFor=\"idcountry\">{t(\"Country\")}</Label>\r\n                        <Select\r\n                          onChange={(e) => {\r\n                            setpaisSelect(paises.find(x => x.label === e.label)); changeAll(e, \"country\");\r\n                          }}\r\n                          options={paises}\r\n                          id=\"paises\"\r\n                          value={paisSelect}\r\n                          classNamePrefix=\"select2-selection\"\r\n                          placeholder={t(\"SelectCountry\")}\r\n                        />\r\n                        {campoRequeridoPais ?\r\n                          <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n                          : null}\r\n                      </div>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row>\r\n                    <Col md=\"3\">\r\n                      <AvGroup className=\"mb-3\">\r\n                        <Label htmlFor=\"salePercent\">{t(\"SalePercent\")}</Label>\r\n                        <AvField\r\n                          onChange={(e) => {\r\n                            changeAll(e, \"salePercentage\");\r\n                          }}\r\n                          className=\"form-control\"\r\n                          name=\"salePercent\"\r\n                          type=\"number\"\r\n                          validate={{\r\n                            number: { value: true, errorMessage: t(\"InvalidField\") },\r\n                          }}\r\n                          value={props.jsonClientes.salePercentage}\r\n                          id=\"salePercent\" />\r\n                      </AvGroup>\r\n                    </Col>\r\n                    <Col md=\"3\">\r\n                      <div className=\"mb-3\">\r\n                        <Label htmlFor=\"customerType\">{t(\"ClientType\")}</Label>\r\n                        <Select\r\n                          onChange={(e) => { settipoClienteSelect(clienteTipo.find(x => x.label === e.label)); changeAll(e, \"customerType\"); }}\r\n                          options={clienteTipo}\r\n                          id=\"sustainableCustomer\"\r\n                          classNamePrefix=\"select2-selection\"\r\n                          placeholder={t(\"toselect\")}\r\n                          value={tipoClienteSelect}\r\n                        />\r\n                        {campoRequeridoCustomType ?\r\n                          <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n                          : null}\r\n                      </div>\r\n                    </Col>\r\n                    <Col md=\"3\">\r\n                      <AvGroup className=\"mb-3\">\r\n                        <Label htmlFor=\"termDays\">{t(\"Crterm(days)\")}</Label>\r\n                        <AvField\r\n                          onChange={(e) => {\r\n                            changeAll(e, \"termDays\");\r\n                          }}\r\n                          className=\"form-control\"\r\n                          name=\"termDays\"\r\n                          type=\"number\"\r\n                          validate={{\r\n                            number: { value: true, errorMessage: t(\"InvalidField\") },\r\n                          }}\r\n                          value={props.jsonClientes.termDays}\r\n                          id=\"termDays\" />\r\n                      </AvGroup>\r\n                    </Col>\r\n                    <Col md=\"3\">\r\n                      <div className=\"mb-3\">\r\n                        <Label htmlFor=\"salesType\">{t(\"SaleType\")}</Label>\r\n                        <Select\r\n                          onChange={(e) => { settipoVentaSelect(tipoVentaData.find(x => x.label === e.label)); changeAll(e, \"salesType\"); }}\r\n                          options={tipoVentaData}\r\n                          id=\"sustainableCustomer\"\r\n                          classNamePrefix=\"select2-selection\"\r\n                          placeholder={t(\"toselect\")}\r\n                          value={tipoVentaSelect}\r\n                        />\r\n                        {campoRequeridoTipoVenta ?\r\n                          <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n                          : null}\r\n                      </div>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row>\r\n                    <Col md=\"12\">\r\n                      <div className=\"mb-3\">\r\n                        <Label htmlFor=\"companyHistoryDescription\">{t(\"IncaseofCollectionDelayindicateReasonforCollectionDelayandStartegia\")}</Label>\r\n                        <AvField\r\n                          onChange={(e) => {\r\n                            changeAll(e, \"delayReason\");\r\n                          }}\r\n                          value={props.jsonClientes.delayReason}\r\n                          type=\"textarea\"\r\n                          name=\"companyHistoryDescription\"\r\n                          id=\"companyHistoryDescription\"\r\n                          maxLength=\"1000\"\r\n                          rows=\"7\"\r\n                        />\r\n                      </div>\r\n                    </Col>\r\n                  </Row>\r\n                </CardBody>\r\n                <CardFooter style={{ textAlign: \"right\" }}>\r\n                  <Button id=\"btnNew\" color=\"dark\" type=\"button\" style={{ margin: '5px' }} onClick={props.toggle} data-dismiss=\"modal\">\r\n                    {t(\"Cancel\")}\r\n                  </Button>\r\n                  {props.botones ?\r\n                    <Button id=\"btnSearch\" color=\"success\" type=\"submit\" style={{ margin: '5px' }}><i className=\"mdi mdi-content-save mdi-12px\"></i>\r\n                      {\" \"} {props.tipo == \"guardar\" ? t(\"Save\") : t(\"Edit\")}\r\n                    </Button> : null}\r\n                </CardFooter>\r\n              </Card>\r\n            </AvForm>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\nModalInformacionClientes.propTypes = {\r\n  isOpen: PropTypes.bool,\r\n  toggle: PropTypes.func,\r\n};\r\nexport default (withTranslation()(ModalInformacionClientes));\r\n"]},"metadata":{},"sourceType":"module"}