{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{withTranslation}from\"react-i18next\";import{useTranslation}from'react-i18next';import Select from\"react-select\";import{useLocation,useHistory}from'react-router-dom';import moment from\"moment\";import{Row,Col,Card,CardBody,Button,Label}from\"reactstrap\";import{AvForm,AvField}from\"availity-reactstrap-validation\";import ApiServicesCommon from\"../../../../../services/Common/ApiServicesCommon\";import ApiServiceBackend from\"../../../../../services/BackendServices/Services\";import{BackendServices,CoreServices}from'../../../../../services';import SearchClientCore from\"../../../../../components/Common/SearchClientCore\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DatosGenerales=/*#__PURE__*/React.forwardRef(function(props,ref){React.useImperativeHandle(ref,function(){return{validateForm:function validateForm(){var form=document.getElementById('frmDatosGenerales');form.requestSubmit();},getFormValidation:function getFormValidation(){return formValid;},dataReturn2:dataReturn2};});var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var location=useLocation();var _useState=useState(location.data),_useState2=_slicedToArray(_useState,2),locationData=_useState2[0],setLocationData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),datosClientes=_useState4[0],setDatosCliente=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),identificationTypeList=_useState6[0],setIdentificationTypeList=_useState6[1];var _useState7=useState(undefined),_useState8=_slicedToArray(_useState7,2),identificationTypeSelected=_useState8[0],setIdentificationTypeSelected=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),gruposEconomicos=_useState10[0],setGruposEconomicos=_useState10[1];var _useState11=useState(undefined),_useState12=_slicedToArray(_useState11,2),gruposEconomicosSelected=_useState12[0],setGruposEconomicosSelected=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),banca=_useState14[0],setBanca=_useState14[1];var _useState15=useState(undefined),_useState16=_slicedToArray(_useState15,2),bancaSelected=_useState16[0],setBancaSelected=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),actividadEmpresa=_useState18[0],setActividadEmpresa=_useState18[1];var _useState19=useState(undefined),_useState20=_slicedToArray(_useState19,2),actividadEmpresaSelected=_useState20[0],setActividadEmpresaSelected=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),subactividadEmpresa=_useState22[0],setSubActividadEmpresa=_useState22[1];var _useState23=useState(undefined),_useState24=_slicedToArray(_useState23,2),subactividadEmpresaSelected=_useState24[0],setSubActividadEmpresaSelected=_useState24[1];var _useState25=useState([]),_useState26=_slicedToArray(_useState25,2),bancaDate=_useState26[0],setDataBanca=_useState26[1];var _useState27=useState(null),_useState28=_slicedToArray(_useState27,2),codigoGrupo=_useState28[0],setCodigoGrupo=_useState28[1];var _useState29=useState(null),_useState30=_slicedToArray(_useState29,2),nombreGrupo=_useState30[0],setCNombreGrupo=_useState30[1];var _useState31=useState({codigoTipoPersona:null,codigoTipoIdentificacion:null,numeroCliente:null,primerNombre:null,segundoNombre:null,primerApellido:null,segundoApellido:null,numeroIdentificacion:null,transactId:0,economicGroup:{code:\"\",name:\"\"},economicActivity:{code:\"\",name:\"\"},subeconomicActivity:{code:\"\",name:\"\"},bank:{code:\"\",name:\"\"}}),_useState32=_slicedToArray(_useState31,2),dataReturn=_useState32[0],setDataReturn=_useState32[1];var _useState33=useState(),_useState34=_slicedToArray(_useState33,2),dataReturn2=_useState34[0],setDataReturn2=_useState34[1];var _useState35=useState(false),_useState36=_slicedToArray(_useState35,2),formValid=_useState36[0],setFormValid=_useState36[1];var _useState37=useState(2),_useState38=_slicedToArray(_useState37,2),cambio=_useState38[0],setCambio=_useState38[1];var _useState39=useState(false),_useState40=_slicedToArray(_useState39,2),campoRequeridoGrupo=_useState40[0],setcampoRequeridoGrupo=_useState40[1];var _useState41=useState(false),_useState42=_slicedToArray(_useState41,2),campoRequeridoActividad=_useState42[0],setcampoRequeridoActividad=_useState42[1];var _useState43=useState(false),_useState44=_slicedToArray(_useState43,2),campoRequeridoSubActividad=_useState44[0],setcampoRequeridoSubActividad=_useState44[1];var _useState45=useState(false),_useState46=_slicedToArray(_useState45,2),campoRequeridoBanca=_useState46[0],setcampoRequeridoBanca=_useState46[1];var _useState47=useState(false),_useState48=_slicedToArray(_useState47,2),campoRequeridoIdentificacion=_useState48[0],setcampoRequeridoIdentificacion=_useState48[1];var _useState49=useState({label:\"\",value:\"\"}),_useState50=_slicedToArray(_useState49,2),dataActividadEmpresa=_useState50[0],setdataActividadEmpresa=_useState50[1];var _useState51=useState(undefined),_useState52=_slicedToArray(_useState51,2),personTypeList=_useState52[0],setPersonTypeList=_useState52[1];var _useState53=useState([]),_useState54=_slicedToArray(_useState53,2),personTypeSelected=_useState54[0],setPersonTypeSelected=_useState54[1];function handleChange(e){setFormValid(false);}//On Mounting (componentDidMount)\nReact.useEffect(function(){// Read Api Service data      \nconsultarDatos();loadInitialData();cargarListaGrupoEconomico();cargarBancas();cargarActividadEconomica();},[]);React.useEffect(function(){// Read Api Service data \nvar defaultVal=null;try{if(personTypeList.length>0&&dataReturn.codigoTipoPersona!==null&&personTypeSelected===undefined){defaultVal=personTypeList.find(function(x){return x.value===dataReturn.codigoTipoPersona;});if(defaultVal!==undefined){setPersonTypeSelected(defaultVal);}}if(identificationTypeList.length>0&&dataReturn.codigoTipoIdentificacion!==null&&identificationTypeSelected===undefined){defaultVal=identificationTypeList.find(function(x){return x.value===dataReturn.codigoTipoIdentificacion;});if(defaultVal!==undefined){setIdentificationTypeSelected(defaultVal);}}if(gruposEconomicos.length>0&&dataReturn.economicGroup!==null&&gruposEconomicosSelected===undefined){defaultVal=gruposEconomicos.find(function(x){return x.value===dataReturn.economicGroup.code;});if(defaultVal!==undefined){setGruposEconomicosSelected(defaultVal);}}if(banca.length>0&&dataReturn.bank!==null&&bancaSelected===undefined){defaultVal=banca.find(function(x){return x.value===dataReturn.bank.code;});if(defaultVal!==undefined){setBancaSelected(defaultVal);}}if(actividadEmpresa.length>0&&dataReturn.economicActivity!==null&&actividadEmpresaSelected===undefined){defaultVal=actividadEmpresa.find(function(x){return x.value===dataReturn.economicActivity.code;});if(defaultVal!==undefined){setActividadEmpresaSelected(defaultVal);}}if(subactividadEmpresa.length>0&&dataReturn.subeconomicActivity!==null&&subactividadEmpresaSelected===undefined){defaultVal=subactividadEmpresa.find(function(x){return x.value===dataReturn.subeconomicActivity.code;});if(defaultVal!==undefined){setSubActividadEmpresaSelected(defaultVal);}}}catch(err){}},[cambio]);React.useEffect(function(){try{if(props.selectedClient!==null&&props.selectedClient!==undefined){loadClientSelectedData(props.selectedClient);}}catch(err){}},[props.selectedClient]);///////////..... CHEQUEAMOS LA DATA PARA INICIALIZAR VALORES POR DEFECTO EN LOS SELECT2 .... ////////\n///////////////////////////////////////////////\nfunction cargarActividadEconomica(){var api=new CoreServices();api.getActividadEconomicaCatalogo().then(function(response){if(response===null){return;}var json=[];for(var i=0;i<response.Records.length;i++){json.push({label:response.Records[i][\"Description\"],value:response.Records[i][\"Code\"]});}/*const optionGroup1 = [\r\n        {\r\n          label: t(\"Selectcompanyactivity\"),\r\n          options: json,\r\n        },\r\n      ];*/setActividadEmpresa(json);if(dataReturn.economicActivity!==null){cargarSubActividadEconomica(dataReturn.economicActivity.code);}setCambio(null);setCambio(5);});}function cargarSubActividadEconomica(codActividad){var api=new CoreServices();api.getSubActividadEconomicaCatalogo(codActividad).then(function(response){if(response===null){return;}var json=[];for(var i=0;i<response.Records.length;i++){json.push({label:response.Records[i][\"Description\"],value:response.Records[i][\"Code\"]});}/*const optionGroup1 = [\r\n        {\r\n          label: t(\"Selectcompanyactivity\"),\r\n          options: json,\r\n        },\r\n      ];*/setSubActividadEmpresa(json);if(dataReturn.subeconomicActivity!==null){setSubActividadEmpresaSelected(json.find(function(x){return x.value===dataReturn.subeconomicActivity.code;}));}else{dataReturn.subeconomicActivity={code:json[0].value,name:json[0].label};setSubActividadEmpresaSelected(json[0]);}setCambio(null);setCambio(5);});}function cargarListaGrupoEconomico(){var api=new CoreServices();api.getGrupoEconomicoCatalogo().then(function(response){if(response===null){return;}var json=[];for(var i=0;i<response.Records.length;i++){if(response.Records[i][\"Code\"]==\"0003\"){json.push({label:response.Records[i][\"Description\"],value:response.Records[i][\"Code\"]});}else{json.push({label:response.Records[i][\"Description\"],value:response.Records[i][\"Code\"]});}}/*const optionGroup1 = [\r\n          {\r\n            label: t(\"SelectGroup\"),\r\n            options: json,\r\n          },\r\n        ];*/setGruposEconomicos(json);setCambio(null);setCambio(5);});}function cargarBancas(){var api=new CoreServices();api.getBancaCatalogo().then(function(response){if(response===null){return;}var json=[];for(var i=0;i<response.Records.length;i++){json.push({label:response.Records[i][\"Description\"],value:response.Records[i][\"Code\"]});}/*const optionGroup1 = [\r\n          {\r\n            label: t(\"SelectBanking\"),\r\n            options: json,\r\n          },\r\n        ];*/setBanca(json);setCambio(null);setCambio(5);});}function consultarDatos(){var apiBack=new BackendServices();//{ transactId: location.data.transactionId, processId: location.data.processId, activityId: location.data.activityId }\napiBack.consultarUsuarioProspecto(locationData.transactionId).then(function(resp){dataReturn.codigoTipoPersona=resp.personType;dataReturn.numeroCliente=resp.customerNumberT24;dataReturn.primerNombre=resp.firstName;dataReturn.segundoNombre=resp.secondName;dataReturn.primerApellido=resp.firstLastName;dataReturn.segundoApellido=resp.secondLastName;dataReturn.numeroIdentificacion=resp.customerDocumentId;dataReturn.nuevoDato=\"\";setDataReturn(dataReturn);});apiBack.consultarDatosGeneralesIGR(locationData.transactionId).then(function(resp){dataReturn.codigoTipoIdentificacion=resp.identificationType;dataReturn.transactId=locationData.transactionId;dataReturn.economicGroup.code=resp.economicGroup.code;dataReturn.economicGroup.name=resp.economicGroup.name;dataReturn.economicActivity.code=resp.economicActivity.code;dataReturn.economicActivity.name=resp.economicActivity.name;dataReturn.subeconomicActivity.code=resp.subeconomicActivity.code;dataReturn.subeconomicActivity.name=resp.subeconomicActivity.name;dataReturn.bank.code=resp.bank.code;dataReturn.bank.name=resp.bank.name;setDataReturn(dataReturn);setCambio(null);setCambio(5);}).catch(function(error){});}function guardarDatosGenerales(){var apiBack=new BackendServices();/* ---------------------------------------------------------------------------------------------- */ /*                               Actualizamos los datos del cliente                               */ /* ---------------------------------------------------------------------------------------------- */var data0={idCustomer:locationData.customerId,customerId:locationData.customerId,transactId:locationData.transactionId,personType:dataReturn.codigoTipoPersona,identificationType:dataReturn.codigoTipoIdentificacion,customerDocumentId:dataReturn.numeroIdentificacion,customerNumberT24:dataReturn.numeroCliente,firstName:dataReturn.primerNombre,secondName:dataReturn.segundoNombre,firstLastName:dataReturn.primerApellido,secondLastName:dataReturn.segundoApellido,date:moment().format(\"YYYY-MM-DD\"),status:true};var dataGenerales={customerId:locationData.customerId,transactId:Number(locationData.transactionId),personType:dataReturn.codigoTipoPersona,identificationType:dataReturn.codigoTipoIdentificacion,customerDocumentId:dataReturn.numeroIdentificacion,customerNumberT24:dataReturn.numeroCliente,firstName:dataReturn.primerNombre,secondName:dataReturn.segundoNombre,firstLastName:dataReturn.primerApellido,secondLastName:dataReturn.segundoApellido,\"economicGroup\":{\"code\":dataReturn.economicGroup.code,\"name\":dataReturn.economicGroup.name},\"economicActivity\":{\"code\":dataReturn.economicActivity.code,\"name\":dataReturn.economicActivity.name},\"subeconomicActivity\":{\"code\":dataReturn.subeconomicActivity.code,\"name\":dataReturn.subeconomicActivity.name},\"bank\":{\"code\":dataReturn.bank.code,\"name\":dataReturn.bank.name},date:moment().format(\"YYYY-MM-DD\"),status:true};apiBack.guardarUsuarioProspecto(data0).then(function(response){});apiBack.guardarDatosGeneralesIGR(dataGenerales).then(function(resp){setFormValid(true);});}// Form Submission\nfunction handleSubmit(event,errors,values){// if (dataReturn.economicGroup.code == \"\" || dataReturn.economicGroup.code == null) {\n//   setcampoRequeridoGrupo(true);\n//   return;\n// } else {\n//   setcampoRequeridoGrupo(false);\n// }\n// if (dataReturn.bank.code == \"\" || dataReturn.bank.code == null) {\n//   setcampoRequeridoBanca(true);\n//   return;\n// } else {\n//   setcampoRequeridoBanca(false);\n// }\n// if (dataReturn.economicActivity.code == \"\" || dataReturn.economicActivity.code == null) {\n//   setcampoRequeridoActividad(true);\n//   return;\n// } else {\n//   setcampoRequeridoActividad(false);\n// }\nif(dataReturn.codigoTipoIdentificacion==\"\"||dataReturn.codigoTipoIdentificacion==null){setcampoRequeridoIdentificacion(true);return;}else{setcampoRequeridoIdentificacion(false);}event.preventDefault();if(errors.length>0){setFormValid(false);return;}setDataReturn2(dataReturn);setDataReturn(dataReturn);guardarDatosGenerales();setFormValid(true);// props.onSubmit();\n}function loadInitialData(){//cargamos los datos de tipo de persona\nvar json=[{label:t(\"LegalPerson\"),value:2},{label:t(\"NaturalPerson\"),value:1}];setPersonTypeList(json);setPersonTypeSelected(json[0]);var apiServiceBackend=new ApiServiceBackend();apiServiceBackend.consultarCatalogoTipoIdentificacion().then(function(data){if(data!==null&&data!==undefined){var _json=[];for(var i=0;i<data.length;i++){_json.push({label:t(data[i][\"description\"]),value:data[i][\"id\"]});}/*const optionGroup1 = [\r\n            {\r\n              label: t(\"ID Type\"),\r\n              options: json,\r\n            },\r\n          ];*/setIdentificationTypeList(_json);}}).catch(function(error){console.error('api error: ',error);});// api.getIdentificationTypeList()\n// .then((data) => {\n//   setIdentificationTypeList(data);        \n// })\n// .catch((error) => {    \n//   console.error('Error fetching documents', error);\n// });    \n}function changeAll(e,tipo){if(tipo==\"tipoPersona\"){dataReturn.codigoTipoPersona=e.value;}if(tipo==\"Tipo\"){dataReturn.codigoTipoIdentificacion=e.value;}if(tipo==\"codigoGrupo\"){dataReturn.economicGroup.code=e.value;dataReturn.economicGroup.name=e.label;setCodigoGrupo(e.value);setCNombreGrupo(e.label);}if(tipo==\"codigoBanca\"){dataReturn.bank.code=e.value;dataReturn.bank.name=e.label;setDataBanca(e);}if(tipo==\"numeroCliente\"){dataReturn.numeroCliente=e.target.value;console.log(dataReturn);}if(tipo==\"primerNombre\"){dataReturn.primerNombre=e.target.value;}if(tipo==\"segundoNombre\"){dataReturn.segundoNombre=e.target.value;}if(tipo==\"primerApellido\"){dataReturn.primerApellido=e.target.value;}if(tipo==\"segundoApellido\"){dataReturn.segundoApellido=e.target.value;}if(tipo==\"numeroIdentificacion\"){dataReturn.numeroIdentificacion=e.target.value;}if(tipo==\"actividadEconomica\"){dataReturn.economicActivity.code=e.value;dataReturn.economicActivity.name=e.label;dataReturn.subeconomicActivity=null;cargarSubActividadEconomica(e.value);}if(tipo==\"subactividadEconomica\"){dataReturn.subeconomicActivity.code=e.value;dataReturn.subeconomicActivity.name=e.label;}setDataReturn(dataReturn);}/////////////// CARGA LOS DATOS DEL CLIENTE SELECCIONADO DE T24 //////\nfunction loadClientSelectedData(selectedClient){dataReturn.numeroCliente=selectedClient.id;dataReturn.primerNombre=selectedClient.firstname;dataReturn.segundoNombre=selectedClient.secondname;dataReturn.primerApellido=selectedClient.lastname;dataReturn.segundoApellido=selectedClient.secondlastname;dataReturn.codigoTipoIdentificacion=selectedClient.idtype;dataReturn.numeroIdentificacion=selectedClient.idnumber;dataReturn.codigoTipoPersona=selectedClient.partyType;setDataReturn(dataReturn);var defaultVal=identificationTypeList.find(function(x){return x.value===dataReturn.codigoTipoIdentificacion;});if(defaultVal!==undefined){setIdentificationTypeSelected(defaultVal);}defaultVal=personTypeList.find(function(x){return x.value===dataReturn.codigoTipoPersona;});if(defaultVal!==undefined){setPersonTypeSelected(defaultVal);}}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(SearchClientCore,{onClientSelect:function onClientSelect(data){loadClientSelectedData(data);}}),/*#__PURE__*/_jsx(\"h5\",{children:t(\"General Data\")}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsxs(AvForm,{id:\"frmDatosGenerales\",className:\"needs-validation\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"clientNumber\",children:t(\"Client Number\")}),/*#__PURE__*/_jsx(AvField,{onChange:function onChange(e){changeAll(e,\"numeroCliente\");},className:\"form-control\",name:\"clientNumber\",type:\"number\",id:\"clientNumber\",value:dataReturn.numeroCliente// validate={{\n//   required: { value: true, errorMessage: t(\"Required Field\") }\n// }}\n})]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{children:t(\"PersonType\")}),/*#__PURE__*/_jsx(Select,{onChange:function onChange(e){setPersonTypeSelected(personTypeList.find(function(x){return x.value===e.value;}));changeAll(e,\"tipoPersona\");},options:personTypeList,placeholder:t(\"SelectType\"),value:personTypeSelected,name:\"PersonType\"})]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{children:t(\"ID Type\")}),/*#__PURE__*/_jsx(Select,{onChange:function onChange(e){setIdentificationTypeSelected(identificationTypeList.find(function(x){return x.value===e.value;}));changeAll(e,\"Tipo\");},options:identificationTypeList,placeholder:t(\"SelectType\"),value:identificationTypeSelected}),campoRequeridoIdentificacion?/*#__PURE__*/_jsx(\"p\",{className:\"message-error-parrafo\",children:t(\"Required Field\")}):null]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"idnumber\",children:t(\"ID Number\")}),/*#__PURE__*/_jsx(AvField,{onChange:function onChange(e){changeAll(e,\"numeroIdentificacion\");},className:\"form-control\",name:\"idnumber\",type:\"text\",id:\"idnumber\",validate:{required:{value:true,errorMessage:t(\"Required Field\")}},value:dataReturn.numeroIdentificacion})]})})]}),personTypeSelected&&personTypeSelected.value===2?/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"firstname\",children:t(\"LegalCompanyName\")}),/*#__PURE__*/_jsx(AvField,{onChange:function onChange(e){changeAll(e,\"primerNombre\");},className:\"form-control\",name:\"firstname\",type:\"text\",id:\"firstname\",validate:{required:{value:true,errorMessage:t(\"Required Field\")}},value:dataReturn.primerNombre})]})}),/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"secondname\",children:t(\"ComercialName\")}),/*#__PURE__*/_jsx(AvField,{onChange:function onChange(e){changeAll(e,\"segundoNombre\");},className:\"form-control\",name:\"secondname\",type:\"text\",id:\"secondname\",value:dataReturn.segundoNombre})]})})]}):/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"firstname\",children:t(\"FirstName\")}),/*#__PURE__*/_jsx(AvField,{onChange:function onChange(e){changeAll(e,\"primerNombre\");},className:\"form-control\",name:\"firstname\",type:\"text\",id:\"firstname\",validate:{required:{value:true,errorMessage:t(\"Required Field\")}},value:dataReturn.primerNombre})]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"secoundname\",children:t(\"SecondName\")}),/*#__PURE__*/_jsx(AvField,{onChange:function onChange(e){changeAll(e,\"segundoNombre\");},className:\"form-control\",name:\"secondname\",type:\"text\",id:\"secondname\",value:dataReturn.segundoNombre})]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"lastname\",children:t(\"FirstLastName\")}),/*#__PURE__*/_jsx(AvField,{onChange:function onChange(e){changeAll(e,\"primerApellido\");},className:\"form-control\",name:\"lastname\",type:\"text\",value:dataReturn.primerApellido})]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"secondlastname\",children:t(\"SecondLastName\")}),/*#__PURE__*/_jsx(AvField,{onChange:function onChange(e){changeAll(e,\"segundoApellido\");},className:\"form-control\",name:\"secondlastname\",type:\"text\",value:dataReturn.segundoApellido})]})}),/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"secondlastname\",children:t(\"DebtorName\")}),/*#__PURE__*/_jsx(AvField,{readOnly:true,className:\"form-control\",name:\"debtorName\",type:\"text\",value:(dataReturn.primerNombre!==null&&dataReturn.primerNombre!==undefined?dataReturn.primerNombre+\" \":\"\")+(dataReturn.segundoNombre!==null&&dataReturn.segundoNombre!==undefined?dataReturn.segundoNombre+\" \":\"\")+(dataReturn.primerApellido!==null&&dataReturn.primerApellido!==undefined?dataReturn.primerApellido+\" \":\"\")+(dataReturn.segundoApellido!==null&&dataReturn.segundoApellido!==undefined?dataReturn.segundoApellido+\" \":\"\")})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Label,{children:t(\"Economic Group\")}),/*#__PURE__*/_jsx(Select,{onChange:function onChange(e){setGruposEconomicosSelected(gruposEconomicos.find(function(x){return x.value===e.value;}));changeAll(e,\"codigoGrupo\");},options:gruposEconomicos,classNamePrefix:\"select2-selection\",placeholder:t(\"SelectGroup\"),value:gruposEconomicosSelected}),campoRequeridoGrupo?/*#__PURE__*/_jsx(\"p\",{className:\"message-error-parrafo\",children:t(\"Required Field\")}):null]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Label,{children:t(\"Banking\")}),/*#__PURE__*/_jsx(Select,{onChange:function onChange(e){setBancaSelected(banca.find(function(x){return x.value===e.value;}));changeAll(e,\"codigoBanca\");},options:banca,value:bancaSelected//defaultValue={props.datosGenerales.bank.code}\n,classNamePrefix:\"select2-selection\",placeholder:t(\"SelectBanking\")}),campoRequeridoBanca?/*#__PURE__*/_jsx(\"p\",{className:\"message-error-parrafo\",children:t(\"Required Field\")}):null]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Label,{children:t(\"Economic Activity\")}),/*#__PURE__*/_jsx(Select,{onChange:function onChange(e){setActividadEmpresaSelected(actividadEmpresa.find(function(x){return x.value===e.value;}));changeAll(e,\"actividadEconomica\");},placeholder:t(\"Selectcompanyactivity\"),options:actividadEmpresa,classNamePrefix:\"select2-selection\",value:actividadEmpresaSelected}),campoRequeridoActividad?/*#__PURE__*/_jsx(\"p\",{className:\"message-error-parrafo\",children:t(\"Required Field\")}):null]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(Label,{children:[\"Sub\",t(\"Economic Activity\")]}),/*#__PURE__*/_jsx(Select,{onChange:function onChange(e){setSubActividadEmpresaSelected(subactividadEmpresa.find(function(x){return x.value===e.value;}));changeAll(e,\"subactividadEconomica\");},placeholder:t(\"Selectcompanysubactivity\"),options:subactividadEmpresa,classNamePrefix:\"select2-selection\",value:subactividadEmpresaSelected}),campoRequeridoSubActividad?/*#__PURE__*/_jsx(\"p\",{className:\"message-error-parrafo\",children:t(\"Required Field\")}):null]})})]})]})]});});//export default (withTranslation()(DatosGenerales));\nexport default DatosGenerales;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/DatosGenerales.js"],"names":["React","useState","withTranslation","useTranslation","Select","useLocation","useHistory","moment","Row","Col","Card","CardBody","Button","Label","AvForm","AvField","ApiServicesCommon","ApiServiceBackend","BackendServices","CoreServices","SearchClientCore","DatosGenerales","forwardRef","props","ref","useImperativeHandle","validateForm","form","document","getElementById","requestSubmit","getFormValidation","formValid","dataReturn2","t","i18n","location","data","locationData","setLocationData","datosClientes","setDatosCliente","identificationTypeList","setIdentificationTypeList","undefined","identificationTypeSelected","setIdentificationTypeSelected","gruposEconomicos","setGruposEconomicos","gruposEconomicosSelected","setGruposEconomicosSelected","banca","setBanca","bancaSelected","setBancaSelected","actividadEmpresa","setActividadEmpresa","actividadEmpresaSelected","setActividadEmpresaSelected","subactividadEmpresa","setSubActividadEmpresa","subactividadEmpresaSelected","setSubActividadEmpresaSelected","bancaDate","setDataBanca","codigoGrupo","setCodigoGrupo","nombreGrupo","setCNombreGrupo","codigoTipoPersona","codigoTipoIdentificacion","numeroCliente","primerNombre","segundoNombre","primerApellido","segundoApellido","numeroIdentificacion","transactId","economicGroup","code","name","economicActivity","subeconomicActivity","bank","dataReturn","setDataReturn","setDataReturn2","setFormValid","cambio","setCambio","campoRequeridoGrupo","setcampoRequeridoGrupo","campoRequeridoActividad","setcampoRequeridoActividad","campoRequeridoSubActividad","setcampoRequeridoSubActividad","campoRequeridoBanca","setcampoRequeridoBanca","campoRequeridoIdentificacion","setcampoRequeridoIdentificacion","label","value","dataActividadEmpresa","setdataActividadEmpresa","personTypeList","setPersonTypeList","personTypeSelected","setPersonTypeSelected","handleChange","e","useEffect","consultarDatos","loadInitialData","cargarListaGrupoEconomico","cargarBancas","cargarActividadEconomica","defaultVal","length","find","x","err","selectedClient","loadClientSelectedData","api","getActividadEconomicaCatalogo","then","response","json","i","Records","push","cargarSubActividadEconomica","codActividad","getSubActividadEconomicaCatalogo","getGrupoEconomicoCatalogo","getBancaCatalogo","apiBack","consultarUsuarioProspecto","transactionId","resp","personType","customerNumberT24","firstName","secondName","firstLastName","secondLastName","customerDocumentId","nuevoDato","consultarDatosGeneralesIGR","identificationType","catch","error","guardarDatosGenerales","data0","idCustomer","customerId","date","format","status","dataGenerales","Number","guardarUsuarioProspecto","guardarDatosGeneralesIGR","handleSubmit","event","errors","values","preventDefault","apiServiceBackend","consultarCatalogoTipoIdentificacion","console","changeAll","tipo","target","log","id","firstname","secondname","lastname","secondlastname","idtype","idnumber","partyType","required","errorMessage"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { withTranslation } from \"react-i18next\"\r\nimport PropTypes from 'prop-types';\r\nimport { useTranslation } from 'react-i18next'\r\nimport Select from \"react-select\";\r\nimport { useLocation, useHistory } from 'react-router-dom'\r\nimport moment from \"moment\";\r\n\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardBody,\r\n  Button,\r\n  Label,\r\n} from \"reactstrap\"\r\n\r\nimport { AvForm, AvField } from \"availity-reactstrap-validation\"\r\n\r\nimport ApiServicesCommon from \"../../../../../services/Common/ApiServicesCommon\";\r\nimport ApiServiceBackend from \"../../../../../services/BackendServices/Services\";\r\nimport { BackendServices, CoreServices } from '../../../../../services';\r\nimport SearchClientCore from \"../../../../../components/Common/SearchClientCore\"\r\n\r\n\r\nconst DatosGenerales = React.forwardRef((props, ref) => {\r\n  React.useImperativeHandle(ref, () => ({\r\n    validateForm: () => {\r\n      const form = document.getElementById('frmDatosGenerales');\r\n      form.requestSubmit();\r\n    },\r\n    getFormValidation: () => {\r\n      return formValid;\r\n    }, dataReturn2\r\n  }))\r\n  const { t, i18n } = useTranslation();\r\n  const location = useLocation()\r\n  const [locationData, setLocationData] = useState(location.data);  \r\n\r\n  const [datosClientes, setDatosCliente] = useState([]);\r\n  const [identificationTypeList, setIdentificationTypeList] = useState([]);\r\n  const [identificationTypeSelected, setIdentificationTypeSelected] = useState(undefined);\r\n  const [gruposEconomicos, setGruposEconomicos] = useState([]);\r\n  const [gruposEconomicosSelected, setGruposEconomicosSelected] = useState(undefined);\r\n  const [banca, setBanca] = useState([]);\r\n  const [bancaSelected, setBancaSelected] = useState(undefined);\r\n  const [actividadEmpresa, setActividadEmpresa] = useState([]);\r\n  const [actividadEmpresaSelected, setActividadEmpresaSelected] = useState(undefined);\r\n  \r\n  const [subactividadEmpresa, setSubActividadEmpresa] = useState([]);\r\n  const [subactividadEmpresaSelected, setSubActividadEmpresaSelected] = useState(undefined);\r\n  \r\n  const [bancaDate, setDataBanca] = useState([]);\r\n  const [codigoGrupo, setCodigoGrupo] = useState(null);\r\n  const [nombreGrupo, setCNombreGrupo] = useState(null);\r\n  const [dataReturn, setDataReturn] = useState({\r\n    codigoTipoPersona:null,\r\n    codigoTipoIdentificacion: null,\r\n    numeroCliente: null,\r\n    primerNombre: null,\r\n    segundoNombre: null,\r\n    primerApellido: null,\r\n    segundoApellido: null,\r\n    numeroIdentificacion: null,\r\n    transactId: 0,\r\n    economicGroup: {\r\n      code: \"\",\r\n      name: \"\"\r\n    },\r\n    economicActivity: {\r\n      code: \"\",\r\n      name: \"\"\r\n    },\r\n    subeconomicActivity: {\r\n      code: \"\",\r\n      name: \"\"\r\n    },\r\n    bank: {\r\n      code: \"\",\r\n      name: \"\"\r\n    },\r\n  });\r\n  const [dataReturn2, setDataReturn2] = useState();\r\n  const [formValid, setFormValid] = useState(false);\r\n  const [cambio, setCambio] = useState(2);\r\n  const [campoRequeridoGrupo, setcampoRequeridoGrupo] = useState(false);\r\n  const [campoRequeridoActividad, setcampoRequeridoActividad] = useState(false);\r\n  const [campoRequeridoSubActividad, setcampoRequeridoSubActividad] = useState(false);\r\n  const [campoRequeridoBanca, setcampoRequeridoBanca] = useState(false);\r\n  const [campoRequeridoIdentificacion, setcampoRequeridoIdentificacion] = useState(false);\r\n  const [dataActividadEmpresa, setdataActividadEmpresa] = useState({ label: \"\", value: \"\" });\r\n  \r\n  const [personTypeList, setPersonTypeList] = useState(undefined);\r\n  const [personTypeSelected, setPersonTypeSelected] = useState([]);\r\n    \r\n  function handleChange(e) {\r\n    setFormValid(false);\r\n  }\r\n\r\n  //On Mounting (componentDidMount)\r\n  React.useEffect(() => {\r\n    // Read Api Service data      \r\n    consultarDatos();\r\n    loadInitialData();\r\n    cargarListaGrupoEconomico();\r\n    cargarBancas();\r\n    cargarActividadEconomica()\r\n  }, []);\r\n  React.useEffect(() => {\r\n    // Read Api Service data \r\n    var defaultVal = null;\r\n    try {\r\n      if (personTypeList.length > 0 && dataReturn.codigoTipoPersona !== null && personTypeSelected === undefined) {\r\n        defaultVal = personTypeList.find(x => x.value === dataReturn.codigoTipoPersona);\r\n        if (defaultVal !== undefined) {\r\n          setPersonTypeSelected(defaultVal);\r\n        }\r\n      }\r\n      if (identificationTypeList.length > 0 && dataReturn.codigoTipoIdentificacion !== null && identificationTypeSelected === undefined) {\r\n        defaultVal = identificationTypeList.find(x => x.value === dataReturn.codigoTipoIdentificacion);\r\n        if (defaultVal !== undefined) {\r\n          setIdentificationTypeSelected(defaultVal);\r\n        }\r\n      }\r\n      if (gruposEconomicos.length > 0 && dataReturn.economicGroup !== null && gruposEconomicosSelected === undefined) {\r\n        defaultVal = gruposEconomicos.find(x => x.value === dataReturn.economicGroup.code);\r\n        if (defaultVal !== undefined) {\r\n          setGruposEconomicosSelected(defaultVal);\r\n        }\r\n      }\r\n      if (banca.length > 0 && dataReturn.bank !== null && bancaSelected === undefined) {\r\n        defaultVal = banca.find(x => x.value === dataReturn.bank.code);\r\n        if (defaultVal !== undefined) {\r\n          setBancaSelected(defaultVal);\r\n        }\r\n      }\r\n      if (actividadEmpresa.length > 0 && dataReturn.economicActivity !== null && actividadEmpresaSelected === undefined) {\r\n        defaultVal = actividadEmpresa.find(x => x.value === dataReturn.economicActivity.code);\r\n        if (defaultVal !== undefined) {\r\n          setActividadEmpresaSelected(defaultVal);\r\n        }\r\n      }\r\n      if (subactividadEmpresa.length > 0 && dataReturn.subeconomicActivity !== null && subactividadEmpresaSelected === undefined) {\r\n        defaultVal = subactividadEmpresa.find(x => x.value === dataReturn.subeconomicActivity.code);\r\n        if (defaultVal !== undefined) {\r\n          setSubActividadEmpresaSelected(defaultVal);\r\n        }\r\n      }\r\n    }\r\n    catch (err) { }\r\n  }, [cambio]);\r\n  React.useEffect(() => {\r\n    try {      \r\n      if(props.selectedClient!==null && props.selectedClient!==undefined) {\r\n        loadClientSelectedData(props.selectedClient);\r\n      }        \r\n    }\r\n    catch (err) { }\r\n  }, [props.selectedClient]);\r\n\r\n  ///////////..... CHEQUEAMOS LA DATA PARA INICIALIZAR VALORES POR DEFECTO EN LOS SELECT2 .... ////////\r\n\r\n  ///////////////////////////////////////////////\r\n\r\n  function cargarActividadEconomica() {\r\n    const api = new CoreServices();\r\n    api.getActividadEconomicaCatalogo().then(response => {\r\n\r\n      if (response === null) { return; }\r\n\r\n      let json = [];\r\n      for (let i = 0; i < response.Records.length; i++) {\r\n        json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n      }\r\n      /*const optionGroup1 = [\r\n        {\r\n          label: t(\"Selectcompanyactivity\"),\r\n          options: json,\r\n        },\r\n      ];*/\r\n      setActividadEmpresa(json);\r\n      if(dataReturn.economicActivity !== null){\r\n        cargarSubActividadEconomica(dataReturn.economicActivity.code);\r\n      }\r\n      \r\n      setCambio(null);\r\n      setCambio(5);\r\n    })\r\n  }\r\n  function cargarSubActividadEconomica(codActividad) {\r\n    const api = new CoreServices();\r\n    api.getSubActividadEconomicaCatalogo(codActividad).then(response => {\r\n\r\n      if (response === null) { return; }\r\n\r\n      let json = [];\r\n      for (let i = 0; i < response.Records.length; i++) {\r\n        json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n      }\r\n      /*const optionGroup1 = [\r\n        {\r\n          label: t(\"Selectcompanyactivity\"),\r\n          options: json,\r\n        },\r\n      ];*/\r\n      setSubActividadEmpresa(json);\r\n      if(dataReturn.subeconomicActivity !== null){\r\n        setSubActividadEmpresaSelected(json.find(x => x.value === dataReturn.subeconomicActivity.code));\r\n      }\r\n      else{\r\n        dataReturn.subeconomicActivity = {code:json[0].value,name:json[0].label}\r\n\r\n        setSubActividadEmpresaSelected(json[0]);\r\n      }      \r\n\r\n      setCambio(null);\r\n      setCambio(5);\r\n    })\r\n  }\r\n  function cargarListaGrupoEconomico() {\r\n    const api = new CoreServices();\r\n    api.getGrupoEconomicoCatalogo()\r\n      .then(response => {\r\n        if (response === null) { return; }\r\n\r\n        let json = [];\r\n        for (let i = 0; i < response.Records.length; i++) {\r\n          if (response.Records[i][\"Code\"] == \"0003\") {\r\n            json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n\r\n          } else {\r\n\r\n            json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n          }\r\n        }\r\n        /*const optionGroup1 = [\r\n          {\r\n            label: t(\"SelectGroup\"),\r\n            options: json,\r\n          },\r\n        ];*/\r\n        setGruposEconomicos(json);\r\n        setCambio(null);\r\n        setCambio(5);\r\n      });\r\n  }\r\n  function cargarBancas() {\r\n    const api = new CoreServices();\r\n    api.getBancaCatalogo()\r\n      .then(response => {\r\n        if (response === null) { return; }\r\n        let json = [];\r\n        for (let i = 0; i < response.Records.length; i++) {\r\n          json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n        }\r\n        /*const optionGroup1 = [\r\n          {\r\n            label: t(\"SelectBanking\"),\r\n            options: json,\r\n          },\r\n        ];*/\r\n        setBanca(json);\r\n        setCambio(null);\r\n        setCambio(5);\r\n      });\r\n  }\r\n  function consultarDatos() {\r\n\r\n    const apiBack = new BackendServices();\r\n    //{ transactId: location.data.transactionId, processId: location.data.processId, activityId: location.data.activityId }\r\n    apiBack.consultarUsuarioProspecto(locationData.transactionId).then(resp => {      \r\n      dataReturn.codigoTipoPersona = resp.personType\r\n      dataReturn.numeroCliente = resp.customerNumberT24\r\n      dataReturn.primerNombre = resp.firstName\r\n      dataReturn.segundoNombre = resp.secondName\r\n      dataReturn.primerApellido = resp.firstLastName\r\n      dataReturn.segundoApellido = resp.secondLastName\r\n      dataReturn.numeroIdentificacion = resp.customerDocumentId\r\n      dataReturn.nuevoDato = \"\"\r\n      setDataReturn(dataReturn);\r\n    })\r\n    apiBack.consultarDatosGeneralesIGR(locationData.transactionId).then(resp => {\r\n      dataReturn.codigoTipoIdentificacion = resp.identificationType\r\n      dataReturn.transactId = locationData.transactionId;\r\n      dataReturn.economicGroup.code = resp.economicGroup.code;\r\n      dataReturn.economicGroup.name = resp.economicGroup.name;\r\n      dataReturn.economicActivity.code = resp.economicActivity.code;\r\n      dataReturn.economicActivity.name = resp.economicActivity.name;\r\n      dataReturn.subeconomicActivity.code = resp.subeconomicActivity.code;\r\n      dataReturn.subeconomicActivity.name = resp.subeconomicActivity.name;\r\n      dataReturn.bank.code = resp.bank.code;\r\n      dataReturn.bank.name = resp.bank.name;\r\n      setDataReturn(dataReturn);\r\n      setCambio(null);\r\n      setCambio(5);\r\n    }).catch((error) => {\r\n\r\n    });\r\n  }\r\n  function guardarDatosGenerales() {\r\n    const apiBack = new BackendServices();\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                               Actualizamos los datos del cliente                               */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    let data0 =\r\n    {\r\n      idCustomer: locationData.customerId,\r\n      customerId: locationData.customerId,\r\n      transactId: locationData.transactionId,\r\n      personType: dataReturn.codigoTipoPersona,\r\n      identificationType: dataReturn.codigoTipoIdentificacion,\r\n      customerDocumentId: dataReturn.numeroIdentificacion,\r\n      customerNumberT24: dataReturn.numeroCliente,\r\n      firstName: dataReturn.primerNombre,\r\n      secondName: dataReturn.segundoNombre,\r\n      firstLastName: dataReturn.primerApellido,\r\n      secondLastName: dataReturn.segundoApellido,\r\n      date: moment().format(\"YYYY-MM-DD\"),\r\n      status: true,\r\n    }\r\n\r\n    let dataGenerales =\r\n    {      \r\n      customerId: locationData.customerId,\r\n      transactId: Number(locationData.transactionId),\r\n      personType: dataReturn.codigoTipoPersona,\r\n      identificationType: dataReturn.codigoTipoIdentificacion,\r\n      customerDocumentId: dataReturn.numeroIdentificacion,\r\n      customerNumberT24: dataReturn.numeroCliente,\r\n      firstName: dataReturn.primerNombre,\r\n      secondName: dataReturn.segundoNombre,\r\n      firstLastName: dataReturn.primerApellido,\r\n      secondLastName: dataReturn.segundoApellido,\r\n      \"economicGroup\": {\r\n        \"code\": dataReturn.economicGroup.code,\r\n        \"name\": dataReturn.economicGroup.name\r\n      },\r\n      \"economicActivity\": {\r\n        \"code\": dataReturn.economicActivity.code,\r\n        \"name\": dataReturn.economicActivity.name\r\n      },\r\n      \"subeconomicActivity\": {\r\n        \"code\": dataReturn.subeconomicActivity.code,\r\n        \"name\": dataReturn.subeconomicActivity.name\r\n      },\r\n      \"bank\": {\r\n        \"code\": dataReturn.bank.code,\r\n        \"name\": dataReturn.bank.name\r\n      },\r\n      date: moment().format(\"YYYY-MM-DD\"),\r\n      status: true,\r\n    }\r\n    apiBack.guardarUsuarioProspecto(data0).then(response => {\r\n    });\r\n    apiBack.guardarDatosGeneralesIGR(dataGenerales).then(resp => {\r\n      setFormValid(true);\r\n    })\r\n  }\r\n  // Form Submission\r\n  function handleSubmit(event, errors, values) {\r\n    // if (dataReturn.economicGroup.code == \"\" || dataReturn.economicGroup.code == null) {\r\n    //   setcampoRequeridoGrupo(true);\r\n    //   return;\r\n    // } else {\r\n    //   setcampoRequeridoGrupo(false);\r\n    // }\r\n    // if (dataReturn.bank.code == \"\" || dataReturn.bank.code == null) {\r\n    //   setcampoRequeridoBanca(true);\r\n    //   return;\r\n    // } else {\r\n    //   setcampoRequeridoBanca(false);\r\n    // }\r\n    // if (dataReturn.economicActivity.code == \"\" || dataReturn.economicActivity.code == null) {\r\n    //   setcampoRequeridoActividad(true);\r\n    //   return;\r\n    // } else {\r\n    //   setcampoRequeridoActividad(false);\r\n    // }\r\n    if (dataReturn.codigoTipoIdentificacion == \"\" || dataReturn.codigoTipoIdentificacion == null) {\r\n      setcampoRequeridoIdentificacion(true);\r\n      return;\r\n    } else {\r\n      setcampoRequeridoIdentificacion(false);\r\n    }\r\n    event.preventDefault();\r\n    if (errors.length > 0) {\r\n      setFormValid(false);\r\n      return;\r\n    }\r\n    setDataReturn2(dataReturn)\r\n    setDataReturn(dataReturn)\r\n    guardarDatosGenerales();\r\n    setFormValid(true);\r\n    // props.onSubmit();\r\n  }\r\n    \r\n  function loadInitialData() {\r\n\r\n    //cargamos los datos de tipo de persona\r\n    let json = [{ label: t(\"LegalPerson\"), value: 2 },{ label: t(\"NaturalPerson\"), value: 1 },];\r\n    setPersonTypeList(json);\r\n    setPersonTypeSelected(json[0]);\r\n\r\n\r\n    const apiServiceBackend = new ApiServiceBackend();\r\n    apiServiceBackend.consultarCatalogoTipoIdentificacion()\r\n      .then((data) => {\r\n        if (data !== null && data !== undefined) {\r\n          let json = [];\r\n          for (let i = 0; i < data.length; i++) {\r\n            json.push({ label: t(data[i][\"description\"]), value: data[i][\"id\"] })\r\n          }\r\n          /*const optionGroup1 = [\r\n            {\r\n              label: t(\"ID Type\"),\r\n              options: json,\r\n            },\r\n          ];*/\r\n          setIdentificationTypeList(json)\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error('api error: ', error);\r\n      });\r\n    // api.getIdentificationTypeList()\r\n    // .then((data) => {\r\n    //   setIdentificationTypeList(data);        \r\n    // })\r\n    // .catch((error) => {    \r\n    //   console.error('Error fetching documents', error);\r\n    // });    \r\n  }\r\n  function changeAll(e, tipo) {    \r\n    if (tipo == \"tipoPersona\") {\r\n      dataReturn.codigoTipoPersona = e.value\r\n    }\r\n    if (tipo == \"Tipo\") {\r\n      dataReturn.codigoTipoIdentificacion = e.value\r\n    }\r\n    if (tipo == \"codigoGrupo\") {\r\n      dataReturn.economicGroup.code = e.value;\r\n      dataReturn.economicGroup.name = e.label;\r\n      setCodigoGrupo(e.value)\r\n      setCNombreGrupo(e.label)\r\n    }\r\n    if (tipo == \"codigoBanca\") {\r\n      dataReturn.bank.code = e.value;\r\n      dataReturn.bank.name = e.label;\r\n      setDataBanca(e);\r\n    }\r\n    if (tipo == \"numeroCliente\") {\r\n      dataReturn.numeroCliente = e.target.value;\r\n      console.log(dataReturn);\r\n    }\r\n    if (tipo == \"primerNombre\") {\r\n      dataReturn.primerNombre = e.target.value;\r\n    }\r\n    if (tipo == \"segundoNombre\") {\r\n      dataReturn.segundoNombre = e.target.value;\r\n    }\r\n    if (tipo == \"primerApellido\") {\r\n      dataReturn.primerApellido = e.target.value;\r\n    }\r\n    if (tipo == \"segundoApellido\") {\r\n      dataReturn.segundoApellido = e.target.value;\r\n    }\r\n    if (tipo == \"numeroIdentificacion\") {\r\n      dataReturn.numeroIdentificacion = e.target.value;\r\n    }\r\n    if (tipo == \"actividadEconomica\") {\r\n      dataReturn.economicActivity.code = e.value;\r\n      dataReturn.economicActivity.name = e.label;\r\n\r\n      dataReturn.subeconomicActivity = null;\r\n      cargarSubActividadEconomica(e.value)\r\n    }\r\n    if (tipo == \"subactividadEconomica\") {\r\n      dataReturn.subeconomicActivity.code = e.value;\r\n      dataReturn.subeconomicActivity.name = e.label;\r\n    }\r\n    setDataReturn(dataReturn)\r\n\r\n  }\r\n\r\n  /////////////// CARGA LOS DATOS DEL CLIENTE SELECCIONADO DE T24 //////\r\n  function loadClientSelectedData(selectedClient){    \r\n    dataReturn.numeroCliente = selectedClient.id;\r\n    dataReturn.primerNombre = selectedClient.firstname;\r\n    dataReturn.segundoNombre = selectedClient.secondname;\r\n    dataReturn.primerApellido = selectedClient.lastname;\r\n    dataReturn.segundoApellido = selectedClient.secondlastname;\r\n    dataReturn.codigoTipoIdentificacion = selectedClient.idtype;\r\n    dataReturn.numeroIdentificacion = selectedClient.idnumber;\r\n    dataReturn.codigoTipoPersona = selectedClient.partyType;\r\n\r\n    setDataReturn(dataReturn);\r\n    var defaultVal = identificationTypeList.find(x => x.value === dataReturn.codigoTipoIdentificacion);\r\n    if (defaultVal !== undefined) {\r\n        setIdentificationTypeSelected(defaultVal);\r\n    }\r\n    defaultVal = personTypeList.find(x => x.value === dataReturn.codigoTipoPersona);    \r\n    if (defaultVal !== undefined) {      \r\n        setPersonTypeSelected(defaultVal);\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      \r\n      <SearchClientCore onClientSelect={(data)=> {loadClientSelectedData(data)} }/>\r\n\r\n      <h5>{t(\"General Data\")}</h5>\r\n      <p className=\"card-title-desc\">\r\n      </p>\r\n      <AvForm id=\"frmDatosGenerales\" className=\"needs-validation\" onSubmit={handleSubmit}>\r\n        \r\n        <Row>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"clientNumber\">{t(\"Client Number\")}</Label>\r\n              <AvField onChange={(e) => { changeAll(e, \"numeroCliente\") }}\r\n                className=\"form-control\"\r\n                name=\"clientNumber\"\r\n                type=\"number\"\r\n                id=\"clientNumber\"\r\n                value={dataReturn.numeroCliente}\r\n                // validate={{\r\n                //   required: { value: true, errorMessage: t(\"Required Field\") }\r\n                // }}\r\n              />\r\n            </div>\r\n          </Col>\r\n          \r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label>{t(\"PersonType\")}</Label>\r\n              <Select\r\n                onChange={(e) => {\r\n                  setPersonTypeSelected(personTypeList.find(x => x.value === e.value))\r\n                  changeAll(e, \"tipoPersona\");\r\n                }}\r\n                options={personTypeList}\r\n                placeholder={t(\"SelectType\")}\r\n                value={personTypeSelected}\r\n                name=\"PersonType\"/>\r\n              {/*campoRequeridoIdentificacion ?\r\n                <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n              : null*/}\r\n            </div>\r\n          </Col>\r\n          \r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label>{t(\"ID Type\")}</Label>\r\n              <Select\r\n                onChange={(e) => {\r\n                  setIdentificationTypeSelected(identificationTypeList.find(x => x.value === e.value))\r\n                  changeAll(e, \"Tipo\");\r\n                }}\r\n                options={identificationTypeList}\r\n                placeholder={t(\"SelectType\")}\r\n                value={identificationTypeSelected}\r\n              />\r\n              {campoRequeridoIdentificacion ?\r\n                <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n                : null}\r\n            </div>\r\n          </Col>\r\n\r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"idnumber\">{t(\"ID Number\")}</Label>\r\n              <AvField onChange={(e) => { changeAll(e, \"numeroIdentificacion\") }}\r\n                className=\"form-control\"\r\n                name=\"idnumber\"\r\n                type=\"text\"\r\n                id=\"idnumber\"\r\n                validate={{\r\n                  required: { value: true, errorMessage: t(\"Required Field\") }\r\n                }}\r\n                value={dataReturn.numeroIdentificacion}\r\n              />\r\n            </div>\r\n          </Col>    \r\n        </Row>\r\n        \r\n{personTypeSelected && personTypeSelected.value === 2?\r\n                \r\n                <Row>\r\n          <Col md=\"12\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"firstname\">{t(\"LegalCompanyName\")}</Label>\r\n              <AvField onChange={(e) => { changeAll(e, \"primerNombre\") }}\r\n                className=\"form-control\"\r\n                name=\"firstname\"\r\n                type=\"text\"\r\n                id=\"firstname\"\r\n                validate={{\r\n                  required: { value: true, errorMessage: t(\"Required Field\") }\r\n                }}\r\n                value={dataReturn.primerNombre}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"12\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"secondname\">{t(\"ComercialName\")}</Label>\r\n              <AvField onChange={(e) => { changeAll(e, \"segundoNombre\") }}\r\n                className=\"form-control\"\r\n                name=\"secondname\"\r\n                type=\"text\"\r\n                id=\"secondname\"\r\n                value={dataReturn.segundoNombre}\r\n              />\r\n            </div>\r\n          </Col>          \r\n        </Row>        \r\n              :\r\n        <Row>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"firstname\">{t(\"FirstName\")}</Label>\r\n              <AvField onChange={(e) => { changeAll(e, \"primerNombre\") }}\r\n                className=\"form-control\"\r\n                name=\"firstname\"\r\n                type=\"text\"\r\n                id=\"firstname\"\r\n                validate={{\r\n                  required: { value: true, errorMessage: t(\"Required Field\") }\r\n                }}\r\n                value={dataReturn.primerNombre}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"secoundname\">{t(\"SecondName\")}</Label>\r\n              <AvField onChange={(e) => { changeAll(e, \"segundoNombre\") }}\r\n                className=\"form-control\"\r\n                name=\"secondname\"\r\n                type=\"text\"\r\n                id=\"secondname\"\r\n                value={dataReturn.segundoNombre}\r\n              />\r\n            </div>\r\n          </Col>          \r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"lastname\">{t(\"FirstLastName\")}</Label>\r\n              <AvField onChange={(e) => { changeAll(e, \"primerApellido\") }}\r\n                className=\"form-control\"\r\n                name=\"lastname\"\r\n                type=\"text\"\r\n                value={dataReturn.primerApellido}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"secondlastname\">{t(\"SecondLastName\")}</Label>\r\n              <AvField onChange={(e) => { changeAll(e, \"segundoApellido\") }}\r\n                className=\"form-control\"\r\n                name=\"secondlastname\"\r\n                type=\"text\"\r\n                value={dataReturn.segundoApellido}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"12\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"secondlastname\">{t(\"DebtorName\")}</Label>\r\n              <AvField readOnly={true} \r\n                className=\"form-control\"\r\n                name=\"debtorName\"\r\n                type=\"text\"\r\n                value={( (dataReturn.primerNombre!==null && dataReturn.primerNombre!==undefined ?dataReturn.primerNombre + \" \":\"\")  +   (dataReturn.segundoNombre!==null && dataReturn.segundoNombre!==undefined ?dataReturn.segundoNombre + \" \":\"\") + (dataReturn.primerApellido!==null && dataReturn.primerApellido!==undefined ?dataReturn.primerApellido + \" \":\"\") + (dataReturn.segundoApellido!==null && dataReturn.segundoApellido!==undefined ?dataReturn.segundoApellido + \" \":\"\"))}\r\n              />\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n        \r\n              }\r\n\r\n        \r\n        <Row>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-4\">\r\n              <Label>{t(\"Economic Group\")}</Label>\r\n              <Select\r\n                onChange={(e) => {\r\n                  setGruposEconomicosSelected(gruposEconomicos.find(x => x.value === e.value))\r\n                  changeAll(e, \"codigoGrupo\");\r\n                }}\r\n                options={gruposEconomicos}\r\n                classNamePrefix=\"select2-selection\"\r\n                placeholder={t(\"SelectGroup\")}\r\n                value={gruposEconomicosSelected}\r\n              />\r\n              {campoRequeridoGrupo ?\r\n                <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n                : null}\r\n            </div>\r\n          </Col>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-4\">\r\n              <Label>{t(\"Banking\")}</Label>\r\n              <Select\r\n                onChange={(e) => {\r\n                  setBancaSelected(banca.find(x => x.value === e.value))\r\n                  changeAll(e, \"codigoBanca\");\r\n                }}\r\n                options={banca}\r\n                value={bancaSelected}//defaultValue={props.datosGenerales.bank.code}\r\n                classNamePrefix=\"select2-selection\"\r\n                placeholder={t(\"SelectBanking\")}\r\n              />\r\n              {campoRequeridoBanca ?\r\n                <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n                : null}\r\n            </div>\r\n          </Col>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-4\">\r\n              <Label>{t(\"Economic Activity\")}</Label>\r\n              <Select\r\n                onChange={(e) => {\r\n                  setActividadEmpresaSelected(actividadEmpresa.find(x => x.value === e.value))\r\n                  changeAll(e, \"actividadEconomica\")\r\n                }}\r\n                placeholder={t(\"Selectcompanyactivity\")}\r\n                options={actividadEmpresa}\r\n                classNamePrefix=\"select2-selection\"\r\n                value={actividadEmpresaSelected}\r\n              />\r\n              {campoRequeridoActividad ?\r\n                <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n                : null}\r\n            </div>\r\n          </Col>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-4\">\r\n              <Label>Sub{t(\"Economic Activity\")}</Label>\r\n              <Select\r\n                onChange={(e) => {\r\n                  setSubActividadEmpresaSelected(subactividadEmpresa.find(x => x.value === e.value))\r\n                  changeAll(e, \"subactividadEconomica\")\r\n                }}\r\n                placeholder={t(\"Selectcompanysubactivity\")}\r\n                options={subactividadEmpresa}\r\n                classNamePrefix=\"select2-selection\"\r\n                value={subactividadEmpresaSelected}\r\n              />\r\n              {campoRequeridoSubActividad ?\r\n                <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n                : null}\r\n            </div>\r\n          </Col>      \r\n        </Row>\r\n        \r\n      </AvForm>\r\n    </React.Fragment>\r\n  )\r\n})\r\n\r\n\r\nDatosGenerales.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n  onOpenClientSelection: PropTypes.func,\r\n}\r\n\r\n//export default (withTranslation()(DatosGenerales));\r\nexport default DatosGenerales;\r\n"]},"metadata":{},"sourceType":"module"}