{"ast":null,"code":"var _jsxFileName = \"D:\\\\_PROJECTS\\\\_SOAINT\\\\JBPM\\\\App\\\\banescocreditoscomerciales\\\\src\\\\pages\\\\CommercialCredit\\\\5_PropuestaCredito\\\\Secciones\\\\ResumenCambios.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { translationHelper } from '../../../../helpers';\nimport { AvForm, AvGroup, AvField, AvFeedback } from \"availity-reactstrap-validation\";\nimport { Table, Card, CardBody, Row, Col, Label } from \"reactstrap\";\nimport { useTranslation } from \"react-i18next\";\nimport { BackendServices, CoreServices } from \"../../../../services\";\nimport Currency from \"../../../../helpers/currency\";\nimport { useHistory, useLocation } from 'react-router-dom';\nimport * as url from \"../../../../helpers/url_helper\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChangeSummary = /*#__PURE__*/React.forwardRef(_c = _s((props, ref) => {\n  var _dataReturn$rate;\n\n  _s();\n\n  React.useImperativeHandle(ref, () => ({\n    validateForm: () => {\n      const form = document.getElementById('frmResumenCambios');\n      form.requestSubmit();\n    },\n    getFormValidation: () => {\n      return formValid;\n    },\n    dataReturn\n  }));\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  const [dataReturn, setdataReturn] = useState(null);\n  const [formValid, setformValid] = useState(false);\n  const [requestId, setRequestId] = useState(null);\n  const currencyData = new Currency();\n  const apiBack = new BackendServices();\n  const location = useLocation();\n  const history = useHistory();\n  const [locationData, setLocationData] = useState(null);\n  useEffect(() => {\n    var _dataSession$transact, _dataSession;\n\n    let dataSession;\n\n    if (location.data !== null && location.data !== undefined) {\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\n        //location.data.transactionId = 0;\n        //checkAndCreateProcedure(location.data);\n        history.push(url.URL_DASHBOARD);\n      } else {\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\n        setLocationData(location.data);\n        dataSession = location.data;\n      }\n    } else {\n      //chequeamos si tenemos guardado en session\n      var result = sessionStorage.getItem('locationData');\n\n      if (result !== undefined && result !== null) {\n        result = JSON.parse(result);\n        setLocationData(result);\n        dataSession = result;\n      }\n    }\n\n    apiBack.consultGeneralDataPropCred((_dataSession$transact = (_dataSession = dataSession) === null || _dataSession === void 0 ? void 0 : _dataSession.transactionId) !== null && _dataSession$transact !== void 0 ? _dataSession$transact : 0).then(resp => {\n      var _resp$;\n\n      let requestId = resp.length === 0 ? props.dataGlobal.requestId : (_resp$ = resp[0]) === null || _resp$ === void 0 ? void 0 : _resp$.requestId;\n      initializeData(requestId);\n      setRequestId(requestId);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [props.activeTab]);\n\n  function initializeData(requestId) {\n    // consultarResumenCambios\n    apiBack.consultarResumenCambios(requestId).then(resp => {\n      setdataReturn(resp);\n    });\n  }\n\n  function handleSubmit(event, errors, values) {\n    event.preventDefault();\n\n    if (errors.length > 0) {\n      setformValid(false);\n      return;\n    }\n\n    values.increase = values.increase != null || values != \"\" || values.increase ? values.increase : \" \";\n    values.rate = values.rate != null || values != \"\" || values.rate ? values.rate : \" \";\n    values.guarantee = values.guarantee != null || values != \"\" || values.guarantee ? values.guarantee : \" \";\n    values.desbtorsGuarantors = values.desbtorsGuarantors != null || values != \"\" || values.desbtorsGuarantors ? values.desbtorsGuarantors : \" \";\n    values.terms = values.terms != null || values != \"\" || values.terms ? values.terms : \" \";\n    values.fees = values.fees != null || values != \"\" || values.fees ? values.fees : \" \";\n    values.covenats = values.covenats != null || values != \"\" || values.covenats ? values.covenats : \" \";\n    values.others = values.others != null || values != \"\" || values.others ? values.others : \" \";\n    values.requestId = requestId;\n    values.status = true;\n    setdataReturn(values);\n    setformValid(true);\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(AvForm, {\n      id: \"frmResumenCambios\",\n      className: \"needs-validation\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: props.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(CardBody, {\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: \"6\",\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"increase\",\n                children: t(\"Increase / Decrease (Exposure)\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                className: \"form-control\",\n                name: \"increase\",\n                type: \"text\",\n                value: dataReturn != null ? dataReturn === null || dataReturn === void 0 ? void 0 : dataReturn.increase : \" \",\n                id: \"increase\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: \"6\",\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                children: t(\"Rate\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                className: \"form-control\",\n                name: \"rate\",\n                type: \"text\",\n                id: \"rate\",\n                value: (_dataReturn$rate = dataReturn === null || dataReturn === void 0 ? void 0 : dataReturn.rate) !== null && _dataReturn$rate !== void 0 ? _dataReturn$rate : ' '\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: \"6\",\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                children: t(\"Guarantee\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                className: \"form-control\",\n                name: \"guarantee\",\n                type: \"text\",\n                value: dataReturn != null ? dataReturn === null || dataReturn === void 0 ? void 0 : dataReturn.guarantee : \" \",\n                id: \"guarantee\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: \"6\",\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                children: t(\"Guarantors / Co-signers\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                className: \"form-control\",\n                name: \"desbtorsGuarantors\",\n                type: \"text\",\n                value: dataReturn != null ? dataReturn === null || dataReturn === void 0 ? void 0 : dataReturn.desbtorsGuarantors : \" \",\n                id: \"desbtorsGuarantors\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: \"6\",\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                children: t(\"Deadlines\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                className: \"form-control\",\n                name: \"terms\",\n                type: \"text\",\n                value: dataReturn != null ? dataReturn === null || dataReturn === void 0 ? void 0 : dataReturn.terms : \" \",\n                id: \"terms\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: \"6\",\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                children: t(\"Dues\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                className: \"form-control\",\n                name: \"fees\",\n                type: \"text\",\n                value: dataReturn != null ? dataReturn === null || dataReturn === void 0 ? void 0 : dataReturn.fees : \" \",\n                id: \"fees\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: \"6\",\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                children: t(\"Covenats\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                className: \"form-control\",\n                name: \"covenats\",\n                type: \"text\",\n                value: dataReturn != null ? dataReturn === null || dataReturn === void 0 ? void 0 : dataReturn.covenats : \" \",\n                id: \"covenats\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: \"6\",\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                children: t(\"Other conditions\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                className: \"form-control\",\n                name: \"others\",\n                type: \"text\",\n                value: dataReturn != null ? dataReturn === null || dataReturn === void 0 ? void 0 : dataReturn.others : \" \",\n                id: \"others\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 9\n  }, this);\n}, \"QYekXgUYsNLKJnK36qsIdf3ihds=\", false, function () {\n  return [React.useImperativeHandle, useTranslation, useLocation, useHistory];\n}));\n_c2 = ChangeSummary;\nexport default ChangeSummary;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ChangeSummary$React.forwardRef\");\n$RefreshReg$(_c2, \"ChangeSummary\");","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/5_PropuestaCredito/Secciones/ResumenCambios.js"],"names":["React","useState","useEffect","PropTypes","translationHelper","AvForm","AvGroup","AvField","AvFeedback","Table","Card","CardBody","Row","Col","Label","useTranslation","BackendServices","CoreServices","Currency","useHistory","useLocation","url","ChangeSummary","forwardRef","props","ref","useImperativeHandle","validateForm","form","document","getElementById","requestSubmit","getFormValidation","formValid","dataReturn","t","i18n","setdataReturn","setformValid","requestId","setRequestId","currencyData","apiBack","location","history","locationData","setLocationData","dataSession","data","undefined","transactionId","length","push","URL_DASHBOARD","sessionStorage","setItem","JSON","stringify","result","getItem","parse","consultGeneralDataPropCred","then","resp","dataGlobal","initializeData","catch","err","console","log","activeTab","consultarResumenCambios","handleSubmit","event","errors","values","preventDefault","increase","rate","guarantee","desbtorsGuarantors","terms","fees","covenats","others","status","title"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { translationHelper } from '../../../../helpers';\r\nimport { AvForm, AvGroup, AvField, AvFeedback } from \"availity-reactstrap-validation\"\r\nimport {\r\n    Table,\r\n    Card,\r\n    CardBody,\r\n    Row,\r\n    Col,\r\n    Label,\r\n} from \"reactstrap\"\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { BackendServices, CoreServices } from \"../../../../services\";\r\nimport Currency from \"../../../../helpers/currency\";\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\n\r\nimport * as url from \"../../../../helpers/url_helper\"\r\n\r\nconst ChangeSummary = React.forwardRef((props, ref) => {\r\n    React.useImperativeHandle(ref, () => ({\r\n        validateForm: () => {\r\n            const form = document.getElementById('frmResumenCambios');\r\n            form.requestSubmit();\r\n        },\r\n        getFormValidation: () => {\r\n            return formValid;\r\n        }, dataReturn\r\n    }));\r\n    const { t, i18n } = useTranslation();\r\n    const [dataReturn, setdataReturn] = useState(null);\r\n    const [formValid, setformValid] = useState(false);\r\n    const [requestId, setRequestId] = useState(null);\r\n\r\n    const currencyData = new Currency();\r\n\r\n    const apiBack = new BackendServices();\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n    const [locationData, setLocationData] = useState(null);\r\n\r\n    useEffect(() => {\r\n        let dataSession;\r\n        if (location.data !== null && location.data !== undefined) {\r\n            if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n                //location.data.transactionId = 0;\r\n                //checkAndCreateProcedure(location.data);\r\n                history.push(url.URL_DASHBOARD);\r\n            }\r\n            else {\r\n                sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n                setLocationData(location.data);\r\n                dataSession = location.data;\r\n            }\r\n        }\r\n        else {\r\n            //chequeamos si tenemos guardado en session\r\n            var result = sessionStorage.getItem('locationData');\r\n            if (result !== undefined && result !== null) {\r\n                result = JSON.parse(result);\r\n                setLocationData(result);\r\n                dataSession = result\r\n            }\r\n        }\r\n\r\n        apiBack.consultGeneralDataPropCred(dataSession?.transactionId ?? 0).then(resp => {\r\n            let requestId = resp.length === 0 ? props.dataGlobal.requestId : resp[0]?.requestId;\r\n            initializeData(requestId)\r\n            setRequestId(requestId)\r\n        }).catch(err => { console.log(err) })\r\n\r\n    }, [props.activeTab]);\r\n    function initializeData(requestId) {\r\n        // consultarResumenCambios\r\n        apiBack.consultarResumenCambios(requestId).then((resp) => {\r\n            setdataReturn(resp)\r\n        });\r\n    }\r\n    function handleSubmit(event, errors, values) {\r\n        event.preventDefault();\r\n        if (errors.length > 0) {\r\n            setformValid(false);\r\n            return;\r\n        }\r\n        values.increase = values.increase != null || values != \"\" || values.increase ? values.increase : \" \";\r\n        values.rate = values.rate != null || values != \"\" || values.rate ? values.rate : \" \";\r\n        values.guarantee = values.guarantee != null || values != \"\" || values.guarantee ? values.guarantee : \" \";\r\n        values.desbtorsGuarantors = values.desbtorsGuarantors != null || values != \"\" || values.desbtorsGuarantors ? values.desbtorsGuarantors : \" \";\r\n        values.terms = values.terms != null || values != \"\" || values.terms ? values.terms : \" \";\r\n        values.fees = values.fees != null || values != \"\" || values.fees ? values.fees : \" \";\r\n        values.covenats = values.covenats != null || values != \"\" || values.covenats ? values.covenats : \" \";\r\n        values.others = values.others != null || values != \"\" || values.others ? values.others : \" \";\r\n        values.requestId = requestId;\r\n        values.status = true;\r\n        setdataReturn(values);\r\n        setformValid(true);\r\n    }\r\n    return (\r\n        <React.Fragment>\r\n            <AvForm id=\"frmResumenCambios\" className=\"needs-validation\" onSubmit={handleSubmit}>\r\n                <h5>{props.title}</h5>\r\n                <Card>\r\n                    <CardBody>\r\n                        <Row>\r\n                            <Col md=\"6\">\r\n                                <Label htmlFor=\"increase\">{t(\"Increase / Decrease (Exposure)\")}</Label>\r\n                                <AvField\r\n                                    className=\"form-control\"\r\n                                    name=\"increase\"\r\n                                    type=\"text\"\r\n                                    value={dataReturn != null ? dataReturn?.increase : \" \"}\r\n                                    id=\"increase\"\r\n                                />\r\n                            </Col>\r\n                            <Col md=\"6\">\r\n                                <Label>{t(\"Rate\")}</Label>\r\n                                <AvField\r\n                                    className=\"form-control\"\r\n                                    name=\"rate\"\r\n                                    type=\"text\"\r\n                                    id=\"rate\"\r\n                                    value={dataReturn?.rate ?? ' '} />\r\n\r\n\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col md=\"6\">\r\n                                <Label>{t(\"Guarantee\")}</Label>\r\n                                <AvField\r\n                                    className=\"form-control\"\r\n                                    name=\"guarantee\"\r\n                                    type=\"text\"\r\n                                    value={dataReturn != null ? dataReturn?.guarantee : \" \"}\r\n                                    id=\"guarantee\"\r\n                                />\r\n                            </Col>\r\n                            <Col md=\"6\">\r\n                                <Label>{t(\"Guarantors / Co-signers\")}</Label>\r\n                                <AvField\r\n                                    className=\"form-control\"\r\n                                    name=\"desbtorsGuarantors\"\r\n                                    type=\"text\"\r\n                                    value={dataReturn != null ? dataReturn?.desbtorsGuarantors : \" \"}\r\n                                    id=\"desbtorsGuarantors\"\r\n                                />\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col md=\"6\">\r\n                                <Label>{t(\"Deadlines\")}</Label>\r\n                                <AvField\r\n                                    className=\"form-control\"\r\n                                    name=\"terms\"\r\n                                    type=\"text\"\r\n                                    value={dataReturn != null ? dataReturn?.terms : \" \"}\r\n                                    id=\"terms\"\r\n                                />\r\n                            </Col>\r\n                            <Col md=\"6\">\r\n                                <Label>{t(\"Dues\")}</Label>\r\n                                <AvField\r\n                                    className=\"form-control\"\r\n                                    name=\"fees\"\r\n                                    type=\"text\"\r\n                                    value={dataReturn != null ? dataReturn?.fees : \" \"}\r\n                                    id=\"fees\"\r\n                                />\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col md=\"6\">\r\n                                <Label>{t(\"Covenats\")}</Label>\r\n                                <AvField\r\n                                    className=\"form-control\"\r\n                                    name=\"covenats\"\r\n                                    type=\"text\"\r\n                                    value={dataReturn != null ? dataReturn?.covenats : \" \"}\r\n                                    id=\"covenats\"\r\n                                />\r\n                            </Col>\r\n                            <Col md=\"6\">\r\n                                <Label>{t(\"Other conditions\")}</Label>\r\n                                <AvField\r\n                                    className=\"form-control\"\r\n                                    name=\"others\"\r\n                                    type=\"text\"\r\n                                    value={dataReturn != null ? dataReturn?.others : \" \"}\r\n                                    id=\"others\"\r\n                                />\r\n                            </Col>\r\n                        </Row>\r\n                    </CardBody>\r\n                </Card>\r\n            </AvForm>\r\n        </React.Fragment>\r\n    );\r\n});\r\nexport default ChangeSummary;\r\n"]},"metadata":{},"sourceType":"module"}