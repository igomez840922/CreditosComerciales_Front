{"ast":null,"code":"import _objectSpread from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import Breadcrumbs from'../../components/Common/Breadcrumb';import{useTranslation}from'react-i18next';import{AvForm,AvField,AvGroup}from\"availity-reactstrap-validation\";import*as OPTs from\"../../helpers/options_helper\";import{CardTitle,Button,Card,CardBody,Label,Col}from\"reactstrap\";import BootstrapTable from'react-bootstrap-table-next';import ToolkitProvider,{Search}from'react-bootstrap-table2-toolkit';import paginationFactory from'react-bootstrap-table2-paginator';import ModalWatchProces from\"./ModalWacthProcess\";import{translationHelpers}from'../../helpers';import LoadingOverlay from\"react-loading-overlay\";import{BackendServices}from\"../../services\";//import ActiveDirectoryService from \"../../services/ActiveDirectory\";\nimport moment from\"moment\";import Select from\"react-select\";import{Row,Tab,Tabs}from\"react-bootstrap\";import ModalPreviewHistorical from\"./modal/ModalPreviewHistorical\";import\"flatpickr/dist/themes/material_blue.css\";import Flatpickr from\"react-flatpickr\";import ScatterChartEnvironments from\"./modal/scatter-analytics-environments\";import SalesAnalyticsEnvironments from\"./modal/sales-analytics-environments\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchBar=Search.SearchBar;var RiesgoAmbientalHistorico=function RiesgoAmbientalHistorico(){var _useTranslation=useTranslation(),t=_useTranslation.t;var _translationHelpers=translationHelpers('commercial_credit','translation'),_translationHelpers2=_slicedToArray(_translationHelpers,1),tr=_translationHelpers2[0];var COLUMNS_HEADERS=[{text:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Procedure\")}),dataField:'transactId',sort:true},{text:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Creation Date\")}),dataField:'creationDate',sort:true},{text:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Process\")}),dataField:'bpmProcessDescription',sort:true},{text:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Activity\")}),dataField:'bpmActivityDescription',sort:true},{text:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Fecha de Actividad\")}),dataField:'activityDate',sort:true},{text:/*#__PURE__*/_jsx(\"strong\",{children:t(\"IdType\")}),dataField:'idType',sort:true},{text:/*#__PURE__*/_jsx(\"strong\",{children:t(\"IdNumber\")}),dataField:'clientDocId',sort:true},{text:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Responsible\")}),dataField:'responsible',sort:true},{text:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Names\")}),dataField:'names',sort:true},{text:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Surnames\")}),dataField:'surnames',sort:true},{text:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Status\")}),dataField:'stateDescription',sort:true},{text:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Covenant\")}),dataField:'covenantDescription',sort:true},{text:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Closing\")}),dataField:'closingDescription',sort:true},{text:\"\",dataField:'action'}];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),dataBody=_useState2[0],setDataBody=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),ShowDisplayModal=_useState4[0],setShowDisplayModal=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),ShowDisplayModalPreview=_useState6[0],setShowDisplayModalPreview=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),processInstanceId=_useState8[0],setProcessInstanceId=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isActiveLoading=_useState10[0],setIsActiveLoading=_useState10[1];var backendServices=new BackendServices();var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),IdentificationTypeList=_useState12[0],setIdentificationTypeList=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),IdentificationTypeSelected=_useState14[0],setIdentificationTypeSelected=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),formRef=_useState16[0],setFormRef=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),idTypeValidate=_useState18[0],setIdTypeValidate=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),fechaValidation=_useState20[0],setfechaValidation=_useState20[1];var _useState21=useState(undefined),_useState22=_slicedToArray(_useState21,2),transactId=_useState22[0],setTransactId=_useState22[1];var _useState23=useState(undefined),_useState24=_slicedToArray(_useState23,2),instanceId=_useState24[0],setInstanceId=_useState24[1];var _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),fechas=_useState26[0],setfechas=_useState26[1];var _useState27=useState([{value:'',label:t('All')},{value:'si',label:t('With Covenant')},{value:'no',label:t('Without Covenant')}]),_useState28=_slicedToArray(_useState27,2),applyCovenant=_useState28[0],setApplyCovenant=_useState28[1];var _useState29=useState(undefined),_useState30=_slicedToArray(_useState29,2),applyCovenantSelect=_useState30[0],setApplyCovenantSelect=_useState30[1];var _useState31=useState([{value:'',label:t('All')},{value:'si',label:t('With Closing')},{value:'no',label:t('Without Closing')}]),_useState32=_slicedToArray(_useState31,2),closing=_useState32[0],setclosing=_useState32[1];var _useState33=useState(undefined),_useState34=_slicedToArray(_useState33,2),closingSelect=_useState34[0],setclosingSelect=_useState34[1];var _useState35=useState(false),_useState36=_slicedToArray(_useState35,2),closingPreview=_useState36[0],setClosingPreview=_useState36[1];useEffect(function(){load();loadIdentificationTypes();return function(){};},[]);/**\r\n   * *Busca las coincidencias para históricos\r\n   * @param {object} event\r\n   * @param {object} errors\r\n   * @param {object} values\r\n   * @return {void}\r\n   */function searchHistorical(event,errors,values){var _IdentificationTypeSe;event.preventDefault();if(errors.length>0){return;}setIsActiveLoading(true);values.idType=(_IdentificationTypeSe=IdentificationTypeSelected===null||IdentificationTypeSelected===void 0?void 0:IdentificationTypeSelected.value)!==null&&_IdentificationTypeSe!==void 0?_IdentificationTypeSe:'';var rangos={inicio:\"\",fin:\"\"};if(fechas!=\"\"){if(fechas.length>1){rangos.inicio=moment(fechas[0],\"DD/MM/YYYY\").format(\"YYYY-MM-DD\");rangos.fin=moment(fechas[1],\"DD/MM/YYYY\").format(\"YYYY-MM-DD\");}else{rangos.inicio=moment(fechas[0],\"DD/MM/YYYY\").format(\"YYYY-MM-DD\");rangos.fin=moment(fechas[0],\"DD/MM/YYYY\").format(\"YYYY-MM-DD\");}}backendServices.getEnviromentHistory(values.transactId,values.idType,values.clientDocId,rangos.inicio,rangos.fin).then(function(response){console.log(\"getHistoricalSearches\",response);if(response.status==200){setfechas(\"\");setDataBody(response.result.summaryProcess.map(function($$,index){$$.creationDate=formatDate($$.creationDate);$$.activityDate=formatDate($$.activityDate);$$.names=\"\".concat($$.name,\" \").concat($$.secondName);$$.surnames=\"\".concat($$.lastName,\" \").concat($$.secondLastName);$$.closing=true;$$.closingDescription=$$.closing?'Si':'No';$$.covenantDescription=$$.covenant?'Si':'No';$$.action=/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Link,{onClick:function onClick(e){setClosingPreview($$.closing);setInstanceId($$.instanceId);setTransactId($$.transactId);toggleModalWatchPreview();},children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-file-eye-outline mdi-24px\"})},index)});return $$;}));}else{}setIsActiveLoading(false);}).catch(function(err){setIsActiveLoading(false);console.log(err);});}function load(){setIsActiveLoading(true);backendServices.getEnviromentHistory(null,null,null,null).then(function(response){console.log(\"getHistoricalSearches\",response);setIsActiveLoading(false);if(response.status==200){setfechas(\"\");setDataBody(response.result.summaryProcess.map(function($$,index){$$.creationDate=formatDate($$.creationDate);$$.activityDate=formatDate($$.activityDate);$$.names=\"\".concat($$.name,\" \").concat($$.secondName);$$.surnames=\"\".concat($$.lastName,\" \").concat($$.secondLastName);$$.closingCompliance=false;$$.closingDescription=$$.closing?'Si':'No';$$.covenantDescription=$$.covenant?'Si':'No';$$.action=/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Link,{onClick:function onClick(e){setClosingPreview($$.closingCompliance);setInstanceId($$.instanceId);setTransactId($$.transactId);toggleModalWatchPreview();},children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-file-eye-outline mdi-24px\"})},index)});return $$;}));}else{}setIsActiveLoading(false);}).catch(function(err){setIsActiveLoading(false);console.log(err);});}/**\r\n   * *Obtiene catálogo de tipo de identificación\r\n   * @param {}\r\n   * @return {void}\r\n   */function loadIdentificationTypes(){backendServices.consultarCatalogoTipoIdentificacion().then(function(data){if(data!==null&&data!==undefined){var json=[{label:t(\"None\"),value:\"\"}];for(var i=0;i<data.length;i++){json.push({label:t(data[i][\"description\"]),value:data[i][\"id\"]});}setIdentificationTypeList(json);}}).catch(function(error){console.log(error);});}function formatDate(date){return moment(date).format(\"DD/MM/YYYY HH:mm:ss\");}function toggleModalWatchProcess(){setShowDisplayModal(!ShowDisplayModal);}function toggleModalWatchPreview(){setShowDisplayModalPreview(!ShowDisplayModalPreview);}function clearForm(){setIdentificationTypeSelected(\"\");setIdTypeValidate(false);setDataBody([]);setApplyCovenantSelect(\"\");setclosingSelect(\"\");setfechas(\"\");// setIsActiveLoading(false);\nformRef.reset();load();}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(Breadcrumbs,{title:t(\"Dashboard\"),breadcrumbItem:t(\"Historical Environmental Risk\")}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(AvForm,{autoComplete:\"off\",className:\"needs-validation\",onSubmit:searchHistorical,ref:function ref(_ref){return setFormRef(_ref);},children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"h4 d-flex flex-row justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[t(\"CommercialCredit\"),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\",children:t(\"Historical Environmental Risk\")})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Button,{color:\"warning\",type:\"button\",onClick:function onClick(){setIsActiveLoading(true);setTimeout(function(){clearForm();},1);},style:{margin:'5px'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-notification-clear-all mdi-12px\"}),\" \",t(\"Clear\")]}),/*#__PURE__*/_jsxs(Button,{color:\"success\",type:\"submit\",style:{margin:'5px'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-content-save mid-12px\"}),\" \",t(\"Search\")]})]})]}),/*#__PURE__*/_jsxs(LoadingOverlay,{active:isActiveLoading,spinner:true,text:t(\"Processinginformation\"),children:[/*#__PURE__*/_jsxs(Col,{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(Row,{className:\"d-flex flex-column flex-md-row align-items-center mb-4\",children:[/*#__PURE__*/_jsxs(AvGroup,{className:\"col-12 col-md-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"client\",children:t(\"Procedure\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"transactId\",id:\"transactId\",type:\"text\",value:\"\"})]}),/*#__PURE__*/_jsxs(AvGroup,{className:\"col-12 col-md-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"client\",children:t(\"Date\")}),isActiveLoading===false?/*#__PURE__*/_jsx(Flatpickr,{name:\"date\",id:\"date\",className:\"form-control d-block\",placeholder:OPTs.FORMAT_DATE_SHOW,options:{// enableTime: true,\ndateFormat:\"d/m/Y\",// dateFormat: \"d/m/Y H:i\",\nmode:\"range\",defaultDate:fechas//selectClient !== undefined ? moment(selectClient.birthDate) : null\n},onChange:function onChange(selectedDates,dateStr,instance){// setfechaSet2(moment(dateStr, \"DD/MM/YYYY\").format(\"YYYY-MM-DD\"));\nsetfechas(dateStr.split('to'));}}):null]}),/*#__PURE__*/_jsxs(AvGroup,{className:\"col-12 col-md-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"client\",children:t(\"ClientType\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},onChange:function onChange(e){setIdentificationTypeSelected(IdentificationTypeList.find(function(x){return x.value===e.value;}));if(e.value===''){setIdTypeValidate(false);}else{setIdTypeValidate(true);}},options:IdentificationTypeList,classNamePrefix:\"select2-selection\",className:\"w-100\",value:IdentificationTypeSelected,name:\"idType\"})]}),/*#__PURE__*/_jsxs(AvGroup,{className:\"col-12 col-md-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"client\",children:t(\"Customer ID\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"clientDocId\",id:\"clientDocId\",type:\"text\",value:\"\",validate:{required:{value:idTypeValidate,errorMessage:t(\"Required Field\")}}})]})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(AvGroup,{className:\"col-12 col-md-3\",children:[/*#__PURE__*/_jsxs(Label,{htmlFor:\"client\",children:[t(\"Apply\"),\" Covenants\"]}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},onChange:function onChange(e){setApplyCovenantSelect(applyCovenant.find(function(x){return x.value===e.value;}));if(e.value===''){setIdTypeValidate(false);}else{setIdTypeValidate(true);}},options:applyCovenant,classNamePrefix:\"select2-selection\",className:\"w-100\",value:applyCovenantSelect,name:\"idType\"})]}),/*#__PURE__*/_jsxs(AvGroup,{className:\"col-12 col-md-3\",children:[/*#__PURE__*/_jsxs(Label,{htmlFor:\"client\",children:[t(\"Apply\"),\" \",t(\"Closing\")]}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},onChange:function onChange(e){setclosingSelect(closing.find(function(x){return x.value===e.value;}));if(e.value===''){setIdTypeValidate(false);}else{setIdTypeValidate(true);}},options:closing,classNamePrefix:\"select2-selection\",className:\"w-100\",value:closingSelect,name:\"idType\"})]})]})]}),/*#__PURE__*/_jsxs(Tabs,{defaultActiveKey:\"0\",id:\"uncontrolled-tab-example\",className:\"mb-4\",onSelect:function onSelect(e){/*code here...*/},children:[/*#__PURE__*/_jsx(Tab,{className:\"m-0\",eventKey:0,title:t(\"ReportAS\"),children:/*#__PURE__*/_jsx(ToolkitProvider,{keyField:\"creationDate\",data:dataBody,columns:COLUMNS_HEADERS,search:true,children:function children(props){return/*#__PURE__*/_jsxs(\"div\",{className:\"m-3\",children:[/*#__PURE__*/_jsx(SearchBar,_objectSpread({className:\"custome-search-field float-end\",delay:1000,placeholder:t(\"Buscar en la tabla\")},props.searchProps)),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsx(BootstrapTable,_objectSpread(_objectSpread({bootstrap4:true,bordered:false,striped:true,hover:true,condensed:true,classes:\"styled-table\",style:{cursor:\"pointer\"},data:dataBody,columns:COLUMNS_HEADERS},props.baseProps),{},{pagination:paginationFactory({sizePerPage:30,sizePerPageList:[30]})}))}),(dataBody===null||dataBody===void 0?void 0:dataBody.length)===0&&/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center m-3\",children:/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"h4\",{children:t(\"NoData\")})})})]});}})},0),/*#__PURE__*/_jsxs(Tab,{className:\"m-0\",eventKey:1,title:t(\"Statistics\"),children:[/*#__PURE__*/_jsx(ScatterChartEnvironments,{}),/*#__PURE__*/_jsx(SalesAnalyticsEnvironments,{})]},1)]})]})]})})})]}),processInstanceId&&/*#__PURE__*/_jsx(ModalWatchProces,{isOpen:ShowDisplayModal,toggle:function toggle(){toggleModalWatchProcess();},processInstanceId:processInstanceId,t:tr}),/*#__PURE__*/_jsx(ModalPreviewHistorical,{title:\"Previsualizaci\\xF3n\",isOpen:ShowDisplayModalPreview,toggle:function toggle(){toggleModalWatchPreview();},transactId:transactId,instanceId:instanceId,closingPreview:closingPreview})]});};export default RiesgoAmbientalHistorico;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/Dashboard/riesgoAmbiental.js"],"names":["React","useEffect","useState","Link","Breadcrumbs","useTranslation","AvForm","AvField","AvGroup","OPTs","CardTitle","Button","Card","CardBody","Label","Col","BootstrapTable","ToolkitProvider","Search","paginationFactory","ModalWatchProces","translationHelpers","LoadingOverlay","BackendServices","moment","Select","Row","Tab","Tabs","ModalPreviewHistorical","Flatpickr","ScatterChartEnvironments","SalesAnalyticsEnvironments","SearchBar","RiesgoAmbientalHistorico","t","tr","COLUMNS_HEADERS","text","dataField","sort","dataBody","setDataBody","ShowDisplayModal","setShowDisplayModal","ShowDisplayModalPreview","setShowDisplayModalPreview","processInstanceId","setProcessInstanceId","isActiveLoading","setIsActiveLoading","backendServices","IdentificationTypeList","setIdentificationTypeList","IdentificationTypeSelected","setIdentificationTypeSelected","formRef","setFormRef","idTypeValidate","setIdTypeValidate","fechaValidation","setfechaValidation","undefined","transactId","setTransactId","instanceId","setInstanceId","fechas","setfechas","value","label","applyCovenant","setApplyCovenant","applyCovenantSelect","setApplyCovenantSelect","closing","setclosing","closingSelect","setclosingSelect","closingPreview","setClosingPreview","load","loadIdentificationTypes","searchHistorical","event","errors","values","preventDefault","length","idType","rangos","inicio","fin","format","getEnviromentHistory","clientDocId","then","response","console","log","status","result","summaryProcess","map","$$","index","creationDate","formatDate","activityDate","names","name","secondName","surnames","lastName","secondLastName","closingDescription","covenantDescription","covenant","action","e","toggleModalWatchPreview","catch","err","closingCompliance","consultarCatalogoTipoIdentificacion","data","json","i","push","error","date","toggleModalWatchProcess","clearForm","reset","ref","setTimeout","margin","FORMAT_DATE_SHOW","dateFormat","mode","defaultDate","selectedDates","dateStr","instance","split","find","x","required","errorMessage","props","searchProps","cursor","baseProps","sizePerPage","sizePerPageList"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport Breadcrumbs from '../../components/Common/Breadcrumb';\r\nimport { useTranslation } from 'react-i18next'\r\nimport { AvForm, AvField, AvGroup } from \"availity-reactstrap-validation\"\r\nimport * as OPTs from \"../../helpers/options_helper\"\r\n\r\nimport {\r\n  CardTitle, Button,\r\n  Card, CardBody, Label, Col\r\n} from \"reactstrap\"\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport ToolkitProvider, { Search } from 'react-bootstrap-table2-toolkit';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\n\r\nimport ModalWatchProces from \"./ModalWacthProcess\";\r\nimport { translationHelpers } from '../../helpers';\r\nimport LoadingOverlay from \"react-loading-overlay\";\r\nimport { BackendServices } from \"../../services\";\r\n//import ActiveDirectoryService from \"../../services/ActiveDirectory\";\r\nimport moment from \"moment\";\r\nimport Select from \"react-select\";\r\nimport { Row, Tab, Tabs } from \"react-bootstrap\";\r\nimport ModalPreviewHistorical from \"./modal/ModalPreviewHistorical\";\r\nimport \"flatpickr/dist/themes/material_blue.css\";\r\nimport Flatpickr from \"react-flatpickr\";\r\nimport ScatterChartEnvironments from \"./modal/scatter-analytics-environments\";\r\nimport SalesAnalyticsEnvironments from \"./modal/sales-analytics-environments\";\r\nconst { SearchBar } = Search;\r\nconst RiesgoAmbientalHistorico = () => {\r\n  const { t } = useTranslation();\r\n  const [tr] = translationHelpers('commercial_credit', 'translation');\r\n\r\n  let COLUMNS_HEADERS = [\r\n    { text: <strong>{t(\"Procedure\")}</strong>, dataField: 'transactId', sort: true },\r\n    { text: <strong>{t(\"Creation Date\")}</strong>, dataField: 'creationDate', sort: true },\r\n    { text: <strong>{t(\"Process\")}</strong>, dataField: 'bpmProcessDescription', sort: true },\r\n    { text: <strong>{t(\"Activity\")}</strong>, dataField: 'bpmActivityDescription', sort: true },\r\n    { text: <strong>{t(\"Fecha de Actividad\")}</strong>, dataField: 'activityDate', sort: true },\r\n    { text: <strong>{t(\"IdType\")}</strong>, dataField: 'idType', sort: true },\r\n    { text: <strong>{t(\"IdNumber\")}</strong>, dataField: 'clientDocId', sort: true },\r\n    { text: <strong>{t(\"Responsible\")}</strong>, dataField: 'responsible', sort: true },\r\n    { text: <strong>{t(\"Names\")}</strong>, dataField: 'names', sort: true },\r\n    { text: <strong>{t(\"Surnames\")}</strong>, dataField: 'surnames', sort: true },\r\n    { text: <strong>{t(\"Status\")}</strong>, dataField: 'stateDescription', sort: true },\r\n    { text: <strong>{t(\"Covenant\")}</strong>, dataField: 'covenantDescription', sort: true },\r\n    { text: <strong>{t(\"Closing\")}</strong>, dataField: 'closingDescription', sort: true },\r\n    { text: \"\", dataField: 'action' },\r\n  ];\r\n\r\n\r\n  const [dataBody, setDataBody] = useState([]);\r\n  const [ShowDisplayModal, setShowDisplayModal] = useState(false);\r\n  const [ShowDisplayModalPreview, setShowDisplayModalPreview] = useState(false);\r\n  const [processInstanceId, setProcessInstanceId] = useState(null);\r\n  const [isActiveLoading, setIsActiveLoading] = useState(false);\r\n\r\n  const backendServices = new BackendServices();\r\n\r\n  const [IdentificationTypeList, setIdentificationTypeList] = useState([]);\r\n  const [IdentificationTypeSelected, setIdentificationTypeSelected] = useState(\"\");\r\n  const [formRef, setFormRef] = useState(false);\r\n  const [idTypeValidate, setIdTypeValidate] = useState(false);\r\n  const [fechaValidation, setfechaValidation] = useState(false);\r\n  const [transactId, setTransactId] = useState(undefined);\r\n  const [instanceId, setInstanceId] = useState(undefined);\r\n  const [fechas, setfechas] = useState(\"\");\r\n\r\n  const [applyCovenant, setApplyCovenant] = useState([{ value: '', label: t('All') }, { value: 'si', label: t('With Covenant') }, { value: 'no', label: t('Without Covenant') }]);\r\n  const [applyCovenantSelect, setApplyCovenantSelect] = useState(undefined);\r\n\r\n  const [closing, setclosing] = useState([{ value: '', label: t('All') }, { value: 'si', label: t('With Closing') }, { value: 'no', label: t('Without Closing') }]);\r\n  const [closingSelect, setclosingSelect] = useState(undefined);\r\n\r\n  const [closingPreview, setClosingPreview] = useState(false);\r\n\r\n  useEffect(() => {\r\n    load()\r\n    loadIdentificationTypes();\r\n    return () => {\r\n    };\r\n  }, []);\r\n\r\n  /**\r\n   * *Busca las coincidencias para históricos\r\n   * @param {object} event\r\n   * @param {object} errors\r\n   * @param {object} values\r\n   * @return {void}\r\n   */\r\n  function searchHistorical(event, errors, values) {\r\n\r\n    event.preventDefault();\r\n    if (errors.length > 0) {\r\n      return;\r\n    }\r\n\r\n    setIsActiveLoading(true);\r\n    values.idType = IdentificationTypeSelected?.value ?? '';\r\n    let rangos = {\r\n      inicio: \"\",\r\n      fin: \"\",\r\n    }\r\n    if (fechas != \"\") {\r\n      if (fechas.length > 1) {\r\n        rangos.inicio = moment(fechas[0], \"DD/MM/YYYY\").format(\"YYYY-MM-DD\");\r\n        rangos.fin = moment(fechas[1], \"DD/MM/YYYY\").format(\"YYYY-MM-DD\");\r\n      } else {\r\n        rangos.inicio = moment(fechas[0], \"DD/MM/YYYY\").format(\"YYYY-MM-DD\");\r\n        rangos.fin = moment(fechas[0], \"DD/MM/YYYY\").format(\"YYYY-MM-DD\");\r\n      }\r\n    }\r\n    backendServices.getEnviromentHistory(values.transactId, values.idType, values.clientDocId, rangos.inicio, rangos.fin).then(response => {\r\n      console.log(\"getHistoricalSearches\", response);\r\n\r\n      if (response.status == 200) {\r\n        setfechas(\"\")\r\n        setDataBody(\r\n          response.result.summaryProcess.map(($$, index) => {\r\n            $$.creationDate = formatDate($$.creationDate);\r\n            $$.activityDate = formatDate($$.activityDate);\r\n            $$.names = `${$$.name} ${$$.secondName}`;\r\n            $$.surnames = `${$$.lastName} ${$$.secondLastName}`;\r\n            $$.closing = true;\r\n            $$.closingDescription = $$.closing ? 'Si' : 'No'\r\n            $$.covenantDescription = $$.covenant ? 'Si' : 'No'\r\n            $$.action = (\r\n              <>\r\n                <Link key={index} onClick={(e) => { setClosingPreview($$.closing); setInstanceId($$.instanceId); setTransactId($$.transactId); toggleModalWatchPreview(); }}>\r\n                  <i className=\"mdi mdi-file-eye-outline mdi-24px\"></i>\r\n                </Link>\r\n                {/* <Link key={index} onClick={(e) => { setProcessInstanceId($$.instanceId); toggleModalWatchProcess(); }}>\r\n                  <i className=\"mdi mdi-eye mdi-24px\"></i>\r\n                </Link> */}\r\n              </>\r\n            )\r\n            return $$;\r\n          }));\r\n      } else {\r\n\r\n      }\r\n\r\n      setIsActiveLoading(false);\r\n    }).catch(err => {\r\n      setIsActiveLoading(false);\r\n      console.log(err);\r\n    })\r\n  }\r\n  function load() {\r\n    setIsActiveLoading(true);\r\n    backendServices.getEnviromentHistory(null, null, null, null).then(response => {\r\n      console.log(\"getHistoricalSearches\", response);\r\n\r\n      setIsActiveLoading(false);\r\n      if (response.status == 200) {\r\n        setfechas(\"\")\r\n        setDataBody(\r\n          response.result.summaryProcess.map(($$, index) => {\r\n            $$.creationDate = formatDate($$.creationDate);\r\n            $$.activityDate = formatDate($$.activityDate);\r\n            $$.names = `${$$.name} ${$$.secondName}`;\r\n            $$.surnames = `${$$.lastName} ${$$.secondLastName}`;\r\n            $$.closingCompliance = false;\r\n            $$.closingDescription = $$.closing ? 'Si' : 'No'\r\n            $$.covenantDescription = $$.covenant ? 'Si' : 'No'\r\n            $$.action = (\r\n              <>\r\n                <Link key={index} onClick={(e) => { setClosingPreview($$.closingCompliance); setInstanceId($$.instanceId); setTransactId($$.transactId); toggleModalWatchPreview(); }}>\r\n                  <i className=\"mdi mdi-file-eye-outline mdi-24px\"></i>\r\n                </Link>\r\n              </>\r\n            )\r\n            return $$;\r\n          }));\r\n      } else {\r\n\r\n      }\r\n\r\n      setIsActiveLoading(false);\r\n    }).catch(err => {\r\n      setIsActiveLoading(false);\r\n      console.log(err);\r\n    })\r\n  }\r\n  /**\r\n   * *Obtiene catálogo de tipo de identificación\r\n   * @param {}\r\n   * @return {void}\r\n   */\r\n  function loadIdentificationTypes() {\r\n    backendServices.consultarCatalogoTipoIdentificacion().then((data) => {\r\n      if (data !== null && data !== undefined) {\r\n        let json = [{ label: t(\"None\"), value: \"\" }];\r\n        for (let i = 0; i < data.length; i++) {\r\n          json.push({ label: t(data[i][\"description\"]), value: data[i][\"id\"] })\r\n        }\r\n        setIdentificationTypeList(json)\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    });\r\n  }\r\n\r\n\r\n  function formatDate(date) {\r\n    return moment(date).format(\"DD/MM/YYYY HH:mm:ss\");\r\n  }\r\n\r\n  function toggleModalWatchProcess() {\r\n    setShowDisplayModal(!ShowDisplayModal)\r\n  }\r\n\r\n  function toggleModalWatchPreview() {\r\n    setShowDisplayModalPreview(!ShowDisplayModalPreview)\r\n  }\r\n\r\n  function clearForm() {\r\n    setIdentificationTypeSelected(\"\");\r\n    setIdTypeValidate(false);\r\n    setDataBody([]);\r\n    setApplyCovenantSelect(\"\");\r\n    setclosingSelect(\"\");\r\n    setfechas(\"\")\r\n    // setIsActiveLoading(false);\r\n    formRef.reset();\r\n    load()\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"page-content\">\r\n        <Breadcrumbs title={t(\"Dashboard\")} breadcrumbItem={t(\"Historical Environmental Risk\")} />\r\n\r\n        <Card>\r\n          <CardBody>\r\n            <AvForm autoComplete=\"off\" className=\"needs-validation\" onSubmit={searchHistorical} ref={ref => (setFormRef(ref))}>\r\n\r\n              <CardTitle className=\"h4 d-flex flex-row justify-content-between align-items-center\">\r\n                <div>\r\n                  {t(\"CommercialCredit\")}\r\n                  <p className=\"card-title-desc\">\r\n                    {t(\"Historical Environmental Risk\")}\r\n                  </p>\r\n                </div>\r\n\r\n                <div>\r\n                  <Button color=\"warning\" type=\"button\" onClick={() => {\r\n                    setIsActiveLoading(true);\r\n                    setTimeout(() => {\r\n                      clearForm();\r\n                    }, 1);\r\n                  }} style={{ margin: '5px' }}><i className=\"mdi mdi-notification-clear-all mdi-12px\"></i>\r\n                    {\" \"}{t(\"Clear\")}\r\n                  </Button>\r\n                  <Button color=\"success\" type=\"submit\" style={{ margin: '5px' }}>\r\n                    <i className=\"mdi mdi-content-save mid-12px\"></i> {t(\"Search\")}\r\n                  </Button>\r\n                </div>\r\n              </CardTitle>\r\n\r\n              <LoadingOverlay active={isActiveLoading} spinner text={t(\"Processinginformation\")}>\r\n\r\n                <Col className=\"mb-4\">\r\n                  <Row className=\"d-flex flex-column flex-md-row align-items-center mb-4\">\r\n                    <AvGroup className=\"col-12 col-md-3\">\r\n                      <Label htmlFor=\"client\">{t(\"Procedure\")}</Label>\r\n                      <AvField\r\n                        className=\"form-control\"\r\n                        name=\"transactId\"\r\n                        id=\"transactId\"\r\n                        type=\"text\"\r\n                        value=\"\"\r\n                      />\r\n                    </AvGroup>\r\n                    <AvGroup className=\"col-12 col-md-3\">\r\n                      <Label htmlFor=\"client\">{t(\"Date\")}</Label>\r\n                      {isActiveLoading === false ?\r\n                        <Flatpickr\r\n                          name=\"date\"\r\n                          id=\"date\"\r\n\r\n                          className=\"form-control d-block\"\r\n                          placeholder={OPTs.FORMAT_DATE_SHOW}\r\n                          options={{\r\n                            // enableTime: true,\r\n                            dateFormat: \"d/m/Y\",\r\n                            // dateFormat: \"d/m/Y H:i\",\r\n                            mode: \"range\",\r\n                            defaultDate: fechas,//selectClient !== undefined ? moment(selectClient.birthDate) : null\r\n                          }}\r\n                          onChange={(selectedDates, dateStr, instance) => {\r\n                            // setfechaSet2(moment(dateStr, \"DD/MM/YYYY\").format(\"YYYY-MM-DD\"));\r\n\r\n                            setfechas(dateStr.split('to'))\r\n                          }}\r\n                        /> : null}\r\n                    </AvGroup>\r\n                    <AvGroup className=\"col-12 col-md-3\">\r\n                      <Label htmlFor=\"client\">{t(\"ClientType\")}</Label>\r\n                      <Select noOptionsMessage={() => \"\"}\r\n                        onChange={(e) => {\r\n                          setIdentificationTypeSelected(IdentificationTypeList.find(x => x.value === e.value));\r\n                          if (e.value === '') {\r\n                            setIdTypeValidate(false);\r\n                          } else {\r\n                            setIdTypeValidate(true);\r\n                          }\r\n                        }}\r\n                        options={IdentificationTypeList}\r\n                        classNamePrefix=\"select2-selection\"\r\n                        className=\"w-100\"\r\n                        value={IdentificationTypeSelected}\r\n                        name=\"idType\"\r\n                      />\r\n                    </AvGroup>\r\n                    <AvGroup className=\"col-12 col-md-3\">\r\n                      <Label htmlFor=\"client\">{t(\"Customer ID\")}</Label>\r\n                      <AvField\r\n                        className=\"form-control\"\r\n                        name=\"clientDocId\"\r\n                        id=\"clientDocId\"\r\n                        type=\"text\"\r\n                        value=\"\"\r\n                        validate={{\r\n                          required: { value: idTypeValidate, errorMessage: t(\"Required Field\") },\r\n                        }}\r\n                      />\r\n                    </AvGroup>\r\n                  </Row>\r\n                  <Row>\r\n                    <AvGroup className=\"col-12 col-md-3\">\r\n                      <Label htmlFor=\"client\">{t(\"Apply\")} Covenants</Label>\r\n                      <Select noOptionsMessage={() => \"\"}\r\n                        onChange={(e) => {\r\n                          setApplyCovenantSelect(applyCovenant.find(x => x.value === e.value));\r\n                          if (e.value === '') {\r\n                            setIdTypeValidate(false);\r\n                          } else {\r\n                            setIdTypeValidate(true);\r\n                          }\r\n                        }}\r\n                        options={applyCovenant}\r\n                        classNamePrefix=\"select2-selection\"\r\n                        className=\"w-100\"\r\n                        value={applyCovenantSelect}\r\n                        name=\"idType\"\r\n                      />\r\n                    </AvGroup>\r\n                    <AvGroup className=\"col-12 col-md-3\">\r\n                      <Label htmlFor=\"client\">{t(\"Apply\")} {t(\"Closing\")}</Label>\r\n                      <Select noOptionsMessage={() => \"\"}\r\n                        onChange={(e) => {\r\n                          setclosingSelect(closing.find(x => x.value === e.value));\r\n                          if (e.value === '') {\r\n                            setIdTypeValidate(false);\r\n                          } else {\r\n                            setIdTypeValidate(true);\r\n                          }\r\n                        }}\r\n                        options={closing}\r\n                        classNamePrefix=\"select2-selection\"\r\n                        className=\"w-100\"\r\n                        value={closingSelect}\r\n                        name=\"idType\"\r\n                      />\r\n                    </AvGroup>\r\n                  </Row>\r\n                </Col>\r\n\r\n                <Tabs defaultActiveKey=\"0\" id=\"uncontrolled-tab-example\" className=\"mb-4\" onSelect={(e) => { /*code here...*/ }}>\r\n\r\n                  <Tab className=\"m-0\" key={0} eventKey={0} title={t(\"ReportAS\")}>\r\n                    <ToolkitProvider\r\n                      keyField=\"creationDate\"\r\n                      data={dataBody}\r\n                      columns={COLUMNS_HEADERS}\r\n                      search\r\n                    >\r\n                      {\r\n                        props => (\r\n                          <div className=\"m-3\">\r\n\r\n                            <SearchBar className=\"custome-search-field float-end\" delay={1000} placeholder={t(\"Buscar en la tabla\")} {...props.searchProps} />\r\n\r\n\r\n                            <div className=\"table-responsive\">\r\n                              <BootstrapTable\r\n                                bootstrap4\r\n                                bordered={false}\r\n                                striped\r\n                                hover\r\n                                condensed\r\n                                classes='styled-table'\r\n                                style={{ cursor: \"pointer\" }}\r\n                                data={dataBody} columns={COLUMNS_HEADERS}\r\n                                {...props.baseProps}\r\n                                pagination={paginationFactory({\r\n                                  sizePerPage: 30,\r\n                                  sizePerPageList: [30]\r\n                                })}\r\n                              />\r\n                            </div>\r\n                            {dataBody?.length === 0 &&\r\n                              <div className=\"d-flex justify-content-center m-3\">\r\n                                <b><h4>{t(\"NoData\")}</h4></b>\r\n                              </div>\r\n                            }\r\n                          </div>\r\n                        )\r\n                      }\r\n                    </ToolkitProvider>\r\n                  </Tab>\r\n\r\n                  <Tab className=\"m-0\" key={1} eventKey={1} title={t(\"Statistics\")}>\r\n                    <ScatterChartEnvironments />\r\n                    <SalesAnalyticsEnvironments />\r\n                  </Tab>\r\n\r\n                </Tabs>\r\n\r\n\r\n              </LoadingOverlay>\r\n            </AvForm>\r\n          </CardBody>\r\n        </Card>\r\n\r\n      </div>\r\n      {processInstanceId && (<ModalWatchProces isOpen={ShowDisplayModal} toggle={() => { toggleModalWatchProcess() }} processInstanceId={processInstanceId} t={tr} />)}\r\n      <ModalPreviewHistorical title=\"Previsualización\" isOpen={ShowDisplayModalPreview} toggle={() => { toggleModalWatchPreview() }} transactId={transactId} instanceId={instanceId} closingPreview={closingPreview} />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default RiesgoAmbientalHistorico\r\n"]},"metadata":{},"sourceType":"module"}