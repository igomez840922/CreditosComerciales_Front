{"ast":null,"code":"import axios from \"axios\";\nimport * as url from \"../helpers/url_helper\";\nimport * as opt from \"../helpers/options_helper\";\nimport qs from 'qs';\nimport LocalStorageHelper from \"../helpers/LocalStorageHelper\";\nconst localStorageHelper = new LocalStorageHelper(); //apply base url for axios\n\nconst API_URL = \"\";\nconst axiosApi = axios.create({\n  baseURL: API_URL,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\naxiosApi.interceptors.request.use(config => {\n  var credentials = localStorageHelper.get(opt.VARNAME_USRCREDENTIAL);\n  config.headers[\"Authorization\"] = \"Basic \" + btoa(credentials.usr + \":\" + credentials.psw);\n  return config;\n}, error => {\n  console.log(\"request error: \", error);\n  return Promise.reject(error);\n});\nexport default class ApiServiceCore {\n  setDataError(err) {\n    let jsonError = {\n      code: err.response.status,\n      error: true,\n      message: err.response.data,\n      method: err.response.config.method,\n      serviceType: \"bk\",\n      url: err.response.config.url\n    };\n    localStorage.setItem(\"jsonError\", JSON.stringify(jsonError));\n    const event = new CustomEvent('errorSoaint', jsonError);\n    event.initEvent(\"errorSoaint\", true, true);\n    window.dispatchEvent(event);\n  }\n\n  async get(url, config = {}) {\n    return await axiosApi.get(url, { ...config\n    }).then(response => response.data).catch(err => {\n      this.setDataError(err);\n    });\n  }\n\n  async post(url, data, config = {}) {\n    return axiosApi.post(url, { ...data\n    }, { ...config\n    }).then(response => response.data).catch(err => {\n      this.setDataError(err);\n    });\n  }\n\n  async put(url, data, config = {}) {\n    return axiosApi.put(url, { ...data\n    }, { ...config\n    }).then(response => response.data).catch(err => {\n      this.setDataError(err);\n    });\n  }\n\n  async del(url, data, config = {}) {\n    return await axiosApi.delete(url, {\n      data: data\n    }, { ...config\n    }).then(response => response.data).catch(err => {\n      this.setDataError(err);\n    });\n  }\n\n}","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/services/ApiServiceBpm.js"],"names":["axios","url","opt","qs","LocalStorageHelper","localStorageHelper","API_URL","axiosApi","create","baseURL","headers","interceptors","request","use","config","credentials","get","VARNAME_USRCREDENTIAL","btoa","usr","psw","error","console","log","Promise","reject","ApiServiceCore","setDataError","err","jsonError","code","response","status","message","data","method","serviceType","localStorage","setItem","JSON","stringify","event","CustomEvent","initEvent","window","dispatchEvent","then","catch","post","put","del","delete"],"mappings":"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","sourcesContent":["import axios from \"axios\"\r\nimport * as url from \"../helpers/url_helper\"\r\nimport * as opt from \"../helpers/options_helper\"\r\nimport qs from 'qs';\r\n\r\nimport LocalStorageHelper from \"../helpers/LocalStorageHelper\";\r\n    \r\n    const localStorageHelper = new LocalStorageHelper();\r\n    //apply base url for axios\r\n    const API_URL = \"\"\r\n    \r\n    const axiosApi = axios.create({\r\n      baseURL: API_URL,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n    })\r\n    \r\n    axiosApi.interceptors.request.use(\r\n      (config) => {  \r\n        var credentials = localStorageHelper.get(opt.VARNAME_USRCREDENTIAL);  \r\n        config.headers[\"Authorization\"] = \"Basic \" + btoa(credentials.usr + \":\" + credentials.psw);\r\n        return config;\r\n      },\r\n      (error) => {\r\n        console.log(\"request error: \", error)\r\n        return Promise.reject(error);\r\n      }\r\n    );\r\n    \r\nexport default class ApiServiceCore {\r\n\r\n  setDataError(err) {\r\n\r\n    let jsonError = {\r\n      code: err.response.status,\r\n      error: true,\r\n      message: err.response.data,\r\n      method: err.response.config.method,\r\n      serviceType: \"bk\",\r\n      url: err.response.config.url,\r\n    }\r\n\r\n    localStorage.setItem(\"jsonError\", JSON.stringify(jsonError))\r\n    const event = new CustomEvent('errorSoaint', jsonError);\r\n    event.initEvent(\"errorSoaint\", true, true);\r\n    window.dispatchEvent(event);\r\n  }\r\n\r\n    async get(url, config = {}) {\r\n      return await axiosApi\r\n      .get(url, { ...config })\r\n      .then(response => response.data).catch(err => {\r\n        this.setDataError(err);\r\n      });\r\n\r\n    } \r\n\r\n    async post(url, data,config = {}) {\r\n      return axiosApi\r\n        .post(url, { ...data },{ ...config })\r\n        .then(response => response.data).catch(err => {\r\n          this.setDataError(err);\r\n        });\r\n    }\r\n\r\n    async put(url, data, config = {}) {\r\n      return axiosApi\r\n        .put(url, { ...data }, { ...config })\r\n        .then(response => response.data).catch(err => {\r\n          this.setDataError(err);\r\n        });\r\n    }\r\n\r\n    async del(url,data, config = {}) {\r\n      return await axiosApi\r\n        .delete(url,{ data: data}, { ...config })\r\n        .then(response => response.data).catch(err => {\r\n          this.setDataError(err);\r\n        });\r\n    }\r\n}\r\n  \r\n\r\n  \r\n"]},"metadata":{},"sourceType":"module"}