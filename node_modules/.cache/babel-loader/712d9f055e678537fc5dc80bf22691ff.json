{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{withTranslation}from\"react-i18next\";import{Link}from\"react-router-dom\";import{Table,Card,CardBody,Pagination,PaginationItem,PaginationLink,CardFooter,Button,Row,Col}from\"reactstrap\";import ApiServicesDetalleDocumentacion from'../../../services/DocumentacionLegal/ApiServicesDetalleDocumentacion';import{BpmServices,BackendServices}from\"../../../services\";import{useLocation,useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ResultadosBusqueda=function ResultadosBusqueda(props){var apiServiceBackend=new BackendServices();var location=useLocation();/**\r\n   * All useState\r\n   */var _useState=useState(null),_useState2=_slicedToArray(_useState,2),dataRows=_useState2[0],setdataRows=_useState2[1];/**\r\n   * End All useSate\r\n   */var jsonCond=['rotary','commercialLoan','multipleRotary','rotaryNumber','overdraft','transfer','bail','trust','agroPawn','naturalBail','legalBail','crossedLegalBail','crossedNaturalBail','promiseLetter','privateRecord','trustRecord','loanGuarantees','fiduciaryLine','prefinance'];React.useEffect(function(){searchData();},[]);function capitalizarPrimeraLetra(str){return str.charAt(0).toUpperCase()+str.slice(1);}function searchData(){apiServiceBackend.getLegalDocsFunction().then(function(docLegal){setdataRows(docLegal.map(function(data){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:capitalizarPrimeraLetra(data.documentName)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(Link,{to:\"#\",title:props.t(\"View\"),children:[\" \",/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-file-search-outline mdi-24px\"}),\"  \"]})})]},data.id);}));});/*apiServiceBackend.consultarDocumentacionLegal(location.data.transactionId).then(async data => {\r\n      delete data.status;\r\n      delete data.transactId;\r\n      delete data.legalDocumentationId;\r\n      data = Object.entries(data).filter(([key, value]) => value).map(([key, value]) => key);\r\n      let docLegal = await props.results.map(($$, index) => {\r\n        if (data.some($$ => $$ === jsonCond[index]))\r\n          return { ...$$, legal: jsonCond[index] }\r\n      }).filter(Boolean);\r\n      setdataRows(docLegal.map((data) => (\r\n        <tr key={data.id}>\r\n\r\n          <td>{data.comment}</td>\r\n          <td>\r\n            <Button color=\"link\" className=\"btn btn-link\" title={props.t(\"View\")}> <i className=\"mdi mdi-file-search-outline mdi-24px\"></i>  </Button>\r\n          </td>\r\n\r\n        </tr>)\r\n      ));\r\n    });*/}return/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{lg:\"12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(Table,{className:\"table mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\"}),/*#__PURE__*/_jsx(\"tbody\",{children:dataRows})]})})}),/*#__PURE__*/_jsx(Col,{lg:\"12\"})]});};/*ResultadosBusqueda.propTypes = {\r\n  results: PropTypes.array.isRequired, //Resultado de la busqueda\r\n}*/export default withTranslation()(ResultadosBusqueda);","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/13_FirmaContrato/ResultadosBusqueda.js"],"names":["React","useEffect","useState","withTranslation","Link","Table","Card","CardBody","Pagination","PaginationItem","PaginationLink","CardFooter","Button","Row","Col","ApiServicesDetalleDocumentacion","BpmServices","BackendServices","useLocation","useHistory","ResultadosBusqueda","props","apiServiceBackend","location","dataRows","setdataRows","jsonCond","searchData","capitalizarPrimeraLetra","str","charAt","toUpperCase","slice","getLegalDocsFunction","then","docLegal","map","data","documentName","t","id"],"mappings":"+KACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,OAASC,eAAT,KAAgC,eAAhC,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,OACEC,KADF,CAEEC,IAFF,CAGEC,QAHF,CAIEC,UAJF,CAKEC,cALF,CAMEC,cANF,CAOEC,UAPF,CAQEC,MARF,CASEC,GATF,CAUEC,GAVF,KAWO,YAXP,CAYA,MAAOC,CAAAA,+BAAP,KAA4C,sEAA5C,CACA,OAASC,WAAT,CAAsBC,eAAtB,KAA6C,mBAA7C,CACA,OAASC,WAAT,CAAsBC,UAAtB,KAAwC,kBAAxC,C,wFAGA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,KAAD,CAAW,CAEpC,GAAMC,CAAAA,iBAAiB,CAAG,GAAIL,CAAAA,eAAJ,EAA1B,CACA,GAAMM,CAAAA,QAAQ,CAAGL,WAAW,EAA5B,CAEA;AACF;AACA,KACE,cAAgChB,QAAQ,CAAC,IAAD,CAAxC,wCAAOsB,QAAP,eAAiBC,WAAjB,eAEA;AACF;AACA,KAEE,GAAMC,CAAAA,QAAQ,CAAG,CACf,QADe,CAEf,gBAFe,CAGf,gBAHe,CAIf,cAJe,CAKf,WALe,CAMf,UANe,CAOf,MAPe,CAQf,OARe,CASf,UATe,CAUf,aAVe,CAWf,WAXe,CAYf,kBAZe,CAaf,oBAbe,CAcf,eAde,CAef,eAfe,CAgBf,aAhBe,CAiBf,gBAjBe,CAkBf,eAlBe,CAmBf,YAnBe,CAAjB,CAsBA1B,KAAK,CAACC,SAAN,CAAgB,UAAM,CACpB0B,UAAU,GACX,CAFD,CAEG,EAFH,EAIA,QAASC,CAAAA,uBAAT,CAAiCC,GAAjC,CAAsC,CACpC,MAAOA,CAAAA,GAAG,CAACC,MAAJ,CAAW,CAAX,EAAcC,WAAd,GAA8BF,GAAG,CAACG,KAAJ,CAAU,CAAV,CAArC,CACD,CAED,QAASL,CAAAA,UAAT,EAAsB,CACpBL,iBAAiB,CAACW,oBAAlB,GAAyCC,IAAzC,CAA8C,SAAAC,QAAQ,CAAI,CACxDV,WAAW,CAACU,QAAQ,CAACC,GAAT,CAAa,SAACC,IAAD,qBACvB,mCAEE,oBAA6BT,uBAAuB,CAACS,IAAI,CAACC,YAAN,CAApD,EAFF,cAGE,iCACE,MAAC,IAAD,EAAM,EAAE,CAAE,GAAV,CAAe,KAAK,CAAEjB,KAAK,CAACkB,CAAN,CAAQ,MAAR,CAAtB,4BAAwC,UAAG,SAAS,CAAC,sCAAb,EAAxC,QADF,EAHF,GAASF,IAAI,CAACG,EAAd,CADuB,EAAb,CAAD,CAAX,CAUD,CAXD,EAYA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SACG,CAGD,mBAEE,MAAC,GAAD,yBACE,KAAC,GAAD,EAAK,EAAE,CAAC,IAAR,uBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,MAAC,KAAD,EAAO,SAAS,CAAC,YAAjB,wBACE,cAAO,SAAS,CAAC,aAAjB,EADF,cAGE,uBACGhB,QADH,EAHF,GADF,EADF,EADF,cAaE,KAAC,GAAD,EAAK,EAAE,CAAC,IAAR,EAbF,GAFF,CAsBD,CAtGD,CAwGA;AACA;AACA,GAEA,cAAgBrB,CAAAA,eAAe,GAAGiB,kBAAH,CAA/B","sourcesContent":["import PropTypes from 'prop-types';\r\nimport React, { useEffect, useState } from \"react\"\r\n\r\nimport { withTranslation } from \"react-i18next\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\nimport {\r\n  Table,\r\n  Card,\r\n  CardBody,\r\n  Pagination,\r\n  PaginationItem,\r\n  PaginationLink,\r\n  CardFooter,\r\n  Button,\r\n  Row,\r\n  Col,\r\n} from \"reactstrap\"\r\nimport ApiServicesDetalleDocumentacion from '../../../services/DocumentacionLegal/ApiServicesDetalleDocumentacion';\r\nimport { BpmServices, BackendServices } from \"../../../services\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\n\r\n\r\nconst ResultadosBusqueda = (props) => {\r\n\r\n  const apiServiceBackend = new BackendServices();\r\n  const location = useLocation()\r\n\r\n  /**\r\n   * All useState\r\n   */\r\n  const [dataRows, setdataRows] = useState(null);\r\n\r\n  /**\r\n   * End All useSate\r\n   */\r\n\r\n  const jsonCond = [\r\n    'rotary',\r\n    'commercialLoan',\r\n    'multipleRotary',\r\n    'rotaryNumber',\r\n    'overdraft',\r\n    'transfer',\r\n    'bail',\r\n    'trust',\r\n    'agroPawn',\r\n    'naturalBail',\r\n    'legalBail',\r\n    'crossedLegalBail',\r\n    'crossedNaturalBail',\r\n    'promiseLetter',\r\n    'privateRecord',\r\n    'trustRecord',\r\n    'loanGuarantees',\r\n    'fiduciaryLine',\r\n    'prefinance',\r\n  ]\r\n\r\n  React.useEffect(() => {\r\n    searchData();\r\n  }, []);\r\n\r\n  function capitalizarPrimeraLetra(str) {\r\n    return str.charAt(0).toUpperCase() + str.slice(1);\r\n  }\r\n  \r\n  function searchData() {\r\n    apiServiceBackend.getLegalDocsFunction().then(docLegal => {\r\n      setdataRows(docLegal.map((data) => (\r\n        <tr key={data.id}>\r\n\r\n          <td>{/*JSONCompare[index]*/}{capitalizarPrimeraLetra(data.documentName)}</td>\r\n          <td>\r\n            <Link to={\"#\"} title={props.t(\"View\")}> <i className=\"mdi mdi-file-search-outline mdi-24px\"></i>  </Link>\r\n          </td>\r\n\r\n        </tr>)\r\n      ));\r\n    })\r\n    /*apiServiceBackend.consultarDocumentacionLegal(location.data.transactionId).then(async data => {\r\n      delete data.status;\r\n      delete data.transactId;\r\n      delete data.legalDocumentationId;\r\n      data = Object.entries(data).filter(([key, value]) => value).map(([key, value]) => key);\r\n      let docLegal = await props.results.map(($$, index) => {\r\n        if (data.some($$ => $$ === jsonCond[index]))\r\n          return { ...$$, legal: jsonCond[index] }\r\n      }).filter(Boolean);\r\n      setdataRows(docLegal.map((data) => (\r\n        <tr key={data.id}>\r\n\r\n          <td>{data.comment}</td>\r\n          <td>\r\n            <Button color=\"link\" className=\"btn btn-link\" title={props.t(\"View\")}> <i className=\"mdi mdi-file-search-outline mdi-24px\"></i>  </Button>\r\n          </td>\r\n\r\n        </tr>)\r\n      ));\r\n    });*/\r\n  }\r\n\r\n\r\n  return (\r\n\r\n    <Row>\r\n      <Col lg=\"12\">\r\n        <div className=\"table-responsive\">\r\n          <Table className=\"table mb-0\">\r\n            <thead className=\"table-light\">\r\n             </thead>\r\n            <tbody>\r\n              {dataRows}\r\n            </tbody>\r\n          </Table>\r\n\r\n        </div>\r\n      </Col>\r\n      <Col lg=\"12\">\r\n\r\n      </Col>\r\n    </Row>\r\n\r\n\r\n  );\r\n}\r\n\r\n/*ResultadosBusqueda.propTypes = {\r\n  results: PropTypes.array.isRequired, //Resultado de la busqueda\r\n}*/\r\n\r\nexport default (withTranslation()(ResultadosBusqueda));\r\n"]},"metadata":{},"sourceType":"module"}