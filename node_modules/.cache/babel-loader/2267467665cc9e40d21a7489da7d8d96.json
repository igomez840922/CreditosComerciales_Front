{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useTranslation}from\"react-i18next\";import{connect}from\"react-redux\";import{isEmpty}from\"lodash\";import{Button,Card,CardBody,Col,Modal,ModalBody,ModalHeader,Row}from\"reactstrap\";import{AvField,AvForm}from\"availity-reactstrap-validation\";import FullCalendar from\"@fullcalendar/react\";import dayGridPlugin from\"@fullcalendar/daygrid\";import interactionPlugin,{Draggable}from\"@fullcalendar/interaction\";import BootstrapTheme from\"@fullcalendar/bootstrap\";//Import Breadcrumb\nimport Breadcrumbs from\"../../components/Common/Breadcrumb\";import{addNewEvent,deleteEvent,getCategories,getEvents,updateEvent,getTramit}from\"../../store/actions\";import DeleteModal from\"./DeleteModal\";//css\nimport\"@fullcalendar/bootstrap/main.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Calender=function Calender(props){var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var events=props.events,categories=props.categories,onGetCategories=props.onGetCategories,onGetEvents=props.onGetEvents,onGetTramit=props.onGetTramit;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modal=_useState2[0],setModal=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),deleteModal=_useState4[0],setDeleteModal=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),modalcategory=_useState6[0],setModalcategory=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),event=_useState8[0],setEvent=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),selectedDay=_useState10[0],setSelectedDay=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isEdit=_useState12[0],setIsEdit=_useState12[1];var tramitOptionsTest=[{id:1,title:\"Trámite\",type:\"bg-success\"},{id:2,title:\"Trámite 2\",type:\"bg-success\"},{id:3,title:\"Trámite 3\",type:\"bg-success\"},{id:4,title:\"Trámite 4\",type:\"bg-success\"},{id:5,title:\"Trámite 5\",type:\"bg-success\"}];useEffect(function(){onGetCategories();onGetEvents();onGetTramit();new Draggable(document.getElementById(\"external-events\"),{itemSelector:\".external-event\"});},[onGetCategories,onGetEvents,onGetTramit]);/**\r\n   * Handling the modal state\r\n   */var toggle=function toggle(){setModal(!modal);if(!modal&&!isEmpty(event)&&!isEdit){setTimeout(function(){setEvent({});setIsEdit(false);},500);}};var toggleCategory=function toggleCategory(){setModalcategory(!modalcategory);};/**\r\n   * Handling date click on calendar\r\n   */var handleDateClick=function handleDateClick(arg){setSelectedDay(arg);toggle();};/**\r\n   * Handling click on event on calendar\r\n   */var handleEventClick=function handleEventClick(arg){var event=arg.event;setEvent({id:event.id,title:event.title,title_category:event.title_category,start:event.start,className:event.classNames,category:event.classNames[0],event_category:event.classNames[0]});setIsEdit(true);toggle();};/**\r\n   * Handling submit event on event form\r\n   */var handleValidEventSubmit=function handleValidEventSubmit(e,values){var onAddNewEvent=props.onAddNewEvent,onUpdateEvent=props.onUpdateEvent;if(isEdit){var _updateEvent={id:event.id,title:values.title,classNames:values.category+\" text-white\",start:event.start};// update event\nonUpdateEvent(_updateEvent);}else{var newEvent={id:Math.floor(Math.random()*100),title:values[\"title\"],start:selectedDay?selectedDay.date:new Date(),className:values.category+\" text-white\"};// save new event\nonAddNewEvent(newEvent);}setSelectedDay(null);toggle();};var handleValidEventSubmitcategory=function handleValidEventSubmitcategory(event,values){var onAddNewEvent=props.onAddNewEvent;var newEvent={id:Math.floor(Math.random()*100),title:values[\"title_category\"],start:selectedDay?selectedDay.date:new Date(),className:values.event_category+\" text-white\"};// save new event\nonAddNewEvent(newEvent);toggleCategory();};/**\r\n   * On delete event\r\n   */var handleDeleteEvent=function handleDeleteEvent(){var onDeleteEvent=props.onDeleteEvent;onDeleteEvent(event);setDeleteModal(false);toggle();};/**\r\n   * On category darg event\r\n   */var _onDrag=function onDrag(event){event.preventDefault();};/**\r\n   * On calendar drop event\r\n   */var onDrop=function onDrop(event){var onAddNewEvent=props.onAddNewEvent;var draggedEl=event.draggedEl;var newEvent={id:Math.floor(Math.random()*100),title:draggedEl.innerText,start:event.date,className:draggedEl.className};onAddNewEvent(newEvent);};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(DeleteModal,{show:deleteModal,onDeleteClick:handleDeleteEvent,onCloseClick:function onCloseClick(){return setDeleteModal(false);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(Breadcrumbs,{title:t(\"Menu\"),breadcrumbItem:t(\"Calendar\")}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{xs:12,children:[/*#__PURE__*/_jsxs(Row,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Col,{lg:3,children:/*#__PURE__*/_jsx(Card,{className:\"h-100 mb-lg-0\",children:/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(Button,{color:\"primary\",className:\"btn font-16 btn-primary w-100\",onClick:toggleCategory,children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-plus-circle-outline me-1\"}),t(\"Create new event\")]}),/*#__PURE__*/_jsxs(\"div\",{id:\"external-events\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:t(\"Drag and drop your event or click in the calendar\")}),categories&&categories.map(function(category,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(category.type,\" external-event fc-event text-white\"),draggable:true,onDrag:function onDrag(event){return _onDrag(event,category);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-checkbox-blank-circle font-size-11 me-2\"}),category.title]},\"cat-\"+category.id);})]})]})})}),/*#__PURE__*/_jsx(Col,{className:\"col-lg-9 app-calendar\",children:/*#__PURE__*/_jsx(Card,{className:\"mb-lg-0\",children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(FullCalendar,{plugins:[BootstrapTheme,dayGridPlugin,interactionPlugin],slotDuration:\"00:15:00\",handleWindowResize:true,themeSystem:\"bootstrap\",headerToolbar:{left:t(\"prev,next today\"),center:\"title\",right:\"dayGridMonth,dayGridWeek,dayGridDay\"},events:events,editable:true,droppable:true,selectable:true,dateClick:handleDateClick,eventClick:handleEventClick,drop:onDrop})})})})]}),/*#__PURE__*/_jsxs(Modal,{isOpen:modal,className:props.className,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:toggle,tag:\"h4\",children:!!isEdit?t(\"Edit event\"):t(\"Add event\")}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsxs(AvForm,{onValidSubmit:handleValidEventSubmit,children:[/*#__PURE__*/_jsxs(Row,{form:true,children:[/*#__PURE__*/_jsx(Col,{className:\"col-12 mb-3\",children:/*#__PURE__*/_jsx(AvField,{name:\"title\",label:t(\"Event name\"),type:\"text\",errorMessage:\"Invalid name\",validate:{required:{value:true}},value:event&&event.title?event.title:\"\"})}),/*#__PURE__*/_jsx(Col,{className:\"col-12 mb-3\",children:/*#__PURE__*/_jsx(AvField,{type:\"select\",name:\"category\",label:t(\"Select tramit\"),validate:{required:{value:true}},value:event?event.category:\"bg-primary\",children:tramitOptionsTest.map(function(tramitEvt){return/*#__PURE__*/_jsx(\"option\",{children:tramitEvt.title},\"tram-\".concat(tramitEvt.id));})})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-end\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-light me-2\",onClick:toggle,children:t(\"Close\")}),!!isEdit&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger me-2\",onClick:function onClick(){return setDeleteModal(true);},children:t(\"Delete\")}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success save-event\",children:t(\"Save\")})]})})})]})})]}),/*#__PURE__*/_jsxs(Modal,{isOpen:modalcategory,toggle:toggleCategory,className:props.className,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:toggleCategory,tag:\"h4\",children:t(\"Add event\")}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsxs(AvForm,{onValidSubmit:handleValidEventSubmitcategory,children:[/*#__PURE__*/_jsxs(Row,{form:true,children:[/*#__PURE__*/_jsx(Col,{className:\"col-12 mb-3\",children:/*#__PURE__*/_jsx(AvField,{name:\"title_category\",label:t(\"Event name\"),type:\"text\",errorMessage:\"Invalid name\",validate:{required:{value:true}},value:event.title_category?event.title_category:\"\"})}),/*#__PURE__*/_jsx(Col,{className:\"col-12 mb-3\",children:/*#__PURE__*/_jsx(AvField,{type:\"select\",name:\"event_category\",label:t(\"Choose a tramit\"),value:event?event.event_category:\"bg-success\",children:tramitOptionsTest.map(function(tramitEvt){return/*#__PURE__*/_jsx(\"option\",{value:tramitEvt.id,children:tramitEvt.title},\"tram-\".concat(tramitEvt.id));})})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-light me-2\",onClick:toggleCategory,children:t(\"Close\")}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success save-event\",children:t(\"Save\")})]})})})]})})]})]})})]})]});};var mapStateToProps=function mapStateToProps(_ref){var calendar=_ref.calendar;return{events:calendar.events,categories:calendar.categories,tramits:calendar.tramits,isEventUpdated:calendar.isEventUpdated};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onGetEvents:function onGetEvents(){return dispatch(getEvents());},onGetCategories:function onGetCategories(){return dispatch(getCategories());},onGetTramit:function onGetTramit(){return dispatch(getTramit());},onAddNewEvent:function onAddNewEvent(event){return dispatch(addNewEvent(event));},onUpdateEvent:function onUpdateEvent(event){return dispatch(updateEvent(event));},onDeleteEvent:function onDeleteEvent(event){return dispatch(deleteEvent(event));}};};export default connect(mapStateToProps,mapDispatchToProps)(Calender);","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/Calendar/index.js"],"names":["React","useEffect","useState","useTranslation","connect","isEmpty","Button","Card","CardBody","Col","Modal","ModalBody","ModalHeader","Row","AvField","AvForm","FullCalendar","dayGridPlugin","interactionPlugin","Draggable","BootstrapTheme","Breadcrumbs","addNewEvent","deleteEvent","getCategories","getEvents","updateEvent","getTramit","DeleteModal","Calender","props","t","i18n","events","categories","onGetCategories","onGetEvents","onGetTramit","modal","setModal","deleteModal","setDeleteModal","modalcategory","setModalcategory","event","setEvent","selectedDay","setSelectedDay","isEdit","setIsEdit","tramitOptionsTest","id","title","type","document","getElementById","itemSelector","toggle","setTimeout","toggleCategory","handleDateClick","arg","handleEventClick","title_category","start","className","classNames","category","event_category","handleValidEventSubmit","e","values","onAddNewEvent","onUpdateEvent","newEvent","Math","floor","random","date","Date","handleValidEventSubmitcategory","handleDeleteEvent","onDeleteEvent","onDrag","preventDefault","onDrop","draggedEl","innerText","map","i","left","center","right","required","value","tramitEvt","mapStateToProps","calendar","tramits","isEventUpdated","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport PropTypes from \"prop-types\"\r\nimport { connect } from \"react-redux\"\r\nimport { isEmpty } from \"lodash\"\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardBody,\r\n  Col,\r\n  Modal,\r\n  ModalBody,\r\n  ModalHeader,\r\n  Row,\r\n} from \"reactstrap\"\r\nimport { AvField, AvForm } from \"availity-reactstrap-validation\"\r\nimport FullCalendar from \"@fullcalendar/react\"\r\nimport dayGridPlugin from \"@fullcalendar/daygrid\"\r\nimport interactionPlugin, { Draggable } from \"@fullcalendar/interaction\"\r\nimport BootstrapTheme from \"@fullcalendar/bootstrap\"\r\n//Import Breadcrumb\r\nimport Breadcrumbs from \"../../components/Common/Breadcrumb\"\r\nimport {\r\n  addNewEvent,\r\n  deleteEvent,\r\n  getCategories,\r\n  getEvents,\r\n  updateEvent,\r\n  getTramit,\r\n} from \"../../store/actions\"\r\nimport DeleteModal from \"./DeleteModal\"\r\n//css\r\nimport \"@fullcalendar/bootstrap/main.css\"\r\n\r\nconst Calender = props => {\r\n  const { t, i18n } = useTranslation();\r\n\r\n  const { events, categories, onGetCategories, onGetEvents, onGetTramit } = props\r\n  const [modal, setModal] = useState(false)\r\n  const [deleteModal, setDeleteModal] = useState(false)\r\n  const [modalcategory, setModalcategory] = useState(false)\r\n  const [event, setEvent] = useState({})\r\n  const [selectedDay, setSelectedDay] = useState(0)\r\n  const [isEdit, setIsEdit] = useState(false)\r\n\r\n  const tramitOptionsTest = [\r\n    {\r\n      id: 1,\r\n      title: \"Trámite\",\r\n      type: \"bg-success\",\r\n    },\r\n    {\r\n      id: 2,\r\n      title: \"Trámite 2\",\r\n      type: \"bg-success\",\r\n    },\r\n    {\r\n      id: 3,\r\n      title: \"Trámite 3\",\r\n      type: \"bg-success\",\r\n    },\r\n    {\r\n      id: 4,\r\n      title: \"Trámite 4\",\r\n      type: \"bg-success\",\r\n    },\r\n    {\r\n      id: 5,\r\n      title: \"Trámite 5\",\r\n      type: \"bg-success\",\r\n    },\r\n  ]\r\n  \r\n  useEffect(() => {\r\n    onGetCategories()\r\n    onGetEvents()\r\n    onGetTramit()\r\n    new Draggable(document.getElementById(\"external-events\"), {\r\n      itemSelector: \".external-event\",\r\n    })\r\n  }, [onGetCategories, onGetEvents, onGetTramit]);\r\n  /**\r\n   * Handling the modal state\r\n   */\r\n  const toggle = () => {\r\n    setModal(!modal)\r\n    if (!modal && !isEmpty(event) && !isEdit) {\r\n      setTimeout(() => {\r\n        setEvent({})\r\n        setIsEdit(false)\r\n      }, 500)\r\n    }\r\n  }\r\n\r\n  const toggleCategory = () => {\r\n    setModalcategory(!modalcategory)\r\n  }\r\n\r\n  /**\r\n   * Handling date click on calendar\r\n   */\r\n  const handleDateClick = arg => {\r\n    setSelectedDay(arg)\r\n    toggle()\r\n  }\r\n\r\n  /**\r\n   * Handling click on event on calendar\r\n   */\r\n  const handleEventClick = arg => {\r\n    const event = arg.event\r\n    setEvent({\r\n      id: event.id,\r\n      title: event.title,\r\n      title_category: event.title_category,\r\n      start: event.start,\r\n      className: event.classNames,\r\n      category: event.classNames[0],\r\n      event_category: event.classNames[0],\r\n    })\r\n    setIsEdit(true)\r\n    toggle()\r\n  }\r\n\r\n  /**\r\n   * Handling submit event on event form\r\n   */\r\n  const handleValidEventSubmit = (e, values) => {\r\n    const { onAddNewEvent, onUpdateEvent } = props\r\n    if (isEdit) {\r\n      const updateEvent = {\r\n        id: event.id,\r\n        title: values.title,\r\n        classNames: values.category + \" text-white\",\r\n        start: event.start,\r\n      }\r\n      // update event\r\n      onUpdateEvent(updateEvent)\r\n    } else {\r\n      const newEvent = {\r\n        id: Math.floor(Math.random() * 100),\r\n        title: values[\"title\"],\r\n        start: selectedDay ? selectedDay.date : new Date(),\r\n        className: values.category + \" text-white\",\r\n      }\r\n      // save new event\r\n      onAddNewEvent(newEvent)\r\n    }\r\n    setSelectedDay(null)\r\n    toggle()\r\n  }\r\n\r\n  const handleValidEventSubmitcategory = (event, values) => {\r\n    const { onAddNewEvent } = props\r\n    const newEvent = {\r\n      id: Math.floor(Math.random() * 100),\r\n      title: values[\"title_category\"],\r\n      start: selectedDay ? selectedDay.date : new Date(),\r\n      className: values.event_category + \" text-white\",\r\n    }\r\n    // save new event\r\n    onAddNewEvent(newEvent)\r\n    toggleCategory()\r\n  }\r\n\r\n  /**\r\n   * On delete event\r\n   */\r\n  const handleDeleteEvent = () => {\r\n    const { onDeleteEvent } = props\r\n    onDeleteEvent(event)\r\n    setDeleteModal(false)\r\n    toggle()\r\n  }\r\n\r\n  /**\r\n   * On category darg event\r\n   */\r\n  const onDrag = (event) => {\r\n    event.preventDefault()\r\n  }\r\n\r\n  /**\r\n   * On calendar drop event\r\n   */\r\n  const onDrop = event => {\r\n    const { onAddNewEvent } = props\r\n    const draggedEl = event.draggedEl\r\n    const newEvent = {\r\n      id: Math.floor(Math.random() * 100),\r\n      title: draggedEl.innerText,\r\n      start: event.date,\r\n      className: draggedEl.className,\r\n    }\r\n    onAddNewEvent(newEvent)\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <DeleteModal\r\n        show={deleteModal}\r\n        onDeleteClick={handleDeleteEvent}\r\n        onCloseClick={() => setDeleteModal(false)}\r\n      />\r\n      <div className=\"page-content\">\r\n\r\n        {/* Render Breadcrumb */}\r\n        <Breadcrumbs title={t(\"Menu\")} breadcrumbItem={t(\"Calendar\")} />\r\n        <Row>\r\n          <Col xs={12}>\r\n            <Row className=\"mb-4\">\r\n              <Col lg={3}>\r\n                <Card className=\"h-100 mb-lg-0\">\r\n                  <CardBody>\r\n                    <Button\r\n                      color=\"primary\"\r\n                      className=\"btn font-16 btn-primary w-100\"\r\n                      onClick={toggleCategory}\r\n                    >\r\n                      <i className=\"mdi mdi-plus-circle-outline me-1\" />\r\n                      {t(\"Create new event\")}\r\n                    </Button>\r\n                    <div id=\"external-events\">\r\n                      <br />\r\n                      <p className=\"text-muted\">\r\n                        {t(\"Drag and drop your event or click in the calendar\")}\r\n                      </p>\r\n                      {categories &&\r\n                        categories.map((category, i) => (\r\n                          <div\r\n                            className={`${category.type} external-event fc-event text-white`}\r\n                            key={\"cat-\" + category.id}\r\n                            draggable\r\n                            onDrag={event => onDrag(event, category)}\r\n                          >\r\n                            <i className=\"mdi mdi-checkbox-blank-circle font-size-11 me-2\" />\r\n                            {category.title}\r\n                          </div>\r\n                        ))}\r\n                    </div>\r\n                  </CardBody>\r\n                </Card>\r\n              </Col>\r\n              <Col className=\"col-lg-9 app-calendar\">\r\n                <Card className=\"mb-lg-0\">\r\n                  <CardBody>\r\n                    <FullCalendar\r\n                      plugins={[\r\n                        BootstrapTheme,\r\n                        dayGridPlugin,\r\n                        interactionPlugin,\r\n                      ]}\r\n                      slotDuration={\"00:15:00\"}\r\n                      handleWindowResize={true}\r\n                      themeSystem=\"bootstrap\"\r\n                      headerToolbar={{\r\n                        left: t(\"prev,next today\"),\r\n                        center: \"title\",\r\n                        right: \"dayGridMonth,dayGridWeek,dayGridDay\",\r\n                      }}\r\n                      events={events}\r\n                      editable={true}\r\n                      droppable={true}\r\n                      selectable={true}\r\n                      dateClick={handleDateClick}\r\n                      eventClick={handleEventClick}\r\n                      drop={onDrop}\r\n                    />\r\n                  </CardBody>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n            {/* New/Edit event modal */}\r\n            <Modal isOpen={modal} className={props.className}>\r\n              <ModalHeader toggle={toggle} tag=\"h4\">\r\n                {!!isEdit ? t(\"Edit event\") : t(\"Add event\")}\r\n              </ModalHeader>\r\n              <ModalBody>\r\n                <AvForm onValidSubmit={handleValidEventSubmit}>\r\n                  <Row form>\r\n                    <Col className=\"col-12 mb-3\">\r\n                      <AvField\r\n                        name=\"title\"\r\n                        label={t(\"Event name\")}\r\n                        type=\"text\"\r\n                        errorMessage=\"Invalid name\"\r\n                        validate={{\r\n                          required: { value: true },\r\n                        }}\r\n                        value={(event && event.title) ? event.title : \"\"}\r\n                      />\r\n                    </Col>\r\n                    <Col className=\"col-12 mb-3\">\r\n                      <AvField\r\n                        type=\"select\"\r\n                        name=\"category\"\r\n                        label={t(\"Select tramit\")}\r\n                        validate={{\r\n                          required: { value: true },\r\n                        }}\r\n                        value={event ? event.category : \"bg-primary\"}\r\n                      >\r\n                        {\r\n                          tramitOptionsTest.map((tramitEvt) => (\r\n                            <option\r\n                              key={`tram-${tramitEvt.id}`}\r\n                            >\r\n                              {tramitEvt.title}\r\n                            </option>\r\n                          ))\r\n                        }\r\n                      </AvField>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row>\r\n                    <Col>\r\n                      <div className=\"text-end\">\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"btn btn-light me-2\"\r\n                          onClick={toggle}\r\n                        >\r\n                          {t(\"Close\")}\r\n                        </button>\r\n                        {!!isEdit && (\r\n                          <button\r\n                            type=\"button\"\r\n                            className=\"btn btn-danger me-2\"\r\n                            onClick={() => setDeleteModal(true)}\r\n                          >\r\n                            {t(\"Delete\")}\r\n                          </button>\r\n                        )}\r\n                        <button\r\n                          type=\"submit\"\r\n                          className=\"btn btn-success save-event\"\r\n                        >\r\n                          {t(\"Save\")}\r\n                        </button>\r\n                      </div>\r\n                    </Col>\r\n                  </Row>\r\n                </AvForm>\r\n              </ModalBody>\r\n            </Modal>\r\n            <Modal\r\n              isOpen={modalcategory}\r\n              toggle={toggleCategory}\r\n              className={props.className}\r\n            >\r\n              <ModalHeader toggle={toggleCategory} tag=\"h4\">\r\n                {t(\"Add event\")}\r\n              </ModalHeader>\r\n              <ModalBody>\r\n                <AvForm\r\n                  onValidSubmit={handleValidEventSubmitcategory}\r\n                >\r\n                  <Row form>\r\n                    <Col className=\"col-12 mb-3\">\r\n                      <AvField\r\n                        name=\"title_category\"\r\n                        label={t(\"Event name\")}\r\n                        type=\"text\"\r\n                        errorMessage=\"Invalid name\"\r\n                        validate={{\r\n                          required: { value: true },\r\n                        }}\r\n                        value={\r\n                          event.title_category\r\n                            ? event.title_category\r\n                            : \"\"\r\n                        }\r\n                      />\r\n                    </Col>\r\n                    <Col className=\"col-12 mb-3\">\r\n                      <AvField\r\n                        type=\"select\"\r\n                        name=\"event_category\"\r\n                        label={t(\"Choose a tramit\")}\r\n                        value={\r\n                          event ? event.event_category : \"bg-success\"\r\n                        }\r\n                      >\r\n                        {\r\n                          tramitOptionsTest.map((tramitEvt) => (\r\n                            <option\r\n                              key={`tram-${tramitEvt.id}`}\r\n                              value={tramitEvt.id}\r\n                            >\r\n                              {tramitEvt.title}\r\n                            </option>\r\n                          ))\r\n                        }\r\n                      </AvField>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row>\r\n                    <Col>\r\n                      <div className=\"text-right\">\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"btn btn-light me-2\"\r\n                          onClick={toggleCategory}\r\n                        >\r\n                          {t(\"Close\")}\r\n                        </button>\r\n                        <button\r\n                          type=\"submit\"\r\n                          className=\"btn btn-success save-event\"\r\n                        >\r\n                          {t(\"Save\")}\r\n                        </button>\r\n                      </div>\r\n                    </Col>\r\n                  </Row>\r\n                </AvForm>\r\n              </ModalBody>\r\n            </Modal>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}\r\nCalender.propTypes = {\r\n  events: PropTypes.array,\r\n  categories: PropTypes.array,\r\n  tramits: PropTypes.array,\r\n  className: PropTypes.string,\r\n  onGetEvents: PropTypes.func,\r\n  onAddNewEvent: PropTypes.func,\r\n  onUpdateEvent: PropTypes.func,\r\n  onDeleteEvent: PropTypes.func,\r\n  onGetCategories: PropTypes.func,\r\n  onGetTramit: PropTypes.func,\r\n}\r\nconst mapStateToProps = ({ calendar }) => ({\r\n  events: calendar.events,\r\n  categories: calendar.categories,\r\n  tramits: calendar.tramits,\r\n  isEventUpdated: calendar.isEventUpdated\r\n})\r\nconst mapDispatchToProps = dispatch => ({\r\n  onGetEvents: () => dispatch(getEvents()),\r\n  onGetCategories: () => dispatch(getCategories()),\r\n  onGetTramit: () => dispatch(getTramit()),\r\n  onAddNewEvent: event => dispatch(addNewEvent(event)),\r\n  onUpdateEvent: event => dispatch(updateEvent(event)),\r\n  onDeleteEvent: event => dispatch(deleteEvent(event)),\r\n})\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Calender)"]},"metadata":{},"sourceType":"module"}