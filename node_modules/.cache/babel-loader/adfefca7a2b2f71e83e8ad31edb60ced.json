{"ast":null,"code":"var _jsxFileName = \"D:\\\\_PROJECTS\\\\_SOAINT\\\\JBPM\\\\App\\\\banescocreditoscomerciales\\\\src\\\\pages\\\\CommercialCredit\\\\16_RiesgoAmbiental\\\\riesgoAmbiental\\\\FormDetalles.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useImperativeHandle, forwardRef, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { translationHelpers } from '../../../../helpers';\nimport RiesgoAmbientalContext from '../RiesgoAmbientalContext';\nimport { Card, CardBody, Row, Col, Button, Label } from \"reactstrap\";\nimport { AvForm, AvField, AvGroup, AvInput } from \"availity-reactstrap-validation\";\nimport ServicioRiesgoAmbiental from '../../../../services/RiesgoAmbiental/RiesgoAmbiental';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FormDetalles = /*#__PURE__*/forwardRef(_c = _s((props, ref) => {\n  _s();\n\n  const [t, c] = translationHelpers('environmental_risk', 'common');\n  const [displayCovenantDetails, setDisplayCovenantDetails] = useState(true);\n  const [formValid, setFormValid] = useState(false); // services\n\n  const context = useContext(RiesgoAmbientalContext);\n  const servicioRiesgoAmbiental = new ServicioRiesgoAmbiental();\n  useImperativeHandle(ref, () => ({\n    submit: (validate = true) => {\n      const form = document.getElementById('formDetallesRiesgoAmbiental');\n      form.requestSubmit();\n      return formValid;\n    },\n    getFormValidation: () => {\n      return formValid;\n    }\n  }));\n\n  function handleCovenantChange(event) {\n    const value = event.target.value === 'Si';\n    setDisplayCovenantDetails(value);\n  }\n\n  function handleSubmit(event, errors, values) {\n    event.preventDefault();\n    const isValid = errors.length === 0;\n    setFormValid(isValid);\n\n    if (isValid) {\n      console.log('submit', values, errors);\n      const {\n        transactionId\n      } = context;\n      servicioRiesgoAmbiental.guardarInformacionRiesgoAmbiental(transactionId, values).then(result => {\n        console.log('result', result);\n      }).catch(error => {\n        console.error('Error guardando', error);\n      });\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: /*#__PURE__*/_jsxDEV(CardBody, {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"card-title\",\n        children: t(\"Other Details\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"card-title-desc\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AvForm, {\n        id: \"formDetallesRiesgoAmbiental\",\n        className: \"needs-validation\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"my-3\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            md: \"12\",\n            children: /*#__PURE__*/_jsxDEV(AvGroup, {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"covenants\",\n                children: t(\"Covenants Ambientales\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                className: \"form-control\",\n                name: \"covenants\",\n                type: \"select\",\n                id: \"covenants\",\n                value: \"Yes\",\n                onChange: handleCovenantChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  children: c(\"Yes\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: c(\"No\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }, this), displayCovenantDetails && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            className: \"my-3\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: \"4\",\n              children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  htmlFor: \"detalle\",\n                  children: t(\"Detalle\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                  className: \"form-control\",\n                  name: \"detalle\",\n                  type: \"text\",\n                  id: \"detalle\",\n                  validate: {\n                    required: {\n                      value: true,\n                      errorMessage: c(\"Required\")\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: \"4\",\n              children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  htmlFor: \"cumplimiento\",\n                  children: t(\"Cumplimiento\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                  className: \"form-control\",\n                  name: \"cumplimiento\",\n                  type: \"text\",\n                  id: \"cumplimiento\",\n                  validate: {\n                    required: {\n                      value: true,\n                      errorMessage: c(\"Required\")\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: \"4\",\n              children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  htmlFor: \"plazo\",\n                  children: t(\"Plazo\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                  className: \"form-control\",\n                  name: \"plazo\",\n                  type: \"text\",\n                  id: \"plazo\",\n                  validate: {\n                    required: {\n                      value: true,\n                      errorMessage: c(\"Required\")\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            className: \"my-3\",\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: \"12\",\n              children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  htmlFor: \"situacion\",\n                  children: t(\"Situacion Detectada\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                  className: \"form-control\",\n                  name: \"situacion\",\n                  type: \"textarea\",\n                  id: \"situacion\",\n                  rows: \"7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"my-3\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            md: \"12\",\n            children: /*#__PURE__*/_jsxDEV(AvGroup, {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"recomendaciones\",\n                children: t(\"Recomendaciones\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                className: \"form-control\",\n                name: \"recomendaciones\",\n                type: \"textarea\",\n                id: \"recomendaciones\",\n                rows: \"7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"my-3\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            md: \"12\",\n            children: /*#__PURE__*/_jsxDEV(AvGroup, {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"conclusiones\",\n                children: t(\"Conclusiones\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                className: \"form-control\",\n                name: \"conclusiones\",\n                type: \"textarea\",\n                id: \"conclusiones\",\n                rows: \"7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}, \"WASIMmIIB3XMx6MPgMIrv6i5dC8=\", false, function () {\n  return [useImperativeHandle];\n}));\n_c2 = FormDetalles;\nFormDetalles.propTypes = {\n  onSearch: PropTypes.func\n};\nexport default FormDetalles;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"FormDetalles$forwardRef\");\n$RefreshReg$(_c2, \"FormDetalles\");","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/16_RiesgoAmbiental/riesgoAmbiental/FormDetalles.js"],"names":["useState","useImperativeHandle","forwardRef","useContext","PropTypes","translationHelpers","RiesgoAmbientalContext","Card","CardBody","Row","Col","Button","Label","AvForm","AvField","AvGroup","AvInput","ServicioRiesgoAmbiental","FormDetalles","props","ref","t","c","displayCovenantDetails","setDisplayCovenantDetails","formValid","setFormValid","context","servicioRiesgoAmbiental","submit","validate","form","document","getElementById","requestSubmit","getFormValidation","handleCovenantChange","event","value","target","handleSubmit","errors","values","preventDefault","isValid","length","console","log","transactionId","guardarInformacionRiesgoAmbiental","then","result","catch","error","required","errorMessage","propTypes","onSearch","func"],"mappings":"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","sourcesContent":["import { useState, useImperativeHandle, forwardRef, useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { translationHelpers } from '../../../../helpers';\r\nimport RiesgoAmbientalContext from '../RiesgoAmbientalContext';\r\n\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Label\r\n} from \"reactstrap\"\r\n\r\nimport { AvForm, AvField, AvGroup, AvInput } from \"availity-reactstrap-validation\"\r\nimport ServicioRiesgoAmbiental from '../../../../services/RiesgoAmbiental/RiesgoAmbiental';\r\n\r\n\r\nconst FormDetalles = forwardRef((props, ref) => {\r\n\r\n  const [t, c] = translationHelpers('environmental_risk', 'common');\r\n\r\n  const [displayCovenantDetails, setDisplayCovenantDetails] = useState(true);\r\n  const [formValid, setFormValid] = useState(false);\r\n\r\n  // services\r\n  const context = useContext(RiesgoAmbientalContext);\r\n  const servicioRiesgoAmbiental = new ServicioRiesgoAmbiental();\r\n\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    submit: (validate = true) => {\r\n      const form = document.getElementById('formDetallesRiesgoAmbiental');\r\n      form.requestSubmit();\r\n      return formValid;\r\n    },\r\n    getFormValidation: () => {\r\n      return formValid;\r\n    }\r\n  }));\r\n\r\n  function handleCovenantChange(event) {\r\n    const value = event.target.value === 'Si';\r\n    setDisplayCovenantDetails(value);\r\n  }\r\n\r\n  function handleSubmit(event, errors, values) {\r\n    event.preventDefault();\r\n    const isValid = errors.length === 0;\r\n    setFormValid(isValid);\r\n    if( isValid ) {\r\n      console.log('submit', values, errors);\r\n      const { transactionId } = context;\r\n      servicioRiesgoAmbiental.guardarInformacionRiesgoAmbiental(transactionId, values)\r\n        .then((result) => {\r\n          console.log('result', result);\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error guardando', error);\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n\r\n      <CardBody>\r\n        <h4 className=\"card-title\">{ t(\"Other Details\") }</h4>\r\n        <p className=\"card-title-desc\"></p>\r\n\r\n        <AvForm id=\"formDetallesRiesgoAmbiental\" className=\"needs-validation\" onSubmit={handleSubmit}>\r\n\r\n        <Row className=\"my-3\">\r\n          <Col md=\"12\">\r\n            <AvGroup>\r\n              <Label htmlFor=\"covenants\">{ t(\"Covenants Ambientales\") }</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                name=\"covenants\"\r\n                type=\"select\"\r\n                id=\"covenants\"\r\n                value=\"Yes\"\r\n                onChange={ handleCovenantChange }>\r\n                  <option>{ c(\"Yes\") }</option>\r\n                  <option>{ c(\"No\") }</option>\r\n              </AvField>\r\n            </AvGroup>\r\n          </Col>\r\n        </Row>\r\n\r\n        { displayCovenantDetails && (\r\n        <>\r\n        <Row className=\"my-3\">\r\n          <Col md=\"4\">\r\n            <AvGroup>\r\n              <Label htmlFor=\"detalle\">{ t(\"Detalle\") }</Label>\r\n              <AvField className=\"form-control\"\r\n                name=\"detalle\"\r\n                type=\"text\"\r\n                id=\"detalle\"\r\n                validate={{\r\n                  required: { value: true, errorMessage: c(\"Required\") }\r\n                }} />\r\n            </AvGroup>\r\n          </Col>\r\n          <Col md=\"4\">\r\n            <AvGroup>\r\n              <Label htmlFor=\"cumplimiento\">{ t(\"Cumplimiento\") }</Label>\r\n              <AvField className=\"form-control\"\r\n                name=\"cumplimiento\"\r\n                type=\"text\"\r\n                id=\"cumplimiento\"\r\n                validate={{\r\n                  required: { value: true, errorMessage: c(\"Required\") }\r\n                }} />\r\n            </AvGroup>\r\n          </Col>\r\n          <Col md=\"4\">\r\n            <AvGroup>\r\n              <Label htmlFor=\"plazo\">{ t(\"Plazo\") }</Label>\r\n              <AvField className=\"form-control\"\r\n                name=\"plazo\"\r\n                type=\"text\"\r\n                id=\"plazo\"\r\n                validate={{\r\n                  required: { value: true, errorMessage: c(\"Required\") }\r\n                }} />\r\n            </AvGroup>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row className=\"my-3\">\r\n          <Col md=\"12\">\r\n            <AvGroup>\r\n              <Label htmlFor=\"situacion\">{ t(\"Situacion Detectada\") }</Label>\r\n              <AvField className=\"form-control\"\r\n                name=\"situacion\"\r\n                type=\"textarea\"\r\n                id=\"situacion\"\r\n                rows=\"7\" />\r\n            </AvGroup>\r\n          </Col>\r\n        </Row>\r\n        </>\r\n        )}\r\n\r\n        <Row className=\"my-3\">\r\n          <Col md=\"12\">\r\n            <AvGroup>\r\n              <Label htmlFor=\"recomendaciones\">{ t(\"Recomendaciones\") }</Label>\r\n              <AvField className=\"form-control\"\r\n                name=\"recomendaciones\"\r\n                type=\"textarea\"\r\n                id=\"recomendaciones\"\r\n                rows=\"7\" />\r\n            </AvGroup>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row className=\"my-3\">\r\n          <Col md=\"12\">\r\n            <AvGroup>\r\n              <Label htmlFor=\"conclusiones\">{ t(\"Conclusiones\") }</Label>\r\n              <AvField className=\"form-control\"\r\n                name=\"conclusiones\"\r\n                type=\"textarea\"\r\n                id=\"conclusiones\"\r\n                rows=\"7\" />\r\n            </AvGroup>\r\n          </Col>\r\n        </Row>\r\n\r\n        </AvForm>\r\n\r\n      </CardBody>\r\n\r\n    </Card>\r\n  );\r\n});\r\n\r\n\r\nFormDetalles.propTypes = {\r\n  onSearch: PropTypes.func\r\n};\r\n\r\nexport default FormDetalles;\r\n"]},"metadata":{},"sourceType":"module"}