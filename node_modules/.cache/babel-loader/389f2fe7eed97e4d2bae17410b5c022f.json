{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useRef}from\"react\";import{translationHelpers}from\"../../../helpers\";import{useLocation,useHistory}from'react-router-dom';import*as url from\"../../../helpers/url_helper\";import RiesgoAmbientalContext from'./RiesgoAmbientalContext';import{Row,Col,Button}from\"reactstrap\";//Import Breadcrumb\nimport Breadcrumbs from\"../../../components/Common/Breadcrumb\";import FormAspectosAmbientales from\"./riesgoAmbiental/FormAspectosAmbientales\";import FormDetalles from\"./riesgoAmbiental/FormDetalles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var RiesgoAmbientalDetalle=function RiesgoAmbientalDetalle(props){var history=useHistory();var location=useLocation();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),proposal=_useState2[0],setProposal=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),context=_useState4[0],setContext=_useState4[1];var _translationHelpers=translationHelpers('navigation','commercial_credit','common'),_translationHelpers2=_slicedToArray(_translationHelpers,3),n=_translationHelpers2[0],t=_translationHelpers2[1],c=_translationHelpers2[2];useEffect(function(){if(!location.data){location.data={\"requestId\":\"XYZ892022\",\"facilityId\":\"\",\"customerId\":\"68\",\"transactionId\":\"101\",\"processId\":\"6\",\"activityId\":\"0\",\"instanceId\":9104,\"taskId\":456,\"taskStatus\":\"InProgress\"};}// update context\nconsole.log('setContext',location.data);setContext({transactionId:location.data.transactionId,customerId:location.data.customerId,instanceId:location.data.instanceId,requestId:location.data.requestId});fetchProposal();},[]);// Component Refs\nvar aspectosAmbientalesRef=useRef();var formDetallesRef=useRef();function fetchProposal(){setProposal({proposal:{id:1010,revisionType:'Bimensual',preapproved:false,minSib:'Provision',relatedPart:false,approvalLevel:'Nivel',flowType:'Normal',applicationDate:'24-sep-2021',lastApplicationDate:'24-sep-2021',nextRevisionDate:'24-sep-2021',expirationDate:'24-sep-2021'},client:{number:'3223213'},economicGroup:{number:'32132006176',name:'Grupo Tova SA',business:'Actividad seleccionada'},risk:{countryClass:'PanamÃ¡',classification:'Medio',countryRisk:'Nicaragua'},accountExecutive:{name:'Elibeth'},responsibleUnit:{name:'Unidad'}});}function handleSave(){/* ---------------------------------------------------------------------------------------------- */ /*                   Aqui se debe de realizar la decision o continuar el proceso                  */ /* ---------------------------------------------------------------------------------------------- */console.log('handleSave()');aspectosAmbientalesRef.current.submit();formDetallesRef.current.submit();// history.push(url.URL_DASHBOARD);\n}function handleClose(){/* ---------------------------------------------------------------------------------------------- */ /*           Verificar si toca culminar el proceso o solo salir a la bandeja de entrada           */ /* ---------------------------------------------------------------------------------------------- */history.push(url.URL_DASHBOARD);}return/*#__PURE__*/_jsx(RiesgoAmbientalContext.Provider,{value:context,children:/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(Breadcrumbs,{title:n(\"Commercial Credit\"),breadcrumbItem:n(\"Environmental Risk\")}),proposal&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xl:\"12\",children:/*#__PURE__*/_jsx(FormAspectosAmbientales,{ref:aspectosAmbientalesRef})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xl:\"12\",children:/*#__PURE__*/_jsx(FormDetalles,{ref:formDetallesRef})})}),/*#__PURE__*/_jsx(Row,{className:\"my-2\",children:/*#__PURE__*/_jsxs(Col,{xl:\"12 text-end\",children:[/*#__PURE__*/_jsxs(Button,{id:\"btnClose\",color:\"dark\",type:\"button\",style:{margin:'5px'},onClick:handleClose,children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-arrow-left-bold-circle-outline mid-12px\"}),\" \",\" \",c(\"Close\")]}),/*#__PURE__*/_jsxs(Button,{id:\"btnSubmit\",color:\"success\",type:\"button\",style:{margin:'5px'},onClick:handleSave,children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-content-save mdi-12px\"}),\" \",c(\"Save\")]})]})})]})]})});};export default RiesgoAmbientalDetalle;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/16_RiesgoAmbiental/RiesgoAmbientalDetalle.js"],"names":["React","useEffect","useState","useRef","translationHelpers","useLocation","useHistory","url","RiesgoAmbientalContext","Row","Col","Button","Breadcrumbs","FormAspectosAmbientales","FormDetalles","RiesgoAmbientalDetalle","props","history","location","proposal","setProposal","context","setContext","n","t","c","data","console","log","transactionId","customerId","instanceId","requestId","fetchProposal","aspectosAmbientalesRef","formDetallesRef","id","revisionType","preapproved","minSib","relatedPart","approvalLevel","flowType","applicationDate","lastApplicationDate","nextRevisionDate","expirationDate","client","number","economicGroup","name","business","risk","countryClass","classification","countryRisk","accountExecutive","responsibleUnit","handleSave","current","submit","handleClose","push","URL_DASHBOARD","margin"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\"\r\nimport { translationHelpers } from \"../../../helpers\"\r\nimport { useLocation,useHistory } from 'react-router-dom'\r\nimport * as url from \"../../../helpers/url_helper\"\r\nimport RiesgoAmbientalContext from './RiesgoAmbientalContext'\r\n\r\nimport {\r\n  Row,\r\n  Col,\r\n  Button\r\n} from \"reactstrap\"\r\n\r\n\r\n//Import Breadcrumb\r\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\"\r\nimport FormAspectosAmbientales from \"./riesgoAmbiental/FormAspectosAmbientales\"\r\nimport FormDetalles from \"./riesgoAmbiental/FormDetalles\"\r\n\r\n\r\nconst RiesgoAmbientalDetalle = (props) => {\r\n\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  const [proposal, setProposal] = useState(null);\r\n  const [context, setContext] = useState({});\r\n\r\n  const [n, t, c] = translationHelpers('navigation', 'commercial_credit', 'common');\r\n\r\n  useEffect(() => {\r\n\r\n    if (!location.data) {\r\n      location.data = {\r\n        \"requestId\": \"XYZ892022\",\r\n        \"facilityId\": \"\",\r\n        \"customerId\": \"68\",\r\n        \"transactionId\": \"101\",\r\n        \"processId\": \"6\",\r\n        \"activityId\": \"0\",\r\n        \"instanceId\": 9104,\r\n        \"taskId\": 456,\r\n        \"taskStatus\": \"InProgress\"\r\n      }\r\n    }\r\n\r\n    // update context\r\n    console.log('setContext', location.data);\r\n    setContext({\r\n      transactionId: location.data.transactionId,\r\n      customerId: location.data.customerId,\r\n      instanceId: location.data.instanceId,\r\n      requestId: location.data.requestId,\r\n    });\r\n\r\n    fetchProposal();\r\n  }, []);\r\n\r\n  // Component Refs\r\n  const aspectosAmbientalesRef = useRef();\r\n  const formDetallesRef = useRef();\r\n\r\n  function fetchProposal() {\r\n    setProposal({\r\n      proposal: {\r\n        id: 1010,\r\n        revisionType: 'Bimensual',\r\n        preapproved: false,\r\n        minSib: 'Provision',\r\n        relatedPart: false,\r\n        approvalLevel: 'Nivel',\r\n        flowType: 'Normal',\r\n        applicationDate: '24-sep-2021',\r\n        lastApplicationDate: '24-sep-2021',\r\n        nextRevisionDate: '24-sep-2021',\r\n        expirationDate: '24-sep-2021'\r\n      },\r\n      client: {\r\n        number: '3223213',\r\n      },\r\n      economicGroup: {\r\n        number: '32132006176',\r\n        name: 'Grupo Tova SA',\r\n        business: 'Actividad seleccionada'\r\n      },\r\n      risk: {\r\n        countryClass: 'PanamÃ¡',\r\n        classification: 'Medio',\r\n        countryRisk: 'Nicaragua'\r\n      },\r\n      accountExecutive: {\r\n        name: 'Elibeth'\r\n      },\r\n      responsibleUnit: {\r\n        name: 'Unidad'\r\n      }\r\n    });\r\n  }\r\n\r\n  function handleSave() {\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                   Aqui se debe de realizar la decision o continuar el proceso                  */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n\r\n    console.log('handleSave()');\r\n    aspectosAmbientalesRef.current.submit();\r\n    formDetallesRef.current.submit();\r\n    // history.push(url.URL_DASHBOARD);\r\n  }\r\n\r\n  function handleClose() {\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*           Verificar si toca culminar el proceso o solo salir a la bandeja de entrada           */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    history.push(url.URL_DASHBOARD);\r\n  }\r\n\r\n  return (\r\n\r\n    <RiesgoAmbientalContext.Provider value={context}>\r\n\r\n      <div className=\"page-content\">\r\n\r\n        <Breadcrumbs title={ n(\"Commercial Credit\") } breadcrumbItem={ n(\"Environmental Risk\") } />\r\n\r\n        { proposal && (\r\n          <>\r\n\r\n            <Row>\r\n              <Col xl=\"12\">\r\n                <FormAspectosAmbientales ref={aspectosAmbientalesRef} />\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col xl=\"12\">\r\n                <FormDetalles ref={formDetallesRef} />\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row className=\"my-2\">\r\n              <Col xl=\"12 text-end\">\r\n              <Button id=\"btnClose\" color=\"dark\" type=\"button\" style={{ margin: '5px' }} onClick={ handleClose }>\r\n              <i className=\"mdi mdi-arrow-left-bold-circle-outline mid-12px\"></i>\r\n            {\" \"} { c(\"Close\") }\r\n                </Button>\r\n                <Button id=\"btnSubmit\" color=\"success\" type=\"button\" style={{ margin: '5px' }} onClick={ handleSave }>\r\n                <i className=\"mdi mdi-content-save mdi-12px\"></i>\r\n            {\" \"}{ c(\"Save\") }\r\n                </Button>\r\n\r\n              </Col>\r\n            </Row>\r\n\r\n          </>\r\n        )}\r\n\r\n      </div>\r\n\r\n    </RiesgoAmbientalContext.Provider>\r\n  );\r\n\r\n}\r\n\r\n\r\nexport default RiesgoAmbientalDetalle;\r\n"]},"metadata":{},"sourceType":"module"}