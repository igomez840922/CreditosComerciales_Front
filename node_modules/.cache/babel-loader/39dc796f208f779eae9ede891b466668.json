{"ast":null,"code":"var _jsxFileName = \"D:\\\\_PROJECTS\\\\_SOAINT\\\\JBPM\\\\App\\\\banescocreditoscomerciales\\\\src\\\\pages\\\\CommercialCredit\\\\6_AnalisisCredito\\\\CommercialCreditProposalPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useLocation, useHistory } from 'react-router-dom';\nimport * as url from \"../../../helpers/url_helper\";\nimport { useTranslation, withTranslation } from \"react-i18next\";\nimport { Row, Col, Button } from \"reactstrap\";\nimport { Link } from \"react-router-dom\"; // UI Components\n\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\";\nimport { ChangeSummary, CorporateExposure, CorporateExposureClient, FacilityList, FinancialSummary, GeneralSection } from \"../../../components/PropuestaCreditoComercial\"; // Services\n\nimport { BackendServices, CoreServices, BpmServices } from \"../../../services\";\nimport ApiServiceBackend from \"../../../services/BackendServices/Services\";\nimport { ServicioExposicionCorporativa } from \"../../../services/PropuestaCredito\";\nimport LoadingOverlay from \"react-loading-overlay\"; // Services\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst coreServices = new CoreServices();\nconst backServices = new BackendServices();\n\nconst CommercialCreditProposalPage = props => {\n  _s();\n\n  const history = useHistory();\n  const location = useLocation();\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  const [proposal, setProposal] = useState(null);\n  const [exposicionCorporativa, setExposicionCorporativa] = useState([]);\n  const [exposicionCorporativaClientes, setExposicionCorporativaClientes] = useState([]);\n  const [changeSummaryItems, setChangeSummaryItems] = useState([]);\n  const [facilityListItems, setFacilityListItems] = useState([]);\n  const [identificationList, setIdentificationList] = useState([]);\n  const [financialSummary, setFinancialSummary] = useState(null);\n  const [prospect, setProspect] = useState({});\n  const [isActiveLoading, setIsActiveLoading] = useState(true); // services\n\n  const servicioExposicionCorporativa = new ServicioExposicionCorporativa(); // const customerNumberT24 =location.data.customerId;\n\n  const customerNumberT24 = '600133774';\n  useEffect(() => {\n    getProspect();\n  }, []);\n\n  function fetchProposal() {\n    setProposal({\n      proposal: {\n        id: 1010,\n        revisionType: 'Bimensual',\n        preapproved: false,\n        minSib: 'Provision',\n        relatedPart: false,\n        approvalLevel: 'Nivel',\n        flowType: 'Normal',\n        applicationDate: '24-sep-2021',\n        lastApplicationDate: '24-sep-2021',\n        nextRevisionDate: '24-sep-2021',\n        expirationDate: '24-sep-2021'\n      },\n      client: {\n        number: '3223213'\n      },\n      economicGroup: {\n        number: '32132006176',\n        name: 'Grupo Tova SA',\n        business: 'Actividad seleccionada'\n      },\n      risk: {\n        countryClass: 'Panamá',\n        classification: 'Medio',\n        countryRisk: 'Nicaragua'\n      },\n      accountExecutive: {\n        name: 'Elibeth'\n      },\n      responsibleUnit: {\n        name: 'Unidad'\n      }\n    });\n    servicioExposicionCorporativa.consultarExposicionCliente(customerNumberT24).then(results => {\n      setExposicionCorporativaClientes(results);\n    });\n    servicioExposicionCorporativa.consultarExposicionCorporativa(customerNumberT24).then(results => {\n      setExposicionCorporativa(results);\n    });\n    setChangeSummaryItems([{\n      description: 'Incremento / Disminución (Exposición)'\n    }, {\n      description: 'Plazos: Fac 1'\n    }, {\n      description: 'Tasa: Fac 1'\n    }, {\n      description: 'Cuotas'\n    }, {\n      description: 'Garantías'\n    }, {\n      description: 'Covenats'\n    }, {\n      description: 'Fiadores / Codeudores'\n    }, {\n      description: 'Otras condiciones'\n    }]);\n    setFinancialSummary({\n      client: {\n        name: 'Nombre Deudor'\n      },\n      financialStatus: {\n        headers: ['Auditados Dic-18', 'Auditados Dic-19', 'Auditados Dic-20', 'Proyecciones Dic-21'],\n        items: [{\n          label: 'Clasificación SAFI',\n          data: ['-', '-', '5:6 Riesgo', '-']\n        }, {\n          label: 'Crecimiento',\n          data: ['-', '-3.4%', '-12.5%', '0.0%']\n        }, {\n          label: 'Costo de Ventas',\n          data: ['(1550)66.2%', '(1510)66.8%', '(1360)68.8%', '(1360)68.8%']\n        }, {\n          label: 'Beneficio Mutuo en Operaciones',\n          data: ['(790)66.2%', '(751)66.8%', '(618)68.8%', '(618)68.8%']\n        }, {\n          label: 'Margen Bruto',\n          data: ['', '', '', '']\n        }]\n      },\n      balances: {\n        active: {\n          title: t('Active Balance'),\n          headers: [t('Period Date'), '', '', ''],\n          items: [[t('Months'), '', '', ''], [t('Auditor'), '', '', ''], [t('Balance Type'), '', '', ''], [t('Figures Types'), '', '', ''], [t('Coins Types'), '', '', ''], [t('Exchange Rates'), '', '', '']]\n        },\n        passive: {\n          title: t('Passive Balance and Capital'),\n          headers: [t('Period Date'), '', '', ''],\n          items: [[t('Months'), '', '', ''], [t('Auditor'), '', '', ''], [t('Balance Type'), '', '', ''], [t('Figures Types'), '', '', ''], [t('Coins Types'), '', '', ''], [t('Exchange Rates'), '', '', '']]\n        },\n        application: {\n          title: t('Origin and Application Status'),\n          headers: [t('Period Date'), '', '', ''],\n          items: [[t('Months'), '', '', ''], [t('Auditor'), '', '', ''], [t('Balance Type'), '', '', ''], [t('Figures Types'), '', '', ''], [t('Coins Types'), '', '', ''], [t('Exchange Rates'), '', '', '']]\n        },\n        indicators: {\n          title: t('Indicators'),\n          headers: [t('Period Date'), '', '', ''],\n          items: [[t('Months'), '', '', ''], [t('Auditor'), '', '', ''], [t('Balance Type'), '', '', ''], [t('Figures Types'), '', '', ''], [t('Coins Types'), '', '', ''], [t('Exchange Rates'), '', '', '']]\n        }\n      },\n      debts: {\n        short: {\n          items: [{\n            bank: 'Capital Bank',\n            purpose: 'Linea de Crédito',\n            approvedAmount: 200,\n            balanceLastYear: 200,\n            balanceLast6Months: 154,\n            balanceForecast: 200,\n            rate: 7.0,\n            surety: 'Fianza'\n          }, {\n            bank: 'St Georges',\n            purpose: 'Linea de Crédito',\n            approvedAmount: 320,\n            balanceLastYear: 200,\n            balanceLast6Months: 436,\n            balanceForecast: 450,\n            rate: 7.5,\n            surety: 'Fianza'\n          }, {\n            bank: 'St Georges',\n            purpose: 'TDC',\n            approvedAmount: 11,\n            balanceLastYear: 11,\n            balanceLast6Months: 0,\n            balanceForecast: 11,\n            rate: null,\n            surety: ''\n          }]\n        },\n        long: {\n          items: [{\n            bank: 'Banesco',\n            purpose: 'Préstamo',\n            approvedAmount: 126,\n            balanceLastYear: 0,\n            balanceLast6Months: 0,\n            balanceForecast: 126,\n            rate: 6.5,\n            surety: 'Bien Inmueble'\n          }]\n        }\n      }\n    });\n    cargarIdentificaciones();\n    setIsActiveLoading(false);\n  }\n\n  function cargarIdentificaciones() {\n    return new Promise((resolve, reject) => {\n      backServices.consultarCatalogoTipoIdentificacion().then(data => {\n        if (data !== null && data !== undefined) {\n          setIdentificationList(data);\n        }\n\n        resolve();\n      }).catch(error => {\n        resolve();\n        console.error('api error: ', error);\n      });\n    });\n  }\n\n  function handleReturn() {\n    history.push(url.URL_DASHBOARD);\n  }\n\n  function handleClose() {\n    history.push(url.URL_DASHBOARD);\n  }\n\n  function handleSaveFacility(newItem) {\n    const newFacilities = [...facilityListItems, newItem];\n    setFacilityListItems(newFacilities);\n  }\n\n  function getProspect() {\n    backServices.consultarUsuarioProspecto(location.data.transactionId).then(async resp => {\n      console.log(resp); // customerNumberT24 = resp.customerNumberT24;\n\n      setProspect(customerNumberT24);\n      cargarListaFacilidades(customerNumberT24);\n      fetchProposal();\n    });\n  }\n\n  function cargarListaFacilidades(idcliente) {\n    return new Promise(function (resolve, reject) {\n      coreServices.getFacilidades(idcliente).then(resp => {\n        setFacilityListItems(resp);\n        resolve();\n      }).catch(err => {\n        resolve();\n        console.log(err);\n      });\n    });\n  }\n\n  function handleSaveFacility(newItem) {\n    const newFacilities = [...facilityListItems, newItem];\n    setFacilityListItems(newFacilities);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-content\",\n    children: [/*#__PURE__*/_jsxDEV(Breadcrumbs, {\n      title: t(\"Commercial Credit\"),\n      breadcrumbItem: t(\"Credit Analysis\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LoadingOverlay, {\n      active: isActiveLoading,\n      spinner: true,\n      text: t(\"WaitingPlease\"),\n      children: proposal && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            xl: \"12\",\n            children: /*#__PURE__*/_jsxDEV(GeneralSection, {\n              proposal: proposal,\n              prospect: prospect\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 13\n        }, this), exposicionCorporativa.length > 0 && /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            xl: \"12\",\n            children: /*#__PURE__*/_jsxDEV(CorporateExposure, {\n              prospect: prospect,\n              title: t(\"CorporateExhibition\"),\n              customerNumberT24: \"600133774\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 15\n        }, this), exposicionCorporativaClientes.length > 0 && /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            xl: \"12\",\n            children: /*#__PURE__*/_jsxDEV(CorporateExposureClient, {\n              title: t(\"CorporateExhibitionClient\"),\n              customerNumberT24: \"600133774\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 15\n        }, this), changeSummaryItems.length > 0 && /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            xl: \"12\",\n            children: /*#__PURE__*/_jsxDEV(ChangeSummary, {\n              title: t(\"SummaryOfChanges\"),\n              items: changeSummaryItems\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 15\n        }, this), facilityListItems.length > 0 && /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            xl: \"12\",\n            children: identificationList.length > 0 ? /*#__PURE__*/_jsxDEV(FacilityList, {\n              title: t(\"Facility List\"),\n              items: facilityListItems,\n              editMode: true,\n              onSaveFacility: handleSaveFacility,\n              identificationList: identificationList\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 21\n            }, this) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 15\n        }, this), financialSummary && /*#__PURE__*/_jsxDEV(FinancialSummary, {\n          client: financialSummary.client,\n          financialStatus: financialSummary.financialStatus,\n          balances: financialSummary.balances,\n          debts: financialSummary.debts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"my-2\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            xl: \"12 text-end\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              id: \"btnClose\",\n              color: \"dark\",\n              type: \"button\",\n              style: {\n                margin: '5px'\n              },\n              onClick: handleClose,\n              children: c(\"Close\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              id: \"btnSave\",\n              color: \"success\",\n              type: \"button\",\n              style: {\n                margin: '5px'\n              },\n              onClick: handleReturn,\n              children: c(\"Return\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: {\n                pathname: \"/creditocomercial/analisiscredito/informefinanciero\",\n                data: location.data\n              },\n              className: \"btn btn-success\",\n              style: {\n                margin: '5px'\n              },\n              children: t(\"Financial Report\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 319,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CommercialCreditProposalPage, \"Y7xhFchJ1Sf2+/1ndvremHCgpuA=\", false, function () {\n  return [useHistory, useLocation, useTranslation];\n});\n\n_c = CommercialCreditProposalPage;\nexport default CommercialCreditProposalPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CommercialCreditProposalPage\");","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/6_AnalisisCredito/CommercialCreditProposalPage.js"],"names":["React","useEffect","useState","useLocation","useHistory","url","useTranslation","withTranslation","Row","Col","Button","Link","Breadcrumbs","ChangeSummary","CorporateExposure","CorporateExposureClient","FacilityList","FinancialSummary","GeneralSection","BackendServices","CoreServices","BpmServices","ApiServiceBackend","ServicioExposicionCorporativa","LoadingOverlay","coreServices","backServices","CommercialCreditProposalPage","props","history","location","t","i18n","proposal","setProposal","exposicionCorporativa","setExposicionCorporativa","exposicionCorporativaClientes","setExposicionCorporativaClientes","changeSummaryItems","setChangeSummaryItems","facilityListItems","setFacilityListItems","identificationList","setIdentificationList","financialSummary","setFinancialSummary","prospect","setProspect","isActiveLoading","setIsActiveLoading","servicioExposicionCorporativa","customerNumberT24","getProspect","fetchProposal","id","revisionType","preapproved","minSib","relatedPart","approvalLevel","flowType","applicationDate","lastApplicationDate","nextRevisionDate","expirationDate","client","number","economicGroup","name","business","risk","countryClass","classification","countryRisk","accountExecutive","responsibleUnit","consultarExposicionCliente","then","results","consultarExposicionCorporativa","description","financialStatus","headers","items","label","data","balances","active","title","passive","application","indicators","debts","short","bank","purpose","approvedAmount","balanceLastYear","balanceLast6Months","balanceForecast","rate","surety","long","cargarIdentificaciones","Promise","resolve","reject","consultarCatalogoTipoIdentificacion","undefined","catch","error","console","handleReturn","push","URL_DASHBOARD","handleClose","handleSaveFacility","newItem","newFacilities","consultarUsuarioProspecto","transactionId","resp","log","cargarListaFacilidades","idcliente","getFacilidades","err","length","margin","c","pathname"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { useLocation, useHistory } from 'react-router-dom'\r\nimport * as url from \"../../../helpers/url_helper\"\r\nimport { useTranslation, withTranslation } from \"react-i18next\"\r\n\r\nimport {\r\n  Row,\r\n  Col,\r\n  Button\r\n} from \"reactstrap\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\n// UI Components\r\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\"\r\nimport {\r\n  ChangeSummary, CorporateExposure,CorporateExposureClient,\r\n  FacilityList, FinancialSummary,\r\n  GeneralSection\r\n} from \"../../../components/PropuestaCreditoComercial\"\r\n\r\n// Services\r\nimport { BackendServices, CoreServices, BpmServices, } from \"../../../services\";\r\nimport ApiServiceBackend from \"../../../services/BackendServices/Services\";\r\nimport {\r\n  ServicioExposicionCorporativa,\r\n} from \"../../../services/PropuestaCredito\";\r\nimport LoadingOverlay from \"react-loading-overlay\"\r\n\r\n// Services\r\nconst coreServices = new CoreServices();\r\nconst backServices = new BackendServices();\r\n\r\n\r\nconst CommercialCreditProposalPage = (props) => {\r\n\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  const { t, i18n } = useTranslation();\r\n\r\n  const [proposal, setProposal] = useState(null);\r\n  const [exposicionCorporativa, setExposicionCorporativa] = useState([]);\r\n  const [exposicionCorporativaClientes, setExposicionCorporativaClientes] = useState([]);\r\n  const [changeSummaryItems, setChangeSummaryItems] = useState([]);\r\n  const [facilityListItems, setFacilityListItems] = useState([]);\r\n  const [identificationList, setIdentificationList] = useState([]);\r\n  const [financialSummary, setFinancialSummary] = useState(null);\r\n  const [prospect, setProspect] = useState({});\r\n  const [isActiveLoading, setIsActiveLoading] = useState(true);\r\n\r\n\r\n  // services\r\n  const servicioExposicionCorporativa = new ServicioExposicionCorporativa();\r\n\r\n\r\n  // const customerNumberT24 =location.data.customerId;\r\n  const customerNumberT24 = '600133774';\r\n\r\n  useEffect(() => {\r\n    getProspect();\r\n  }, []);\r\n\r\n  function fetchProposal() {\r\n\r\n    setProposal({\r\n      proposal: {\r\n        id: 1010,\r\n        revisionType: 'Bimensual',\r\n        preapproved: false,\r\n        minSib: 'Provision',\r\n        relatedPart: false,\r\n        approvalLevel: 'Nivel',\r\n        flowType: 'Normal',\r\n        applicationDate: '24-sep-2021',\r\n        lastApplicationDate: '24-sep-2021',\r\n        nextRevisionDate: '24-sep-2021',\r\n        expirationDate: '24-sep-2021'\r\n      },\r\n      client: {\r\n        number: '3223213',\r\n      },\r\n      economicGroup: {\r\n        number: '32132006176',\r\n        name: 'Grupo Tova SA',\r\n        business: 'Actividad seleccionada'\r\n      },\r\n      risk: {\r\n        countryClass: 'Panamá',\r\n        classification: 'Medio',\r\n        countryRisk: 'Nicaragua'\r\n      },\r\n      accountExecutive: {\r\n        name: 'Elibeth'\r\n      },\r\n      responsibleUnit: {\r\n        name: 'Unidad'\r\n      }\r\n    });\r\n\r\n    servicioExposicionCorporativa.consultarExposicionCliente(customerNumberT24)\r\n      .then((results) => {\r\n        setExposicionCorporativaClientes(results);\r\n      });\r\n\r\n    servicioExposicionCorporativa.consultarExposicionCorporativa(customerNumberT24)\r\n      .then((results) => {\r\n        setExposicionCorporativa(results);\r\n      });\r\n\r\n    setChangeSummaryItems([\r\n      { description: 'Incremento / Disminución (Exposición)' },\r\n      { description: 'Plazos: Fac 1' },\r\n      { description: 'Tasa: Fac 1' },\r\n      { description: 'Cuotas' },\r\n      { description: 'Garantías' },\r\n      { description: 'Covenats' },\r\n      { description: 'Fiadores / Codeudores' },\r\n      { description: 'Otras condiciones' },\r\n    ]);\r\n\r\n\r\n    setFinancialSummary({\r\n      client: {\r\n        name: 'Nombre Deudor'\r\n      },\r\n      financialStatus: {\r\n        headers: ['Auditados Dic-18', 'Auditados Dic-19', 'Auditados Dic-20', 'Proyecciones Dic-21'],\r\n        items: [\r\n          {\r\n            label: 'Clasificación SAFI',\r\n            data: ['-', '-', '5:6 Riesgo', '-']\r\n          },\r\n          {\r\n            label: 'Crecimiento',\r\n            data: ['-', '-3.4%', '-12.5%', '0.0%']\r\n          },\r\n          {\r\n            label: 'Costo de Ventas',\r\n            data: ['(1550)66.2%', '(1510)66.8%', '(1360)68.8%', '(1360)68.8%']\r\n          },\r\n          {\r\n            label: 'Beneficio Mutuo en Operaciones',\r\n            data: ['(790)66.2%', '(751)66.8%', '(618)68.8%', '(618)68.8%']\r\n          },\r\n          {\r\n            label: 'Margen Bruto',\r\n            data: ['', '', '', '']\r\n          }\r\n        ]\r\n      },\r\n      balances: {\r\n        active: {\r\n          title: t('Active Balance'),\r\n          headers: [t('Period Date'), '', '', ''],\r\n          items: [\r\n            [t('Months'), '', '', ''],\r\n            [t('Auditor'), '', '', ''],\r\n            [t('Balance Type'), '', '', ''],\r\n            [t('Figures Types'), '', '', ''],\r\n            [t('Coins Types'), '', '', ''],\r\n            [t('Exchange Rates'), '', '', '']\r\n          ]\r\n        },\r\n        passive: {\r\n          title: t('Passive Balance and Capital'),\r\n          headers: [t('Period Date'), '', '', ''],\r\n          items: [\r\n            [t('Months'), '', '', ''],\r\n            [t('Auditor'), '', '', ''],\r\n            [t('Balance Type'), '', '', ''],\r\n            [t('Figures Types'), '', '', ''],\r\n            [t('Coins Types'), '', '', ''],\r\n            [t('Exchange Rates'), '', '', '']\r\n          ]\r\n        },\r\n        application: {\r\n          title: t('Origin and Application Status'),\r\n          headers: [t('Period Date'), '', '', ''],\r\n          items: [\r\n            [t('Months'), '', '', ''],\r\n            [t('Auditor'), '', '', ''],\r\n            [t('Balance Type'), '', '', ''],\r\n            [t('Figures Types'), '', '', ''],\r\n            [t('Coins Types'), '', '', ''],\r\n            [t('Exchange Rates'), '', '', '']\r\n          ]\r\n        },\r\n        indicators: {\r\n          title: t('Indicators'),\r\n          headers: [t('Period Date'), '', '', ''],\r\n          items: [\r\n            [t('Months'), '', '', ''],\r\n            [t('Auditor'), '', '', ''],\r\n            [t('Balance Type'), '', '', ''],\r\n            [t('Figures Types'), '', '', ''],\r\n            [t('Coins Types'), '', '', ''],\r\n            [t('Exchange Rates'), '', '', '']\r\n          ]\r\n        }\r\n      },\r\n      debts: {\r\n        short: {\r\n          items: [\r\n            {\r\n              bank: 'Capital Bank',\r\n              purpose: 'Linea de Crédito',\r\n              approvedAmount: 200,\r\n              balanceLastYear: 200,\r\n              balanceLast6Months: 154,\r\n              balanceForecast: 200,\r\n              rate: 7.0,\r\n              surety: 'Fianza'\r\n            },\r\n            {\r\n              bank: 'St Georges',\r\n              purpose: 'Linea de Crédito',\r\n              approvedAmount: 320,\r\n              balanceLastYear: 200,\r\n              balanceLast6Months: 436,\r\n              balanceForecast: 450,\r\n              rate: 7.5,\r\n              surety: 'Fianza'\r\n            },\r\n            {\r\n              bank: 'St Georges',\r\n              purpose: 'TDC',\r\n              approvedAmount: 11,\r\n              balanceLastYear: 11,\r\n              balanceLast6Months: 0,\r\n              balanceForecast: 11,\r\n              rate: null,\r\n              surety: ''\r\n            }\r\n          ]\r\n        },\r\n        long: {\r\n          items: [\r\n            {\r\n              bank: 'Banesco',\r\n              purpose: 'Préstamo',\r\n              approvedAmount: 126,\r\n              balanceLastYear: 0,\r\n              balanceLast6Months: 0,\r\n              balanceForecast: 126,\r\n              rate: 6.5,\r\n              surety: 'Bien Inmueble'\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    });\r\n\r\n    cargarIdentificaciones();\r\n\r\n    setIsActiveLoading(false)\r\n  }\r\n\r\n  function cargarIdentificaciones() {\r\n\r\n    return new Promise((resolve, reject) => {\r\n      backServices.consultarCatalogoTipoIdentificacion()\r\n        .then((data) => {\r\n          if (data !== null && data !== undefined) {\r\n            setIdentificationList(data);\r\n          }\r\n          resolve();\r\n        })\r\n        .catch((error) => {\r\n          resolve();\r\n          console.error('api error: ', error);\r\n        });\r\n    })\r\n  }\r\n\r\n  function handleReturn() {\r\n    history.push(url.URL_DASHBOARD);\r\n  }\r\n\r\n  function handleClose() {\r\n    history.push(url.URL_DASHBOARD);\r\n  }\r\n\r\n  function handleSaveFacility(newItem) {\r\n    const newFacilities = [...facilityListItems, newItem];\r\n    setFacilityListItems(newFacilities);\r\n  }\r\n\r\n  function getProspect() {\r\n    backServices.consultarUsuarioProspecto(location.data.transactionId).then(async (resp) => {\r\n      console.log(resp);\r\n      // customerNumberT24 = resp.customerNumberT24;\r\n      setProspect(customerNumberT24);\r\n      cargarListaFacilidades(customerNumberT24);\r\n      fetchProposal();\r\n    });\r\n  }\r\n\r\n\r\n  function cargarListaFacilidades(idcliente) {\r\n    return new Promise(function (resolve, reject) {\r\n      coreServices.getFacilidades(idcliente)\r\n        .then(resp => {\r\n          setFacilityListItems(resp);\r\n          resolve();\r\n        })\r\n        .catch(err => {\r\n          resolve();\r\n          console.log(err);\r\n        });\r\n    })\r\n  }\r\n\r\n  function handleSaveFacility(newItem) {\r\n    const newFacilities = [...facilityListItems, newItem];\r\n    setFacilityListItems(newFacilities);\r\n  }\r\n\r\n  return (\r\n    <div className=\"page-content\">\r\n\r\n      <Breadcrumbs title={t(\"Commercial Credit\")} breadcrumbItem={t(\"Credit Analysis\")} />\r\n\r\n      <LoadingOverlay active={isActiveLoading} spinner text={t(\"WaitingPlease\")}>\r\n        {proposal && (\r\n          <>\r\n            <Row>\r\n              <Col xl=\"12\">\r\n                <GeneralSection proposal={proposal} prospect={prospect} />\r\n              </Col>\r\n            </Row>\r\n            {exposicionCorporativa.length > 0 && (\r\n              <Row>\r\n                <Col xl=\"12\">\r\n                  <CorporateExposure prospect={prospect} title={t(\"CorporateExhibition\")} customerNumberT24={\"600133774\"} />\r\n                </Col>\r\n              </Row>\r\n            )}\r\n\r\n            {exposicionCorporativaClientes.length > 0 && (\r\n              <Row>\r\n                <Col xl=\"12\">\r\n                  <CorporateExposureClient title={t(\"CorporateExhibitionClient\")} customerNumberT24={\"600133774\"} />\r\n                </Col>\r\n              </Row>\r\n            )}\r\n\r\n            {changeSummaryItems.length > 0 && (\r\n              <Row>\r\n                <Col xl=\"12\">\r\n                  <ChangeSummary title={t(\"SummaryOfChanges\")} items={changeSummaryItems} />\r\n                </Col>\r\n              </Row>\r\n            )}\r\n\r\n            {facilityListItems.length > 0 && (\r\n              <Row>\r\n                <Col xl=\"12\">\r\n                  {identificationList.length > 0 ?\r\n                    <FacilityList title={t(\"Facility List\")}\r\n                      items={facilityListItems}\r\n                      editMode={true}\r\n                      onSaveFacility={handleSaveFacility}\r\n                      identificationList={identificationList} />\r\n                    : null}\r\n                </Col>\r\n              </Row>\r\n            )}\r\n\r\n            {financialSummary && (\r\n              <FinancialSummary client={financialSummary.client}\r\n                financialStatus={financialSummary.financialStatus}\r\n                balances={financialSummary.balances}\r\n                debts={financialSummary.debts} />\r\n            )}\r\n\r\n            <Row className=\"my-2\">\r\n              <Col xl=\"12 text-end\">\r\n                <Button id=\"btnClose\" color=\"dark\" type=\"button\" style={{ margin: '5px' }} onClick={handleClose}>\r\n                  {c(\"Close\")}\r\n                </Button>\r\n                <Button id=\"btnSave\" color=\"success\" type=\"button\" style={{ margin: '5px' }} onClick={handleReturn}>\r\n                  {c(\"Return\")}\r\n                </Button>\r\n                <Link to={{ pathname: \"/creditocomercial/analisiscredito/informefinanciero\", data: location.data }} className=\"btn btn-success\" style={{ margin: '5px' }}>{t(\"Financial Report\")}</Link>\r\n\r\n              </Col>\r\n            </Row>\r\n          </>\r\n        )}\r\n      </LoadingOverlay >\r\n\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\n\r\nexport default CommercialCreditProposalPage;\r\n"]},"metadata":{},"sourceType":"module"}