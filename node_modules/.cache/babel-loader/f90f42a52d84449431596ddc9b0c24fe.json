{"ast":null,"code":"import React,{useState}from\"react\";import{useTranslation}from\"react-i18next\";import{Card,CardBody,CardTitle,Label,Row,Col,Container,Button,Table}from\"reactstrap\";import{Alert}from\"react-bootstrap\";import Select from\"react-select\";import{AvField,AvForm}from\"availity-reactstrap-validation\";import{Link}from\"react-router-dom\";import LoadingOverlay from\"react-loading-overlay\";// custom imports\nimport{useManagementModal}from\"./Hooks/useManagementModal\";import ModalData from\"../../../components/Common/ModalData\";import{useForm}from\"./Hooks/useForm\";import{optionsPersonType,optionsIdType}from\"./dummy/optionsSelect\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialFormSearchClient={idnumber:\"\",personType:\"Natural\"};var CardSearchClient=function CardSearchClient(){// console.log(\"props\", props.showModal)\nvar _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var _useForm=useForm(initialFormSearchClient),form=_useForm.form,dataClient=_useForm.dataClient,isSearching=_useForm.isSearching,showAlert=_useForm.showAlert,handleOnChange=_useForm.handleOnChange,handleOnSubmit=_useForm.handleOnSubmit,handleSearchClient=_useForm.handleSearchClient;var _useManagementModal=useManagementModal(),hdlTest=_useManagementModal.hdlTest,showModal=_useManagementModal.showModal,showModalNewClient=_useManagementModal.showModalNewClient,dataPrefillClient=_useManagementModal.dataPrefillClient,hdlCkShowModal=_useManagementModal.hdlCkShowModal,hdlCkCloseModal=_useManagementModal.hdlCkCloseModal,hdlCkShowModalNewClient=_useManagementModal.hdlCkShowModalNewClient,hdlCkCloseModalNewClient=_useManagementModal.hdlCkCloseModalNewClient;return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(AvForm,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,lg:3,children:/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"idnumber\",children:t(\"IdNumber\")}),/*#__PURE__*/_jsx(AvField,{id:\"idnumber\",name:\"idnumber\",options:optionsIdType,value:form.idnumber,validate:{required:{value:true}},errorMessage:t(\"Required Field\"),onChange:handleOnChange})]})}),/*#__PURE__*/_jsx(Col,{md:6,lg:3,children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"personType\",children:t(\"PersonType\")}),/*#__PURE__*/_jsx(Select,{id:\"personType\",name:\"personType\",options:optionsPersonType,defaultValue:optionsPersonType[0],value:optionsPersonType.find(function(option){return option.value===form.personType.value;}),onChange:handleOnChange})]})}),/*#__PURE__*/_jsx(Col,{md:6,lg:3,className:\"mt-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsxs(Button,{color:\"success\",type:\"submit\",className:\"mt-1\",onClick:handleSearchClient,children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-file-find mdi-12px me-2\"}),t(\"Search\")]})})}),/*#__PURE__*/_jsx(Col,{md:6,lg:3,className:\"mt-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsxs(Button,{color:\"primary\",type:\"button\",className:\"mt-1 float-end\",onClick:hdlCkShowModalNewClient,children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-account-plus mdi-12px me-2\"}),t(\"NewClient\")]})})})]})}),dataClient.length!==0?/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive styled-table-div mt-5\",children:/*#__PURE__*/_jsxs(Table,{className:\"table table-striped table-hover styled-table table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"Client Number\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Client Name\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"ID Type\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"ID Number\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Action\")})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataClient.map(function(data,key){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.id}),/*#__PURE__*/_jsx(\"td\",{children:data.clientname}),/*#__PURE__*/_jsx(\"td\",{children:data.idtype}),/*#__PURE__*/_jsx(\"td\",{children:data.idnumber}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"#\",onClick:function onClick(){return hdlTest(dataClient);},title:t(\"Select\"),children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-check-box-multiple-outline mdi-24px\"})})})]},key);})})]})}):/*#__PURE__*/_jsx(Alert,{show:showAlert,variant:\"warning\",className:\"mt-2\",children:/*#__PURE__*/_jsx(\"p\",{style:{color:\"#000000\",margin:0},children:t(\"Client doesn't exist\")})}),/*#__PURE__*/_jsx(LoadingOverlay,{active:isSearching// active={isSearching}\n// spinner={<BounceLoader />}\n,spinner:true,text:t(\"Searching client\")}),/*#__PURE__*/_jsx(ModalData,{titleModal:t(\"Quoter\"),show:showModalNewClient,toggle:hdlCkCloseModalNewClient,data:dataPrefillClient})]});};export default CardSearchClient;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/20_Cotizador/CardSearchClient.js"],"names":["React","useState","useTranslation","Card","CardBody","CardTitle","Label","Row","Col","Container","Button","Table","Alert","Select","AvField","AvForm","Link","LoadingOverlay","useManagementModal","ModalData","useForm","optionsPersonType","optionsIdType","initialFormSearchClient","idnumber","personType","CardSearchClient","t","i18n","form","dataClient","isSearching","showAlert","handleOnChange","handleOnSubmit","handleSearchClient","hdlTest","showModal","showModalNewClient","dataPrefillClient","hdlCkShowModal","hdlCkCloseModal","hdlCkShowModalNewClient","hdlCkCloseModalNewClient","required","value","find","option","length","map","data","key","id","clientname","idtype","color","margin"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardTitle,\r\n  Label,\r\n  Row,\r\n  Col,\r\n  Container,\r\n  Button,\r\n  Table,\r\n} from \"reactstrap\";\r\nimport { Alert } from \"react-bootstrap\";\r\nimport Select from \"react-select\";\r\nimport { AvField, AvForm } from \"availity-reactstrap-validation\";\r\nimport { Link } from \"react-router-dom\";\r\nimport LoadingOverlay from \"react-loading-overlay\";\r\n// custom imports\r\nimport { useManagementModal } from \"./Hooks/useManagementModal\";\r\nimport ModalData from \"../../../components/Common/ModalData\";\r\nimport { useForm } from \"./Hooks/useForm\";\r\nimport { optionsPersonType, optionsIdType } from \"./dummy/optionsSelect\";\r\n\r\nconst initialFormSearchClient = {\r\n  idnumber: \"\",\r\n  personType: \"Natural\",\r\n};\r\n\r\nconst CardSearchClient = () => {\r\n  // console.log(\"props\", props.showModal)\r\n  const { t, i18n } = useTranslation();\r\n\r\n  const {\r\n    form,\r\n    dataClient,\r\n    isSearching,\r\n    showAlert,\r\n    handleOnChange,\r\n    handleOnSubmit,\r\n    handleSearchClient,\r\n  } = useForm(initialFormSearchClient);\r\n\r\n  const {\r\n    hdlTest,\r\n    showModal,\r\n    showModalNewClient,\r\n    dataPrefillClient,\r\n    hdlCkShowModal,\r\n    hdlCkCloseModal,\r\n    hdlCkShowModalNewClient,\r\n    hdlCkCloseModalNewClient,\r\n  } = useManagementModal();\r\n\r\n  return (\r\n    <Container>\r\n      <AvForm>\r\n        {/* <AvForm onSubmit={handleSubmitSearchClient}> */}\r\n        <Row>\r\n          <Col md={6} lg={3}>\r\n            <div className=\"\">\r\n              <Label htmlFor=\"idnumber\">{t(\"IdNumber\")}</Label>\r\n              <AvField\r\n                id=\"idnumber\"\r\n                name=\"idnumber\"\r\n                options={optionsIdType}\r\n                value={form.idnumber}\r\n                validate={{ required: { value: true } }}\r\n                errorMessage={t(\"Required Field\")}\r\n                onChange={handleOnChange}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md={6} lg={3}>\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"personType\">{t(\"PersonType\")}</Label>\r\n              <Select\r\n                id=\"personType\"\r\n                name=\"personType\"\r\n                options={optionsPersonType}\r\n                defaultValue={optionsPersonType[0]}\r\n                value={optionsPersonType.find(\r\n                  (option) => option.value === form.personType.value\r\n                )}\r\n                onChange={handleOnChange}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md={6} lg={3} className=\"mt-4\">\r\n            <div className=\"\">\r\n              <Button\r\n                color=\"success\"\r\n                type=\"submit\"\r\n                className=\"mt-1\"\r\n                onClick={handleSearchClient}\r\n              >\r\n                <i className=\"mdi mdi-file-find mdi-12px me-2\"></i>\r\n                {t(\"Search\")}\r\n              </Button>\r\n            </div>\r\n          </Col>\r\n          <Col md={6} lg={3} className=\"mt-4\">\r\n            <div className=\"\">\r\n              <Button\r\n                color=\"primary\"\r\n                type=\"button\"\r\n                className=\"mt-1 float-end\"\r\n                onClick={hdlCkShowModalNewClient}\r\n              >\r\n                <i className=\"mdi mdi-account-plus mdi-12px me-2\"></i>\r\n                {t(\"NewClient\")}\r\n              </Button>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </AvForm>\r\n      {dataClient.length !== 0 ? (\r\n        <div className=\"table-responsive styled-table-div mt-5\">\r\n          <Table className=\"table table-striped table-hover styled-table table\">\r\n            <thead>\r\n              <tr>\r\n                <th>{t(\"Client Number\")}</th>\r\n                <th>{t(\"Client Name\")}</th>\r\n                <th>{t(\"ID Type\")}</th>\r\n                <th>{t(\"ID Number\")}</th>\r\n                <th>{t(\"Action\")}</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {dataClient.map((data, key) => (\r\n                <tr key={key}>\r\n                  <td>{data.id}</td>\r\n                  <td>{data.clientname}</td>\r\n                  <td>{data.idtype}</td>\r\n                  <td>{data.idnumber}</td>\r\n                  <td>\r\n                    <Link\r\n                      to={\"#\"}\r\n                      onClick={() => hdlTest(dataClient)}\r\n                      title={t(\"Select\")}\r\n                    >\r\n                      <i className=\"mdi mdi-check-box-multiple-outline mdi-24px\"></i>\r\n                    </Link>\r\n                  </td>\r\n                  {/* <td><i className=\"mdi mdi-check-box-multiple-outline mdi-24px\"></i></td> */}\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n        </div>\r\n      ) : (\r\n        <Alert show={showAlert} variant={\"warning\"} className={\"mt-2\"}>\r\n          <p style={{ color: \"#000000\", margin: 0 }}>\r\n            {t(\"Client doesn't exist\")}\r\n          </p>\r\n        </Alert>\r\n      )}\r\n      <LoadingOverlay\r\n        active={isSearching}\r\n        // active={isSearching}\r\n        // spinner={<BounceLoader />}\r\n        spinner={true}\r\n        text={t(\"Searching client\")}\r\n      >\r\n        {/* <p>Some content or children or something.</p> */}\r\n      </LoadingOverlay>\r\n      <ModalData\r\n        titleModal={t(\"Quoter\")}\r\n        show={showModalNewClient}\r\n        toggle={hdlCkCloseModalNewClient}\r\n        data={dataPrefillClient}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default CardSearchClient;\r\n"]},"metadata":{},"sourceType":"module"}