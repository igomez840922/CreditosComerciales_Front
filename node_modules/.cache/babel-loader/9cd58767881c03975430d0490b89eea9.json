{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useTranslation,withTranslation}from\"react-i18next\";import{Link,useLocation,useHistory}from\"react-router-dom\";import{Row,Col,Label,Table,InputGroup,input}from\"reactstrap\";import{AvForm,AvField}from\"availity-reactstrap-validation\";import AttachmentFileCore from\"../../../../../components/Common/AttachmentFileCore\";import*as OPTs from\"../../../../../helpers/options_helper\";import{AttachmentFileInputModel}from'../../../../../models/Common/AttachmentFileInputModel';import{BackendServices}from\"../../../../../services/index.js\";//Import Flatepicker\nimport\"flatpickr/dist/themes/material_blue.css\";import*as url from\"../../../../../helpers/url_helper\";import Currency from\"../../../../../helpers/currency\";import\"flatpickr/dist/themes/material_blue.css\";import Flatpickr from\"react-flatpickr\";import moment from\"moment\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Proyecciones=/*#__PURE__*/React.forwardRef(function(props,ref){var _dataReturn$descripci,_dataReturn$assetsOpe,_dataReturn$assetsOpe2,_dataReturn$fixedAsse,_dataReturn$fixedAsse2,_dataReturn$othersAss,_dataReturn$othersAss2,_dataReturn$bankAmoun,_dataReturn$bankReaso,_dataReturn$providers,_dataReturn$providers2,_dataReturn$capitalAm,_dataReturn$capitalRe,_dataReturn$maximodeu;var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;// const { locationData } = props;\nvar currencyData=new Currency();var location=useLocation();var _useState=useState(location.data),_useState2=_slicedToArray(_useState,2),dataLocation=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),formValid=_useState4[0],setFormValid=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),dataReturn=_useState6[0],setDataReturn=_useState6[1];var history=useHistory();var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),locationData=_useState8[0],setLocationData=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),fechaSet=_useState10[0],setfechaSet=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),validacionFecha=_useState12[0],setvalidacionFecha=_useState12[1];React.useImperativeHandle(ref,function(){return{validateForm:function validateForm(){var form=document.getElementById('frmProyecciones');form.requestSubmit();},getFormValidation:function getFormValidation(){return formValid;},dataReturn:dataReturn};});React.useEffect(function(){var dataSession;if(location.data!==null&&location.data!==undefined){if(location.data.transactionId===undefined||location.data.transactionId.length<=0){//location.data.transactionId = 0;\n//checkAndCreateProcedure(location.data);\nhistory.push(url.URL_DASHBOARD);}else{sessionStorage.setItem('locationData',JSON.stringify(location.data));setLocationData(location.data);dataSession=location.data;}}else{//chequeamos si tenemos guardado en session\nvar result=sessionStorage.getItem('locationData');if(result!==undefined&&result!==null){result=JSON.parse(result);setLocationData(result);dataSession=result;}}if(props.activeTab==13){// Read Api Service data\ninitializeData(dataSession);}},[props.activeTab==13]);function initializeData(dataLocation){var api=new BackendServices();// consultarProyecciones\napi.consultProjections(dataLocation.transactionId).then(function(resp){console.log(resp);if(resp==undefined){setfechaSet(\" \");//setfechaSet(moment(moment(), \"DD/MM/YYYY\").format(\"YYYY-MM-DD\"))\n}else{setDataReturn(resp.projectionsDTO);//setfechaSet(moment(resp.projectionsDTO.estimatedDate, \"DD/MM/YYYY\").format(\"YYYY-MM-DD\"))\nsetfechaSet(moment(resp.projectionsDTO.estimatedDate).format(\"DD-MM-YYYY\"));}});}// Form Submission\nfunction handleSubmit(event,errors,values){event.preventDefault();if(errors.length>0){return;}console.log(moment(fechaSet,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\"));values.estimatedDate=fechaSet==\" \"?fechaSet:moment(fechaSet,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\")==\"Invalid date\"?fechaSet:moment(fechaSet,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\");setDataReturn(values);setFormValid(true);//props.onSubmit(values);\n}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"h5\",{children:t(\"Projections\")}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsxs(AvForm,{id:\"frmProyecciones\",className:\"needs-validation\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"companyHistoryDetails\",children:t(\"Details\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"descripcion\",type:\"textarea\",value:(_dataReturn$descripci=dataReturn===null||dataReturn===void 0?void 0:dataReturn.descripcion)!==null&&_dataReturn$descripci!==void 0?_dataReturn$descripci:\" \",id:\"descripcion\",rows:\"7\"})]})})}),locationData?(props===null||props===void 0?void 0:props.activeTab)==13?/*#__PURE__*/_jsx(AttachmentFileCore,{attachmentFileInputModel:new AttachmentFileInputModel(locationData.transactionId,OPTs.PROCESS_INFORMEGESTION,OPTs.ACT_PROYECCIONES)}):null:null,/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"card-sub-title\",children:t(\"EstimatesVariationsInItsAssetStructure\")})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive styled-table-div\",children:/*#__PURE__*/_jsxs(Table,{className:\"table table-striped table-hover styled-table table table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"Type\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Amount\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Reason\")})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:t(\"OperatingAssets\")}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"assetsOperatingAmount\",type:\"text\",value:currencyData.format((_dataReturn$assetsOpe=dataReturn===null||dataReturn===void 0?void 0:dataReturn.assetsOperatingAmount)!==null&&_dataReturn$assetsOpe!==void 0?_dataReturn$assetsOpe:0),id:\"assetsOperatingAmount\",pattern:\"^[0-9,.-]*$\",onKeyUp:function onKeyUp(e){var x=currencyData.getRealValue(e.target.value);e.target.value=currencyData.format(x);},rows:\"7\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"assetsOperatingReason\",type:\"text\",value:(_dataReturn$assetsOpe2=dataReturn===null||dataReturn===void 0?void 0:dataReturn.assetsOperatingReason)!==null&&_dataReturn$assetsOpe2!==void 0?_dataReturn$assetsOpe2:\" \",id:\"assetsOperatingReason\"// validate={{\n//   required: { value: true, errorMessage: t(\"Required Field\") }\n// }}\n,rows:\"7\"})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:t(\"FixedAssets\")}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"fixedAssetsAmount\",type:\"text\",value:currencyData.format((_dataReturn$fixedAsse=dataReturn===null||dataReturn===void 0?void 0:dataReturn.fixedAssetsAmount)!==null&&_dataReturn$fixedAsse!==void 0?_dataReturn$fixedAsse:0),id:\"fixedAssetsAmount\",pattern:\"^[0-9,.-]*$\",onKeyUp:function onKeyUp(e){var x=currencyData.getRealValue(e.target.value);e.target.value=currencyData.format(x);},rows:\"7\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"fixedAssetsReason\",type:\"text\",value:(_dataReturn$fixedAsse2=dataReturn===null||dataReturn===void 0?void 0:dataReturn.fixedAssetsReason)!==null&&_dataReturn$fixedAsse2!==void 0?_dataReturn$fixedAsse2:\" \",id:\"fixedAssetsReason\"// validate={{\n//   required: { value: true, errorMessage: t(\"Required Field\") }\n// }}\n,rows:\"7\"})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:t(\"OthersAssets\")}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"othersAssetsAmount\",type:\"text\",value:currencyData.format((_dataReturn$othersAss=dataReturn===null||dataReturn===void 0?void 0:dataReturn.othersAssetsAmount)!==null&&_dataReturn$othersAss!==void 0?_dataReturn$othersAss:0),id:\"othersAssetsAmount\",pattern:\"^[0-9,.-]*$\",onKeyUp:function onKeyUp(e){var x=currencyData.getRealValue(e.target.value);e.target.value=currencyData.format(x);},rows:\"7\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"othersAssetsReason\",type:\"text\",value:(_dataReturn$othersAss2=dataReturn===null||dataReturn===void 0?void 0:dataReturn.othersAssetsReason)!==null&&_dataReturn$othersAss2!==void 0?_dataReturn$othersAss2:\" \",id:\"othersAssetsReason\"// validate={{\n//   required: { value: true, errorMessage: t(\"Required Field\") }\n// }}\n,rows:\"7\"})})]})]})]})})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"card-sub-title\",children:t(\"EstimatesVariationsInItsFinancingSources\")})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive styled-table-div\",children:/*#__PURE__*/_jsxs(Table,{className:\"table table-striped table-hover styled-table table table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"Type\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Amount\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Reason\")})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:t(\"Banking\")}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"bankAmount\",type:\"text\",value:currencyData.format((_dataReturn$bankAmoun=dataReturn===null||dataReturn===void 0?void 0:dataReturn.bankAmount)!==null&&_dataReturn$bankAmoun!==void 0?_dataReturn$bankAmoun:0),id:\"bankAmount\",pattern:\"^[0-9,.-]*$\",onKeyUp:function onKeyUp(e){var x=currencyData.getRealValue(e.target.value);e.target.value=currencyData.format(x);},rows:\"7\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"bankReason\",type:\"text\",value:(_dataReturn$bankReaso=dataReturn===null||dataReturn===void 0?void 0:dataReturn.bankReason)!==null&&_dataReturn$bankReaso!==void 0?_dataReturn$bankReaso:\" \",id:\"bankReason\"// validate={{\n//   required: { value: true, errorMessage: t(\"Required Field\") }\n// }}\n,rows:\"7\"})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:t(\"Providers\")}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"providersAmount\",type:\"text\",value:currencyData.format((_dataReturn$providers=dataReturn===null||dataReturn===void 0?void 0:dataReturn.providersAmount)!==null&&_dataReturn$providers!==void 0?_dataReturn$providers:0),id:\"providersAmount\",pattern:\"^[0-9,.-]*$\",onKeyUp:function onKeyUp(e){var x=currencyData.getRealValue(e.target.value);e.target.value=currencyData.format(x);},rows:\"7\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"providersReason\",type:\"text\",value:(_dataReturn$providers2=dataReturn===null||dataReturn===void 0?void 0:dataReturn.providersReason)!==null&&_dataReturn$providers2!==void 0?_dataReturn$providers2:\" \",id:\"providersReason\"// validate={{\n//   required: { value: true, errorMessage: t(\"Required Field\") }\n// }}\n,rows:\"7\"})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:t(\"Capital\")}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"capitalAmount\",type:\"text\",value:currencyData.format((_dataReturn$capitalAm=dataReturn===null||dataReturn===void 0?void 0:dataReturn.capitalAmount)!==null&&_dataReturn$capitalAm!==void 0?_dataReturn$capitalAm:0),id:\"capitalAmount\",pattern:\"^[0-9,.-]*$\",onKeyUp:function onKeyUp(e){var x=currencyData.getRealValue(e.target.value);e.target.value=currencyData.format(x);},rows:\"7\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"capitalReason\",type:\"text\",value:(_dataReturn$capitalRe=dataReturn===null||dataReturn===void 0?void 0:dataReturn.capitalReason)!==null&&_dataReturn$capitalRe!==void 0?_dataReturn$capitalRe:\" \",id:\"capitalReason\"// validate={{\n//   required: { value: true, errorMessage: t(\"Required Field\") }\n// }}\n,rows:\"7\"})})]})]})]})})})}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{children:t(\"MaximumAmountOfBankDebtToTake\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"maximodeuda\",type:\"text\",pattern:\"^[0-9,.-]*$\",onKeyUp:function onKeyUp(e){var x=currencyData.getRealValue(e.target.value);e.target.value=currencyData.format(x);},value:currencyData.format((_dataReturn$maximodeu=dataReturn===null||dataReturn===void 0?void 0:dataReturn.maximodeuda)!==null&&_dataReturn$maximodeu!==void 0?_dataReturn$maximodeu:0),id:\"maximodeuda\"})]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{children:t(\"EstimatedDate\")}),fechaSet?/*#__PURE__*/_jsx(Flatpickr,{name:\"estimatedDate\",id:\"estimatedDate\",className:\"form-control d-block\",placeholder:OPTs.FORMAT_DATE_SHOW,options:{dateFormat:OPTs.FORMAT_DATE,defaultDate:fechaSet//selectClient !== undefined ? moment(selectClient.birthDate) : null\n},onChange:function onChange(selectedDates,dateStr,instance){setfechaSet(moment(dateStr,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\"));}// onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\") } }) }}\n// onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr).format(\"YYYY-MM-DD\") } }) }}\n}):null,fechaSet==\" \"?/*#__PURE__*/_jsx(\"p\",{className:\"message-error-parrafo\",children:t(\"Required\")}):null]})})]})]})]});});export default Proyecciones;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/Proyecciones.js"],"names":["React","useState","useTranslation","withTranslation","Link","useLocation","useHistory","Row","Col","Label","Table","InputGroup","input","AvForm","AvField","AttachmentFileCore","OPTs","AttachmentFileInputModel","BackendServices","url","Currency","Flatpickr","moment","Proyecciones","forwardRef","props","ref","t","i18n","currencyData","location","data","dataLocation","setData","formValid","setFormValid","dataReturn","setDataReturn","history","locationData","setLocationData","fechaSet","setfechaSet","validacionFecha","setvalidacionFecha","useImperativeHandle","validateForm","form","document","getElementById","requestSubmit","getFormValidation","useEffect","dataSession","undefined","transactionId","length","push","URL_DASHBOARD","sessionStorage","setItem","JSON","stringify","result","getItem","parse","activeTab","initializeData","api","consultProjections","then","resp","console","log","projectionsDTO","estimatedDate","format","handleSubmit","event","errors","values","preventDefault","descripcion","PROCESS_INFORMEGESTION","ACT_PROYECCIONES","assetsOperatingAmount","e","x","getRealValue","target","value","assetsOperatingReason","fixedAssetsAmount","fixedAssetsReason","othersAssetsAmount","othersAssetsReason","bankAmount","bankReason","providersAmount","providersReason","capitalAmount","capitalReason","maximodeuda","FORMAT_DATE_SHOW","dateFormat","FORMAT_DATE","defaultDate","selectedDates","dateStr","instance"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\r\nimport { useTranslation, withTranslation } from \"react-i18next\"\r\nimport PropTypes from 'prop-types'\r\nimport { Link, useLocation, useHistory } from \"react-router-dom\"\r\nimport {\r\n  Row,\r\n  Col,\r\n  Label,\r\n  Table,\r\n  InputGroup,\r\n  input,\r\n} from \"reactstrap\"\r\nimport { AvForm, AvField } from \"availity-reactstrap-validation\"\r\nimport AttachmentFileCore from \"../../../../../components/Common/AttachmentFileCore\";\r\nimport * as OPTs from \"../../../../../helpers/options_helper\";\r\nimport { AttachmentFileInputModel } from '../../../../../models/Common/AttachmentFileInputModel';\r\nimport { BackendServices } from \"../../../../../services/index.js\"\r\n//Import Flatepicker\r\nimport \"flatpickr/dist/themes/material_blue.css\";\r\nimport * as url from \"../../../../../helpers/url_helper\"\r\nimport Currency from \"../../../../../helpers/currency\"\r\nimport \"flatpickr/dist/themes/material_blue.css\";\r\nimport Flatpickr from \"react-flatpickr\";\r\nimport moment from \"moment\";\r\n\r\nconst Proyecciones = React.forwardRef((props, ref) => {\r\n  const { t, i18n } = useTranslation();\r\n  // const { locationData } = props;\r\n  const currencyData = new Currency();\r\n  const location = useLocation()\r\n  const [dataLocation, setData] = useState(location.data);\r\n  const [formValid, setFormValid] = useState(false);\r\n  const [dataReturn, setDataReturn] = useState({});\r\n  const history = useHistory();\r\n\r\n  const [locationData, setLocationData] = useState(null);\r\n  const [fechaSet, setfechaSet] = useState(\"\");\r\n  const [validacionFecha, setvalidacionFecha] = useState(false);\r\n  React.useImperativeHandle(ref, () => ({\r\n    validateForm: () => {\r\n      const form = document.getElementById('frmProyecciones');\r\n      form.requestSubmit();\r\n    },\r\n    getFormValidation: () => {\r\n      return formValid;\r\n    }, dataReturn\r\n  }));\r\n  React.useEffect(() => {\r\n    let dataSession;\r\n    if (location.data !== null && location.data !== undefined) {\r\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n        //location.data.transactionId = 0;\r\n        //checkAndCreateProcedure(location.data);\r\n        history.push(url.URL_DASHBOARD);\r\n      }\r\n      else {\r\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n        setLocationData(location.data);\r\n        dataSession = location.data;\r\n      }\r\n    }\r\n    else {\r\n      //chequeamos si tenemos guardado en session\r\n      var result = sessionStorage.getItem('locationData');\r\n      if (result !== undefined && result !== null) {\r\n        result = JSON.parse(result);\r\n        setLocationData(result);\r\n        dataSession = result;\r\n      }\r\n    }\r\n    if (props.activeTab == 13) {\r\n      // Read Api Service data\r\n      initializeData(dataSession);\r\n    }\r\n  }, [props.activeTab == 13]);\r\n  function initializeData(dataLocation) {\r\n    const api = new BackendServices()\r\n    // consultarProyecciones\r\n    api.consultProjections(dataLocation.transactionId).then(resp => {\r\n      console.log(resp);\r\n      if (resp == undefined) {\r\n        setfechaSet(\" \")\r\n        //setfechaSet(moment(moment(), \"DD/MM/YYYY\").format(\"YYYY-MM-DD\"))\r\n\r\n      } else {\r\n        setDataReturn(resp.projectionsDTO);\r\n        //setfechaSet(moment(resp.projectionsDTO.estimatedDate, \"DD/MM/YYYY\").format(\"YYYY-MM-DD\"))\r\n        setfechaSet(moment(resp.projectionsDTO.estimatedDate).format(\"DD-MM-YYYY\"))\r\n\r\n      }\r\n    })\r\n  }\r\n  // Form Submission\r\n  function handleSubmit(event, errors, values) {\r\n    event.preventDefault();\r\n    if (errors.length > 0) {\r\n      return;\r\n    }\r\n    console.log(moment(fechaSet, \"DD/MM/YYYY\").format(\"YYYY-MM-DD\"))\r\n    values.estimatedDate = fechaSet == \" \" ? fechaSet : moment(fechaSet, \"DD/MM/YYYY\").format(\"YYYY-MM-DD\") == \"Invalid date\" ? fechaSet : (moment(fechaSet, \"DD/MM/YYYY\").format(\"YYYY-MM-DD\"))\r\n    setDataReturn(values)\r\n    setFormValid(true)\r\n    //props.onSubmit(values);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <h5>\r\n        {t(\"Projections\")}\r\n      </h5>\r\n      <p className=\"card-title-desc\"></p>\r\n      <AvForm id=\"frmProyecciones\" className=\"needs-validation\" onSubmit={handleSubmit}>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"companyHistoryDetails\">{t(\"Details\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                name=\"descripcion\"\r\n                type=\"textarea\"\r\n                value={dataReturn?.descripcion ?? \" \"}\r\n                id=\"descripcion\"\r\n                rows=\"7\" />\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n        {locationData ? (props?.activeTab == 13 ?\r\n          <AttachmentFileCore attachmentFileInputModel={new AttachmentFileInputModel(locationData.transactionId, OPTs.PROCESS_INFORMEGESTION, OPTs.ACT_PROYECCIONES)} />\r\n          : null) : null}\r\n\r\n\r\n        <Row>\r\n          <Col md=\"6\">\r\n            <h5 className=\"card-sub-title\">{t(\"EstimatesVariationsInItsAssetStructure\")}</h5>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row>\r\n          <Col md=\"12\">\r\n\r\n            <div className='table-responsive styled-table-div'>\r\n              <Table className=\"table table-striped table-hover styled-table table table\">\r\n                <thead  >\r\n                  <tr>\r\n                    <th>{t(\"Type\")}</th>\r\n                    <th>{t(\"Amount\")}</th>\r\n                    <th>{t(\"Reason\")}</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td>{t(\"OperatingAssets\")}</td>\r\n                    <td>\r\n                      <AvField\r\n                        className=\"form-control\"\r\n                        name=\"assetsOperatingAmount\"\r\n                        type=\"text\"\r\n                        value={currencyData.format(dataReturn?.assetsOperatingAmount ?? 0)}\r\n                        id=\"assetsOperatingAmount\"\r\n                        pattern=\"^[0-9,.-]*$\"\r\n                        onKeyUp={(e) => { let x = currencyData.getRealValue(e.target.value); e.target.value = currencyData.format(x); }}\r\n                        rows=\"7\" />\r\n                    </td>\r\n                    <td>\r\n                      <AvField\r\n                        className=\"form-control\"\r\n                        name=\"assetsOperatingReason\"\r\n                        type=\"text\"\r\n                        value={dataReturn?.assetsOperatingReason ?? \" \"}\r\n                        id=\"assetsOperatingReason\"\r\n                        // validate={{\r\n                        //   required: { value: true, errorMessage: t(\"Required Field\") }\r\n                        // }}\r\n                        rows=\"7\" />\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>{t(\"FixedAssets\")}</td>\r\n                    <td>\r\n                      <AvField\r\n                        className=\"form-control\"\r\n                        name=\"fixedAssetsAmount\"\r\n                        type=\"text\"\r\n                        value={currencyData.format(dataReturn?.fixedAssetsAmount ?? 0)}\r\n                        id=\"fixedAssetsAmount\"\r\n                        pattern=\"^[0-9,.-]*$\"\r\n                        onKeyUp={(e) => { let x = currencyData.getRealValue(e.target.value); e.target.value = currencyData.format(x); }}\r\n                        rows=\"7\" />\r\n                    </td>\r\n                    <td>\r\n                      <AvField\r\n                        className=\"form-control\"\r\n                        name=\"fixedAssetsReason\"\r\n                        type=\"text\"\r\n                        value={dataReturn?.fixedAssetsReason ?? \" \"}\r\n                        id=\"fixedAssetsReason\"\r\n                        // validate={{\r\n                        //   required: { value: true, errorMessage: t(\"Required Field\") }\r\n                        // }}\r\n                        rows=\"7\" />\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>{t(\"OthersAssets\")}</td>\r\n                    <td>\r\n                      <AvField\r\n                        className=\"form-control\"\r\n                        name=\"othersAssetsAmount\"\r\n                        type=\"text\"\r\n                        value={currencyData.format(dataReturn?.othersAssetsAmount ?? 0)}\r\n                        id=\"othersAssetsAmount\"\r\n                        pattern=\"^[0-9,.-]*$\"\r\n                        onKeyUp={(e) => { let x = currencyData.getRealValue(e.target.value); e.target.value = currencyData.format(x); }}\r\n                        rows=\"7\" />\r\n                    </td>\r\n                    <td>\r\n                      <AvField\r\n                        className=\"form-control\"\r\n                        name=\"othersAssetsReason\"\r\n                        type=\"text\"\r\n                        value={dataReturn?.othersAssetsReason ?? \" \"}\r\n                        id=\"othersAssetsReason\"\r\n                        // validate={{\r\n                        //   required: { value: true, errorMessage: t(\"Required Field\") }\r\n                        // }}\r\n                        rows=\"7\" />\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </Table>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n\r\n\r\n\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <h5 className=\"card-sub-title\">{t(\"EstimatesVariationsInItsFinancingSources\")}</h5>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"12\">\r\n\r\n            <div className='table-responsive styled-table-div'>\r\n              <Table className=\"table table-striped table-hover styled-table table table\">\r\n                <thead  >\r\n                  <tr>\r\n                    <th>{t(\"Type\")}</th>\r\n                    <th>{t(\"Amount\")}</th>\r\n                    <th>{t(\"Reason\")}</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td>{t(\"Banking\")}</td>\r\n                    <td>\r\n                      <AvField\r\n                        className=\"form-control\"\r\n                        name=\"bankAmount\"\r\n                        type=\"text\"\r\n                        value={currencyData.format(dataReturn?.bankAmount ?? 0)}\r\n                        id=\"bankAmount\"\r\n                        pattern=\"^[0-9,.-]*$\"\r\n                        onKeyUp={(e) => { let x = currencyData.getRealValue(e.target.value); e.target.value = currencyData.format(x); }}\r\n                        rows=\"7\" />\r\n                    </td>\r\n                    <td>\r\n                      <AvField\r\n                        className=\"form-control\"\r\n                        name=\"bankReason\"\r\n                        type=\"text\"\r\n                        value={dataReturn?.bankReason ?? \" \"}\r\n                        id=\"bankReason\"\r\n                        // validate={{\r\n                        //   required: { value: true, errorMessage: t(\"Required Field\") }\r\n                        // }}\r\n                        rows=\"7\" />\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>{t(\"Providers\")}</td>\r\n                    <td>\r\n                      <AvField\r\n                        className=\"form-control\"\r\n                        name=\"providersAmount\"\r\n                        type=\"text\"\r\n                        value={currencyData.format(dataReturn?.providersAmount ?? 0)}\r\n                        id=\"providersAmount\"\r\n                        pattern=\"^[0-9,.-]*$\"\r\n                        onKeyUp={(e) => { let x = currencyData.getRealValue(e.target.value); e.target.value = currencyData.format(x); }}\r\n                        rows=\"7\" />\r\n                    </td>\r\n                    <td>\r\n                      <AvField\r\n                        className=\"form-control\"\r\n                        name=\"providersReason\"\r\n                        type=\"text\"\r\n                        value={dataReturn?.providersReason ?? \" \"}\r\n                        id=\"providersReason\"\r\n                        // validate={{\r\n                        //   required: { value: true, errorMessage: t(\"Required Field\") }\r\n                        // }}\r\n                        rows=\"7\" />\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>{t(\"Capital\")}</td>\r\n                    <td>\r\n                      <AvField\r\n                        className=\"form-control\"\r\n                        name=\"capitalAmount\"\r\n                        type=\"text\"\r\n                        value={currencyData.format(dataReturn?.capitalAmount ?? 0)}\r\n                        id=\"capitalAmount\"\r\n                        pattern=\"^[0-9,.-]*$\"\r\n                        onKeyUp={(e) => { let x = currencyData.getRealValue(e.target.value); e.target.value = currencyData.format(x); }}\r\n                        rows=\"7\" />\r\n                    </td>\r\n                    <td>\r\n                      <AvField\r\n                        className=\"form-control\"\r\n                        name=\"capitalReason\"\r\n                        type=\"text\"\r\n                        value={dataReturn?.capitalReason ?? \" \"}\r\n                        id=\"capitalReason\"\r\n                        // validate={{\r\n                        //   required: { value: true, errorMessage: t(\"Required Field\") }\r\n                        // }}\r\n                        rows=\"7\" />\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </Table>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label>{t(\"MaximumAmountOfBankDebtToTake\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                name=\"maximodeuda\"\r\n                type=\"text\"\r\n                pattern=\"^[0-9,.-]*$\"\r\n                onKeyUp={(e) => { let x = currencyData.getRealValue(e.target.value); e.target.value = currencyData.format(x); }}\r\n                value={currencyData.format(dataReturn?.maximodeuda ?? 0)}\r\n                id=\"maximodeuda\"\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label>{t(\"EstimatedDate\")}</Label>\r\n\r\n              {fechaSet ?\r\n                <Flatpickr\r\n                  name=\"estimatedDate\"\r\n                  id=\"estimatedDate\"\r\n                  className=\"form-control d-block\"\r\n                  placeholder={OPTs.FORMAT_DATE_SHOW}\r\n                  options={{\r\n                    dateFormat: OPTs.FORMAT_DATE,\r\n                    defaultDate: fechaSet,//selectClient !== undefined ? moment(selectClient.birthDate) : null\r\n                  }}\r\n                  onChange={(selectedDates, dateStr, instance) => {\r\n                    setfechaSet(moment(dateStr, \"DD/MM/YYYY\").format(\"YYYY-MM-DD\"))\r\n                  }}\r\n                // onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\") } }) }}\r\n\r\n                // onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr).format(\"YYYY-MM-DD\") } }) }}\r\n                /> : null}\r\n              {fechaSet == \" \" ? <p className=\"message-error-parrafo\">{t(\"Required\")}</p> : null}\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </AvForm>\r\n    </React.Fragment>\r\n  );\r\n});\r\nProyecciones.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n  locationData: PropTypes.any,\r\n}\r\nexport default Proyecciones;\r\n"]},"metadata":{},"sourceType":"module"}