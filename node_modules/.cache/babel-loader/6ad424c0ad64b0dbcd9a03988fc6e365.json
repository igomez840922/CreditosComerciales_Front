{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{translationHelpers}from'../../../helpers/translation-helper';import{Row,Col,Card,CardBody,Button,Label,Input,CardHeader,CardTitle,InputGroup,Table,CardFooter}from\"reactstrap\";import SweetAlert from\"react-bootstrap-sweetalert\";import{Link,useLocation}from\"react-router-dom\";import ModalNewDebt from'./ModalNewDebt';import ModalDeudasCortoPlazo from'../../../pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/ModalDeudasCortoPlazo';import ModalDeudasLargoPlazo from'../../../pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/ModalDeudasLargoPlazo';import{BackendServices,CoreServices}from'../../../services';import{AvForm,AvField}from\"availity-reactstrap-validation\";import\"flatpickr/dist/themes/material_blue.css\";import LoadingOverlay from\"react-loading-overlay\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var estiloTotales={backgroundColor:\"lightgrey\",color:\"black\"};var DebtSL=function DebtSL(props){var api=new CoreServices();/**\r\n     * All use state\r\n     */var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isActiveLoading=_useState2[0],setIsActiveLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),termsDebts=_useState4[0],setTermsDebts=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),toggleModalNewDebt=_useState6[0],setToggleModalNewDebt=_useState6[1];/**\r\n     * End All use state\r\n     */var _translationHelpers=translationHelpers('commercial_credit','common','translation'),_translationHelpers2=_slicedToArray(_translationHelpers,3),t=_translationHelpers2[0],c=_translationHelpers2[1],tr=_translationHelpers2[2];React.useEffect(function(){getTermsDebt({typeDebt:props.typeDebt,customerNumberT24:props.customerNumberT24});},[]);function getTermsDebt(_ref){var typeDebt=_ref.typeDebt,customerNumberT24=_ref.customerNumberT24;setIsActiveLoading(true);typeDebt==='Short'&&api.getShortTermDebts(customerNumberT24).then(function(resp){setTermsDebts(setDebt(resp));setIsActiveLoading(false);});typeDebt==='Long'&&api.getLongTermDebts(customerNumberT24).then(function(resp){setTermsDebts(setDebt(resp));setIsActiveLoading(false);});}function setDebt(debt){return debt===null||debt===void 0?void 0:debt.map(function(_ref2){var _ref3=_slicedToArray(_ref2,2),debt=_ref3[0],key=_ref3[1];return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:debt.name}),/*#__PURE__*/_jsx(\"td\",{children:debt.approvalRisk}),/*#__PURE__*/_jsx(\"td\",{children:debt.proposalRisk}),/*#__PURE__*/_jsx(\"td\",{children:debt.variationRisk}),/*#__PURE__*/_jsx(\"td\",{children:debt.variationRisk}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){editDebt(debt);},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){deleteDebt(debt);},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},key);});}function editDebt(debt){}function deleteDebt(debt){}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"card-title clearfix\",children:[props.title,props.editable&&/*#__PURE__*/_jsx(Button,{className:\"float-end\",color:\"success\",style:{margin:'5px'},onClick:toggleModalNewDebt,children:c(\"New\")})]}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsx(LoadingOverlay,{active:isActiveLoading,spinner:true,text:t(\"WaitingPlease\"),children:/*#__PURE__*/_jsxs(Table,{className:\"table mt-1\",responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:tr(\"Name\")}),/*#__PURE__*/_jsx(\"th\",{children:tr(\"ProposedRisk\")}),/*#__PURE__*/_jsx(\"th\",{children:tr(\"ApprovedRisk\")}),/*#__PURE__*/_jsx(\"th\",{children:tr(\"Variation\")}),/*#__PURE__*/_jsx(\"th\",{children:tr(\"Date\")}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"right\"}})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[termsDebts,/*#__PURE__*/_jsxs(\"tr\",{style:estiloTotales,children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"Total\")}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{})]})]})]})})})]});};DebtSL.defaultProps={editable:false};export default DebtSL;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/components/PropuestaCreditoComercial/financialSummary/DebtSL.js"],"names":["React","useState","translationHelpers","Row","Col","Card","CardBody","Button","Label","Input","CardHeader","CardTitle","InputGroup","Table","CardFooter","SweetAlert","Link","useLocation","ModalNewDebt","ModalDeudasCortoPlazo","ModalDeudasLargoPlazo","BackendServices","CoreServices","AvForm","AvField","LoadingOverlay","estiloTotales","backgroundColor","color","DebtSL","props","api","isActiveLoading","setIsActiveLoading","termsDebts","setTermsDebts","toggleModalNewDebt","setToggleModalNewDebt","t","c","tr","useEffect","getTermsDebt","typeDebt","customerNumberT24","getShortTermDebts","then","resp","setDebt","getLongTermDebts","debt","map","key","name","approvalRisk","proposalRisk","variationRisk","textAlign","editDebt","deleteDebt","title","editable","margin","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\r\nimport PropTypes from 'prop-types';\r\nimport { translationHelpers } from '../../../helpers/translation-helper';\r\n\r\nimport {\r\n    Row,\r\n    Col,\r\n    Card,\r\n    CardBody,\r\n    Button,\r\n    Label,\r\n    Input,\r\n    CardHeader,\r\n    CardTitle,\r\n    InputGroup,\r\n    Table,\r\n    CardFooter\r\n} from \"reactstrap\"\r\nimport SweetAlert from \"react-bootstrap-sweetalert\"\r\nimport { Link, useLocation } from \"react-router-dom\"\r\nimport ModalNewDebt from './ModalNewDebt';\r\nimport ModalDeudasCortoPlazo from '../../../pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/ModalDeudasCortoPlazo';\r\nimport ModalDeudasLargoPlazo from '../../../pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/ModalDeudasLargoPlazo';\r\nimport { BackendServices, CoreServices } from '../../../services';\r\nimport { AvForm, AvField } from \"availity-reactstrap-validation\"\r\nimport \"flatpickr/dist/themes/material_blue.css\";\r\nimport LoadingOverlay from \"react-loading-overlay\";\r\nconst estiloTotales = { backgroundColor: \"lightgrey\", color: \"black\" }\r\n\r\nconst DebtSL = (props) => {\r\n    const api = new CoreServices()\r\n\r\n    /**\r\n     * All use state\r\n     */\r\n    const [isActiveLoading, setIsActiveLoading] = useState(false);\r\n    const [termsDebts, setTermsDebts] = useState(null);\r\n    const [toggleModalNewDebt, setToggleModalNewDebt] = useState(false);\r\n    /**\r\n     * End All use state\r\n     */\r\n\r\n    const [t, c, tr] = translationHelpers('commercial_credit', 'common', 'translation');\r\n\r\n    React.useEffect(() => {\r\n        getTermsDebt({ typeDebt: props.typeDebt, customerNumberT24: props.customerNumberT24 });\r\n    }, []);\r\n\r\n    function getTermsDebt({ typeDebt, customerNumberT24 }) {\r\n        setIsActiveLoading(true);\r\n\r\n        typeDebt === 'Short' && api.getShortTermDebts(customerNumberT24).then(resp => {\r\n            setTermsDebts(setDebt(resp));\r\n            setIsActiveLoading(false);\r\n        });\r\n\r\n        typeDebt === 'Long' && api.getLongTermDebts(customerNumberT24).then(resp => {\r\n            setTermsDebts(setDebt(resp));\r\n            setIsActiveLoading(false);\r\n        });\r\n    }\r\n\r\n    function setDebt(debt) {\r\n        return debt?.map(([debt, key]) => (\r\n            <tr key={key}>\r\n                <td>\r\n                    {debt.name}\r\n                </td>\r\n                <td>\r\n                    {debt.approvalRisk}\r\n                </td>\r\n                <td>\r\n                    {debt.proposalRisk}\r\n                </td>\r\n                <td>\r\n                    {debt.variationRisk}\r\n                </td>\r\n                <td>\r\n                    {debt.variationRisk}\r\n                </td>\r\n                <td style={{ textAlign: \"right\" }}>\r\n                    <Button type=\"button\" color=\"link\" onClick={(resp) => { editDebt(debt) }} className=\"btn btn-link\" ><i className=\"mdi mdi-border-color mdi-24px\"></i></Button>\r\n                    <Button type=\"button\" color=\"link\" onClick={(resp) => { deleteDebt(debt) }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n                </td>\r\n            </tr>\r\n        ))\r\n    }\r\n\r\n    function editDebt(debt) {\r\n\r\n    }\r\n\r\n    function deleteDebt(debt) {\r\n\r\n    }\r\n    return (\r\n        <>\r\n            <h4 className=\"card-title clearfix\">{props.title}\r\n                {props.editable && (\r\n                    <Button className=\"float-end\" color=\"success\" style={{ margin: '5px' }}\r\n                        onClick={toggleModalNewDebt}>\r\n                        {c(\"New\")}\r\n                    </Button>\r\n                )}\r\n            </h4>\r\n            <p className=\"card-title-desc\"></p>\r\n\r\n            <Col md=\"12\">\r\n                <LoadingOverlay active={isActiveLoading} spinner text={t(\"WaitingPlease\")}>\r\n                    <Table className=\"table mt-1\" responsive>\r\n                        <thead className=\"table-light\">\r\n                            <tr>\r\n                                <th>{tr(\"Name\")}</th>\r\n                                <th>{tr(\"ProposedRisk\")}</th>\r\n                                <th>{tr(\"ApprovedRisk\")}</th>\r\n                                <th>{tr(\"Variation\")}</th>\r\n                                <th>{tr(\"Date\")}</th>\r\n                                <th style={{ textAlign: \"right\" }}></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {termsDebts}\r\n                            <tr style={estiloTotales}>\r\n                                <th>{t(\"Total\")}</th>\r\n                                <th></th>\r\n                                <th></th>\r\n                                <th></th>\r\n                                <th></th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </tbody>\r\n                    </Table>\r\n                </LoadingOverlay >\r\n\r\n            </Col>\r\n        </>\r\n    );\r\n};\r\n\r\nDebtSL.propTypes = {\r\n    title: PropTypes.string,\r\n    // items: PropTypes.array.isRequired,\r\n    editable: PropTypes.bool,\r\n    addDebt: PropTypes.func\r\n};\r\n\r\nDebtSL.defaultProps = {\r\n    editable: false\r\n};\r\n\r\n\r\nexport default DebtSL;\r\n"]},"metadata":{},"sourceType":"module"}