{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{translationHelper}from'../../helpers';import{AvForm,AvGroup,AvField,AvFeedback}from\"availity-reactstrap-validation\";import{Table,Card,CardBody,Row,Col,Label}from\"reactstrap\";import HeaderSections from'../Common/HeaderSections';import{useTranslation}from\"react-i18next\";import{BackendServices,CoreServices}from\"../../services\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var FacilityListCore=function FacilityListCore(props){var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),dataReturn=_useState2[0],setdataReturn=_useState2[1];//Servicios\nvar _useState3=useState(new CoreServices()),_useState4=_slicedToArray(_useState3,2),coreServices=_useState4[0],setcoreServices=_useState4[1];useEffect(function(){if(props.customerNumberT24!=null){initializeData();}},[props.customerNumberT24,props.transactId]);function initializeData(){// consultar Lista facilidades Core\ncoreServices.getFacilitiesByTransaction(props.transactId).then(function(resp){if(resp!==undefined){// consultarResumenCambios\nsetdataReturn(resp);}});}return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsx(HeaderSections,{title:\"FacilityHistory\",t:t}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsxs(Table,{className:\"table mt-1\",responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"Debtor\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Facility Type\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Proposal\")}),/*#__PURE__*/_jsx(\"th\",{className:\"text-end\",children:t(\"Approved Risk\")}),/*#__PURE__*/_jsx(\"th\",{className:\"text-end\",children:t(\"Balance / Usage\")}),/*#__PURE__*/_jsx(\"th\",{className:\"text-end\",children:t(\"Proposed Risk\")}),/*#__PURE__*/_jsx(\"th\",{className:\"text-end\",children:t(\"Variation\")})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataReturn?dataReturn.map(function(item,index){var _item$AcctMember$0$Pa,_item$AcctMember$,_item$AcctMember$$Par,_item$ProductDesc,_item$AcctBal$0$BalTy,_item$AcctOpeningInfo,_item$AcctOpeningInfo2,_item$AcctOpeningInfo3,_item$AcctBal$0$CurAm,_item$AcctBal$0$CurAm2,_item$AcctOpeningInfo4,_item$AcctOpeningInfo5,_item$AcctOpeningInfo6,_item$AcctBal$0$CurAm3,_item$AcctBal$0$CurAm4;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:(item===null||item===void 0?void 0:item.AcctMember)!=null&&(item===null||item===void 0?void 0:item.AcctMember)!=undefined?(_item$AcctMember$0$Pa=item===null||item===void 0?void 0:(_item$AcctMember$=item.AcctMember[0])===null||_item$AcctMember$===void 0?void 0:(_item$AcctMember$$Par=_item$AcctMember$.PartyName)===null||_item$AcctMember$$Par===void 0?void 0:_item$AcctMember$$Par.ShortName)!==null&&_item$AcctMember$0$Pa!==void 0?_item$AcctMember$0$Pa:\"\":\"\"}),/*#__PURE__*/_jsx(\"td\",{children:(_item$ProductDesc=item===null||item===void 0?void 0:item.ProductDesc)!==null&&_item$ProductDesc!==void 0?_item$ProductDesc:\"\"}),/*#__PURE__*/_jsx(\"td\",{children:(item===null||item===void 0?void 0:item.AcctBal)!=null&&(item===null||item===void 0?void 0:item.AcctBal)!=undefined?(_item$AcctBal$0$BalTy=item===null||item===void 0?void 0:item.AcctBal[0].BalType)!==null&&_item$AcctBal$0$BalTy!==void 0?_item$AcctBal$0$BalTy:0:0}),/*#__PURE__*/_jsxs(\"td\",{className:\"text-end\",children:[\"$\",(_item$AcctOpeningInfo=item===null||item===void 0?void 0:(_item$AcctOpeningInfo2=item.AcctOpeningInfo)===null||_item$AcctOpeningInfo2===void 0?void 0:(_item$AcctOpeningInfo3=_item$AcctOpeningInfo2.InitialAmt)===null||_item$AcctOpeningInfo3===void 0?void 0:_item$AcctOpeningInfo3.Amt)!==null&&_item$AcctOpeningInfo!==void 0?_item$AcctOpeningInfo:0]}),/*#__PURE__*/_jsx(\"td\",{className:\"text-end\",children:0.00}),/*#__PURE__*/_jsxs(\"td\",{className:\"text-end\",children:[\"$\",(item===null||item===void 0?void 0:item.AcctBal)!=null&&(item===null||item===void 0?void 0:item.AcctBal)!=undefined?(_item$AcctBal$0$CurAm=item===null||item===void 0?void 0:(_item$AcctBal$0$CurAm2=item.AcctBal[0].CurAmt)===null||_item$AcctBal$0$CurAm2===void 0?void 0:_item$AcctBal$0$CurAm2.Amt)!==null&&_item$AcctBal$0$CurAm!==void 0?_item$AcctBal$0$CurAm:0:0]}),/*#__PURE__*/_jsxs(\"td\",{className:\"text-end\",children:[\"$\",Number((_item$AcctOpeningInfo4=item===null||item===void 0?void 0:(_item$AcctOpeningInfo5=item.AcctOpeningInfo)===null||_item$AcctOpeningInfo5===void 0?void 0:(_item$AcctOpeningInfo6=_item$AcctOpeningInfo5.InitialAmt)===null||_item$AcctOpeningInfo6===void 0?void 0:_item$AcctOpeningInfo6.Amt)!==null&&_item$AcctOpeningInfo4!==void 0?_item$AcctOpeningInfo4:0)-Number((item===null||item===void 0?void 0:item.AcctBal)!=null&&(item===null||item===void 0?void 0:item.AcctBal)!=undefined?(_item$AcctBal$0$CurAm3=item===null||item===void 0?void 0:(_item$AcctBal$0$CurAm4=item.AcctBal[0].CurAmt)===null||_item$AcctBal$0$CurAm4===void 0?void 0:_item$AcctBal$0$CurAm4.Amt)!==null&&_item$AcctBal$0$CurAm3!==void 0?_item$AcctBal$0$CurAm3:0:0)]})]},'row-'+index);}):null})]})]})})});};export default FacilityListCore;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/components/PropuestaCreditoComercial/FacilityListCore.js"],"names":["React","useState","useEffect","translationHelper","AvForm","AvGroup","AvField","AvFeedback","Table","Card","CardBody","Row","Col","Label","HeaderSections","useTranslation","BackendServices","CoreServices","FacilityListCore","props","t","i18n","dataReturn","setdataReturn","coreServices","setcoreServices","customerNumberT24","initializeData","transactId","getFacilitiesByTransaction","then","resp","undefined","map","item","index","AcctMember","PartyName","ShortName","ProductDesc","AcctBal","BalType","AcctOpeningInfo","InitialAmt","Amt","CurAmt","Number"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { translationHelper } from '../../helpers';\r\nimport { AvForm, AvGroup, AvField, AvFeedback } from \"availity-reactstrap-validation\"\r\nimport {\r\n  Table,\r\n  Card,\r\n  CardBody,\r\n  Row,\r\n  Col,\r\n  Label,\r\n} from \"reactstrap\"\r\n\r\nimport HeaderSections from '../Common/HeaderSections';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { BackendServices, CoreServices } from \"../../services\";\r\n\r\nconst FacilityListCore = (props) => {\r\n\r\n  const { t, i18n } = useTranslation();\r\n  const [dataReturn, setdataReturn] = useState(null);\r\n\r\n  //Servicios\r\n  const [coreServices, setcoreServices] = useState(new CoreServices());\r\n\r\n  useEffect(() => {\r\n    if (props.customerNumberT24 != null) {\r\n      initializeData();\r\n    }\r\n  }, [props.customerNumberT24,props.transactId]);\r\n\r\n  function initializeData() {\r\n    // consultar Lista facilidades Core\r\n    coreServices.getFacilitiesByTransaction(props.transactId).then((resp) => {\r\n      if (resp !== undefined) {\r\n        // consultarResumenCambios\r\n        setdataReturn(resp)\r\n      }\r\n    });\r\n  }\r\n\r\n  return (\r\n\r\n    <React.Fragment>\r\n      <>\r\n        <CardBody>\r\n          <HeaderSections title={\"FacilityHistory\"} t={t}></HeaderSections>\r\n          <p className=\"card-title-desc\">\r\n          </p>\r\n          <Table className=\"table mt-1\" responsive>\r\n            <thead className=\"table-light\">\r\n              <tr>\r\n                <th>{t(\"Debtor\")}</th>\r\n                <th>{t(\"Facility Type\")}</th>\r\n                <th>{t(\"Proposal\")}</th>\r\n                <th className=\"text-end\">{t(\"Approved Risk\")}</th>\r\n                <th className=\"text-end\">{t(\"Balance / Usage\")}</th>\r\n                <th className=\"text-end\">{t(\"Proposed Risk\")}</th>\r\n                <th className=\"text-end\">{t(\"Variation\")}</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {dataReturn ?\r\n                dataReturn.map((item, index) => (\r\n                  <tr key={'row-' + index}>\r\n                    <td>{item?.AcctMember != null && item?.AcctMember != undefined ? item?.AcctMember[0]?.PartyName?.ShortName ?? \"\" : \"\"}</td>\r\n                    <td>{item?.ProductDesc ?? \"\"}</td>\r\n                    <td>{item?.AcctBal != null && item?.AcctBal != undefined ? item?.AcctBal[0].BalType ?? 0 : 0}</td>\r\n                    <td className=\"text-end\">${item?.AcctOpeningInfo?.InitialAmt?.Amt ?? 0}</td>\r\n                    <td className=\"text-end\">{0.00}</td>\r\n                    <td className=\"text-end\">${item?.AcctBal != null && item?.AcctBal != undefined ? item?.AcctBal[0].CurAmt?.Amt ?? 0 : 0}</td>\r\n                    <td className=\"text-end\">${Number(item?.AcctOpeningInfo?.InitialAmt?.Amt ?? 0) - Number(item?.AcctBal != null && item?.AcctBal != undefined ? item?.AcctBal[0].CurAmt?.Amt ?? 0 : 0)}</td>\r\n                  </tr>)\r\n                )\r\n                : null}\r\n            </tbody>\r\n          </Table>\r\n        </CardBody>\r\n      </>\r\n    </React.Fragment >\r\n\r\n  );\r\n};\r\nFacilityListCore.propTypes = {\r\n  customerNumberT24: PropTypes.string,\r\n  transactId: PropTypes.any,\r\n};\r\nexport default FacilityListCore;\r\n"]},"metadata":{},"sourceType":"module"}