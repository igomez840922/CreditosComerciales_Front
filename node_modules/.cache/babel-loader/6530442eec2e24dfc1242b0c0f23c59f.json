{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/*ReinforcedManagementReport = Lista de Informe Reforzado*/import React,{useState}from\"react\";import{BackendServices,CoreServices}from\"../../../../services\";import{useLocation,useHistory}from\"react-router-dom\";import SweetAlert from\"react-bootstrap-sweetalert\";import{Row,Col,Card,CardBody,CardHeader,Button,Label,Table}from\"reactstrap\";import{AvForm,AvField}from\"availity-reactstrap-validation\";//i18n\nimport{withTranslation}from\"react-i18next\";import ModalBeneficiosFideicomiso from\"./ModalBeneficiosFideicomiso\";import*as url from\"../../../../helpers/url_helper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BeneficiarioSecundario=function BeneficiarioSecundario(props){var apiBack=new BackendServices();var location=useLocation();var _useState=useState(location.data),_useState2=_slicedToArray(_useState,2),dataLocation=_useState2[0],setData=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),botonValidation=_useState4[0],setbotonValidation=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showModalFideicomitente=_useState6[0],setShowModalFideicomitente=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),type=_useState8[0],settype=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),successSave_dlg=_useState10[0],setsuccessSave_dlg=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),error_dlg=_useState12[0],seterror_dlg=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),error_msg=_useState14[0],seterror_msg=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),info_dlg=_useState16[0],setinfo_dlg=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),info_msg=_useState18[0],setinfo_msg=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),dynamic_title=_useState20[0],setdynamic_title=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),confirm_alert=_useState22[0],setconfirm_alert=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),success_dlg=_useState24[0],setsuccess_dlg=_useState24[1];var _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),dynamic_description=_useState26[0],setdynamic_description=_useState26[1];var _useState27=useState(null),_useState28=_slicedToArray(_useState27,2),dataFideicomitenteRows=_useState28[0],setdataFideicomitenteRows=_useState28[1];var _useState29=useState({\"transactId\":0,\"firstName\":\"\",\"secondName\":\"\",\"firstLastName\":\"\",\"secondLastName\":\"\",\"nationality\":\"\",\"personType\":\"\",\"documentType\":\"\",\"documentNumber\":\"\",\"address\":\"\",\"telephone\":\"\",\"relationship\":\"\",\"percentage\":0}),_useState30=_slicedToArray(_useState29,2),dataSet=_useState30[0],setdataSet=_useState30[1];var _useState31=useState(null),_useState32=_slicedToArray(_useState31,2),locationData=_useState32[0],setLocationData=_useState32[1];var history=useHistory();React.useEffect(function(){var dataSession;if(location.data!==null&&location.data!==undefined){if(location.data.transactionId===undefined||location.data.transactionId.length<=0){//location.data.transactionId = 0;\n//checkAndCreateProcedure(location.data);\nhistory.push(url.URL_DASHBOARD);}else{sessionStorage.setItem('locationData',JSON.stringify(location.data));setLocationData(location.data);dataSession=location.data;}}else{//chequeamos si tenemos guardado en session\nvar result=sessionStorage.getItem('locationData');if(result!==undefined&&result!==null){result=JSON.parse(result);setLocationData(result);dataSession=result;}}// Read Api Service data\ninitializeData(dataSession);},[]);function initializeData(dataLocation){apiBack.consultarListaBeneficiarioSecundario(dataLocation.transactionId).then(function(resp){console.log(resp);if(resp!=undefined||resp.length>0){var api=new CoreServices();api.getPaisesCatalogo().then(function(response){if(response===null){return;}var jsonPais=[];for(var i=0;i<response.Records.length;i++){jsonPais.push({label:response.Records[i][\"Description\"],value:response.Records[i][\"Code\"]});}var apiServiceBackend=new BackendServices();apiServiceBackend.consultarCatalogoTipoIdentificacion().then(function(data){if(data!==null&&data!==undefined){var json=[];for(var _i=0;_i<data.length;_i++){json.push({label:props.t(data[_i][\"description\"]),value:data[_i][\"id\"]});}var jspm=[{label:props.t(\"Legal\"),value:\"1\"},{label:props.t(\"Natural\"),value:\"2\"}];setdataFideicomitenteRows(resp.map(function(data){var _jsonPais$find,_jspm$find,_json$find;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.firstName+\" \"+data.secondName+\" \"+data.firstLastName+\" \"+data.secondLastName}),/*#__PURE__*/_jsx(\"td\",{children:(_jsonPais$find=jsonPais.find(function(x){return x.value===data.nationality;}))===null||_jsonPais$find===void 0?void 0:_jsonPais$find.label}),/*#__PURE__*/_jsx(\"td\",{children:(_jspm$find=jspm.find(function(x){return x.value===data.personType;}))===null||_jspm$find===void 0?void 0:_jspm$find.label}),/*#__PURE__*/_jsx(\"td\",{children:(_json$find=json.find(function(x){return x.value===data.documentType;}))===null||_json$find===void 0?void 0:_json$find.label}),/*#__PURE__*/_jsx(\"td\",{children:data.documentNumber}),/*#__PURE__*/_jsx(\"td\",{children:data.address}),/*#__PURE__*/_jsx(\"td\",{children:data.telephone}),/*#__PURE__*/_jsx(\"td\",{children:data.relationship}),/*#__PURE__*/_jsx(\"td\",{children:data.percentage}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){editarDatosClientes(data);},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){EliminarCliente(data);},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},data.beneficiaryId);}));}}).catch(function(error){console.error('api error: ',error);});});}else{setdataFideicomitenteRows(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"9\",style:{textAlign:'center'},children:/*#__PURE__*/_jsx(\"h5\",{children:props.t(\"NoData\")})})},1));}});}function editarDatosClientes(data){settype(\"editar\");setdataSet(data);setbotonValidation(true);abrirModal();}function EliminarCliente(data){setdataSet(data);setconfirm_alert(true);}function gestionDatos(values,tipo){var _values$codigoPais$va,_values$codigoPais,_values$personType,_values$documentType,_values$documentNumbe,_values$address,_values$telephone,_values$relationship;values.transactId=Number(locationData.transactionId);values.telephone=Number(values.telephone);var dataSend={\"transactId\":Number(locationData.transactionId),\"firstName\":values.firstName?values.firstName:\" \",\"secondName\":values.secondName?values.secondName:\" \",\"firstLastName\":values.firstLastName?values.firstLastName:\" \",\"secondLastName\":values.secondLastName?values.secondLastName:\" \",\"nationality\":(_values$codigoPais$va=values===null||values===void 0?void 0:(_values$codigoPais=values.codigoPais)===null||_values$codigoPais===void 0?void 0:_values$codigoPais.value)!==null&&_values$codigoPais$va!==void 0?_values$codigoPais$va:\"\",\"personType\":(_values$personType=values===null||values===void 0?void 0:values.personType)!==null&&_values$personType!==void 0?_values$personType:\"\",\"documentType\":(_values$documentType=values===null||values===void 0?void 0:values.documentType)!==null&&_values$documentType!==void 0?_values$documentType:\"\",\"documentNumber\":(_values$documentNumbe=values===null||values===void 0?void 0:values.documentNumber)!==null&&_values$documentNumbe!==void 0?_values$documentNumbe:\"\",\"address\":(_values$address=values===null||values===void 0?void 0:values.address)!==null&&_values$address!==void 0?_values$address:\"\",\"telephone\":(_values$telephone=values===null||values===void 0?void 0:values.telephone)!==null&&_values$telephone!==void 0?_values$telephone:\"\",\"relationship\":(_values$relationship=values===null||values===void 0?void 0:values.relationship)!==null&&_values$relationship!==void 0?_values$relationship:\"\",\"percentage\":Number(values.percentage)};if(tipo==\"guardar\"){apiBack.nuevaListaBeneficiarioSecundario(dataSend).then(function(resp){if(resp!==null&&resp!==undefined){cerrarModal();}else{cerrarModal();seterror_dlg(true);}initializeData(locationData);}).catch(function(error){seterror_dlg(true);});}else{dataSend.beneficiaryId=dataSet.beneficiaryId;apiBack.actualizarListaBeneficiarioSecundario(dataSend).then(function(resp){if(resp!==null&&resp!==undefined){cerrarModal();}else{cerrarModal();seterror_dlg(true);}initializeData(locationData);}).catch(function(error){seterror_dlg(true);});}}//abrimos modal para adjunar archivos\nfunction abrirModal(){setShowModalFideicomitente(true);removeBodyCss();}function cerrarModal(){setShowModalFideicomitente(false);removeBodyCss();}function removeBodyCss(){document.body.classList.add(\"no_padding\");}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{lg:\"12\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row justify-content-between my-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"card-title\",children:props.t(\"SecondaryBeneficiary\")}),/*#__PURE__*/_jsxs(Button,{className:\"btn\",color:\"success\",type:\"button\",style:{margin:'5px'},onClick:function onClick(){abrirModal();settype(\"guardar\");setdataSet({\"transactId\":0,\"firstName\":\"\",\"secondName\":\"\",\"firstLastName\":\"\",\"secondLastName\":\"\",\"nationality\":\"\",\"personType\":\"\",\"documentType\":\"\",\"documentNumber\":\"\",\"address\":\"\",\"telephone\":\"\",\"relationship\":\"\",\"percentage\":0});},title:props.t(\"Add\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lg fa-plus-circle\"}),\" \",\" \"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive styled-table-div\",children:/*#__PURE__*/_jsxs(Table,{className:\"table table-striped table-hover styled-table table mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:props.t(\"Name\")}),/*#__PURE__*/_jsx(\"th\",{children:props.t(\"Nationality\")}),/*#__PURE__*/_jsx(\"th\",{children:props.t(\"Documenttype\")}),/*#__PURE__*/_jsx(\"th\",{children:props.t(\"PersonType\")}),/*#__PURE__*/_jsx(\"th\",{children:props.t(\"Documentnumber\")}),/*#__PURE__*/_jsx(\"th\",{children:props.t(\"Address\")}),/*#__PURE__*/_jsx(\"th\",{children:props.t(\"Phone\")}),/*#__PURE__*/_jsx(\"th\",{children:props.t(\"Relationship\")}),/*#__PURE__*/_jsx(\"th\",{children:props.t(\"Percent\")}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"right\"},children:props.t(\"Actions\")})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataFideicomitenteRows})]})})]})}),/*#__PURE__*/_jsx(ModalBeneficiosFideicomiso,{tipo:type,dataSet:dataSet,botones:botonValidation,gestionDatos:gestionDatos,isOpen:showModalFideicomitente,toggle:function toggle(){cerrarModal();}}),successSave_dlg?/*#__PURE__*/_jsx(SweetAlert,{success:true,title:props.t(\"SuccessDialog\"),confirmButtonText:props.t(\"Confirm\"),cancelButtonText:props.t(\"Cancel\"),onConfirm:function onConfirm(){setsuccessSave_dlg(false);initializeData(locationData);},children:props.t(\"SuccessSaveMessage\")}):null,error_dlg?/*#__PURE__*/_jsx(SweetAlert,{error:true,title:props.t(\"ErrorDialog\"),confirmButtonText:props.t(\"Confirm\"),cancelButtonText:props.t(\"Cancel\"),onConfirm:function onConfirm(){seterror_dlg(false);initializeData(locationData);},children:error_msg}):null,confirm_alert?/*#__PURE__*/_jsx(SweetAlert,{title:props.t(\"Areyousure\"),warning:true,showCancel:true,confirmButtonText:props.t(\"Yesdeleteit\"),cancelButtonText:props.t(\"Cancel\"),confirmBtnBsStyle:\"success\",cancelBtnBsStyle:\"danger\",onConfirm:function onConfirm(){apiBack.eliminarListaBeneficiarioSecundario(locationData.transactionId,dataSet.beneficiaryId).then(function(resp){if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(true);}else{setconfirm_alert(false);setsuccessSave_dlg(true);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(true);});},onCancel:function onCancel(){return setconfirm_alert(false);},children:props.t(\"Youwontbeabletorevertthis\")}):null]});};export default withTranslation()(BeneficiarioSecundario);","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/10_Fideicomiso/AsignarNumeroFideicomiso/BeneficiarioSecundario.js"],"names":["React","useState","BackendServices","CoreServices","useLocation","useHistory","SweetAlert","Row","Col","Card","CardBody","CardHeader","Button","Label","Table","AvForm","AvField","withTranslation","ModalBeneficiosFideicomiso","url","BeneficiarioSecundario","props","apiBack","location","data","dataLocation","setData","botonValidation","setbotonValidation","showModalFideicomitente","setShowModalFideicomitente","type","settype","successSave_dlg","setsuccessSave_dlg","error_dlg","seterror_dlg","error_msg","seterror_msg","info_dlg","setinfo_dlg","info_msg","setinfo_msg","dynamic_title","setdynamic_title","confirm_alert","setconfirm_alert","success_dlg","setsuccess_dlg","dynamic_description","setdynamic_description","dataFideicomitenteRows","setdataFideicomitenteRows","dataSet","setdataSet","locationData","setLocationData","history","useEffect","dataSession","undefined","transactionId","length","push","URL_DASHBOARD","sessionStorage","setItem","JSON","stringify","result","getItem","parse","initializeData","consultarListaBeneficiarioSecundario","then","resp","console","log","api","getPaisesCatalogo","response","jsonPais","i","Records","label","value","apiServiceBackend","consultarCatalogoTipoIdentificacion","json","t","jspm","map","firstName","secondName","firstLastName","secondLastName","find","x","nationality","personType","documentType","documentNumber","address","telephone","relationship","percentage","textAlign","editarDatosClientes","EliminarCliente","beneficiaryId","catch","error","abrirModal","gestionDatos","values","tipo","transactId","Number","dataSend","codigoPais","nuevaListaBeneficiarioSecundario","cerrarModal","actualizarListaBeneficiarioSecundario","removeBodyCss","document","body","classList","add","margin","eliminarListaBeneficiarioSecundario","statusCode"],"mappings":"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","sourcesContent":["/*ReinforcedManagementReport = Lista de Informe Reforzado*/\r\nimport React, { useState } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { BackendServices, CoreServices } from \"../../../../services\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport SweetAlert from \"react-bootstrap-sweetalert\";\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  Button,\r\n  Label,\r\n  Table\r\n} from \"reactstrap\";\r\nimport { AvForm, AvField } from \"availity-reactstrap-validation\";\r\n//i18n\r\nimport { withTranslation } from \"react-i18next\";\r\nimport ModalBeneficiosFideicomiso from \"./ModalBeneficiosFideicomiso\";\r\nimport * as url from \"../../../../helpers/url_helper\"\r\n\r\nconst BeneficiarioSecundario = (props) => {\r\n  const apiBack = new BackendServices();\r\n  const location = useLocation()\r\n  const [dataLocation, setData] = useState(location.data);\r\n  const [botonValidation, setbotonValidation] = useState(true);\r\n  const [showModalFideicomitente, setShowModalFideicomitente] = useState(false);\r\n  const [type, settype] = useState(\"\");\r\n  const [successSave_dlg, setsuccessSave_dlg] = useState(false);\r\n  const [error_dlg, seterror_dlg] = useState(false);\r\n  const [error_msg, seterror_msg] = useState(\"\");\r\n  const [info_dlg, setinfo_dlg] = useState(false)\r\n  const [info_msg, setinfo_msg] = useState(\"\")\r\n  const [dynamic_title, setdynamic_title] = useState(\"\")\r\n  const [confirm_alert, setconfirm_alert] = useState(false)\r\n  const [success_dlg, setsuccess_dlg] = useState(false)\r\n  const [dynamic_description, setdynamic_description] = useState(\"\")\r\n  const [dataFideicomitenteRows, setdataFideicomitenteRows] = useState(null)\r\n  const [dataSet, setdataSet] = useState({\r\n    \"transactId\": 0,\r\n    \"firstName\": \"\",\r\n    \"secondName\": \"\",\r\n    \"firstLastName\": \"\",\r\n    \"secondLastName\": \"\",\r\n    \"nationality\": \"\",\r\n    \"personType\": \"\",\r\n    \"documentType\": \"\",\r\n    \"documentNumber\": \"\",\r\n    \"address\": \"\",\r\n    \"telephone\": \"\",\r\n    \"relationship\": \"\",\r\n    \"percentage\": 0\r\n  });\r\n\r\n  const [locationData, setLocationData] = useState(null);\r\n  const history = useHistory();\r\n\r\n  React.useEffect(() => {\r\n\r\n    let dataSession;\r\n\r\n    if (location.data !== null && location.data !== undefined) {\r\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n        //location.data.transactionId = 0;\r\n        //checkAndCreateProcedure(location.data);\r\n        history.push(url.URL_DASHBOARD);\r\n      }\r\n      else {\r\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n        setLocationData(location.data);\r\n        dataSession = location.data;\r\n      }\r\n    }\r\n    else {\r\n      //chequeamos si tenemos guardado en session\r\n      var result = sessionStorage.getItem('locationData');\r\n      if (result !== undefined && result !== null) {\r\n        result = JSON.parse(result);\r\n        setLocationData(result);\r\n        dataSession = result;\r\n      }\r\n    }\r\n\r\n\r\n    // Read Api Service data\r\n    initializeData(dataSession);\r\n  }, []);\r\n  function initializeData(dataLocation) {\r\n    apiBack.consultarListaBeneficiarioSecundario(dataLocation.transactionId).then(resp => {\r\n      console.log(resp);\r\n      if (resp != undefined || resp.length > 0) {\r\n        const api = new CoreServices();\r\n        api.getPaisesCatalogo()\r\n          .then(response => {\r\n            if (response === null) { return; }\r\n            let jsonPais = [];\r\n            for (let i = 0; i < response.Records.length; i++) {\r\n              jsonPais.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n            }\r\n            const apiServiceBackend = new BackendServices();\r\n            apiServiceBackend.consultarCatalogoTipoIdentificacion()\r\n              .then((data) => {\r\n                if (data !== null && data !== undefined) {\r\n                  let json = [];\r\n                  for (let i = 0; i < data.length; i++) {\r\n                    json.push({ label: props.t(data[i][\"description\"]), value: data[i][\"id\"] })\r\n                  }\r\n                  let jspm = [{ label: props.t(\"Legal\"), value: \"1\" }, { label: props.t(\"Natural\"), value: \"2\" }]\r\n                  setdataFideicomitenteRows(resp.map((data) => (\r\n                    <tr key={data.beneficiaryId}>\r\n                      <td>{data.firstName + \" \" + data.secondName + \" \" + data.firstLastName + \" \" + data.secondLastName}</td>\r\n                      <td>{jsonPais.find(x => x.value === data.nationality)?.label}</td>\r\n                      <td>{jspm.find(x => x.value === data.personType)?.label}</td>\r\n                      <td>{json.find(x => x.value === data.documentType)?.label}</td>\r\n                      <td>{data.documentNumber}</td>\r\n                      <td>{data.address}</td>\r\n                      <td>{data.telephone}</td>\r\n                      <td>{data.relationship}</td>\r\n                      <td>{data.percentage}</td>\r\n                      <td style={{ textAlign: \"right\" }}>\r\n                        <Button type=\"button\" color=\"link\" onClick={(resp) => { editarDatosClientes(data) }} className=\"btn btn-link\" ><i className=\"mdi mdi-border-color mdi-24px\"></i></Button>\r\n                        <Button type=\"button\" color=\"link\" onClick={(resp) => { EliminarCliente(data) }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n                      </td>\r\n                    </tr>)\r\n                  ));\r\n                }\r\n              })\r\n              .catch((error) => {\r\n                console.error('api error: ', error);\r\n              });\r\n          });\r\n\r\n\r\n      } else {\r\n        setdataFideicomitenteRows(\r\n          <tr key={1}>\r\n            <td colSpan=\"9\" style={{ textAlign: 'center' }}><h5>{props.t(\"NoData\")}</h5></td>\r\n          </tr>);\r\n      }\r\n    })\r\n  }\r\n  function editarDatosClientes(data) {\r\n    settype(\"editar\")\r\n    setdataSet(data)\r\n    setbotonValidation(true);\r\n    abrirModal()\r\n  }\r\n  function EliminarCliente(data) {\r\n    setdataSet(data)\r\n    setconfirm_alert(true);\r\n  }\r\n  function gestionDatos(values, tipo) {\r\n    values.transactId = Number(locationData.transactionId);\r\n    values.telephone = Number(values.telephone);\r\n    let dataSend = {\r\n      \"transactId\": Number(locationData.transactionId),\r\n      \"firstName\": values.firstName ? values.firstName : \" \",\r\n      \"secondName\": values.secondName ? values.secondName : \" \",\r\n      \"firstLastName\": values.firstLastName ? values.firstLastName : \" \",\r\n      \"secondLastName\": values.secondLastName ? values.secondLastName : \" \",\r\n      \"nationality\": values?.codigoPais?.value ?? \"\",\r\n      \"personType\": values?.personType ?? \"\",\r\n      \"documentType\": values?.documentType ?? \"\",\r\n      \"documentNumber\": values?.documentNumber ?? \"\",\r\n      \"address\": values?.address ?? \"\",\r\n      \"telephone\": values?.telephone ?? \"\",\r\n      \"relationship\": values?.relationship ?? \"\",\r\n      \"percentage\": Number(values.percentage)\r\n    }\r\n    if (tipo == \"guardar\") {\r\n      apiBack.nuevaListaBeneficiarioSecundario(dataSend).then(resp => {\r\n        if (resp !== null && resp !== undefined) {\r\n          cerrarModal();\r\n        } else {\r\n          cerrarModal();\r\n          seterror_dlg(true);\r\n        }\r\n        initializeData(locationData);\r\n\r\n      }).catch(error => {\r\n        seterror_dlg(true);\r\n      })\r\n    } else {\r\n      dataSend.beneficiaryId = dataSet.beneficiaryId;\r\n      apiBack.actualizarListaBeneficiarioSecundario(dataSend).then(resp => {\r\n        if (resp !== null && resp !== undefined) {\r\n          cerrarModal();\r\n        } else {\r\n          cerrarModal();\r\n          seterror_dlg(true);\r\n        }\r\n        initializeData(locationData);\r\n      }).catch(error => {\r\n        seterror_dlg(true);\r\n      })\r\n    }\r\n  }\r\n  //abrimos modal para adjunar archivos\r\n  function abrirModal() {\r\n    setShowModalFideicomitente(true);\r\n    removeBodyCss()\r\n  }\r\n  function cerrarModal() {\r\n    setShowModalFideicomitente(false);\r\n    removeBodyCss()\r\n  }\r\n  function removeBodyCss() {\r\n    document.body.classList.add(\"no_padding\")\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <Row>\r\n        <Col lg=\"12\">\r\n          <p className=\"card-title-desc\"></p>\r\n          <p className=\"card-title-desc\"></p>\r\n          <div className=\"d-flex flex-row justify-content-between my-3\">\r\n            <h4 className=\"card-title\">{props.t(\"SecondaryBeneficiary\")}</h4>\r\n            <Button className=\"btn\" color=\"success\" type=\"button\" style={{ margin: '5px' }} onClick={() => {\r\n              abrirModal(); settype(\"guardar\"); setdataSet({\r\n                \"transactId\": 0,\r\n                \"firstName\": \"\",\r\n                \"secondName\": \"\",\r\n                \"firstLastName\": \"\",\r\n                \"secondLastName\": \"\",\r\n                \"nationality\": \"\",\r\n                \"personType\": \"\",\r\n                \"documentType\": \"\",\r\n                \"documentNumber\": \"\",\r\n                \"address\": \"\",\r\n                \"telephone\": \"\",\r\n                \"relationship\": \"\",\r\n                \"percentage\": 0\r\n              })\r\n            }} title={props.t(\"Add\")}><i className=\"fas fa-lg fa-plus-circle\"></i> {(\" \")}</Button>\r\n          </div>\r\n          <div className=\"table-responsive styled-table-div\">\r\n            <Table className=\"table table-striped table-hover styled-table table mb-0\">\r\n              <thead>\r\n                <tr>\r\n                  <th>{props.t(\"Name\")}</th>\r\n                  <th>{props.t(\"Nationality\")}</th>\r\n                  <th>{props.t(\"Documenttype\")}</th>\r\n                  <th>{props.t(\"PersonType\")}</th>\r\n                  <th>{props.t(\"Documentnumber\")}</th>\r\n                  <th>{props.t(\"Address\")}</th>\r\n                  <th>{props.t(\"Phone\")}</th>\r\n                  <th>{props.t(\"Relationship\")}</th>\r\n                  <th>{props.t(\"Percent\")}</th>\r\n                  <th style={{ textAlign: \"right\" }}>\r\n                    {props.t(\"Actions\")}\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {dataFideicomitenteRows}\r\n              </tbody>\r\n            </Table>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n      <ModalBeneficiosFideicomiso tipo={type} dataSet={dataSet} botones={botonValidation} gestionDatos={gestionDatos} isOpen={showModalFideicomitente} toggle={() => { cerrarModal() }} />\r\n      {successSave_dlg ? (\r\n        <SweetAlert\r\n          success\r\n          title={props.t(\"SuccessDialog\")}\r\n          confirmButtonText={props.t(\"Confirm\")}\r\n          cancelButtonText={props.t(\"Cancel\")}\r\n          onConfirm={() => {\r\n            setsuccessSave_dlg(false)\r\n            initializeData(locationData);\r\n          }}\r\n        >\r\n          {props.t(\"SuccessSaveMessage\")}\r\n        </SweetAlert>\r\n      ) : null}\r\n\r\n      {error_dlg ? (\r\n        <SweetAlert\r\n          error\r\n          title={props.t(\"ErrorDialog\")}\r\n          confirmButtonText={props.t(\"Confirm\")}\r\n          cancelButtonText={props.t(\"Cancel\")}\r\n          onConfirm={() => {\r\n            seterror_dlg(false)\r\n            initializeData(locationData);\r\n          }}\r\n        >\r\n          {error_msg}\r\n        </SweetAlert>\r\n      ) : null}\r\n      {confirm_alert ? (\r\n        <SweetAlert\r\n          title={props.t(\"Areyousure\")}\r\n          warning\r\n          showCancel\r\n          confirmButtonText={props.t(\"Yesdeleteit\")}\r\n          cancelButtonText={props.t(\"Cancel\")}\r\n          confirmBtnBsStyle=\"success\"\r\n          cancelBtnBsStyle=\"danger\"\r\n          onConfirm={() => {\r\n            apiBack.eliminarListaBeneficiarioSecundario(locationData.transactionId, dataSet.beneficiaryId).then(resp => {\r\n              if (resp.statusCode == \"500\") {\r\n                setconfirm_alert(false)\r\n                seterror_dlg(true)\r\n              } else {\r\n                setconfirm_alert(false)\r\n                setsuccessSave_dlg(true)\r\n              }\r\n            }).catch(error => {\r\n              setconfirm_alert(false)\r\n              seterror_dlg(true)\r\n            })\r\n          }}\r\n          onCancel={() => setconfirm_alert(false)}\r\n        >\r\n          {props.t(\"Youwontbeabletorevertthis\")}\r\n        </SweetAlert>\r\n      ) : null}\r\n    </React.Fragment>\r\n  );\r\n}\r\nexport default (withTranslation()(BeneficiarioSecundario))\r\n"]},"metadata":{},"sourceType":"module"}