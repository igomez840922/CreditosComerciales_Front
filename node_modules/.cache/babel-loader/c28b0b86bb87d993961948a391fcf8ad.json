{"ast":null,"code":"import { WatchListModel, DocumentModel, ClientInfoModel, PartiesStaffModel } from \"../../models/Core\";\nimport ApiServiceCore from \"../ApiServiceCore\";\nimport * as url from \"../../helpers/url_helper\";\nimport qs from \"qs\";\nimport { ACT_FACILIDADACTIVOSFIJOS } from \"../../helpers/options_helper\";\nimport moment from \"moment\";\nexport default class Services extends ApiServiceCore {\n  //analysis/customers -> retorna la info de lista de vigilancia\n  //ConsultarListaCriterioCORE    \n  async postWhatchList(params) {\n    try {\n      /*\r\n      {\r\n      \"pCustomerId\": \"06--00711-002304\",\r\n      \"pTypeId\": \"CEDULA_IDENTIDAD\",\r\n      \"pModelId\": \"LISTA_VIGILANCIA\",\r\n      \"pCustomerListParams\": {\r\n      \"KeyValueParam\": [\r\n        {\r\n            \"_x003C_Key_x003E_k__BackingField\": \"NOMBRE\",\r\n            \"_x003C_Value_x003E_k__BackingField\": \"Librada\"\r\n        },\r\n        {\r\n            \"_x003C_Key_x003E_k__BackingField\": \"SEGUNDO_NOMBRE\",\r\n            \"_x003C_Value_x003E_k__BackingField\": \"Emilio\"\r\n        },\r\n        {\r\n            \"_x003C_Key_x003E_k__BackingField\": \"PRIMER_APELLIDO\",\r\n            \"_x003C_Value_x003E_k__BackingField\": \"Rivera\"\r\n        },\r\n        {\r\n            \"_x003C_Key_x003E_k__BackingField\": \"SEGUNDO_APELLIDO\",\r\n            \"_x003C_Value_x003E_k__BackingField\": \"Gaviria\"\r\n        },\r\n        {\r\n            \"_x003C_Key_x003E_k__BackingField\": \"TIPO_ID\",\r\n            \"_x003C_Value_x003E_k__BackingField\": \"CEDULA_IDENTIDAD\"\r\n        },\r\n        {\r\n            \"_x003C_Key_x003E_k__BackingField\": \"CEDULA\",\r\n            \"_x003C_Value_x003E_k__BackingField\": \"06--00711-002304\"\r\n        }\r\n      ]\r\n      },\r\n      \"pUser\": \"wallytech_ws_user\",\r\n      \"pWaitingInterval\": 180000000,\r\n      \"pPriority\": 1\r\n      }\r\n      */\n      var result = await this.post(url.URL_CORE_WATCHLIST, params);\n      return {\n        status: 200,\n        result: WatchListModel.fromJson(result).results\n      };\n    } catch (err) {\n      return {\n        status: err.response.status,\n        error: err.response.data\n      }; //errorMessage, //errorCode\n    }\n  } //documents -> salva documento en gestor documental ONBASE\n  //GuardarDocumentoECM\n\n\n  async postDocument(data) {\n    var config = {\n      headers: {\n        //\"Accept\":\"*/*\",\n        //\"Accept-Encoding\":\"gzip, deflate, sdch, br\",\n        //\"Accept-Language\":\"fr-FR,fr;q=0.8,en-US;q=0.6,en;q=0.4\",\n        //\"Access-Control-Request-Headers\":\"accept, content-type\",\n        //\"Content-Type\":\"text/plain\",\n        //\"Content-Length\":JSON.stringify(data).length.toString(),\n        //\"Host\":\"https://qa.api.ob.banesco.com.pa/\",\n        //Connection: \"keep-alive\",\n        //\"User-Agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36\",\n        \"userId\": \"mq3898\",\n        //Usuario\n        \"clientDt\": \"clientDt\",\n        //\"Fecha de ejecución del cliente.\"\n        \"appName\": \"ReactJs\",\n        //\"Aplicacion que consume el servicio\"\n        \"requestId\": \"202112202\",\n        //\"Identificador de la solicitud.\"\n        \"channelId\": \"channelID\" //\"Canal consumidor\",                \n\n      }\n    };\n    var result = await this.post(url.URL_CORE_DOCUMENTS, data, config);\n    console.log(\"Result Document: \", result);\n    /*\r\n    var result = {\r\n        \"Status\": {\r\n            \"StatusCode\": \"M0000\",\r\n            \"StatusDesc\": \"OK\"\r\n        },\r\n        \"Token\": \"e793-ddb2-ab0e-6626-5d3e-5f19-b79b-1f5d\",\r\n        \"Result\": {\r\n            \"DocName\": \"TDC - Contrato de TDC  (98765432)\",\r\n            \"DocumentID\": \"34589873\",\r\n            \"FormType\": \"HTML\"\r\n        }\r\n    }\r\n    */\n    //console.log(result);\n\n    if (result.Status.StatusCode === \"M0000\") {\n      var dataresult = {\n        docName: result.Result['DocName'],\n        documentId: result.Result['DocumentID'],\n        formType: result.Result['FormType']\n      };\n      return dataresult;\n    }\n\n    return undefined;\n  } //documents -> Ver documento en gestor documental ONBASE\n  //VerDocumentoECM\n\n\n  async postViewDocument(docId) {\n    try {\n      var data = {\n        DocumentHandle: docId,\n        ReturnBase64: false\n      };\n      var result = await this.post(url.URL_CORE_DOCUMENTSVIEW, data);\n      console.log(\"Result Document: \", result);\n      return result.Documents[0].DocPop;\n    } catch (e) {}\n\n    return null;\n  } //v1/parties/information -> retorna la info del cliente\n  //BuscarClienteCORE\n\n\n  async getPartiesInformation(params) {\n    /*var item =[ {id:800120843,clientnumber:800120843,clientname:\"Israel Michel Gomez Alfonso\",firstname:\"Israel\",secondname:\"Michel\",\r\n    lastname:\"Gomez\",secondlastname:\"Alfonso\",idtype:\"CED\",idnumber:\"456123\"},\r\n    {id:800120845,clientnumber:800120845,clientname:\"Pancho Pedro Gomez Alfonso\",firstname:\"Pancho\",secondname:\"Pedro\",\r\n    lastname:\"Gomez\",secondlastname:\"Alfonso\",idtype:\"RUC\",idnumber:\"456456\"}];\r\n    return item;*/\n    //params = {PartyId:800120843}\n    var data = qs.stringify(params);\n    console.log(data); //url.URL_CORSBYPASS +\n\n    var result = await this.get(url.URL_CORE_PARTIEINFO + \"?\" + data);\n    console.log(result);\n    return ClientInfoModel.fromJson(result);\n  } ///v1/parties/staff\n\n\n  async getPartiesStaff(params) {\n    //params = {PartyId:600235373}\n    params = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_PARTIESTAFF + \"?\" + params);\n    return PartiesStaffModel.fromJson(result);\n  } ///v1/parties/staff\n\n\n  async putPartiesStaff(data) {\n    data = {\n      \"Party\": {\n        \"PartyKey\": {\n          \"PartyId\": \"600235373\"\n        },\n        \"OrgPartyInfo\": {\n          \"OrgData\": {\n            \"Staff\": [{\n              \"BirthDt\": \"1959-02-12\",\n              \"FATCA\": null,\n              \"Gender\": \"MALE\",\n              \"PartyData\": {\n                \"Contact\": {\n                  \"Locator\": {\n                    \"PostAddr\": [{\n                      \"City\": {\n                        \"Cod\": \"PANAMA\"\n                      },\n                      \"CountyDistrict\": {\n                        \"Cod\": \"8047\"\n                      },\n                      \"Jurisdiction\": {\n                        \"Cod\": \"8606\"\n                      },\n                      \"Province\": {\n                        \"Cod\": \"PA08\"\n                      },\n                      \"Street\": \"PRINCIPAL\",\n                      \"Country\": {\n                        \"CountryCode\": \"PA\"\n                      }\n                    }],\n                    \"Phone\": [{\n                      \"PhoneNum\": \"66669999\",\n                      \"PhoneType\": \"Home\"\n                    }]\n                  }\n                },\n                \"Nationality\": \"ES\",\n                \"IssuedIdent\": [{\n                  \"Ident\": {\n                    \"IssuedIdentValue\": \"E-8-101498\"\n                  }\n                }]\n              },\n              \"PartyKey\": {\n                \"PartyType\": \"1\"\n              },\n              \"PEPData\": {\n                \"IsPEP\": false\n              },\n              \"PersonName\": {\n                \"FirstName\": \"LUIS\",\n                \"LastName\": \"MELLA\",\n                \"SecondLastName\": \"RODRIGUEZ\",\n                \"SecondName\": \"FRANCISCO\"\n              },\n              \"Shareholding\": \"100\",\n              \"SharesType\": {\n                \"Cod\": \"1\"\n              },\n              \"StaffPosition\": \"08\",\n              \"OrgName\": null\n            }, {\n              \"BirthDt\": \"1959-02-12\",\n              \"FATCA\": {\n                \"OtherNationality\": false,\n                \"US183Permanence\": false,\n                \"USRelated\": false,\n                \"USResid\": false,\n                \"USSignor\": false\n              },\n              \"Gender\": \"MALE\",\n              \"PartyData\": {\n                \"Contact\": {\n                  \"Locator\": {\n                    \"PostAddr\": [{\n                      \"CountyDistrict\": {\n                        \"Cod\": \"8047\"\n                      },\n                      \"Province\": {\n                        \"Cod\": \"PA08\"\n                      },\n                      \"Country\": {\n                        \"CountryCode\": \"PA\"\n                      }\n                    }]\n                  }\n                },\n                \"Nationality\": \"PA\",\n                \"IssuedIdent\": [{\n                  \"Ident\": {\n                    \"IssuedIdentValue\": \"E-8-101498\"\n                  }\n                }]\n              },\n              \"PartyKey\": {\n                \"PartyType\": \"1\"\n              },\n              \"PEPData\": {\n                \"IsPEP\": false\n              },\n              \"PersonName\": {\n                \"FirstName\": \"LUIS\",\n                \"LastName\": \"MELLA\",\n                \"SecondLastName\": \"RODRIGUEZ\",\n                \"SecondName\": \"FRANCISCO\"\n              },\n              \"Profession\": {\n                \"Value\": \"1007\"\n              },\n              \"SharesType\": {\n                \"Cod\": \"1\"\n              },\n              \"StaffPosition\": \"09\",\n              \"OrgName\": null\n            }, {\n              \"BirthDt\": \"1959-02-12\",\n              \"FATCA\": null,\n              \"Gender\": \"MALE\",\n              \"PartyData\": {\n                \"Contact\": {\n                  \"Locator\": {\n                    \"PostAddr\": [{\n                      \"City\": {\n                        \"Cod\": \"PANAMA\"\n                      },\n                      \"CountyDistrict\": {\n                        \"Cod\": \"8047\"\n                      },\n                      \"Jurisdiction\": {\n                        \"Cod\": \"8606\"\n                      },\n                      \"Province\": {\n                        \"Cod\": \"PA08\"\n                      },\n                      \"Street\": \"PRINCIPAL\",\n                      \"Country\": {\n                        \"CountryCode\": \"PA\"\n                      }\n                    }],\n                    \"Phone\": [{\n                      \"PhoneNum\": \"65263673\",\n                      \"PhoneType\": \"Home\"\n                    }]\n                  }\n                },\n                \"Nationality\": \"ES\",\n                \"IssuedIdent\": [{\n                  \"Ident\": {\n                    \"IssuedIdentValue\": \"E-8-101498\"\n                  }\n                }]\n              },\n              \"PartyKey\": {\n                \"PartyType\": \"1\"\n              },\n              \"PEPData\": {\n                \"IsPEP\": false\n              },\n              \"PersonName\": {\n                \"FirstName\": \"LUIS\",\n                \"LastName\": \"MELLA\",\n                \"SecondLastName\": \"RODRIGUEZ\",\n                \"SecondName\": \"FRANCISCO\"\n              },\n              \"SharesType\": {\n                \"Cod\": \"1\"\n              },\n              \"StaffPosition\": \"10\",\n              \"OrgName\": null\n            }, {\n              \"BirthDt\": \"1982-02-15\",\n              \"FATCA\": null,\n              \"Gender\": \"MALE\",\n              \"PartyData\": {\n                \"Contact\": {\n                  \"Locator\": {\n                    \"PostAddr\": [{\n                      \"Province\": {\n                        \"Cod\": \"PA08\"\n                      },\n                      \"Country\": {\n                        \"CountryCode\": \"PA\"\n                      }\n                    }]\n                  }\n                },\n                \"Nationality\": \"PA\",\n                \"IssuedIdent\": [{\n                  \"Ident\": {\n                    \"IssuedIdentValue\": \"02--00710-002013\"\n                  }\n                }]\n              },\n              \"PartyKey\": {\n                \"PartyType\": \"1\"\n              },\n              \"PersonName\": {\n                \"FirstName\": \"JONATHAN\",\n                \"LastName\": \"DELGADO\",\n                \"SecondLastName\": \"MARIN\",\n                \"SecondName\": \"IVES\"\n              },\n              \"SharesType\": {\n                \"Cod\": \"1\"\n              },\n              \"StaffPosition\": \"10\",\n              \"OrgName\": null\n            }, {\n              \"BirthDt\": \"1958-09-29\",\n              \"FATCA\": null,\n              \"Gender\": \"MALE\",\n              \"PartyData\": {\n                \"Contact\": {\n                  \"Locator\": {\n                    \"PostAddr\": [{\n                      \"Province\": {\n                        \"Cod\": \"PA08\"\n                      },\n                      \"Country\": {\n                        \"CountryCode\": \"PA\"\n                      }\n                    }]\n                  }\n                },\n                \"Nationality\": \"ES\",\n                \"IssuedIdent\": [{\n                  \"Ident\": {\n                    \"IssuedIdentValue\": \"ANT119629\"\n                  }\n                }]\n              },\n              \"PartyKey\": {\n                \"PartyType\": \"1\"\n              },\n              \"PersonName\": {\n                \"FirstName\": \"RAMON\",\n                \"LastName\": \"MAÑAS\",\n                \"SecondLastName\": \"SEGURA\"\n              },\n              \"SharesType\": {\n                \"Cod\": \"1\"\n              },\n              \"StaffPosition\": \"10\",\n              \"OrgName\": null\n            }]\n          }\n        }\n      }\n    };\n    var result = await this.put(url.URL_CORE_PARTIESTAFF, data);\n    return PartiesStaffModel.fromJson(result);\n  } //ConsultarListaEmpresasRelacionadas\n\n\n  async getCompaniesRelations(params) {\n    //params = {PartyId:600012387}\n    var data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_COMPANIESRELATIONS + \"?\" + data);\n    return PartiesStaffModel.fromJson(result);\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                       Api para obtener todos los paises desde el catalogo                      */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getPaisesCatalogo() {\n    try {\n      let params = {\n        catalog_name: 'PAIS',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*       Api para obtener las provincias de un pais, pasandole como parametro el id del pais      */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getProvinciasCatalogo(pais) {\n    try {\n      let params = {\n        catalog_name: 'PROVINCIA',\n        parent_catalog_name: pais,\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*    API para obtener los distrito de cada provincia pasandole como parametro el id provincia    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getDistritoCatalogo(provincia) {\n    try {\n      let params = {\n        catalog_name: 'DISTRITO',\n        parent_catalog_name: provincia,\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                      Api para obtener los corregimientos de cada distrito                      */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getCorregimientoCatalogo(distrito) {\n    try {\n      let params = {\n        catalog_name: 'CORREGIMIENTO',\n        parent_catalog_name: distrito,\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                         Api para obtener las ciudades de cada provincia                        */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getCiudadCatalogo(provincia) {\n    try {\n      let params = {\n        catalog_name: 'CIUDAD',\n        parent_catalog_name: provincia,\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                      Api para obtener el grupo economico de los catalogos                      */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getGrupoEconomicoCatalogo() {\n    try {\n      let params = {\n        catalog_name: 'GRUPO ECONOMICO',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (err) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                   Api para obtener las bancas esta api proviene de catalogos                   */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getBancaCatalogo() {\n    try {\n      let params = {\n        catalog_name: 'BANCA',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (err) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                   Api muestra todos los cargos que retorna desde el catalogo                   */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getCargosCatalogo() {\n    try {\n      let params = {\n        catalog_name: 'CARGO',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                     Api retorna todos los bancos exitentes para el catalogo                    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getBancosCatalogo() {\n    try {\n      let params = {\n        catalog_name: 'BANCOS',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                     CATALOGO DE ACTIVIDAD ECONOMICA                    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getActividadEconomicaCatalogo() {\n    try {\n      let params = {\n        catalog_name: 'ACTIVIDAD ECONOMICA',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (err) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                     CATALOGO DE ACTIVIDAD ECONOMICA                    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getSubActividadEconomicaCatalogo(codeActividad) {\n    try {\n      let params = {\n        catalog_name: 'SUB ACTIVIDAD ECONOMICA',\n        parent_catalog_name: codeActividad,\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (err) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                     CATALOGO DE SECTOR ECONOMICO                    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getSectorEconomicoCatalogo() {\n    try {\n      let params = {\n        catalog_name: 'SECTOR ECONOMICO',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                     CATALOGO RELACION                    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getRelacionCatalogo() {\n    try {\n      let params = {\n        catalog_name: 'RELACION',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                     CATALOGO TIPO DE GARANTIA                    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getTipoGarantiaCatalogo() {\n    try {\n      let params = {\n        catalog_name: 'TIPO DE GARANTIA',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /*\r\n  \"catalog\": {\r\n      \"type\": \"TIPO DE GARANTIA\",\r\n      \"records\": [\r\n          {\r\n              \"CODIGO\": \"100\",\r\n              \"DESCRIPCION\": \"Garantia Hipotecaria Mueble\"\r\n          },\r\n          {\r\n              \"CODIGO\": \"200\",\r\n              \"DESCRIPCION\": \"Garantia Hipotecaria Inmueble\"\r\n          },\r\n          {\r\n              \"CODIGO\": \"300\",\r\n              \"DESCRIPCION\": \"Depositos Pignorados en el Banco\"\r\n          },\r\n          {\r\n              \"CODIGO\": \"400\",\r\n              \"DESCRIPCION\": \"Depositos Pignorados en Otros Banco\"\r\n          },\r\n          {\r\n              \"CODIGO\": \"500\",\r\n              \"DESCRIPCION\": \"Garantia Prendaria\"\r\n          },\r\n          {\r\n              \"CODIGO\": \"600\",\r\n              \"DESCRIPCION\": \"Otras Garantias\"\r\n          },\r\n          {\r\n              \"CODIGO\": \"700\",\r\n              \"DESCRIPCION\": \"SIN GARANTIAS\"\r\n          }\r\n      ]\r\n  }\r\n  */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                     CATALOGO MONEDAS                    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getMonedaCatalogo() {\n    try {\n      let params = {\n        catalog_name: 'MONEDA',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                     CATALOGO SUCURSAL  o Agencias                    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getSucursalCatalogo() {\n    try {\n      let params = {\n        catalog_name: 'SUCURSAL',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  } ///v1/loans/details/informations\n  //Retorna las facilidades de un cliente ... partyId -> numero del cliente en T24\n\n\n  async getFacilidades(partyId) {\n    let params = {\n      PartyId: partyId\n    };\n    let data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_FACILIDADES + \"?\" + data);\n    return result;\n  } //sele pasa el Numero de Cliente de de T24\n\n\n  async getExposicionCorporativa(partyId) {\n    try {\n      let params = {\n        PartyId: partyId\n      }; //servicio retorna CP y LP (Corto y Largo Plazo)\n\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_FACILIDADES + \"?\" + data); //Armamos la data a mostrar en pantalla\n\n      result.AcctLoans.AcctLoan.map(function (item, i) {\n        var openYear = moment(item.AcctOpeningInfo.OpenDt).format('YYYY-MM-DD').year();\n        var dueYear = moment(item.CreditAcctData.DueDt).format('YYYY-MM-DD').year();\n\n        if (dueYear - openYear > 1) {\n          //Largo Plazo\n          longTerm[\"approvalRisk\"] += item.AcctOpeningInfo.InitialAmt.Amt;\n          longTerm[\"proposalRisk\"] += item.AcctBal.CurAmt.Amt;\n        } else {\n          //Corto Pazo\n          shortTerm[\"approvalRisk\"] += item.AcctOpeningInfo.InitialAmt.Amt;\n          shortTerm[\"proposalRisk\"] += item.AcctBal.CurAmt.Amt;\n        }\n      });\n      longTerm.variationRisk = longTerm.approvalRisk - longTerm.proposalRisk;\n      shortTerm.variationRisk = shortTerm.approvalRisk - shortTerm.proposalRisk;\n      dataResult.push(longTerm);\n      dataResult.push(shortTerm); //servicio retorna Pignorados\n\n      data = qs.stringify(params);\n      result = await this.get(url.URL_CORE_PIGNORADO + \"?\" + data);\n    } catch (err) {\n      console.error(\"getExposicionCorporativa\");\n    }\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                                 Retorna los balances por meses                                 */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getAverages(AcctReference) {\n    let params = {\n      AcctReference: AcctReference\n    };\n    let data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_AVERAGES + \"?\" + data);\n    return result;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                     Obtenemos una lista de las importaciones que se generen                    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getListaImportaciones(PartyId) {\n    let params = {\n      PartyId: PartyId\n    };\n    let data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_IMPORTACIONES + \"?\" + data);\n    return result;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                 Obtenemos una lista de las exportaciones que se hayan generado                 */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getListaExportaciones(PartyId) {\n    let params = {\n      PartyId: PartyId\n    };\n    let data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_EXPORTACIONES + \"?\" + data);\n    return result;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                          Obtenemos los prestamos entrantes existentes                          */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getPrestamosEntrantes(PartyId) {\n    let params = {\n      PartyId: PartyId\n    };\n    let data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_INGOING + \"?\" + data);\n    return result;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                    Obtenemos una lista de todos los presstamos que ya salen                    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getPrestamosSalientes(PartyId) {\n    let params = {\n      PartyId: PartyId\n    };\n    let data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_OUTOGOING + \"?\" + data);\n    return result;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*               Obtenemos la lista de creditos que existen en la actualidad activos              */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getCreditosExistentes(PartyId) {\n    let params = {\n      PartyId: PartyId\n    };\n    let data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_CREDITOS + \"?\" + data);\n    return result;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                                        Creditos en linea                                       */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getCreditosLine(PartyId) {\n    let params = {\n      PartyId: PartyId\n    };\n    let data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_CREDITOS_LINE + \"?\" + data);\n    return result;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*     Nos devuelve todas las transacciones que ha realizado el usuario por un rango de fechas    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getTransactions(AcctId, EndDt, StartDt) {\n    // ejemplo del dataField\n    // AcctId=1001553287&EndDt=2021-10-16T09:32:51&StartDt=2021-09-16T00:00:00\n    let params = {\n      AcctId: AcctId,\n      EndDt: EndDt,\n      StartDt: StartDt\n    };\n    let data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_TRANSACCTIONS + \"?\" + data);\n    return result;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                                  Obtenemos todos los prestamos                                 */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getPrestamos(PartyId) {\n    let params = {\n      PartyId: PartyId\n    };\n    let data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_PRESTAMOS + \"?\" + data);\n    return result;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*               Obtenemos toda la informacion del prestamos dentro de una actividad              */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getPrestamosInfo(AcctId) {\n    let params = {\n      AcctId: AcctId\n    };\n    let data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_PRESTAMOS_INFORMATION + \"?\" + data);\n    return result;\n  }\n\n}","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/services/CoreServices/Services.js"],"names":["WatchListModel","DocumentModel","ClientInfoModel","PartiesStaffModel","ApiServiceCore","url","qs","ACT_FACILIDADACTIVOSFIJOS","moment","Services","postWhatchList","params","result","post","URL_CORE_WATCHLIST","status","fromJson","results","err","response","error","data","postDocument","config","headers","URL_CORE_DOCUMENTS","console","log","Status","StatusCode","dataresult","docName","Result","documentId","formType","undefined","postViewDocument","docId","DocumentHandle","ReturnBase64","URL_CORE_DOCUMENTSVIEW","Documents","DocPop","e","getPartiesInformation","stringify","get","URL_CORE_PARTIEINFO","getPartiesStaff","URL_CORE_PARTIESTAFF","putPartiesStaff","put","getCompaniesRelations","URL_CORE_COMPANIESRELATIONS","getPaisesCatalogo","catalog_name","parent_catalog_name","keyword","URL_CORE_CATALOGO","catalog","ex","getProvinciasCatalogo","pais","getDistritoCatalogo","provincia","getCorregimientoCatalogo","distrito","getCiudadCatalogo","getGrupoEconomicoCatalogo","getBancaCatalogo","getCargosCatalogo","getBancosCatalogo","getActividadEconomicaCatalogo","getSubActividadEconomicaCatalogo","codeActividad","getSectorEconomicoCatalogo","getRelacionCatalogo","getTipoGarantiaCatalogo","getMonedaCatalogo","getSucursalCatalogo","getFacilidades","partyId","PartyId","URL_CORE_FACILIDADES","getExposicionCorporativa","AcctLoans","AcctLoan","map","item","i","openYear","AcctOpeningInfo","OpenDt","format","year","dueYear","CreditAcctData","DueDt","longTerm","InitialAmt","Amt","AcctBal","CurAmt","shortTerm","variationRisk","approvalRisk","proposalRisk","dataResult","push","URL_CORE_PIGNORADO","getAverages","AcctReference","URL_CORE_AVERAGES","getListaImportaciones","URL_CORE_IMPORTACIONES","getListaExportaciones","URL_CORE_EXPORTACIONES","getPrestamosEntrantes","URL_CORE_INGOING","getPrestamosSalientes","URL_CORE_OUTOGOING","getCreditosExistentes","URL_CORE_CREDITOS","getCreditosLine","URL_CORE_CREDITOS_LINE","getTransactions","AcctId","EndDt","StartDt","URL_CORE_TRANSACCTIONS","getPrestamos","URL_CORE_PRESTAMOS","getPrestamosInfo","URL_CORE_PRESTAMOS_INFORMATION"],"mappings":"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","sourcesContent":["\r\nimport { WatchListModel, DocumentModel, ClientInfoModel, PartiesStaffModel } from \"../../models/Core\";\r\nimport ApiServiceCore from \"../ApiServiceCore\";\r\nimport * as url from \"../../helpers/url_helper\"\r\nimport qs from \"qs\";\r\nimport { ACT_FACILIDADACTIVOSFIJOS } from \"../../helpers/options_helper\";\r\nimport moment from \"moment\";\r\n\r\nexport default class Services extends ApiServiceCore {\r\n\r\n    //analysis/customers -> retorna la info de lista de vigilancia\r\n    //ConsultarListaCriterioCORE    \r\n    async postWhatchList(params) {\r\n        try{\r\n            /*\r\n        {\r\n      \"pCustomerId\": \"06--00711-002304\",\r\n      \"pTypeId\": \"CEDULA_IDENTIDAD\",\r\n      \"pModelId\": \"LISTA_VIGILANCIA\",\r\n      \"pCustomerListParams\": {\r\n          \"KeyValueParam\": [\r\n              {\r\n                  \"_x003C_Key_x003E_k__BackingField\": \"NOMBRE\",\r\n                  \"_x003C_Value_x003E_k__BackingField\": \"Librada\"\r\n              },\r\n              {\r\n                  \"_x003C_Key_x003E_k__BackingField\": \"SEGUNDO_NOMBRE\",\r\n                  \"_x003C_Value_x003E_k__BackingField\": \"Emilio\"\r\n              },\r\n              {\r\n                  \"_x003C_Key_x003E_k__BackingField\": \"PRIMER_APELLIDO\",\r\n                  \"_x003C_Value_x003E_k__BackingField\": \"Rivera\"\r\n              },\r\n              {\r\n                  \"_x003C_Key_x003E_k__BackingField\": \"SEGUNDO_APELLIDO\",\r\n                  \"_x003C_Value_x003E_k__BackingField\": \"Gaviria\"\r\n              },\r\n              {\r\n                  \"_x003C_Key_x003E_k__BackingField\": \"TIPO_ID\",\r\n                  \"_x003C_Value_x003E_k__BackingField\": \"CEDULA_IDENTIDAD\"\r\n              },\r\n              {\r\n                  \"_x003C_Key_x003E_k__BackingField\": \"CEDULA\",\r\n                  \"_x003C_Value_x003E_k__BackingField\": \"06--00711-002304\"\r\n              }\r\n          ]\r\n      },\r\n      \"pUser\": \"wallytech_ws_user\",\r\n      \"pWaitingInterval\": 180000000,\r\n      \"pPriority\": 1\r\n  }\r\n        */\r\n        var result = await this.post(url.URL_CORE_WATCHLIST, params);\r\n\r\n        return {status:200, result: WatchListModel.fromJson(result).results};\r\n        \r\n        }\r\n        catch(err){\r\n            return {status:err.response.status, error: err.response.data}; //errorMessage, //errorCode\r\n        }\r\n    }\r\n    \r\n    //documents -> salva documento en gestor documental ONBASE\r\n    //GuardarDocumentoECM\r\n    async postDocument(data) {\r\n\r\n        var config = {\r\n            headers: {\r\n                //\"Accept\":\"*/*\",\r\n                //\"Accept-Encoding\":\"gzip, deflate, sdch, br\",\r\n                //\"Accept-Language\":\"fr-FR,fr;q=0.8,en-US;q=0.6,en;q=0.4\",\r\n                //\"Access-Control-Request-Headers\":\"accept, content-type\",\r\n                //\"Content-Type\":\"text/plain\",\r\n                //\"Content-Length\":JSON.stringify(data).length.toString(),\r\n                //\"Host\":\"https://qa.api.ob.banesco.com.pa/\",\r\n                //Connection: \"keep-alive\",\r\n                //\"User-Agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36\",\r\n                \"userId\": \"mq3898\", //Usuario\r\n                \"clientDt\": \"clientDt\", //\"Fecha de ejecución del cliente.\"\r\n                \"appName\": \"ReactJs\",//\"Aplicacion que consume el servicio\"\r\n                \"requestId\": \"202112202\",//\"Identificador de la solicitud.\"\r\n                \"channelId\": \"channelID\", //\"Canal consumidor\",                \r\n            }\r\n        }\r\n                \r\n        var result = await this.post(url.URL_CORE_DOCUMENTS, data,config);\r\n\r\n        console.log(\"Result Document: \", result);\r\n\r\n        /*\r\n        var result = {\r\n            \"Status\": {\r\n                \"StatusCode\": \"M0000\",\r\n                \"StatusDesc\": \"OK\"\r\n            },\r\n            \"Token\": \"e793-ddb2-ab0e-6626-5d3e-5f19-b79b-1f5d\",\r\n            \"Result\": {\r\n                \"DocName\": \"TDC - Contrato de TDC  (98765432)\",\r\n                \"DocumentID\": \"34589873\",\r\n                \"FormType\": \"HTML\"\r\n            }\r\n        }\r\n        */\r\n        //console.log(result);\r\n        if (result.Status.StatusCode === \"M0000\") {\r\n            var dataresult = {docName:result.Result['DocName'],documentId:result.Result['DocumentID'],formType:result.Result['FormType']}            \r\n            return dataresult;\r\n        }\r\n\r\n        return undefined;\r\n    }\r\n\r\n    //documents -> Ver documento en gestor documental ONBASE\r\n    //VerDocumentoECM\r\n    async postViewDocument(docId) {\r\n\r\n        try{\r\n            var data = {\r\n            DocumentHandle: docId, \r\n            ReturnBase64:false\r\n        }\r\n                \r\n        var result = await this.post(url.URL_CORE_DOCUMENTSVIEW, data);\r\n\r\n        console.log(\"Result Document: \", result);\r\n\r\n        return result.Documents[0].DocPop;\r\n        }\r\n        catch(e){}\r\n        return null;\r\n                \r\n        \r\n            \r\n    }\r\n\r\n    //v1/parties/information -> retorna la info del cliente\r\n    //BuscarClienteCORE\r\n    async getPartiesInformation(params) {\r\n\r\n        /*var item =[ {id:800120843,clientnumber:800120843,clientname:\"Israel Michel Gomez Alfonso\",firstname:\"Israel\",secondname:\"Michel\",\r\n        lastname:\"Gomez\",secondlastname:\"Alfonso\",idtype:\"CED\",idnumber:\"456123\"},\r\n        {id:800120845,clientnumber:800120845,clientname:\"Pancho Pedro Gomez Alfonso\",firstname:\"Pancho\",secondname:\"Pedro\",\r\n        lastname:\"Gomez\",secondlastname:\"Alfonso\",idtype:\"RUC\",idnumber:\"456456\"}];\r\n        return item;*/\r\n        //params = {PartyId:800120843}\r\n        var data = qs.stringify(params);\r\n        console.log(data);\r\n        //url.URL_CORSBYPASS +\r\n        var result = await this.get(url.URL_CORE_PARTIEINFO + \"?\" + data);  \r\n        console.log(result);\r\n        return ClientInfoModel.fromJson(result);\r\n    }\r\n\r\n    ///v1/parties/staff\r\n    async getPartiesStaff(params) {\r\n\r\n        //params = {PartyId:600235373}\r\n        params = qs.stringify(params);\r\n\r\n        var result = await this.get(url.URL_CORE_PARTIESTAFF + \"?\" + params);\r\n\r\n        return PartiesStaffModel.fromJson(result);\r\n    }\r\n\r\n    ///v1/parties/staff\r\n    async putPartiesStaff(data) {\r\n\r\n        data = {\r\n            \"Party\": {\r\n                \"PartyKey\": {\r\n                    \"PartyId\": \"600235373\"\r\n                },\r\n                \"OrgPartyInfo\": {\r\n                    \"OrgData\": {\r\n                        \"Staff\": [\r\n                            {\r\n                                \"BirthDt\": \"1959-02-12\",\r\n                                \"FATCA\": null,\r\n                                \"Gender\": \"MALE\",\r\n                                \"PartyData\": {\r\n                                    \"Contact\": {\r\n                                        \"Locator\": {\r\n                                            \"PostAddr\": [\r\n                                                {\r\n                                                    \"City\": {\r\n                                                        \"Cod\": \"PANAMA\"\r\n                                                    },\r\n                                                    \"CountyDistrict\": {\r\n                                                        \"Cod\": \"8047\"\r\n                                                    },\r\n                                                    \"Jurisdiction\": {\r\n                                                        \"Cod\": \"8606\"\r\n                                                    },\r\n                                                    \"Province\": {\r\n                                                        \"Cod\": \"PA08\"\r\n                                                    },\r\n                                                    \"Street\": \"PRINCIPAL\",\r\n                                                    \"Country\": {\r\n                                                        \"CountryCode\": \"PA\"\r\n                                                    }\r\n                                                }\r\n                                            ],\r\n                                            \"Phone\": [\r\n                                                {\r\n                                                    \"PhoneNum\": \"66669999\",\r\n                                                    \"PhoneType\": \"Home\"\r\n                                                }\r\n                                            ]\r\n                                        }\r\n                                    },\r\n                                    \"Nationality\": \"ES\",\r\n                                    \"IssuedIdent\": [\r\n                                        {\r\n                                            \"Ident\": {\r\n                                                \"IssuedIdentValue\": \"E-8-101498\"\r\n                                            }\r\n                                        }\r\n                                    ]\r\n                                },\r\n                                \"PartyKey\": {\r\n                                    \"PartyType\": \"1\"\r\n                                },\r\n                                \"PEPData\": {\r\n                                    \"IsPEP\": false\r\n                                },\r\n                                \"PersonName\": {\r\n                                    \"FirstName\": \"LUIS\",\r\n                                    \"LastName\": \"MELLA\",\r\n                                    \"SecondLastName\": \"RODRIGUEZ\",\r\n                                    \"SecondName\": \"FRANCISCO\"\r\n                                },\r\n                                \"Shareholding\": \"100\",\r\n                                \"SharesType\": {\r\n                                    \"Cod\": \"1\"\r\n                                },\r\n                                \"StaffPosition\": \"08\",\r\n                                \"OrgName\": null\r\n                            },\r\n                            {\r\n                                \"BirthDt\": \"1959-02-12\",\r\n                                \"FATCA\": {\r\n                                    \"OtherNationality\": false,\r\n                                    \"US183Permanence\": false,\r\n                                    \"USRelated\": false,\r\n                                    \"USResid\": false,\r\n                                    \"USSignor\": false\r\n                                },\r\n                                \"Gender\": \"MALE\",\r\n                                \"PartyData\": {\r\n                                    \"Contact\": {\r\n                                        \"Locator\": {\r\n                                            \"PostAddr\": [\r\n                                                {\r\n                                                    \"CountyDistrict\": {\r\n                                                        \"Cod\": \"8047\"\r\n                                                    },\r\n                                                    \"Province\": {\r\n                                                        \"Cod\": \"PA08\"\r\n                                                    },\r\n                                                    \"Country\": {\r\n                                                        \"CountryCode\": \"PA\"\r\n                                                    }\r\n                                                }\r\n                                            ]\r\n                                        }\r\n                                    },\r\n                                    \"Nationality\": \"PA\",\r\n                                    \"IssuedIdent\": [\r\n                                        {\r\n                                            \"Ident\": {\r\n                                                \"IssuedIdentValue\": \"E-8-101498\"\r\n                                            }\r\n                                        }\r\n                                    ]\r\n                                },\r\n                                \"PartyKey\": {\r\n                                    \"PartyType\": \"1\"\r\n                                },\r\n                                \"PEPData\": {\r\n                                    \"IsPEP\": false\r\n                                },\r\n                                \"PersonName\": {\r\n                                    \"FirstName\": \"LUIS\",\r\n                                    \"LastName\": \"MELLA\",\r\n                                    \"SecondLastName\": \"RODRIGUEZ\",\r\n                                    \"SecondName\": \"FRANCISCO\"\r\n                                },\r\n                                \"Profession\": {\r\n                                    \"Value\": \"1007\"\r\n                                },\r\n                                \"SharesType\": {\r\n                                    \"Cod\": \"1\"\r\n                                },\r\n                                \"StaffPosition\": \"09\",\r\n                                \"OrgName\": null\r\n                            },\r\n                            {\r\n                                \"BirthDt\": \"1959-02-12\",\r\n                                \"FATCA\": null,\r\n                                \"Gender\": \"MALE\",\r\n                                \"PartyData\": {\r\n                                    \"Contact\": {\r\n                                        \"Locator\": {\r\n                                            \"PostAddr\": [\r\n                                                {\r\n                                                    \"City\": {\r\n                                                        \"Cod\": \"PANAMA\"\r\n                                                    },\r\n                                                    \"CountyDistrict\": {\r\n                                                        \"Cod\": \"8047\"\r\n                                                    },\r\n                                                    \"Jurisdiction\": {\r\n                                                        \"Cod\": \"8606\"\r\n                                                    },\r\n                                                    \"Province\": {\r\n                                                        \"Cod\": \"PA08\"\r\n                                                    },\r\n                                                    \"Street\": \"PRINCIPAL\",\r\n                                                    \"Country\": {\r\n                                                        \"CountryCode\": \"PA\"\r\n                                                    }\r\n                                                }\r\n                                            ],\r\n                                            \"Phone\": [\r\n                                                {\r\n                                                    \"PhoneNum\": \"65263673\",\r\n                                                    \"PhoneType\": \"Home\"\r\n                                                }\r\n                                            ]\r\n                                        }\r\n                                    },\r\n                                    \"Nationality\": \"ES\",\r\n                                    \"IssuedIdent\": [\r\n                                        {\r\n                                            \"Ident\": {\r\n                                                \"IssuedIdentValue\": \"E-8-101498\"\r\n                                            }\r\n                                        }\r\n                                    ]\r\n                                },\r\n                                \"PartyKey\": {\r\n                                    \"PartyType\": \"1\"\r\n                                },\r\n                                \"PEPData\": {\r\n                                    \"IsPEP\": false\r\n                                },\r\n                                \"PersonName\": {\r\n                                    \"FirstName\": \"LUIS\",\r\n                                    \"LastName\": \"MELLA\",\r\n                                    \"SecondLastName\": \"RODRIGUEZ\",\r\n                                    \"SecondName\": \"FRANCISCO\"\r\n                                },\r\n                                \"SharesType\": {\r\n                                    \"Cod\": \"1\"\r\n                                },\r\n                                \"StaffPosition\": \"10\",\r\n                                \"OrgName\": null\r\n                            },\r\n                            {\r\n                                \"BirthDt\": \"1982-02-15\",\r\n                                \"FATCA\": null,\r\n                                \"Gender\": \"MALE\",\r\n                                \"PartyData\": {\r\n                                    \"Contact\": {\r\n                                        \"Locator\": {\r\n                                            \"PostAddr\": [\r\n                                                {\r\n                                                    \"Province\": {\r\n                                                        \"Cod\": \"PA08\"\r\n                                                    },\r\n                                                    \"Country\": {\r\n                                                        \"CountryCode\": \"PA\"\r\n                                                    }\r\n                                                }\r\n                                            ]\r\n                                        }\r\n                                    },\r\n                                    \"Nationality\": \"PA\",\r\n                                    \"IssuedIdent\": [\r\n                                        {\r\n                                            \"Ident\": {\r\n                                                \"IssuedIdentValue\": \"02--00710-002013\"\r\n                                            }\r\n                                        }\r\n                                    ]\r\n                                },\r\n                                \"PartyKey\": {\r\n                                    \"PartyType\": \"1\"\r\n                                },\r\n                                \"PersonName\": {\r\n                                    \"FirstName\": \"JONATHAN\",\r\n                                    \"LastName\": \"DELGADO\",\r\n                                    \"SecondLastName\": \"MARIN\",\r\n                                    \"SecondName\": \"IVES\"\r\n                                },\r\n                                \"SharesType\": {\r\n                                    \"Cod\": \"1\"\r\n                                },\r\n                                \"StaffPosition\": \"10\",\r\n                                \"OrgName\": null\r\n                            },\r\n                            {\r\n                                \"BirthDt\": \"1958-09-29\",\r\n                                \"FATCA\": null,\r\n                                \"Gender\": \"MALE\",\r\n                                \"PartyData\": {\r\n                                    \"Contact\": {\r\n                                        \"Locator\": {\r\n                                            \"PostAddr\": [\r\n                                                {\r\n                                                    \"Province\": {\r\n                                                        \"Cod\": \"PA08\"\r\n                                                    },\r\n                                                    \"Country\": {\r\n                                                        \"CountryCode\": \"PA\"\r\n                                                    }\r\n                                                }\r\n                                            ]\r\n                                        }\r\n                                    },\r\n                                    \"Nationality\": \"ES\",\r\n                                    \"IssuedIdent\": [\r\n                                        {\r\n                                            \"Ident\": {\r\n                                                \"IssuedIdentValue\": \"ANT119629\"\r\n                                            }\r\n                                        }\r\n                                    ]\r\n                                },\r\n                                \"PartyKey\": {\r\n                                    \"PartyType\": \"1\"\r\n                                },\r\n                                \"PersonName\": {\r\n                                    \"FirstName\": \"RAMON\",\r\n                                    \"LastName\": \"MAÑAS\",\r\n                                    \"SecondLastName\": \"SEGURA\"\r\n                                },\r\n                                \"SharesType\": {\r\n                                    \"Cod\": \"1\"\r\n                                },\r\n                                \"StaffPosition\": \"10\",\r\n                                \"OrgName\": null\r\n                            }\r\n                        ]\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        var result = await this.put(url.URL_CORE_PARTIESTAFF, data);\r\n\r\n        return PartiesStaffModel.fromJson(result);\r\n    }\r\n\r\n    //ConsultarListaEmpresasRelacionadas\r\n    async getCompaniesRelations(params) {\r\n\r\n        //params = {PartyId:600012387}\r\n        var data = qs.stringify(params);\r\n\r\n        var result = await this.get(url.URL_CORE_COMPANIESRELATIONS + \"?\" + data);\r\n\r\n        return PartiesStaffModel.fromJson(result);\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                       Api para obtener todos los paises desde el catalogo                      */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getPaisesCatalogo() {\r\n        try{\r\n            let params = {\r\n                catalog_name: 'PAIS',\r\n                parent_catalog_name: \"\",\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*       Api para obtener las provincias de un pais, pasandole como parametro el id del pais      */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getProvinciasCatalogo(pais) {\r\n        try{\r\n            let params = {\r\n                catalog_name: 'PROVINCIA',\r\n                parent_catalog_name: pais,\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*    API para obtener los distrito de cada provincia pasandole como parametro el id provincia    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getDistritoCatalogo(provincia) {\r\n        try{\r\n            let params = {\r\n                catalog_name: 'DISTRITO',\r\n                parent_catalog_name: provincia,\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;\r\n\r\n        \r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                      Api para obtener los corregimientos de cada distrito                      */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getCorregimientoCatalogo(distrito) {\r\n        try{\r\n            let params = {\r\n                catalog_name: 'CORREGIMIENTO',\r\n                parent_catalog_name: distrito,\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;        \r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                         Api para obtener las ciudades de cada provincia                        */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getCiudadCatalogo(provincia) {\r\n        try{\r\n            let params = {\r\n                catalog_name: 'CIUDAD',\r\n                parent_catalog_name: provincia,\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;\r\n        \r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                      Api para obtener el grupo economico de los catalogos                      */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getGrupoEconomicoCatalogo() {\r\n        try{let params = {\r\n            catalog_name: 'GRUPO ECONOMICO',\r\n            parent_catalog_name: \"\",\r\n            keyword:\"\"\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n        return result.catalog;}\r\n        catch(err){}\r\n        return null;\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                   Api para obtener las bancas esta api proviene de catalogos                   */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getBancaCatalogo() {\r\n        try{\r\n            let params = {\r\n                catalog_name: 'BANCA',\r\n                parent_catalog_name: \"\",\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;}\r\n        catch(err){}\r\n        return null;\r\n        \r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                   Api muestra todos los cargos que retorna desde el catalogo                   */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getCargosCatalogo() {\r\n        try{\r\n            let params = {\r\n                catalog_name: 'CARGO',\r\n                parent_catalog_name: \"\",\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;        \r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                     Api retorna todos los bancos exitentes para el catalogo                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getBancosCatalogo() {\r\n        try{\r\n            let params = {\r\n                catalog_name: 'BANCOS',\r\n                parent_catalog_name: \"\",\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;        \r\n        \r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                     CATALOGO DE ACTIVIDAD ECONOMICA                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getActividadEconomicaCatalogo() {\r\n        try{\r\n            let params = {\r\n            catalog_name: 'ACTIVIDAD ECONOMICA',\r\n            parent_catalog_name: \"\",\r\n            keyword:\"\"\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n        return result.catalog;\r\n    }\r\n        catch(err){}\r\n        return null;\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                     CATALOGO DE ACTIVIDAD ECONOMICA                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getSubActividadEconomicaCatalogo(codeActividad) {\r\n        try{\r\n            let params = {\r\n            catalog_name: 'SUB ACTIVIDAD ECONOMICA',\r\n            parent_catalog_name: codeActividad,\r\n            keyword:\"\"\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n        return result.catalog;\r\n    }\r\n        catch(err){}\r\n        return null;\r\n    }\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                     CATALOGO DE SECTOR ECONOMICO                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getSectorEconomicoCatalogo() {\r\n        try{\r\n            let params = {\r\n                catalog_name: 'SECTOR ECONOMICO',\r\n                parent_catalog_name: \"\",\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;      \r\n        \r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                     CATALOGO RELACION                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getRelacionCatalogo() {\r\n        try{\r\n            let params = {\r\n                catalog_name: 'RELACION',\r\n                parent_catalog_name: \"\",\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;      \r\n\r\n        \r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                     CATALOGO TIPO DE GARANTIA                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getTipoGarantiaCatalogo() {\r\n        try{\r\n            let params = {\r\n                catalog_name: 'TIPO DE GARANTIA',\r\n                parent_catalog_name: \"\",\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;      \r\n\r\n        \r\n    }\r\n    /*\r\n    \"catalog\": {\r\n        \"type\": \"TIPO DE GARANTIA\",\r\n        \"records\": [\r\n            {\r\n                \"CODIGO\": \"100\",\r\n                \"DESCRIPCION\": \"Garantia Hipotecaria Mueble\"\r\n            },\r\n            {\r\n                \"CODIGO\": \"200\",\r\n                \"DESCRIPCION\": \"Garantia Hipotecaria Inmueble\"\r\n            },\r\n            {\r\n                \"CODIGO\": \"300\",\r\n                \"DESCRIPCION\": \"Depositos Pignorados en el Banco\"\r\n            },\r\n            {\r\n                \"CODIGO\": \"400\",\r\n                \"DESCRIPCION\": \"Depositos Pignorados en Otros Banco\"\r\n            },\r\n            {\r\n                \"CODIGO\": \"500\",\r\n                \"DESCRIPCION\": \"Garantia Prendaria\"\r\n            },\r\n            {\r\n                \"CODIGO\": \"600\",\r\n                \"DESCRIPCION\": \"Otras Garantias\"\r\n            },\r\n            {\r\n                \"CODIGO\": \"700\",\r\n                \"DESCRIPCION\": \"SIN GARANTIAS\"\r\n            }\r\n        ]\r\n    }\r\n    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                     CATALOGO MONEDAS                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getMonedaCatalogo() {\r\n\r\n        try{\r\n            let params = {\r\n                catalog_name: 'MONEDA',\r\n                parent_catalog_name: \"\",\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;    \r\n\r\n        \r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                     CATALOGO SUCURSAL  o Agencias                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getSucursalCatalogo() {\r\n        try{\r\n            let params = {\r\n                catalog_name: 'SUCURSAL',\r\n                parent_catalog_name: \"\",\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;    \r\n\r\n        \r\n    }\r\n\r\n    ///v1/loans/details/informations\r\n    //Retorna las facilidades de un cliente ... partyId -> numero del cliente en T24\r\n    async getFacilidades(partyId) {\r\n        let params = {\r\n            PartyId: partyId\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_FACILIDADES + \"?\" + data);\r\n        \r\n        return result;\r\n    }\r\n\r\n    //sele pasa el Numero de Cliente de de T24\r\n    async getExposicionCorporativa(partyId) {\r\n        try{\r\n\r\n\r\n\r\n            let params = {\r\n                PartyId: partyId\r\n            }\r\n            \r\n            //servicio retorna CP y LP (Corto y Largo Plazo)\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_FACILIDADES + \"?\" + data);\r\n\r\n            \r\n            //Armamos la data a mostrar en pantalla\r\n            result.AcctLoans.AcctLoan.map(function(item, i){\r\n                \r\n                var openYear = moment(item.AcctOpeningInfo.OpenDt).format('YYYY-MM-DD').year();\r\n                var dueYear = moment(item.CreditAcctData.DueDt).format('YYYY-MM-DD').year();\r\n                if(dueYear - openYear > 1){ //Largo Plazo\r\n                    longTerm[\"approvalRisk\"] += item.AcctOpeningInfo.InitialAmt.Amt;\r\n                    longTerm[\"proposalRisk\"] += item.AcctBal.CurAmt.Amt;\r\n                }\r\n                else{ //Corto Pazo\r\n                    \r\n                    shortTerm[\"approvalRisk\"] += item.AcctOpeningInfo.InitialAmt.Amt;\r\n                    shortTerm[\"proposalRisk\"] += item.AcctBal.CurAmt.Amt;\r\n                }\r\n            })\r\n\r\n            longTerm.variationRisk=longTerm.approvalRisk - longTerm.proposalRisk;\r\n            shortTerm.variationRisk=shortTerm.approvalRisk - shortTerm.proposalRisk;\r\n\r\n            dataResult.push(longTerm);\r\n            dataResult.push(shortTerm);\r\n\r\n\r\n            \r\n            //servicio retorna Pignorados\r\n            data = qs.stringify(params);\r\n            result = await this.get(url.URL_CORE_PIGNORADO + \"?\" + data);\r\n\r\n\r\n        }\r\n        catch(err){\r\n            console.error(\"getExposicionCorporativa\");\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                                 Retorna los balances por meses                                 */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getAverages(AcctReference) {\r\n        let params = {\r\n            AcctReference: AcctReference\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_AVERAGES + \"?\" + data);\r\n        \r\n        return result;\r\n    }\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                     Obtenemos una lista de las importaciones que se generen                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getListaImportaciones(PartyId) {\r\n        let params = {\r\n            PartyId: PartyId\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_IMPORTACIONES + \"?\" + data);\r\n        \r\n        return result;\r\n    }\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                 Obtenemos una lista de las exportaciones que se hayan generado                 */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getListaExportaciones(PartyId) {\r\n        let params = {\r\n            PartyId: PartyId\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_EXPORTACIONES + \"?\" + data);\r\n        \r\n        return result;\r\n    }\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                          Obtenemos los prestamos entrantes existentes                          */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getPrestamosEntrantes(PartyId) {\r\n        let params = {\r\n            PartyId: PartyId\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_INGOING + \"?\" + data);\r\n        \r\n        return result;\r\n    }\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                    Obtenemos una lista de todos los presstamos que ya salen                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getPrestamosSalientes(PartyId) {\r\n        let params = {\r\n            PartyId: PartyId\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_OUTOGOING + \"?\" + data);\r\n        \r\n        return result;\r\n    }\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*               Obtenemos la lista de creditos que existen en la actualidad activos              */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getCreditosExistentes(PartyId) {\r\n        let params = {\r\n            PartyId: PartyId\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_CREDITOS + \"?\" + data);\r\n        \r\n        return result;\r\n    }\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                                        Creditos en linea                                       */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getCreditosLine(PartyId) {\r\n        let params = {\r\n            PartyId: PartyId\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_CREDITOS_LINE + \"?\" + data);\r\n        \r\n        return result;\r\n    }\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*     Nos devuelve todas las transacciones que ha realizado el usuario por un rango de fechas    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getTransactions(AcctId,EndDt,StartDt) {\r\n        // ejemplo del dataField\r\n        // AcctId=1001553287&EndDt=2021-10-16T09:32:51&StartDt=2021-09-16T00:00:00\r\n        let params = {\r\n            AcctId: AcctId,\r\n            EndDt: EndDt,\r\n            StartDt: StartDt,\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_TRANSACCTIONS + \"?\" + data);\r\n        \r\n        return result;\r\n    }\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                                  Obtenemos todos los prestamos                                 */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getPrestamos(PartyId) {\r\n        let params = {\r\n            PartyId: PartyId\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_PRESTAMOS + \"?\" + data);\r\n        \r\n        return result;\r\n    }\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*               Obtenemos toda la informacion del prestamos dentro de una actividad              */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getPrestamosInfo(AcctId) {\r\n        let params = {\r\n            AcctId: AcctId\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_PRESTAMOS_INFORMATION + \"?\" + data);\r\n        \r\n        return result;\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}