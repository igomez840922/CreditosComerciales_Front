{"ast":null,"code":"import _regeneratorRuntime from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _asyncToGenerator from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{withTranslation}from\"react-i18next\";import{Link}from\"react-router-dom\";import{Table,Card,CardBody,Pagination,PaginationItem,PaginationLink,CardFooter,Button,Row,Col}from\"reactstrap\";import ApiServicesDetalleDocumentacion from'../../../../services/DocumentacionLegal/ApiServicesDetalleDocumentacion';import{BpmServices,BackendServices}from\"../../../../services\";import{useLocation,useHistory}from\"react-router-dom\";import*as url from\"../../../../helpers/url_helper\";import SweetAlert from\"react-bootstrap-sweetalert\";import{AvField,AvForm,AvGroup}from'availity-reactstrap-validation';import Switch from\"react-switch\";import{useTranslation}from'react-i18next';import Currency from'../../../../helpers/currency';import{uniq_key}from'../../../../helpers/unq_key';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Offsymbol=function Offsymbol(){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100%\",fontSize:12,color:\"#fff\",paddingRight:2},children:[\" \",\"No\"]});};var OnSymbol=function OnSymbol(){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100%\",fontSize:12,color:\"#fff\",paddingRight:2},children:[\" \",\"Si\"]});};var estiloTotales={backgroundColor:\"lightgrey !important\",color:\"black !important\",textAlign:\"center\"};var Honorarios=function Honorarios(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),datosJsonCheck=_useState2[0],setdatosJsonCheck=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),datosJsonCheck1=_useState4[0],setdatosJsonCheck1=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),switch0=_useState6[0],setswitch0=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),switch1=_useState8[0],setswitch1=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),switch2=_useState10[0],setswitch2=_useState10[1];var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var currencyData=new Currency();var apiServiceBackend=new BackendServices();var location=useLocation();var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),openModalRiesgo=_useState12[0],setopenModalRiesgo=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),facilidadesData=_useState14[0],setfacilidadesData=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),recordsFacilidades=_useState16[0],setrecordsFacilidades=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),dataRows=_useState18[0],setdataRows=_useState18[1];var _useState19=useState(0),_useState20=_slicedToArray(_useState19,2),dataSuma=_useState20[0],setdataSuma=_useState20[1];var _useState21=useState(0),_useState22=_slicedToArray(_useState21,2),dataSuma1=_useState22[0],setdataSuma1=_useState22[1];var _useState23=useState(location.data),_useState24=_slicedToArray(_useState23,2),locationData=_useState24[0],setLocationData=_useState24[1];var history=useHistory();var jsonHonorarios=[{min:0.01,max:10000.01,amountAdd:150.00,porcent:7},{min:10000.00,max:50000.00,amountAdd:200.00,porcent:7},{min:50000.00,max:100000.00,amountAdd:300.00,porcent:7},{min:100000.01,max:250000.00,amountAdd:350.00,porcent:7},{min:250000.01,max:1000000.01,amountAdd:500.00,porcent:7},{min:1000000.01,max:2000000.00,amountAdd:750.00,porcent:7},{min:2000000.01,max:3000000.00,amountAdd:1000.00,porcent:7},{min:3000000.01,max:4000000.00,amountAdd:1500.00,porcent:7},{min:4000000.01,max:5000000.00,amountAdd:2000.00,porcent:7},{min:5000000.01,max:6000000.00,amountAdd:2500.00,porcent:7},{min:6000000.01,max:7000000.00,amountAdd:3000.00,porcent:7},{min:7000000.01,max:8000000.00,amountAdd:3500.00,porcent:7},{min:8000000.01,max:9000000.00,amountAdd:4000.00,porcent:7},{min:9000000.01,max:10000000.00,amountAdd:4500.00,porcent:7}];React.useEffect(function(){var dataSession;if(location.data!==null&&location.data!==undefined){if(location.data.transactionId===undefined||location.data.transactionId.length<=0){history.push(url.URL_DASHBOARD);}else{sessionStorage.setItem('locationData',JSON.stringify(location.data));setLocationData(location.data);dataSession=location.data;}}else{//chequeamos si tenemos guardado en session\nvar result=sessionStorage.getItem('locationData');if(result!==undefined&&result!==null){result=JSON.parse(result);setLocationData(result);dataSession=result;}}if(props.activeTab==5){setdatosJsonCheck([]);initializeData(dataSession);}},[props.activeTab==5]);function initializeData(_x){return _initializeData.apply(this,arguments);}function _initializeData(){_initializeData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dataSession){var _ref,_dataSession$transact;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return apiServiceBackend.consultGeneralDataPropCred((_ref=(_dataSession$transact=dataSession===null||dataSession===void 0?void 0:dataSession.transactionId)!==null&&_dataSession$transact!==void 0?_dataSession$transact:dataSession===null||dataSession===void 0?void 0:dataSession.transactionId)!==null&&_ref!==void 0?_ref:0).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(data){var _data$;var requestId;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:requestId=(_data$=data[0])===null||_data$===void 0?void 0:_data$.requestId;_context4.next=3;return apiServiceBackend.retrieveProposalType().then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(propuesta){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return apiServiceBackend.retrieveFacilityType().then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(facilidad){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return apiServiceBackend.consultarFacilidades(requestId).then(/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(resp){var jsonSet,jsonCheck,totales,totales2,_loop,i;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:jsonSet=[];jsonCheck=[];totales=0;totales2=0;_loop=function _loop(i){var _jsonAdd$,_jsonAdd$2,_jsonAdd$3,_jsonAdd$4,_facilidad$find,_propuesta$find,_jsonAdd$0$amountAdd,_jsonAdd$5,_jsonAdd$0$max,_jsonAdd$6,_jsonAdd$0$min,_jsonAdd$7,_jsonAdd$8,_jsonAdd$9,_jsonAdd$0$min2,_jsonAdd$10,_jsonAdd$0$porcent,_jsonAdd$11,_jsonAdd$12,_jsonAdd$13,_jsonSet$push,_facilidad$find2,_propuesta$find2,_jsonAdd$0$amountAdd2,_jsonAdd$14,_jsonAdd$0$max2,_jsonAdd$15,_jsonAdd$0$min3,_jsonAdd$16,_jsonAdd$17,_jsonAdd$18,_jsonAdd$0$min4,_jsonAdd$19,_jsonAdd$0$porcent2,_jsonAdd$20,_jsonAdd$21,_jsonAdd$22,_datosJsonCheck$push;var jsonAdd=jsonHonorarios.filter(function(x){return resp[i].amount>=x.min&&resp[i].amount<=x.max;});// totales.totalMonto = Number(parseFloat(totales.totalMonto)) + Number(resp[i].amount);\n// totales.totalMonto = Number(parseFloat(totales.totalMonto)) + Number(resp[i].amount);\ntotales=Number(parseFloat(totales))+Number(parseFloat(((_jsonAdd$=jsonAdd[0])===null||_jsonAdd$===void 0?void 0:_jsonAdd$.amountAdd)+((_jsonAdd$2=jsonAdd[0])===null||_jsonAdd$2===void 0?void 0:_jsonAdd$2.porcent)/100*resp[i].amount).toFixed(2));totales2=Number(parseFloat(totales2))+Number(parseFloat(((_jsonAdd$3=jsonAdd[0])===null||_jsonAdd$3===void 0?void 0:_jsonAdd$3.amountAdd)+((_jsonAdd$4=jsonAdd[0])===null||_jsonAdd$4===void 0?void 0:_jsonAdd$4.porcent)/100*resp[i].amount).toFixed(2));jsonSet.push((_jsonSet$push={amount:Number(resp[i].amount),facilityTypeId:resp[i].facilityTypeId,facilityTypeName:(_facilidad$find=facilidad.find(function(x){return x.id===resp[i].facilityTypeId;}))===null||_facilidad$find===void 0?void 0:_facilidad$find.description,proposalTypeId:resp[i].proposalTypeId,proposalTypeName:(_propuesta$find=propuesta.find(function(x){return x.id===resp[i].proposalTypeId;}))===null||_propuesta$find===void 0?void 0:_propuesta$find.description,debtor:resp[i].debtor,amountAdd:(_jsonAdd$0$amountAdd=(_jsonAdd$5=jsonAdd[0])===null||_jsonAdd$5===void 0?void 0:_jsonAdd$5.amountAdd)!==null&&_jsonAdd$0$amountAdd!==void 0?_jsonAdd$0$amountAdd:0,max:(_jsonAdd$0$max=(_jsonAdd$6=jsonAdd[0])===null||_jsonAdd$6===void 0?void 0:_jsonAdd$6.max)!==null&&_jsonAdd$0$max!==void 0?_jsonAdd$0$max:0,min:(_jsonAdd$0$min=(_jsonAdd$7=jsonAdd[0])===null||_jsonAdd$7===void 0?void 0:_jsonAdd$7.min)!==null&&_jsonAdd$0$min!==void 0?_jsonAdd$0$min:0,CAH:false,CAF:false,CAFval:0,CAHval:0,totalSuma:Number(parseFloat(((_jsonAdd$8=jsonAdd[0])===null||_jsonAdd$8===void 0?void 0:_jsonAdd$8.amountAdd)+((_jsonAdd$9=jsonAdd[0])===null||_jsonAdd$9===void 0?void 0:_jsonAdd$9.porcent)/100*resp[i].amount).toFixed(2))},_defineProperty(_jsonSet$push,\"min\",(_jsonAdd$0$min2=(_jsonAdd$10=jsonAdd[0])===null||_jsonAdd$10===void 0?void 0:_jsonAdd$10.min)!==null&&_jsonAdd$0$min2!==void 0?_jsonAdd$0$min2:0),_defineProperty(_jsonSet$push,\"porcent\",(_jsonAdd$0$porcent=(_jsonAdd$11=jsonAdd[0])===null||_jsonAdd$11===void 0?void 0:_jsonAdd$11.porcent)!==null&&_jsonAdd$0$porcent!==void 0?_jsonAdd$0$porcent:0),_defineProperty(_jsonSet$push,\"totalAmount\",parseFloat(((_jsonAdd$12=jsonAdd[0])===null||_jsonAdd$12===void 0?void 0:_jsonAdd$12.amountAdd)+((_jsonAdd$13=jsonAdd[0])===null||_jsonAdd$13===void 0?void 0:_jsonAdd$13.porcent)/100*resp[i].amount).toFixed(2)),_jsonSet$push));datosJsonCheck.push((_datosJsonCheck$push={amount:Number(resp[i].amount),facilityTypeId:resp[i].facilityTypeId,facilityTypeName:(_facilidad$find2=facilidad.find(function(x){return x.id===resp[i].facilityTypeId;}))===null||_facilidad$find2===void 0?void 0:_facilidad$find2.description,proposalTypeId:resp[i].proposalTypeId,proposalTypeName:(_propuesta$find2=propuesta.find(function(x){return x.id===resp[i].proposalTypeId;}))===null||_propuesta$find2===void 0?void 0:_propuesta$find2.description,debtor:resp[i].debtor,amountAdd:(_jsonAdd$0$amountAdd2=(_jsonAdd$14=jsonAdd[0])===null||_jsonAdd$14===void 0?void 0:_jsonAdd$14.amountAdd)!==null&&_jsonAdd$0$amountAdd2!==void 0?_jsonAdd$0$amountAdd2:0,max:(_jsonAdd$0$max2=(_jsonAdd$15=jsonAdd[0])===null||_jsonAdd$15===void 0?void 0:_jsonAdd$15.max)!==null&&_jsonAdd$0$max2!==void 0?_jsonAdd$0$max2:0,min:(_jsonAdd$0$min3=(_jsonAdd$16=jsonAdd[0])===null||_jsonAdd$16===void 0?void 0:_jsonAdd$16.min)!==null&&_jsonAdd$0$min3!==void 0?_jsonAdd$0$min3:0,CAH:false,CAF:false,CAFval:0,CAHval:0,totalSuma:Number(((_jsonAdd$17=jsonAdd[0])===null||_jsonAdd$17===void 0?void 0:_jsonAdd$17.amountAdd)+((_jsonAdd$18=jsonAdd[0])===null||_jsonAdd$18===void 0?void 0:_jsonAdd$18.porcent)/100*resp[i].amount)},_defineProperty(_datosJsonCheck$push,\"min\",(_jsonAdd$0$min4=(_jsonAdd$19=jsonAdd[0])===null||_jsonAdd$19===void 0?void 0:_jsonAdd$19.min)!==null&&_jsonAdd$0$min4!==void 0?_jsonAdd$0$min4:0),_defineProperty(_datosJsonCheck$push,\"porcent\",(_jsonAdd$0$porcent2=(_jsonAdd$20=jsonAdd[0])===null||_jsonAdd$20===void 0?void 0:_jsonAdd$20.porcent)!==null&&_jsonAdd$0$porcent2!==void 0?_jsonAdd$0$porcent2:0),_defineProperty(_datosJsonCheck$push,\"totalAmount\",parseFloat(((_jsonAdd$21=jsonAdd[0])===null||_jsonAdd$21===void 0?void 0:_jsonAdd$21.amountAdd)+((_jsonAdd$22=jsonAdd[0])===null||_jsonAdd$22===void 0?void 0:_jsonAdd$22.porcent)/100*resp[i].amount).toFixed(2)),_datosJsonCheck$push));};for(i=0;i<resp.length;i++){_loop(i);}setdatosJsonCheck(datosJsonCheck);setdataSuma1(totales2);setdataSuma(totales);cargarData(jsonSet);case 10:case\"end\":return _context.stop();}}},_callee);}));return function(_x5){return _ref5.apply(this,arguments);};}());case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x4){return _ref4.apply(this,arguments);};}());case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}());case 3:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x2){return _ref2.apply(this,arguments);};}());case 2:case\"end\":return _context5.stop();}}},_callee5);}));return _initializeData.apply(this,arguments);}function checked(index,tipo,e){if(tipo==\"CAF\"){datosJsonCheck[index].CAF=!datosJsonCheck[index].CAF;datosJsonCheck[index].CAFval=e.target.checked?Number(parseFloat(200+7/100*datosJsonCheck[index].amount).toFixed(2)):0.00;document.getElementById(\"checkCAFval\"+index).innerHTML=e.target.checked?\"$\"+currencyData.format(parseFloat(200+7/100*datosJsonCheck[index].amount).toFixed(2)):0.00;}else{datosJsonCheck[index].CAH=!datosJsonCheck[index].CAH;datosJsonCheck[index].CAHval=e.target.checked?Number(parseFloat(150+7/100*datosJsonCheck[index].amount).toFixed(2)):0.00;document.getElementById(\"checkCAHval\"+index).innerHTML=e.target.checked?\"$\"+currencyData.format(parseFloat(150+7/100*datosJsonCheck[index].amount).toFixed(2)):0.00;}setdatosJsonCheck(datosJsonCheck);var totales=0;for(var i=0;i<datosJsonCheck.length;i++){var _datosJsonCheck$i,_datosJsonCheck$i2;totales=Number(parseFloat(totales))+Number(parseFloat(((_datosJsonCheck$i=datosJsonCheck[i])===null||_datosJsonCheck$i===void 0?void 0:_datosJsonCheck$i.amountAdd)+((_datosJsonCheck$i2=datosJsonCheck[i])===null||_datosJsonCheck$i2===void 0?void 0:_datosJsonCheck$i2.porcent)/100*datosJsonCheck[i].amount).toFixed(2));}console.log(totales);var add=datosJsonCheck.reduce(function(acu,crr){return parseFloat(acu)+parseFloat(crr.CAFval)+parseFloat(crr.CAHval)||0;})+totales;setdataSuma(add);}function cargarData(jsonSet){setfacilidadesData(jsonSet.map(function(data,index){var _data$amount,_data$min,_data$max,_data$amountAdd,_data$porcent,_data$totalAmount;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.facilityTypeName}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"center\"},children:[\"$\",currencyData.formatTable((_data$amount=data.amount)!==null&&_data$amount!==void 0?_data$amount:0)]}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"center\"},title:\"El monto de la facilidad esta en el rango de $\"+currencyData.formatTable((_data$min=data.min)!==null&&_data$min!==void 0?_data$min:0)+\" a $\"+currencyData.formatTable((_data$max=data.max)!==null&&_data$max!==void 0?_data$max:0)+\" y se adicionó \"+currencyData.formatTable((_data$amountAdd=data.amountAdd)!==null&&_data$amountAdd!==void 0?_data$amountAdd:0)+\" al \"+currencyData.formatTable((_data$porcent=data.porcent)!==null&&_data$porcent!==void 0?_data$porcent:0)+\"% del monto de la facilidad\",children:[\"$\",currencyData.formatTable((_data$totalAmount=data.totalAmount)!==null&&_data$totalAmount!==void 0?_data$totalAmount:0)]})]},uniq_key()),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"right\"},children:\"Costo Adenda Hipoteca\"}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){checked(index,\"CAH\",e);},type:\"checkbox\",id:\"checkCAH\"+index,name:\"checkCAH\"+index})}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"p\",{id:\"checkCAHval\"+index,name:\"checkCAHval\"+index,children:\"$0.00\"})})]},uniq_key()),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"right\"},children:\"Costo Adenda a Fideicomiso\"}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){checked(index,\"CAF\",e);},type:\"checkbox\",id:\"checkCAF\"+index,name:\"checkCAF\"+index})}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"p\",{id:\"checkCAFval\"+index,name:\"checkCAFval\"+index,children:\"$0.00\"})})]},uniq_key())]});}));}return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(AvForm,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive styled-table-div\",children:/*#__PURE__*/_jsxs(Table,{className:\"table table-striped table-hover styled-table table\",border:\"0\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"Facility Type\")}),/*#__PURE__*/_jsxs(\"th\",{style:{textAlign:\"center\"},children:[t(\"Amount\"),\" Facilidad\"]}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:t(\"Monto de honorario\")})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[facilidadesData,/*#__PURE__*/_jsxs(\"tr\",{style:estiloTotales,children:[/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"Total de honorarios\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"$\",currencyData.formatTable(dataSuma)]})})]})]})]})})})})})});};export default Honorarios;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/11_DocumentacionLegal/PantallaDetalle/Honorarios.js"],"names":["React","useEffect","useState","withTranslation","Link","Table","Card","CardBody","Pagination","PaginationItem","PaginationLink","CardFooter","Button","Row","Col","ApiServicesDetalleDocumentacion","BpmServices","BackendServices","useLocation","useHistory","url","SweetAlert","AvField","AvForm","AvGroup","Switch","useTranslation","Currency","uniq_key","Offsymbol","display","justifyContent","alignItems","height","fontSize","color","paddingRight","OnSymbol","estiloTotales","backgroundColor","textAlign","Honorarios","props","datosJsonCheck","setdatosJsonCheck","datosJsonCheck1","setdatosJsonCheck1","switch0","setswitch0","switch1","setswitch1","switch2","setswitch2","t","i18n","currencyData","apiServiceBackend","location","openModalRiesgo","setopenModalRiesgo","facilidadesData","setfacilidadesData","recordsFacilidades","setrecordsFacilidades","dataRows","setdataRows","dataSuma","setdataSuma","dataSuma1","setdataSuma1","data","locationData","setLocationData","history","jsonHonorarios","min","max","amountAdd","porcent","dataSession","undefined","transactionId","length","push","URL_DASHBOARD","sessionStorage","setItem","JSON","stringify","result","getItem","parse","activeTab","initializeData","consultGeneralDataPropCred","then","requestId","retrieveProposalType","propuesta","retrieveFacilityType","facilidad","consultarFacilidades","resp","jsonSet","jsonCheck","totales","totales2","i","jsonAdd","filter","x","amount","Number","parseFloat","toFixed","facilityTypeId","facilityTypeName","find","id","description","proposalTypeId","proposalTypeName","debtor","CAH","CAF","CAFval","CAHval","totalSuma","cargarData","checked","index","tipo","e","target","document","getElementById","innerHTML","format","console","log","add","reduce","acu","crr","map","formatTable","totalAmount"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport React, { useEffect, useState } from \"react\"\r\nimport { withTranslation } from \"react-i18next\"\r\nimport { Link } from \"react-router-dom\"\r\nimport {\r\n    Table,\r\n    Card,\r\n    CardBody,\r\n    Pagination,\r\n    PaginationItem,\r\n    PaginationLink,\r\n    CardFooter,\r\n    Button,\r\n    Row,\r\n    Col,\r\n} from \"reactstrap\"\r\nimport ApiServicesDetalleDocumentacion from '../../../../services/DocumentacionLegal/ApiServicesDetalleDocumentacion';\r\nimport { BpmServices, BackendServices } from \"../../../../services\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport * as url from \"../../../../helpers/url_helper\"\r\nimport SweetAlert from \"react-bootstrap-sweetalert\"\r\nimport { AvField, AvForm, AvGroup } from 'availity-reactstrap-validation';\r\nimport Switch from \"react-switch\";\r\nimport { useTranslation } from 'react-i18next';\r\nimport Currency from '../../../../helpers/currency';\r\nimport { uniq_key } from '../../../../helpers/unq_key';\r\n\r\nconst Offsymbol = () => {\r\n    return (\r\n        <div\r\n            style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                height: \"100%\",\r\n                fontSize: 12,\r\n                color: \"#fff\",\r\n                paddingRight: 2,\r\n            }}\r\n        >\r\n            {\" \"}\r\n            No\r\n        </div>\r\n    );\r\n};\r\nconst OnSymbol = () => {\r\n    return (\r\n        <div\r\n            style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                height: \"100%\",\r\n                fontSize: 12,\r\n                color: \"#fff\",\r\n                paddingRight: 2,\r\n            }}\r\n        >\r\n            {\" \"}\r\n            Si\r\n        </div>\r\n    );\r\n};\r\nconst estiloTotales = { backgroundColor: \"lightgrey !important\", color: \"black !important\", textAlign: \"center\" }\r\nconst Honorarios = (props) => {\r\n    const [datosJsonCheck, setdatosJsonCheck] = useState([]);\r\n    const [datosJsonCheck1, setdatosJsonCheck1] = useState(null);\r\n    const [switch0, setswitch0] = useState(false);\r\n    const [switch1, setswitch1] = useState(false);\r\n    const [switch2, setswitch2] = useState(false);\r\n    const { t, i18n } = useTranslation();\r\n    const currencyData = new Currency();\r\n    const apiServiceBackend = new BackendServices();\r\n    const location = useLocation()\r\n    const [openModalRiesgo, setopenModalRiesgo] = useState(false);\r\n    const [facilidadesData, setfacilidadesData] = useState(null);\r\n    const [recordsFacilidades, setrecordsFacilidades] = useState(0);\r\n    const [dataRows, setdataRows] = useState(null);\r\n    const [dataSuma, setdataSuma] = useState(0);\r\n    const [dataSuma1, setdataSuma1] = useState(0);\r\n    const [locationData, setLocationData] = useState(location.data);\r\n    const history = useHistory();\r\n    const jsonHonorarios = [\r\n        {\r\n            min: 0.01,\r\n            max: 10000.01,\r\n            amountAdd: 150.00,\r\n            porcent: 7\r\n        },\r\n        {\r\n            min: 10000.00,\r\n            max: 50000.00,\r\n            amountAdd: 200.00,\r\n            porcent: 7\r\n        },\r\n        {\r\n            min: 50000.00,\r\n            max: 100000.00,\r\n            amountAdd: 300.00,\r\n            porcent: 7\r\n        },\r\n        {\r\n            min: 100000.01,\r\n            max: 250000.00,\r\n            amountAdd: 350.00,\r\n            porcent: 7\r\n        },\r\n        {\r\n            min: 250000.01,\r\n            max: 1000000.01,\r\n            amountAdd: 500.00,\r\n            porcent: 7\r\n        },\r\n        {\r\n            min: 1000000.01,\r\n            max: 2000000.00,\r\n            amountAdd: 750.00,\r\n            porcent: 7\r\n        },\r\n        {\r\n            min: 2000000.01,\r\n            max: 3000000.00,\r\n            amountAdd: 1000.00,\r\n            porcent: 7\r\n        },\r\n        {\r\n            min: 3000000.01,\r\n            max: 4000000.00,\r\n            amountAdd: 1500.00,\r\n            porcent: 7\r\n        },\r\n        {\r\n            min: 4000000.01,\r\n            max: 5000000.00,\r\n            amountAdd: 2000.00,\r\n            porcent: 7\r\n        },\r\n        {\r\n            min: 5000000.01,\r\n            max: 6000000.00,\r\n            amountAdd: 2500.00,\r\n            porcent: 7\r\n        },\r\n        {\r\n            min: 6000000.01,\r\n            max: 7000000.00,\r\n            amountAdd: 3000.00,\r\n            porcent: 7\r\n        },\r\n        {\r\n            min: 7000000.01,\r\n            max: 8000000.00,\r\n            amountAdd: 3500.00,\r\n            porcent: 7\r\n        },\r\n        {\r\n            min: 8000000.01,\r\n            max: 9000000.00,\r\n            amountAdd: 4000.00,\r\n            porcent: 7\r\n        },\r\n        {\r\n            min: 9000000.01,\r\n            max: 10000000.00,\r\n            amountAdd: 4500.00,\r\n            porcent: 7\r\n        }\r\n    ]\r\n    React.useEffect(() => {\r\n        let dataSession;\r\n        if (location.data !== null && location.data !== undefined) {\r\n            if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n                history.push(url.URL_DASHBOARD);\r\n            } else {\r\n                sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n                setLocationData(location.data);\r\n                dataSession = location.data;\r\n            }\r\n        } else {\r\n            //chequeamos si tenemos guardado en session\r\n            var result = sessionStorage.getItem('locationData');\r\n\r\n            if (result !== undefined && result !== null) {\r\n                result = JSON.parse(result);\r\n                setLocationData(result);\r\n                dataSession = result;\r\n            }\r\n        }\r\n        if (props.activeTab == 5) {\r\n            setdatosJsonCheck([])\r\n            initializeData(dataSession);\r\n        }\r\n\r\n    }, [props.activeTab == 5]);\r\n    async function initializeData(dataSession) {\r\n        await apiServiceBackend.consultGeneralDataPropCred(dataSession?.transactionId ?? dataSession?.transactionId ?? 0)\r\n            .then(async (data) => {\r\n                let requestId = data[0]?.requestId;\r\n                await apiServiceBackend.retrieveProposalType()\r\n                    .then(async (propuesta) => {\r\n                        await apiServiceBackend.retrieveFacilityType()\r\n                            .then(async (facilidad) => {\r\n                                await apiServiceBackend.consultarFacilidades(requestId).then(async resp => {\r\n                                    let jsonSet = [];\r\n                                    let jsonCheck = [];\r\n                                    let totales = 0\r\n                                    let totales2 = 0\r\n                                    for (let i = 0; i < resp.length; i++) {\r\n                                        let jsonAdd = jsonHonorarios.filter(x => resp[i].amount >= x.min && resp[i].amount <= x.max);\r\n                                        // totales.totalMonto = Number(parseFloat(totales.totalMonto)) + Number(resp[i].amount);\r\n                                        totales = Number(parseFloat(totales)) + Number(parseFloat(jsonAdd[0]?.amountAdd + ((jsonAdd[0]?.porcent / 100) * resp[i].amount)).toFixed(2));\r\n                                        totales2 = Number(parseFloat(totales2)) + Number(parseFloat(jsonAdd[0]?.amountAdd + ((jsonAdd[0]?.porcent / 100) * resp[i].amount)).toFixed(2));\r\n                                        jsonSet.push({\r\n                                            amount: Number(resp[i].amount),\r\n                                            facilityTypeId: resp[i].facilityTypeId,\r\n                                            facilityTypeName: facilidad.find(x => x.id === resp[i].facilityTypeId)?.description,\r\n                                            proposalTypeId: resp[i].proposalTypeId,\r\n                                            proposalTypeName: propuesta.find(x => x.id === resp[i].proposalTypeId)?.description,\r\n                                            debtor: resp[i].debtor,\r\n                                            amountAdd: jsonAdd[0]?.amountAdd ?? 0,\r\n                                            max: jsonAdd[0]?.max ?? 0,\r\n                                            min: jsonAdd[0]?.min ?? 0,\r\n                                            CAH: false,\r\n                                            CAF: false,\r\n                                            CAFval: 0,\r\n                                            CAHval: 0,\r\n                                            totalSuma: Number(parseFloat(jsonAdd[0]?.amountAdd + ((jsonAdd[0]?.porcent / 100) * resp[i].amount)).toFixed(2)),\r\n                                            min: jsonAdd[0]?.min ?? 0,\r\n                                            porcent: jsonAdd[0]?.porcent ?? 0,\r\n                                            totalAmount: parseFloat(jsonAdd[0]?.amountAdd + ((jsonAdd[0]?.porcent / 100) * resp[i].amount)).toFixed(2),\r\n                                        })\r\n                                        datosJsonCheck.push({\r\n                                            amount: Number(resp[i].amount),\r\n                                            facilityTypeId: resp[i].facilityTypeId,\r\n                                            facilityTypeName: facilidad.find(x => x.id === resp[i].facilityTypeId)?.description,\r\n                                            proposalTypeId: resp[i].proposalTypeId,\r\n                                            proposalTypeName: propuesta.find(x => x.id === resp[i].proposalTypeId)?.description,\r\n                                            debtor: resp[i].debtor,\r\n                                            amountAdd: jsonAdd[0]?.amountAdd ?? 0,\r\n                                            max: jsonAdd[0]?.max ?? 0,\r\n                                            min: jsonAdd[0]?.min ?? 0,\r\n                                            CAH: false,\r\n                                            CAF: false,\r\n                                            CAFval: 0,\r\n                                            CAHval: 0,\r\n                                            totalSuma: Number((jsonAdd[0]?.amountAdd + ((jsonAdd[0]?.porcent / 100) * resp[i].amount))),\r\n                                            min: jsonAdd[0]?.min ?? 0,\r\n                                            porcent: jsonAdd[0]?.porcent ?? 0,\r\n                                            totalAmount: parseFloat(jsonAdd[0]?.amountAdd + ((jsonAdd[0]?.porcent / 100) * resp[i].amount)).toFixed(2),\r\n                                        })\r\n                                    }\r\n                                    setdatosJsonCheck(datosJsonCheck)\r\n                                    setdataSuma1(totales2)\r\n                                    setdataSuma(totales)\r\n                                    cargarData(jsonSet)\r\n\r\n                                })\r\n                            });\r\n                    });\r\n            });\r\n    }\r\n    function checked(index, tipo, e) {\r\n        if (tipo == \"CAF\") {\r\n            datosJsonCheck[index].CAF = !datosJsonCheck[index].CAF;\r\n            datosJsonCheck[index].CAFval = e.target.checked ? Number(parseFloat(200 + ((7 / 100) * datosJsonCheck[index].amount)).toFixed(2)) : 0.00;\r\n            document.getElementById(\"checkCAFval\" + index).innerHTML = e.target.checked ? \"$\" + currencyData.format(parseFloat(200 + ((7 / 100) * datosJsonCheck[index].amount)).toFixed(2)) : 0.00;\r\n        } else {\r\n            datosJsonCheck[index].CAH = !datosJsonCheck[index].CAH\r\n            datosJsonCheck[index].CAHval = e.target.checked ? Number(parseFloat(150 + ((7 / 100) * datosJsonCheck[index].amount)).toFixed(2)) : 0.00;\r\n            document.getElementById(\"checkCAHval\" + index).innerHTML = e.target.checked ? \"$\" + currencyData.format(parseFloat(150 + ((7 / 100) * datosJsonCheck[index].amount)).toFixed(2)) : 0.00;\r\n        }\r\n        setdatosJsonCheck(datosJsonCheck);\r\n        let totales = 0;\r\n        for (let i = 0; i < datosJsonCheck.length; i++) {\r\n            totales = Number(parseFloat(totales)) + Number(parseFloat(datosJsonCheck[i]?.amountAdd + ((datosJsonCheck[i]?.porcent / 100) * datosJsonCheck[i].amount)).toFixed(2));\r\n\r\n        }\r\n        console.log(totales);\r\n        let add = (datosJsonCheck.reduce((acu, crr) => (parseFloat(acu) + parseFloat(crr.CAFval) + parseFloat(crr.CAHval)) || 0)) + totales;\r\n        setdataSuma(add)\r\n    }\r\n    function cargarData(jsonSet) {\r\n\r\n        setfacilidadesData(jsonSet.map((data, index) => (<>\r\n            <tr key={uniq_key()}>\r\n                <td>{data.facilityTypeName}</td>\r\n                <td style={{ textAlign: \"center\" }}>${currencyData.formatTable(data.amount ?? 0)}</td>\r\n                <td style={{ textAlign: \"center\" }} title={\"El monto de la facilidad esta en el rango de $\" + currencyData.formatTable(data.min ?? 0) + \" a $\" + currencyData.formatTable(data.max ?? 0) + \" y se adicionó \" + currencyData.formatTable(data.amountAdd ?? 0) + \" al \" + currencyData.formatTable(data.porcent ?? 0) + \"% del monto de la facilidad\"}>${currencyData.formatTable(data.totalAmount ?? 0)}</td>\r\n            </tr>\r\n            <tr key={uniq_key()}>\r\n                <td style={{ textAlign: \"right\" }}>Costo Adenda Hipoteca</td>\r\n                <td style={{ textAlign: \"center\" }}>\r\n                    <input\r\n                        onChange={(e) => {\r\n                            checked(index, \"CAH\", e);\r\n                        }} type=\"checkbox\" id={\"checkCAH\" + index} name={\"checkCAH\" + index} />\r\n                </td>\r\n                <td style={{ textAlign: \"center\" }}><p id={\"checkCAHval\" + index} name={\"checkCAHval\" + index}>$0.00</p></td>\r\n            </tr>\r\n            <tr key={uniq_key()}>\r\n                <td style={{ textAlign: \"right\" }}>Costo Adenda a Fideicomiso</td>\r\n                <td style={{ textAlign: \"center\" }}>\r\n                    <input\r\n                        onChange={(e) => {\r\n                            checked(index, \"CAF\", e)\r\n                        }} type=\"checkbox\" id={\"checkCAF\" + index} name={\"checkCAF\" + index} />\r\n                </td>\r\n                <td style={{ textAlign: \"center\" }}><p id={\"checkCAFval\" + index} name={\"checkCAFval\" + index}>$0.00</p></td>\r\n            </tr>\r\n        </>))\r\n        )\r\n\r\n    }\r\n    return (\r\n        <React.Fragment>\r\n            <AvForm>\r\n                <Row>\r\n                    <Col md=\"12\">\r\n                        <div className=\"table-responsive styled-table-div\">\r\n                            <Table className=\"table table-striped table-hover styled-table table\" border=\"0\">\r\n                                <thead>\r\n                                    <tr >\r\n                                        <th>{t(\"Facility Type\")}</th>\r\n                                        <th style={{ textAlign: \"center\" }}>{t(\"Amount\")} Facilidad</th>\r\n                                        <th style={{ textAlign: \"center\" }}>{t(\"Monto de honorario\")}</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {facilidadesData}\r\n\r\n                                    <tr style={estiloTotales}>\r\n                                        <td></td>\r\n                                        <td><b>Total de honorarios</b></td>\r\n                                        <td><b>${currencyData.formatTable(dataSuma)}</b></td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </Table>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n            </AvForm>\r\n        </React.Fragment>\r\n    );\r\n}\r\nexport default Honorarios;\r\n"]},"metadata":{},"sourceType":"module"}