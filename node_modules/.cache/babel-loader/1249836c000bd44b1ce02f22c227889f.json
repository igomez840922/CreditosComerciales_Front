{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{translationHelpers}from'../../../../helpers';import{Link,useLocation}from\"react-router-dom\";import SweetAlert from\"react-bootstrap-sweetalert\";import{BackendServices}from\"../../../../services\";import{Row,Col,Table,Button}from\"reactstrap\";import ModalNewDisbursementTerm from\"./ModalNewDisbursementTerm\";import ModalNewPaymentProgram from\"./ModalNewPaymentProgram\";import ModalNewDisbursementMethod from\"./ModalNewDisbursementMethod\";import{useTranslation}from\"react-i18next\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var api=new BackendServices();var DisbursementTerms=function DisbursementTerms(props){var location=useLocation();var _useState=useState(location.data),_useState2=_slicedToArray(_useState,2),dataLocation=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),successSave_dlg=_useState4[0],setsuccessSave_dlg=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error_dlg=_useState6[0],seterror_dlg=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),error_msg=_useState8[0],seterror_msg=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),confirm_alert=_useState10[0],setconfirm_alert=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),displayModal=_useState12[0],setDisplayModal=_useState12[1];var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),botonValidation=_useState14[0],setbotonValidation=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),tipo=_useState16[0],settipo=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),dataDesembolso=_useState18[0],setdataDesembolso=_useState18[1];var _useState19=useState({\"facilityId\":0,\"commissionType\":\"\",\"amount\":0,\"observation\":\"\"}),_useState20=_slicedToArray(_useState19,2),dataSet=_useState20[0],setdataSet=_useState20[1];React.useEffect(function(){// Read Api Service data\ninitializeData();},[]);function initializeData(){// consultarListaDesembolsoPropCred\napi.consultDisbursementListPropCred(props.dataSet.facilityId).then(function(resp){if(resp!=undefined){setdataDesembolso(resp.map(function(data){return data.status?/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.disbursementTypeId}),/*#__PURE__*/_jsx(\"td\",{children:data.observations}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){updateData(data,\"EDESEMBOLSO\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){deleteData(data,\"DDESEMBOLSO\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},data[0]):null;}));}else{setdataDesembolso(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",style:{textAlign:'center'}})},1));}});}function updateData(data,tipo2){setdataSet(data);setbotonValidation(true);settipo(tipo2);setDisplayModal(true);}function deleteData(data,tipo2){setdataSet(data);settipo(tipo2);setconfirm_alert(true);}function saveData(values,tipo2){values.facilityId=props.dataSet.facilityId;if(tipo2==\"DESEMBOLSO\"){// nuevoDesembolsoPropCred\napi.newDisbursementPropCred(values).then(function(resp){if(resp!==null&&resp!==undefined){setsuccessSave_dlg(true);toggleModal();}else{toggleModal();seterror_dlg(false);}initializeData();}).catch(function(err){seterror_dlg(false);});}if(tipo2==\"EDESEMBOLSO\"){values.disbursementId=dataSet.disbursementId;values.status=true;// actualizarDesembolsoPropCred\napi.actualizarDesembolsoPropCred(values).then(function(resp){if(resp!==null&&resp!==undefined){setsuccessSave_dlg(true);toggleModal();}else{toggleModal();seterror_dlg(false);}initializeData();}).catch(function(err){seterror_dlg(false);});}}function toggleModal(){setDisplayModal(!displayModal);}if(!props.items){return null;}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(Row,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"card-sub-title\",children:t(\"Disbursement\")})}),/*#__PURE__*/_jsx(Col,{md:\"6\",style:{textAlign:\"right\"},children:/*#__PURE__*/_jsxs(Button,{className:\"btn\",color:\"success\",type:\"button\",style:{margin:'5px'},onClick:function onClick(){setbotonValidation(true);setdataSet({\"facilityId\":\"\",\"disbursementTypeId\":\"\",\"observations\":\"\"});settipo(\"DESEMBOLSO\");toggleModal();},title:t(\"Add\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lg fa-plus-circle\"}),\" \",\" \"]})}),/*#__PURE__*/_jsx(Col,{md:\"12\",className:\"table-responsive styled-table-div\",children:/*#__PURE__*/_jsxs(Table,{className:\"table table-striped table-hover styled-table table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Disbursement Type\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Description\")})}),/*#__PURE__*/_jsx(\"th\",{className:\"text-end\",children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Actions\")})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataDesembolso})]})})]}),/*#__PURE__*/_jsx(ModalNewDisbursementTerm,{saveData:saveData,botones:botonValidation,tipo:tipo,dataSet:dataSet,isOpen:displayModal,toggle:toggleModal,onSave:props.onSaveItem}),error_dlg?/*#__PURE__*/_jsx(SweetAlert,{error:true,title:t(\"ErrorDialog\"),confirmButtonText:t(\"Confirm\"),cancelButtonText:t(\"Cancel\"),onConfirm:function onConfirm(){seterror_dlg(false);initializeData();},children:error_msg}):null,confirm_alert?/*#__PURE__*/_jsx(SweetAlert,{title:t(\"Areyousure\"),warning:true,showCancel:true,confirmButtonText:t(\"Yesdeleteit\"),cancelButtonText:t(\"Cancel\"),confirmBtnBsStyle:\"success\",cancelBtnBsStyle:\"danger\",onConfirm:function onConfirm(){var api=new BackendServices();// eliminarDesembolsoPropCred\napi.deleteDisbursementPropCred(dataSet.facilityId,dataSet.disbursementId).then(function(resp){if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(false);}else{setconfirm_alert(false);setsuccessSave_dlg(true);}initializeData();}).catch(function(error){setconfirm_alert(false);seterror_dlg(false);});},onCancel:function onCancel(){return setconfirm_alert(false);},children:t(\"Youwontbeabletorevertthis\")}):null]});};var PaymentPrograms=function PaymentPrograms(props){// const api = new BackendServices();\nvar location=useLocation();var _useState21=useState(location.data),_useState22=_slicedToArray(_useState21,2),dataLocation=_useState22[0],setData=_useState22[1];// Variables para alertas \nvar _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),successSave_dlg=_useState24[0],setsuccessSave_dlg=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),error_dlg=_useState26[0],seterror_dlg=_useState26[1];var _useState27=useState(\"\"),_useState28=_slicedToArray(_useState27,2),error_msg=_useState28[0],seterror_msg=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),confirm_alert=_useState30[0],setconfirm_alert=_useState30[1];// Variables para el componente\nvar _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),displayModal=_useState32[0],setDisplayModal=_useState32[1];var _useTranslation2=useTranslation(),t=_useTranslation2.t,i18n=_useTranslation2.i18n;var _useState33=useState(true),_useState34=_slicedToArray(_useState33,2),botonValidation=_useState34[0],setbotonValidation=_useState34[1];var _useState35=useState(\"\"),_useState36=_slicedToArray(_useState35,2),tipo=_useState36[0],settipo=_useState36[1];var _useState37=useState(null),_useState38=_slicedToArray(_useState37,2),dataDesembolso=_useState38[0],setdataProgramas=_useState38[1];var _useState39=useState({\"facilityId\":0,\"commissionType\":\"\",\"amount\":0,\"observation\":\"\"}),_useState40=_slicedToArray(_useState39,2),dataSet=_useState40[0],setdataSet=_useState40[1];React.useEffect(function(){// Read Api Service data\ninitializeData();},[]);function initializeData(){api.consultListProgramPagoPropCred(props.dataSet.facilityId).then(function(resp){if(resp!=undefined){setdataProgramas(resp.map(function(data){return data.status?/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.paymentProgram}),/*#__PURE__*/_jsx(\"td\",{children:data.observations}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){updateData(data,\"EPROGRAMA\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){deleteData(data,\"DPROGRAMA\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},data[0]):null;}));}else{setdataProgramas(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",style:{textAlign:'center'}})},1));}});}function updateData(data,tipo2){setdataSet(data);setbotonValidation(true);settipo(tipo2);setDisplayModal(true);}function deleteData(data,tipo2){setdataSet(data);settipo(tipo2);setconfirm_alert(true);}function saveData(values,tipo2){values.facilityId=props.dataSet.facilityId;if(tipo2==\"PROGRAMA\"){// nuevoProgramaPagoPropCred\napi.newProgramPagoPropCred(values).then(function(resp){if(resp!==null&&resp!==undefined){setsuccessSave_dlg(true);toggleModal();}else{toggleModal();seterror_dlg(false);}initializeData();}).catch(function(err){seterror_dlg(false);});}if(tipo2==\"EPROGRAMA\"){values.paymentProgramId=dataSet.paymentProgramId;values.status=true;// actualizarProgramaPagoPropCred\napi.updateProgramPagoPropCred(values).then(function(resp){if(resp!==null&&resp!==undefined){setsuccessSave_dlg(true);toggleModal();}else{toggleModal();seterror_dlg(false);}initializeData();}).catch(function(err){seterror_dlg(false);});}}function toggleModal(){setDisplayModal(!displayModal);}if(!props.items){return null;}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(Row,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"card-sub-title\",children:t(\"Payment Program\")})}),/*#__PURE__*/_jsx(Col,{md:\"6\",style:{textAlign:\"right\"},children:/*#__PURE__*/_jsxs(Button,{className:\"btn\",color:\"success\",type:\"button\",style:{margin:'5px'},onClick:function onClick(){setbotonValidation(true);setdataSet({\"facilityId\":0,\"paymentProgram\":\"\",\"observations\":\"\",\"status\":true});settipo(\"PROGRAMA\");toggleModal();},title:t(\"Add\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lg fa-plus-circle\"}),\" \",\" \"]})}),/*#__PURE__*/_jsx(Col,{md:\"12\",className:\"table-responsive styled-table-div\",children:/*#__PURE__*/_jsxs(Table,{className:\"table table-striped table-hover styled-table table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"Payment Program Type\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Description\")}),/*#__PURE__*/_jsx(\"th\",{className:\"text-end\",children:t(\"Actions\")})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataDesembolso})]})})]}),/*#__PURE__*/_jsx(ModalNewPaymentProgram,{saveData:saveData,botones:botonValidation,tipo:tipo,dataSet:dataSet,isOpen:displayModal,toggle:toggleModal,onSave:props.onSaveItem}),error_dlg?/*#__PURE__*/_jsx(SweetAlert,{error:true,title:t(\"ErrorDialog\"),confirmButtonText:t(\"Confirm\"),cancelButtonText:t(\"Cancel\"),onConfirm:function onConfirm(){seterror_dlg(false);initializeData();},children:error_msg}):null,confirm_alert?/*#__PURE__*/_jsx(SweetAlert,{title:t(\"Areyousure\"),cancelButtonText:t(\"Cancel\"),warning:true,showCancel:true,confirmButtonText:t(\"Yesdeleteit\"),confirmBtnBsStyle:\"success\",cancelBtnBsStyle:\"danger\",onConfirm:function onConfirm(){var api=new BackendServices();// eliminarProgramaPagoPropCred\napi.deleteProgramPagoPropCred(dataSet.facilityId,dataSet.paymentProgramId).then(function(resp){if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(false);}else{setconfirm_alert(false);setsuccessSave_dlg(true);}initializeData();}).catch(function(error){setconfirm_alert(false);seterror_dlg(false);});},onCancel:function onCancel(){return setconfirm_alert(false);},children:t(\"Youwontbeabletorevertthis\")}):null]});};var DisbursementSection=function DisbursementSection(props){var _useTranslation3=useTranslation(),t=_useTranslation3.t,i18n=_useTranslation3.i18n;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(DisbursementTerms,{dataSet:props.dataSet,items:props.disbursementTerms,onSaveItem:props.onSaveDisbursementTerm,onDeleteItem:props.onDeleteDisbursementTerm,t:t}),/*#__PURE__*/_jsx(PaymentPrograms,{dataSet:props.dataSet,items:props.paymentPrograms,onSaveItem:props.onSavePaymentProgram,onDeleteItem:props.onDeletePaymentProgram,t:t})]});};export default DisbursementSection;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/5_PropuestaCredito/Secciones/DisturbementSeccion.js"],"names":["React","useState","translationHelpers","Link","useLocation","SweetAlert","BackendServices","Row","Col","Table","Button","ModalNewDisbursementTerm","ModalNewPaymentProgram","ModalNewDisbursementMethod","useTranslation","api","DisbursementTerms","props","location","data","dataLocation","setData","successSave_dlg","setsuccessSave_dlg","error_dlg","seterror_dlg","error_msg","seterror_msg","confirm_alert","setconfirm_alert","displayModal","setDisplayModal","t","i18n","botonValidation","setbotonValidation","tipo","settipo","dataDesembolso","setdataDesembolso","dataSet","setdataSet","useEffect","initializeData","consultDisbursementListPropCred","facilityId","then","resp","undefined","map","status","disbursementTypeId","observations","textAlign","updateData","deleteData","tipo2","saveData","values","newDisbursementPropCred","toggleModal","catch","err","disbursementId","actualizarDesembolsoPropCred","items","margin","onSaveItem","deleteDisbursementPropCred","statusCode","error","PaymentPrograms","setdataProgramas","consultListProgramPagoPropCred","paymentProgram","newProgramPagoPropCred","paymentProgramId","updateProgramPagoPropCred","deleteProgramPagoPropCred","DisbursementSection","disbursementTerms","onSaveDisbursementTerm","onDeleteDisbursementTerm","paymentPrograms","onSavePaymentProgram","onDeletePaymentProgram"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\r\nimport PropTypes from 'prop-types';\r\nimport { translationHelpers } from '../../../../helpers';\r\nimport { Link, useLocation } from \"react-router-dom\"\r\nimport SweetAlert from \"react-bootstrap-sweetalert\"\r\nimport { BackendServices } from \"../../../../services\";\r\nimport {\r\n  Row,\r\n  Col,\r\n  Table,\r\n  Button\r\n} from \"reactstrap\"\r\nimport ModalNewDisbursementTerm from \"./ModalNewDisbursementTerm\";\r\nimport ModalNewPaymentProgram from \"./ModalNewPaymentProgram\";\r\nimport ModalNewDisbursementMethod from \"./ModalNewDisbursementMethod\";\r\nimport { useTranslation } from \"react-i18next\";\r\nconst api = new BackendServices();\r\nconst DisbursementTerms = (props) => {\r\n  const location = useLocation()\r\n  const [dataLocation, setData] = useState(location.data);\r\n  const [successSave_dlg, setsuccessSave_dlg] = useState(false);\r\n  const [error_dlg, seterror_dlg] = useState(false);\r\n  const [error_msg, seterror_msg] = useState(\"\");\r\n  const [confirm_alert, setconfirm_alert] = useState(false)\r\n  const [displayModal, setDisplayModal] = useState(false);\r\n  const { t, i18n } = useTranslation();\r\n  const [botonValidation, setbotonValidation] = useState(true);\r\n  const [tipo, settipo] = useState(\"\");\r\n  const [dataDesembolso, setdataDesembolso] = useState(null);\r\n  const [dataSet, setdataSet] = useState({\r\n    \"facilityId\": 0,\r\n    \"commissionType\": \"\",\r\n    \"amount\": 0,\r\n    \"observation\": \"\"\r\n  });\r\n  React.useEffect(() => {\r\n    // Read Api Service data\r\n    initializeData();\r\n  }, []);\r\n  function initializeData() {\r\n    // consultarListaDesembolsoPropCred\r\n    api.consultDisbursementListPropCred(props.dataSet.facilityId).then(resp => {\r\n      if (resp != undefined) {\r\n        setdataDesembolso(resp.map((data) => (\r\n          data.status ?\r\n            <tr key={data[0]}>\r\n              <td>{data.disbursementTypeId}</td>\r\n              <td>{data.observations}</td>\r\n              <td style={{ textAlign: \"right\" }}>\r\n                <Button type=\"button\" color=\"link\" onClick={(resp) => {\r\n                  updateData(data, \"EDESEMBOLSO\")\r\n                }} className=\"btn btn-link\" ><i className=\"mdi mdi-border-color mdi-24px\"></i></Button>\r\n                <Button type=\"button\" color=\"link\" onClick={(resp) => {\r\n                  deleteData(data, \"DDESEMBOLSO\")\r\n                }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n              </td>\r\n            </tr> : null)\r\n        ));\r\n      } else {\r\n        setdataDesembolso(\r\n          <tr key={1}>\r\n            <td colSpan=\"2\" style={{ textAlign: 'center' }}></td>\r\n          </tr>);\r\n      }\r\n    })\r\n  }\r\n  function updateData(data, tipo2) {\r\n    setdataSet(data)\r\n    setbotonValidation(true);\r\n    settipo(tipo2);\r\n    setDisplayModal(true);\r\n  }\r\n  function deleteData(data, tipo2) {\r\n    setdataSet(data)\r\n    settipo(tipo2);\r\n    setconfirm_alert(true);\r\n  }\r\n  function saveData(values, tipo2) {\r\n    values.facilityId = props.dataSet.facilityId;\r\n    if (tipo2 == \"DESEMBOLSO\") {\r\n      // nuevoDesembolsoPropCred\r\n      api.newDisbursementPropCred(values).then(resp => {\r\n        if (resp !== null && resp !== undefined) {\r\n          setsuccessSave_dlg(true)\r\n          toggleModal();\r\n        } else {\r\n          toggleModal();\r\n          seterror_dlg(false);\r\n        }\r\n        initializeData();\r\n      }).catch(err => {\r\n        seterror_dlg(false);\r\n      })\r\n    }\r\n    if (tipo2 == \"EDESEMBOLSO\") {\r\n      values.disbursementId = dataSet.disbursementId;\r\n      values.status = true;\r\n      // actualizarDesembolsoPropCred\r\n      api.actualizarDesembolsoPropCred(values).then(resp => {\r\n        if (resp !== null && resp !== undefined) {\r\n          setsuccessSave_dlg(true)\r\n          toggleModal();\r\n        } else {\r\n          toggleModal();\r\n          seterror_dlg(false);\r\n        }\r\n        initializeData();\r\n      }).catch(err => {\r\n        seterror_dlg(false);\r\n      })\r\n    }\r\n\r\n  }\r\n  function toggleModal() {\r\n    setDisplayModal(!displayModal);\r\n  }\r\n\r\n  if (!props.items) {\r\n    return null;\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      {/* <h5>{t(\"Disbursement\")}</h5> */}\r\n      <Row className=\"mb-3\">\r\n        <Col md=\"6\">\r\n          <h5 className=\"card-sub-title\">{t(\"Disbursement\")}</h5>\r\n        </Col>\r\n        <Col md=\"6\" style={{ textAlign: \"right\" }}>\r\n          <Button className=\"btn\" color=\"success\" type=\"button\" style={{ margin: '5px' }} onClick={() => {\r\n            setbotonValidation(true); setdataSet({\r\n              \"facilityId\": \"\",\r\n              \"disbursementTypeId\": \"\",\r\n              \"observations\": \"\"\r\n            }); settipo(\"DESEMBOLSO\"); toggleModal()\r\n          }} title={t(\"Add\")}><i className=\"fas fa-lg fa-plus-circle\"></i> {(\" \")}</Button>\r\n        </Col>\r\n        <Col md=\"12\" className=\"table-responsive styled-table-div\">\r\n          <Table className=\"table table-striped table-hover styled-table table\" >\r\n            <thead  >\r\n              <tr>\r\n                <th><strong>{t(\"Disbursement Type\")}</strong></th>\r\n                <th><strong>{t(\"Description\")}</strong></th>\r\n                <th className=\"text-end\"><strong>{t(\"Actions\")}</strong></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {dataDesembolso}\r\n            </tbody>\r\n          </Table>\r\n        </Col>\r\n      </Row>\r\n      <ModalNewDisbursementTerm saveData={saveData} botones={botonValidation} tipo={tipo} dataSet={dataSet} isOpen={displayModal} toggle={toggleModal} onSave={props.onSaveItem} />\r\n      {/* {successSave_dlg ? (\r\n        <SweetAlert\r\n          success\r\n          title={t(\"SuccessDialog\")}\r\n          confirmButtonText= {t(\"Confirm\")}\r\n          cancelButtonText= {t(\"Cancel\")}\r\n          onConfirm={() => {\r\n            setsuccessSave_dlg(false)\r\n            initializeData();\r\n          }}\r\n        >\r\n          {t(\"SuccessSaveMessage\")}\r\n        </SweetAlert>\r\n      ) : null} */}\r\n\r\n      {error_dlg ? (\r\n        <SweetAlert\r\n          error\r\n          title={t(\"ErrorDialog\")}\r\n          confirmButtonText={t(\"Confirm\")}\r\n          cancelButtonText={t(\"Cancel\")}\r\n          onConfirm={() => {\r\n            seterror_dlg(false)\r\n            initializeData();\r\n          }}\r\n        >\r\n          {error_msg}\r\n        </SweetAlert>\r\n      ) : null}\r\n      {confirm_alert ? (\r\n        <SweetAlert\r\n          title={t(\"Areyousure\")}\r\n          warning\r\n          showCancel\r\n          confirmButtonText={t(\"Yesdeleteit\")}\r\n          cancelButtonText={t(\"Cancel\")}\r\n          confirmBtnBsStyle=\"success\"\r\n          cancelBtnBsStyle=\"danger\"\r\n          onConfirm={() => {\r\n            const api = new BackendServices();\r\n            // eliminarDesembolsoPropCred\r\n            api.deleteDisbursementPropCred(dataSet.facilityId, dataSet.disbursementId).then(resp => {\r\n              if (resp.statusCode == \"500\") {\r\n                setconfirm_alert(false)\r\n                seterror_dlg(false)\r\n              } else {\r\n                setconfirm_alert(false)\r\n                setsuccessSave_dlg(true)\r\n              }\r\n              initializeData();\r\n            }).catch(error => {\r\n              setconfirm_alert(false)\r\n              seterror_dlg(false)\r\n            })\r\n          }}\r\n          onCancel={() => setconfirm_alert(false)}\r\n        >\r\n          {t(\"Youwontbeabletorevertthis\")}\r\n        </SweetAlert>\r\n      ) : null}\r\n    </React.Fragment>\r\n  );\r\n\r\n};\r\nconst PaymentPrograms = (props) => {\r\n  // const api = new BackendServices();\r\n  const location = useLocation()\r\n  const [dataLocation, setData] = useState(location.data);\r\n  // Variables para alertas \r\n  const [successSave_dlg, setsuccessSave_dlg] = useState(false);\r\n  const [error_dlg, seterror_dlg] = useState(false);\r\n  const [error_msg, seterror_msg] = useState(\"\");\r\n  const [confirm_alert, setconfirm_alert] = useState(false)\r\n  // Variables para el componente\r\n  const [displayModal, setDisplayModal] = useState(false);\r\n  const { t, i18n } = useTranslation();\r\n  const [botonValidation, setbotonValidation] = useState(true);\r\n  const [tipo, settipo] = useState(\"\");\r\n  const [dataDesembolso, setdataProgramas] = useState(null);\r\n  const [dataSet, setdataSet] = useState({\r\n    \"facilityId\": 0,\r\n    \"commissionType\": \"\",\r\n    \"amount\": 0,\r\n    \"observation\": \"\"\r\n  });\r\n  React.useEffect(() => {\r\n    // Read Api Service data\r\n    initializeData();\r\n  }, []);\r\n  function initializeData() {\r\n    api.consultListProgramPagoPropCred(props.dataSet.facilityId).then(resp => {\r\n      if (resp != undefined) {\r\n        setdataProgramas(resp.map((data) => (\r\n          data.status ?\r\n            <tr key={data[0]}>\r\n              <td>{data.paymentProgram}</td>\r\n              <td>{data.observations}</td>\r\n              <td style={{ textAlign: \"right\" }}>\r\n                <Button type=\"button\" color=\"link\" onClick={(resp) => {\r\n                  updateData(data, \"EPROGRAMA\")\r\n                }} className=\"btn btn-link\" ><i className=\"mdi mdi-border-color mdi-24px\"></i></Button>\r\n                <Button type=\"button\" color=\"link\" onClick={(resp) => {\r\n                  deleteData(data, \"DPROGRAMA\")\r\n                }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n              </td>\r\n            </tr> : null)\r\n        ));\r\n      } else {\r\n        setdataProgramas(\r\n          <tr key={1}>\r\n            <td colSpan=\"2\" style={{ textAlign: 'center' }}></td>\r\n          </tr>);\r\n      }\r\n    })\r\n  }\r\n  function updateData(data, tipo2) {\r\n    setdataSet(data)\r\n    setbotonValidation(true);\r\n    settipo(tipo2);\r\n    setDisplayModal(true);\r\n  }\r\n  function deleteData(data, tipo2) {\r\n    setdataSet(data)\r\n    settipo(tipo2);\r\n    setconfirm_alert(true);\r\n  }\r\n  function saveData(values, tipo2) {\r\n    values.facilityId = props.dataSet.facilityId;\r\n    if (tipo2 == \"PROGRAMA\") {\r\n      // nuevoProgramaPagoPropCred\r\n      api.newProgramPagoPropCred(values).then(resp => {\r\n        if (resp !== null && resp !== undefined) {\r\n          setsuccessSave_dlg(true)\r\n          toggleModal();\r\n        } else {\r\n          toggleModal();\r\n          seterror_dlg(false);\r\n        }\r\n        initializeData();\r\n      }).catch(err => {\r\n        seterror_dlg(false);\r\n      })\r\n    }\r\n    if (tipo2 == \"EPROGRAMA\") {\r\n      values.paymentProgramId = dataSet.paymentProgramId;\r\n      values.status = true;\r\n      // actualizarProgramaPagoPropCred\r\n      api.updateProgramPagoPropCred(values).then(resp => {\r\n        if (resp !== null && resp !== undefined) {\r\n          setsuccessSave_dlg(true)\r\n          toggleModal();\r\n        } else {\r\n          toggleModal();\r\n          seterror_dlg(false);\r\n        }\r\n        initializeData();\r\n      }).catch(err => {\r\n        seterror_dlg(false);\r\n      })\r\n    }\r\n\r\n  }\r\n  function toggleModal() {\r\n    setDisplayModal(!displayModal);\r\n  }\r\n  if (!props.items) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {/* <h5>{t(\"Payment Program\")}</h5> */}\r\n      <Row className=\"mb-3\">\r\n        <Col md=\"6\">\r\n          <h5 className=\"card-sub-title\">{t(\"Payment Program\")}</h5>\r\n        </Col>\r\n        <Col md=\"6\" style={{ textAlign: \"right\" }}>\r\n          <Button className=\"btn\" color=\"success\" type=\"button\" style={{ margin: '5px' }} onClick={() => {\r\n            setbotonValidation(true); setdataSet({\r\n              \"facilityId\": 0,\r\n              \"paymentProgram\": \"\",\r\n              \"observations\": \"\",\r\n              \"status\": true\r\n            }); settipo(\"PROGRAMA\"); toggleModal()\r\n          }} title={t(\"Add\")}><i className=\"fas fa-lg fa-plus-circle\"></i> {(\" \")}</Button>\r\n        </Col>\r\n        <Col md=\"12\" className=\"table-responsive styled-table-div\">\r\n          <Table className=\"table table-striped table-hover styled-table table\" >\r\n            <thead  >\r\n              <tr>\r\n                <th>{t(\"Payment Program Type\")}</th>\r\n                <th>{t(\"Description\")}</th>\r\n                <th className=\"text-end\">{t(\"Actions\")}</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {dataDesembolso}\r\n            </tbody>\r\n          </Table>\r\n        </Col>\r\n      </Row>\r\n      <ModalNewPaymentProgram saveData={saveData} botones={botonValidation} tipo={tipo} dataSet={dataSet} isOpen={displayModal} toggle={toggleModal} onSave={props.onSaveItem} />\r\n      {/* {successSave_dlg ? (\r\n        <SweetAlert\r\n          success\r\n          title={t(\"SuccessDialog\")}\r\n          confirmButtonText= {t(\"Confirm\")}\r\n          cancelButtonText= {t(\"Cancel\")}\r\n          onConfirm={() => {\r\n            setsuccessSave_dlg(false)\r\n            initializeData();\r\n          }}\r\n        >\r\n          {t(\"SuccessSaveMessage\")}\r\n        </SweetAlert>\r\n      ) : null} */}\r\n\r\n      {error_dlg ? (\r\n        <SweetAlert\r\n          error\r\n          title={t(\"ErrorDialog\")}\r\n          confirmButtonText={t(\"Confirm\")}\r\n          cancelButtonText={t(\"Cancel\")}\r\n          onConfirm={() => {\r\n            seterror_dlg(false)\r\n            initializeData();\r\n          }}\r\n        >\r\n          {error_msg}\r\n        </SweetAlert>\r\n      ) : null}\r\n      {confirm_alert ? (\r\n        <SweetAlert\r\n          title={t(\"Areyousure\")}\r\n          cancelButtonText={t(\"Cancel\")}\r\n          warning\r\n          showCancel\r\n          confirmButtonText={t(\"Yesdeleteit\")}\r\n          confirmBtnBsStyle=\"success\"\r\n          cancelBtnBsStyle=\"danger\"\r\n          onConfirm={() => {\r\n            const api = new BackendServices();\r\n            // eliminarProgramaPagoPropCred\r\n            api.deleteProgramPagoPropCred(dataSet.facilityId, dataSet.paymentProgramId).then(resp => {\r\n              if (resp.statusCode == \"500\") {\r\n                setconfirm_alert(false)\r\n                seterror_dlg(false)\r\n              } else {\r\n                setconfirm_alert(false)\r\n                setsuccessSave_dlg(true)\r\n              }\r\n              initializeData();\r\n            }).catch(error => {\r\n              setconfirm_alert(false)\r\n              seterror_dlg(false)\r\n            })\r\n          }}\r\n          onCancel={() => setconfirm_alert(false)}\r\n        >\r\n          {t(\"Youwontbeabletorevertthis\")}\r\n        </SweetAlert>\r\n      ) : null}\r\n    </React.Fragment>\r\n  );\r\n\r\n};\r\nconst DisbursementSection = (props) => {\r\n\r\n  const { t, i18n } = useTranslation();\r\n\r\n  return (\r\n    <>\r\n      <DisbursementTerms dataSet={props.dataSet} items={props.disbursementTerms} onSaveItem={props.onSaveDisbursementTerm} onDeleteItem={props.onDeleteDisbursementTerm} t={t} />\r\n      <PaymentPrograms dataSet={props.dataSet} items={props.paymentPrograms} onSaveItem={props.onSavePaymentProgram} onDeleteItem={props.onDeletePaymentProgram} t={t} />\r\n    </>\r\n  );\r\n};\r\nDisbursementSection.propTypes = {\r\n  disbursementTerms: PropTypes.array.isRequired,\r\n  onSaveDisbursementTerm: PropTypes.func.isRequired,\r\n  onDeleteDisbursementTerm: PropTypes.func.isRequired,\r\n  paymentPrograms: PropTypes.array.isRequired,\r\n  onSavePaymentProgram: PropTypes.func.isRequired,\r\n  onDeletePaymentProgram: PropTypes.func.isRequired,\r\n  disbursementMethods: PropTypes.array.isRequired,\r\n  onSaveDisbursementMethod: PropTypes.func.isRequired,\r\n  onDeleteDisbursementMethod: PropTypes.func.isRequired,\r\n};\r\nexport default DisbursementSection;\r\n"]},"metadata":{},"sourceType":"module"}