{"ast":null,"code":"var _jsxFileName = \"D:\\\\_PROJECTS\\\\_SOAINT\\\\JBPM\\\\App\\\\banescocreditoscomerciales\\\\src\\\\components\\\\InformeFinanciero\\\\background\\\\Guarantees.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport PropTypes from 'prop-types';\nimport { translationHelper } from '../../../helpers';\nimport { Card, CardBody, Col, Row, Table } from \"reactstrap\";\nimport { useTranslation } from 'react-i18next';\nimport { BackendServices, CoreServices, BpmServices } from \"../../../services\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport HeaderSections from \"../../Common/HeaderSections\";\nimport LoadingOverlay from \"react-loading-overlay\";\nimport Currency from \"../../../helpers/currency\";\nimport * as url from \"../../../helpers/url_helper\";\nimport { uniq_key } from \"../../../helpers/unq_key\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Guarantees = props => {\n  _s();\n\n  var _location$data;\n\n  const location = useLocation();\n  const apiCore = new CoreServices();\n  const apiBack = new BackendServices();\n  const apiBpm = new BpmServices();\n  const [bodyRows1, setbodyRows1] = useState(null);\n  const [bodyRows2, setbodyRows2] = useState(null);\n  const [bodyRows3, setbodyRows3] = useState(null);\n  const [isActiveLoading, setisActiveLoading] = useState(false);\n  const [dataLocation, setdataLocation] = useState((_location$data = location.data) !== null && _location$data !== void 0 ? _location$data : JSON.parse(sessionStorage.getItem('locationData')));\n  const {\n    t,\n    i18n\n  } = useTranslation();\n\n  function initializeData() {\n    const jsonSet = {\n      Muebles: {},\n      Inmuebles: {},\n      Depositos: {}\n    };\n    const CustomerNumeroT24 = props.customerNumberT24; // const CustomerNumeroT24=user.customerNumberT24;\n\n    setisActiveLoading(true);\n    apiCore.getColaterals(CustomerNumeroT24).then(colaterals => {\n      for (let i = 0; i < (colaterals === null || colaterals === void 0 ? void 0 : colaterals.length); i++) {\n        apiCore.getWarrantyDetails(colaterals[i].collateralId, \"Muebles\").then(respgarantias => {\n          let garantias = respgarantias.Collateral; // console.log(\"Muebles\", garantias);\n\n          if (!garantias) return;\n          setbodyRows1( /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Muebles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: garantias.EmisionDt ? garantias.EmisionDt : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: garantias.AppraisedBy ? garantias.AppraisedBy : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"$ \", garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [parseFloat(colaterals[i].facilityAmt) / parseFloat(garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 24\n          }, this));\n        }).catch(err => {\n          console.log(err);\n        });\n        apiCore.getWarrantyDetails(colaterals[i].collateralId, \"Inmuebles\").then(respgarantias => {\n          let garantias = respgarantias.Collateral; // console.log(\"Inmuebles\", garantias);\n\n          if (!garantias) return;\n          setbodyRows2( /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Inmuebles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: garantias.EmisionDt ? garantias.EmisionDt : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: garantias.AppraisedBy ? garantias.AppraisedBy : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"$ \", garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [parseFloat(colaterals[i].facilityAmt) / parseFloat(garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 24\n          }, this));\n        });\n        apiCore.getWarrantyDetails(colaterals[i].collateralId, \"Depositos\").then(respgarantias => {\n          let garantias = respgarantias.Collateral; // console.log(\"Depositos\", garantias);\n\n          if (!garantias) return;\n          setbodyRows3( /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Depositos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: garantias.EmisionDt ? garantias.EmisionDt : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: garantias.AppraisedBy ? garantias.AppraisedBy : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"$ \", garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [parseFloat(colaterals[i].facilityAmt) / parseFloat(garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 24\n          }, this));\n        });\n      }\n\n      setisActiveLoading(false);\n    }).catch(err => {}); // })\n  }\n\n  const [locationData, setLocationData] = useState(null);\n  const history = useHistory();\n  const currencyData = new Currency();\n  const [muebles, setMuebles] = useState([]);\n  const [Inmuebles, setInmuebles] = useState([]);\n  const [desposito, setDeposito] = useState([]);\n  const [guaranteesRow, setGuaranteesRow] = useState([]);\n  React.useEffect(() => {\n    // initializeData();\n    let dataSession;\n\n    if (location.data !== null && location.data !== undefined) {\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\n        //location.data.transactionId = 0;\n        //checkAndCreateProcedure(location.data);\n        history.push(url.URL_DASHBOARD);\n      } else {\n        console.log(location);\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\n        setLocationData(location.data);\n        dataSession = location.data;\n      }\n    } else {\n      //chequeamos si tenemos guardado en session\n      var result = sessionStorage.getItem('locationData');\n\n      if (result !== undefined && result !== null) {\n        result = JSON.parse(result);\n        setLocationData(result);\n        dataSession = result;\n      }\n    }\n\n    initializeData2(dataSession);\n  }, []);\n\n  function initializeData2(dataSession) {\n    console.log(dataSession);\n    apiBack.consultGeneralDataPropCred(dataSession.transactionId).then(proposal => {\n      let requestId = proposal.length === 0 ? undefined : proposal[0].requestId;\n      Promise.allSettled([apiBack.consultarFacilidades(requestId), apiCore.getTipoGarantiaCatalogo()]).then(async allPromises => {\n        const [{\n          value: facilities\n        }, {\n          value: guaranteesType\n        }] = allPromises;\n        let guaranteesArr = [];\n\n        for (let facility of facilities) {\n          let guarantees = await apiBack.consultarGarantiaPropCred(facility.facilityId);\n          guaranteesArr.push(...currencyData.groupBy(guarantees, 'guaranteeTypeName'));\n        }\n\n        guaranteesArr = [].concat.apply([], guaranteesArr);\n        let arrGuarantees = currencyData.groupBy(guaranteesArr, 'guaranteeTypeName').map(guarantee => guarantee[0]);\n        let rows = (arrGuarantees === null || arrGuarantees === void 0 ? void 0 : arrGuarantees.length) === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: \"6\",\n            style: {\n              textAlign: 'center'\n            },\n            children: t(\"NoData\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 11\n          }, this)\n        }, uniq_key() + \"1\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 50\n        }, this) : arrGuarantees.map(guarantee => {\n          var _guaranteesType$Recor, _guaranteesType$Recor2;\n\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: guaranteesType === null || guaranteesType === void 0 ? void 0 : (_guaranteesType$Recor = guaranteesType.Records) === null || _guaranteesType$Recor === void 0 ? void 0 : (_guaranteesType$Recor2 = _guaranteesType$Recor.find(guaranteeType => guaranteeType.Code === guarantee.guaranteeTypeName)) === null || _guaranteesType$Recor2 === void 0 ? void 0 : _guaranteesType$Recor2.Description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"$\", currencyData.format(guaranteesArr.filter(guaranteeArr => guaranteeArr.guaranteeTypeName === guarantee.guaranteeTypeName).reduce((ac, crr) => ac + crr.commercialValue, 0))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"$\", currencyData.format(guaranteesArr.filter(guaranteeArr => guaranteeArr.guaranteeTypeName === guarantee.guaranteeTypeName).reduce((ac, crr) => ac + crr.fastValue, 0))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [currencyData.format(guaranteesArr.filter(guaranteeArr => guaranteeArr.guaranteeTypeName === guarantee.guaranteeTypeName).reduce((ac, crr) => ac + crr.ltv, 0)), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 13\n            }, this)]\n          }, uniq_key() + \"2\", true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 11\n          }, this);\n        });\n        setGuaranteesRow(rows);\n      }).catch(err => {\n        console.log(err);\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: /*#__PURE__*/_jsxDEV(LoadingOverlay, {\n      active: isActiveLoading,\n      spinner: true,\n      text: t(\"WaitingPlease\"),\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"6\",\n          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"card-sub-title\",\n            children: t(\"WarrantyDetails\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              minHeight: \"100px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              className: \"table-responsive styled-table-div\",\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                className: \"table table-striped table-hover styled-table table mb-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: t(\"Type\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 184,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: t(\"Commercial Value\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 185,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: t(\"QuickValue\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 186,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: t(\"LTV\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 187,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: guaranteesRow\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Guarantees, \"dMGQ1pR9ejG3GJTAdeHoeD8ETs4=\", false, function () {\n  return [useLocation, useTranslation, useHistory];\n});\n\n_c = Guarantees;\nGuarantees.defaultProps = {\n  headers: [],\n  data: []\n};\nexport default Guarantees;\n\nvar _c;\n\n$RefreshReg$(_c, \"Guarantees\");","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/components/InformeFinanciero/background/Guarantees.js"],"names":["React","useEffect","useState","PropTypes","translationHelper","Card","CardBody","Col","Row","Table","useTranslation","BackendServices","CoreServices","BpmServices","useHistory","useLocation","HeaderSections","LoadingOverlay","Currency","url","uniq_key","Guarantees","props","location","apiCore","apiBack","apiBpm","bodyRows1","setbodyRows1","bodyRows2","setbodyRows2","bodyRows3","setbodyRows3","isActiveLoading","setisActiveLoading","dataLocation","setdataLocation","data","JSON","parse","sessionStorage","getItem","t","i18n","initializeData","jsonSet","Muebles","Inmuebles","Depositos","CustomerNumeroT24","customerNumberT24","getColaterals","then","colaterals","i","length","getWarrantyDetails","collateralId","respgarantias","garantias","Collateral","EmisionDt","AppraisedBy","CollateralAmt","Amt","parseFloat","facilityAmt","catch","err","console","log","locationData","setLocationData","history","currencyData","muebles","setMuebles","setInmuebles","desposito","setDeposito","guaranteesRow","setGuaranteesRow","dataSession","undefined","transactionId","push","URL_DASHBOARD","setItem","stringify","result","initializeData2","consultGeneralDataPropCred","proposal","requestId","Promise","allSettled","consultarFacilidades","getTipoGarantiaCatalogo","allPromises","value","facilities","guaranteesType","guaranteesArr","facility","guarantees","consultarGarantiaPropCred","facilityId","groupBy","concat","apply","arrGuarantees","map","guarantee","rows","textAlign","Records","find","guaranteeType","Code","guaranteeTypeName","Description","format","filter","guaranteeArr","reduce","ac","crr","commercialValue","fastValue","ltv","minHeight","defaultProps","headers"],"mappings":"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","sourcesContent":["\r\nimport React, { useEffect, useState } from \"react\"\r\nimport PropTypes from 'prop-types';\r\nimport { translationHelper } from '../../../helpers';\r\n\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  Col,\r\n  Row,\r\n  Table,\r\n} from \"reactstrap\"\r\nimport { useTranslation } from 'react-i18next';\r\nimport { BackendServices, CoreServices, BpmServices, } from \"../../../services\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport HeaderSections from \"../../Common/HeaderSections\";\r\nimport LoadingOverlay from \"react-loading-overlay\";\r\nimport Currency from \"../../../helpers/currency\";\r\nimport * as url from \"../../../helpers/url_helper\"\r\nimport { uniq_key } from \"../../../helpers/unq_key\";\r\n\r\n\r\nconst Guarantees = (props) => {\r\n  const location = useLocation();\r\n  const apiCore = new CoreServices();\r\n  const apiBack = new BackendServices();\r\n  const apiBpm = new BpmServices();\r\n  const [bodyRows1, setbodyRows1] = useState(null);\r\n  const [bodyRows2, setbodyRows2] = useState(null);\r\n  const [bodyRows3, setbodyRows3] = useState(null);\r\n  const [isActiveLoading, setisActiveLoading] = useState(false);\r\n  const [dataLocation, setdataLocation] = useState(location.data ?? JSON.parse(sessionStorage.getItem('locationData')));\r\n  const { t, i18n } = useTranslation();\r\n  function initializeData() {\r\n    const jsonSet = {\r\n      Muebles: {},\r\n      Inmuebles: {},\r\n      Depositos: {},\r\n    }\r\n    const CustomerNumeroT24 = props.customerNumberT24;\r\n    // const CustomerNumeroT24=user.customerNumberT24;\r\n    setisActiveLoading(true);\r\n\r\n\r\n\r\n    apiCore.getColaterals(CustomerNumeroT24).then(colaterals => {\r\n      for (let i = 0; i < colaterals?.length; i++) {\r\n        apiCore.getWarrantyDetails(colaterals[i].collateralId, \"Muebles\").then(respgarantias => {\r\n          let garantias = respgarantias.Collateral;\r\n          // console.log(\"Muebles\", garantias);\r\n          if (!garantias)\r\n            return;\r\n\r\n          setbodyRows1(<tr>\r\n            <td>Muebles</td>\r\n            <td>{garantias.EmisionDt ? garantias.EmisionDt : \"\"}</td>\r\n            <td>{garantias.AppraisedBy ? garantias.AppraisedBy : \"\"}</td>\r\n            <td>$ {garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0}</td>\r\n            <td>{parseFloat(colaterals[i].facilityAmt) / parseFloat(garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0)}%</td>\r\n          </tr>);\r\n        }).catch(err => {\r\n          console.log(err);\r\n\r\n        })\r\n        apiCore.getWarrantyDetails(colaterals[i].collateralId, \"Inmuebles\").then(respgarantias => {\r\n          let garantias = respgarantias.Collateral;\r\n          // console.log(\"Inmuebles\", garantias);\r\n          if (!garantias)\r\n            return;\r\n          setbodyRows2(<tr>\r\n            <td>Inmuebles</td>\r\n            <td>{garantias.EmisionDt ? garantias.EmisionDt : \"\"}</td>\r\n            <td>{garantias.AppraisedBy ? garantias.AppraisedBy : \"\"}</td>\r\n            <td>$ {garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0}</td>\r\n            <td>{parseFloat(colaterals[i].facilityAmt) / parseFloat(garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0)}%</td>\r\n          </tr>);\r\n        })\r\n        apiCore.getWarrantyDetails(colaterals[i].collateralId, \"Depositos\").then(respgarantias => {\r\n          let garantias = respgarantias.Collateral;\r\n          // console.log(\"Depositos\", garantias);\r\n          if (!garantias)\r\n            return;\r\n          setbodyRows3(<tr>\r\n            <td>Depositos</td>\r\n            <td>{garantias.EmisionDt ? garantias.EmisionDt : \"\"}</td>\r\n            <td>{garantias.AppraisedBy ? garantias.AppraisedBy : \"\"}</td>\r\n            <td>$ {garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0}</td>\r\n            <td>{parseFloat(colaterals[i].facilityAmt) / parseFloat(garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0)}%</td>\r\n          </tr>);\r\n        })\r\n      }\r\n      setisActiveLoading(false);\r\n    }).catch(err => {\r\n    });\r\n\r\n    // })\r\n  }\r\n\r\n  const [locationData, setLocationData] = useState(null);\r\n  const history = useHistory();\r\n  const currencyData = new Currency();\r\n\r\n  const [muebles, setMuebles] = useState([])\r\n  const [Inmuebles, setInmuebles] = useState([])\r\n  const [desposito, setDeposito] = useState([])\r\n  const [guaranteesRow, setGuaranteesRow] = useState([])\r\n\r\n  React.useEffect(() => {\r\n    // initializeData();\r\n    let dataSession;\r\n    if (location.data !== null && location.data !== undefined) {\r\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n        //location.data.transactionId = 0;\r\n        //checkAndCreateProcedure(location.data);\r\n        history.push(url.URL_DASHBOARD);\r\n      }\r\n      else {\r\n        console.log(location)\r\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n        setLocationData(location.data);\r\n        dataSession = location.data;\r\n      }\r\n    }\r\n    else {\r\n      //chequeamos si tenemos guardado en session\r\n      var result = sessionStorage.getItem('locationData');\r\n      if (result !== undefined && result !== null) {\r\n        result = JSON.parse(result);\r\n        setLocationData(result);\r\n        dataSession = result;\r\n      }\r\n    }\r\n    initializeData2(dataSession);\r\n  }, []);\r\n\r\n  function initializeData2(dataSession) {\r\n    console.log(dataSession)\r\n    apiBack.consultGeneralDataPropCred(dataSession.transactionId).then((proposal) => {\r\n      let requestId = proposal.length === 0 ? undefined : proposal[0].requestId;\r\n      Promise.allSettled([\r\n        apiBack.consultarFacilidades(requestId),\r\n        apiCore.getTipoGarantiaCatalogo(),\r\n      ]).then(async allPromises => {\r\n        const [{ value: facilities }, { value: guaranteesType }] = allPromises\r\n        let guaranteesArr = [];\r\n        for (let facility of facilities) {\r\n          let guarantees = await apiBack.consultarGarantiaPropCred(facility.facilityId)\r\n          guaranteesArr.push(...currencyData.groupBy(guarantees, 'guaranteeTypeName'));\r\n        }\r\n        guaranteesArr = [].concat.apply([], guaranteesArr)\r\n        let arrGuarantees = currencyData.groupBy(guaranteesArr, 'guaranteeTypeName').map(guarantee => guarantee[0]);\r\n        let rows = arrGuarantees?.length === 0 ? <tr key={uniq_key() + \"1\"}>\r\n          <td colSpan=\"6\" style={{ textAlign: 'center' }}>{t(\"NoData\")}</td>\r\n        </tr> : arrGuarantees.map(guarantee => (\r\n          <tr key={uniq_key() + \"2\"}>\r\n            <td>{guaranteesType?.Records?.find(guaranteeType => guaranteeType.Code === guarantee.guaranteeTypeName)?.Description}</td>\r\n            <td>${currencyData.format(guaranteesArr.filter(guaranteeArr => guaranteeArr.guaranteeTypeName === guarantee.guaranteeTypeName).reduce((ac, crr) => ac + crr.commercialValue, 0))}</td>\r\n            <td>${currencyData.format(guaranteesArr.filter(guaranteeArr => guaranteeArr.guaranteeTypeName === guarantee.guaranteeTypeName).reduce((ac, crr) => ac + crr.fastValue, 0))}</td>\r\n            <td>{currencyData.format(guaranteesArr.filter(guaranteeArr => guaranteeArr.guaranteeTypeName === guarantee.guaranteeTypeName).reduce((ac, crr) => ac + crr.ltv, 0))}%</td>\r\n          </tr>\r\n        ))\r\n        setGuaranteesRow(rows)\r\n      }).catch(err => { console.log(err) })\r\n    }).catch(err => { console.log(err) })\r\n  }\r\n  return (\r\n\r\n\r\n    <Card>\r\n      <LoadingOverlay active={isActiveLoading} spinner text={t(\"WaitingPlease\")}>\r\n        <Row>\r\n          <Col md=\"6\">\r\n            <h5 className=\"card-sub-title\">{t(\"WarrantyDetails\")}</h5>\r\n          </Col>\r\n        </Row>\r\n        <CardBody>\r\n\r\n          <Row>\r\n            <div style={{ minHeight: \"100px\" }}>\r\n              <Col className=\"table-responsive styled-table-div\">\r\n                <Table className=\"table table-striped table-hover styled-table table mb-0\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>{t(\"Type\")}</th>\r\n                      <th>{t(\"Commercial Value\")}</th>\r\n                      <th>{t(\"QuickValue\")}</th>\r\n                      <th>{t(\"LTV\")}</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {guaranteesRow}\r\n                  </tbody>\r\n                </Table>\r\n              </Col>\r\n            </div>\r\n          </Row>\r\n        </CardBody>\r\n      </LoadingOverlay>\r\n    </Card>\r\n  );\r\n\r\n};\r\n\r\n\r\nGuarantees.defaultProps = {\r\n  headers: [],\r\n  data: []\r\n};\r\n\r\nexport default Guarantees;\r\n"]},"metadata":{},"sourceType":"module"}