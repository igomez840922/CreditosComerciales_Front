{"ast":null,"code":"import _regeneratorRuntime from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{withTranslation}from\"react-i18next\";import{Link}from\"react-router-dom\";import{Table,Card,CardBody,Pagination,PaginationItem,PaginationLink,CardFooter,Button,Row,Col}from\"reactstrap\";import ApiServicesDetalleDocumentacion from'../../../../services/DocumentacionLegal/ApiServicesDetalleDocumentacion';import{BpmServices,BackendServices,CoreServices}from\"../../../../services\";import{useLocation,useHistory}from\"react-router-dom\";import*as url from\"../../../../helpers/url_helper\";import SweetAlert from\"react-bootstrap-sweetalert\";import{AvField,AvForm,AvGroup}from'availity-reactstrap-validation';import Switch from\"react-switch\";import{useTranslation}from'react-i18next';import Currency from'../../../../helpers/currency';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Offsymbol=function Offsymbol(){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100%\",fontSize:12,color:\"#fff\",paddingRight:2},children:[\" \",\"No\"]});};var OnSymbol=function OnSymbol(){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100%\",fontSize:12,color:\"#fff\",paddingRight:2},children:[\" \",\"Si\"]});};var estiloTotales={backgroundColor:\"lightgrey !important\",color:\"black !important\",textAlign:\"center\"};var RegistroPublico=function RegistroPublico(props){var _parseFloat$toFixed;var jsonRegistro=[{tipo:\"Venta de finca\",amount:0,habilita:false,id:1,factor:3},{tipo:\"Garantía Hipotecaria sobre Bien Inmueble\",amount:0,habilita:false,id:2,factor:3},{tipo:\"Fideicomiso de Garantía sobre Bien Inmueble\",amount:0,habilita:false,id:3,factor:2.5},{tipo:\"Calificación del Contrato de Fideicomiso\",amount:50,habilita:false,id:4},{tipo:\"Calificación del Contrato de Préstamo\",amount:25,habilita:false,id:5},{tipo:\"Calificación de Acta (por cada acta)\",amount:25,habilita:false,id:6},{tipo:\"Marginal de Garantía (por cada finca)\",amount:8,habilita:false,id:7},{tipo:\"Calificación de finca (por cada finca)\",amount:10,habilita:false,id:8},{tipo:\"Anticresis (solo cuando es Garantía Hipotecaria sobre Bien Inmueble y se cobra 1 sola vez por escritura sin importar el número de fincas involucradas en el trámite)\",amount:8,habilita:false,id:9},{tipo:\"Cancelación de Garantía Hipotecaria sobre Bien Inmueble\",amount:31,habilita:false,id:10},{tipo:\"Segregación de finca\",amount:10,habilita:false,id:11},{tipo:\"Desafectación de Fideicomiso de Garantía\",amount:25,habilita:false,id:12},{tipo:\"Modificación de Contrato de Fideicomiso (adendas)\",amount:50,habilita:false,id:13},{tipo:\"Modificación de Contrato de Préstamo que no modifique el monto (adendas)\",amount:35,habilita:false,id:14}];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),switch1=_useState2[0],setswitch1=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),switch2=_useState4[0],setswitch2=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),switch3=_useState6[0],setswitch3=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),switch4=_useState8[0],setswitch4=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),switch5=_useState10[0],setswitch5=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),switch6=_useState12[0],setswitch6=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),switch7=_useState14[0],setswitch7=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),switch8=_useState16[0],setswitch8=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),switch9=_useState18[0],setswitch9=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),switch10=_useState20[0],setswitch10=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),switch11=_useState22[0],setswitch11=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),switch12=_useState24[0],setswitch12=_useState24[1];var _useState25=useState(0),_useState26=_slicedToArray(_useState25,2),total=_useState26[0],settotal=_useState26[1];var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var currencyData=new Currency();var coreServices=new CoreServices();var apiServiceBackend=new BackendServices();var location=useLocation();var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),openModalRiesgo=_useState28[0],setopenModalRiesgo=_useState28[1];var _useState29=useState(null),_useState30=_slicedToArray(_useState29,2),dataRows=_useState30[0],setdataRows=_useState30[1];var _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),messageNotAvailable=_useState32[0],setmessageNotAvailable=_useState32[1];var _useState33=useState(location.data),_useState34=_slicedToArray(_useState33,2),locationData=_useState34[0],setLocationData=_useState34[1];var history=useHistory();// onClick={() => {\n//     let valor = document.getElementById(\"valor\").value;\n//     document.getElementById(\"datoooo\").innerHTML = (parseFloat(Math.ceil(parseFloat(valor) / 1000)) * 1000)\n// }}\nReact.useEffect(function(){var dataSession;if(location.data!==null&&location.data!==undefined){if(location.data.transactionId===undefined||location.data.transactionId.length<=0){history.push(url.URL_DASHBOARD);}else{sessionStorage.setItem('locationData',JSON.stringify(location.data));setLocationData(location.data);dataSession=location.data;}}else{//chequeamos si tenemos guardado en session\nvar result=sessionStorage.getItem('locationData');if(result!==undefined&&result!==null){result=JSON.parse(result);setLocationData(result);dataSession=result;}}if(props.activeTab==4){initializeData(dataSession);}},[props.activeTab==4]);function initializeData(_x){return _initializeData.apply(this,arguments);}function _initializeData(){_initializeData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dataSession){var _ref,_dataSession$transact;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return apiServiceBackend.consultGeneralDataPropCred((_ref=(_dataSession$transact=dataSession===null||dataSession===void 0?void 0:dataSession.transactionId)!==null&&_dataSession$transact!==void 0?_dataSession$transact:dataSession===null||dataSession===void 0?void 0:dataSession.transactionId)!==null&&_ref!==void 0?_ref:0).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(data){var _data$;var requestId;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:requestId=(_data$=data[0])===null||_data$===void 0?void 0:_data$.requestId;_context5.next=3;return apiServiceBackend.retrieveProposalType().then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(propuesta){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return apiServiceBackend.retrieveFacilityType().then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(facilidad){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return apiServiceBackend.consultarFacilidades(requestId).then(/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(resp){var jsonGarantias;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:jsonGarantias=[];_context2.next=3;return coreServices.getTipoGarantiaCatalogo().then(/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(response){var i;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:for(i=0;i<resp.length;i++){apiServiceBackend.consultarGarantiaPropCred(resp[i].facilityId).then(function(garantias){if(garantias!=undefined){var _loop=function _loop(j){if(garantias[j].guaranteeTypeName==\"200\"){var _response$Records$fin;jsonGarantias.push({amount:Number(garantias[j].commercialValue),guaranteeId:Number(garantias[j].guaranteeId),fastValue:Number(garantias[j].fastValue),label:(_response$Records$fin=response.Records.find(function(x){return x.Code===garantias[j].guaranteeTypeName;}))===null||_response$Records$fin===void 0?void 0:_response$Records$fin.Description});}};for(var j=0;j<garantias.length;j++){_loop(j);}}});}case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x6){return _ref6.apply(this,arguments);};}());case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x5){return _ref5.apply(this,arguments);};}());case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x4){return _ref4.apply(this,arguments);};}());case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x3){return _ref3.apply(this,arguments);};}());case 3:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x2){return _ref2.apply(this,arguments);};}());case 2:case\"end\":return _context6.stop();}}},_callee6);}));return _initializeData.apply(this,arguments);}function check(){settotal(function(){var suma=0;var checkboxes=document.getElementsByClassName(\"aplicaReg\");for(var i=0;i<checkboxes.length;i++){if(checkboxes[i].checked){suma+=parseFloat(currencyData.getRealValue(document.getElementById(\"total\"+checkboxes[i].getAttribute(\"identificador\")).innerHTML.replace(\"$\",\"\")==\"\"?0:document.getElementById(\"total\"+checkboxes[i].getAttribute(\"identificador\")).innerHTML.replace(\"$\",\"\")));}}return suma;});}return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(AvForm,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive styled-table-div\",children:/*#__PURE__*/_jsxs(Table,{className:\"table table-striped table-hover styled-table table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"td\",{children:\"Tipo de tr\\xE1mite\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Pr\\xE9cio establecido\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Cantidad\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Factor\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Habilita\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[jsonRegistro.map(function(resp,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:resp.tipo}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{class:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"input-group-prepend\",children:/*#__PURE__*/_jsx(\"span\",{class:\"input-group-text\",children:/*#__PURE__*/_jsx(\"b\",{children:\"$\"})})}),/*#__PURE__*/_jsx(\"input\",{style:{textAlign:\"right\"},className:\"form-control precios\",type:\"text\",name:\"preciosEs\"+resp.id,id:\"preciosEs\"+resp.id,pattern:\"^[0-9,.]*$\",onChange:function onChange(e){check();var valor=currencyData.getRealValue(document.getElementById(\"preciosEs\"+resp.id).value);if(resp.id==1||resp.id==2||resp.id==3){var factorEs=document.getElementById(\"factorEs\"+resp.id).value;document.getElementById(\"total\"+resp.id).innerHTML=currencyData.format(parseFloat(parseFloat(Math.ceil(parseFloat(valor)/1000))*1000*parseFloat(factorEs/1000)).toFixed(2));}else if(resp.id==6||resp.id==7||resp.id==8||resp.id==10||resp.id==11||resp.id==12){var cantidadEs=document.getElementById(\"cantidadEs\"+resp.id).value;document.getElementById(\"total\"+resp.id).innerHTML=currencyData.format(parseFloat(parseFloat(valor)*parseFloat(cantidadEs)).toFixed(2));}else{document.getElementById(\"total\"+resp.id).innerHTML=currencyData.format(parseFloat(parseFloat(valor)).toFixed(2));}},onKeyUp:function onKeyUp(e){var x=currencyData.getRealValue(e.target.value);e.target.value=currencyData.format(x);},defaultValue:currencyData.format(parseFloat(resp.amount).toFixed(2)),title:t(\"\")})]})}),/*#__PURE__*/_jsx(\"td\",{children:resp.id==6||resp.id==7||resp.id==8||resp.id==10||resp.id==11||resp.id==12?/*#__PURE__*/_jsx(\"input\",{style:{textAlign:\"right\"},className:\"form-control cantidad\",type:\"number\",min:\"1\",name:\"cantidadEs\"+resp.id,id:\"cantidadEs\"+resp.id,pattern:\"^[0-9,.]*$\",onChange:function onChange(e){check();var valor=currencyData.getRealValue(document.getElementById(\"preciosEs\"+resp.id).value);var cantidadEs=document.getElementById(\"cantidadEs\"+resp.id).value;document.getElementById(\"total\"+resp.id).innerHTML=currencyData.format(parseFloat(parseFloat(valor)*parseFloat(cantidadEs)).toFixed(2));},defaultValue:1,title:t(\"\")}):null}),/*#__PURE__*/_jsx(\"td\",{children:resp.id==1||resp.id==2||resp.id==3?/*#__PURE__*/_jsx(\"input\",{style:{textAlign:\"right\"},className:\"form-control factor\",type:\"text\",name:\"factorEs\"+resp.id,id:\"factorEs\"+resp.id,pattern:\"^[0-9,.]*$\",onChange:function onChange(e){check();var valor=currencyData.getRealValue(document.getElementById(\"preciosEs\"+resp.id).value);var factorEs=document.getElementById(\"factorEs\"+resp.id).value;document.getElementById(\"total\"+resp.id).innerHTML=currencyData.format(parseFloat(parseFloat(Math.ceil(parseFloat(valor)/1000))*1000*parseFloat(factorEs/1000)).toFixed(2));},defaultValue:resp.factor,title:t(\"\")}):null}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",/*#__PURE__*/_jsx(\"strong\",{id:\"total\"+resp.id,children:currencyData.format(parseFloat(resp.amount).toFixed(2))})]}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"input\",{className:\"aplicaReg\",identificador:resp.id,onChange:function onChange(e){check();},type:\"checkbox\",id:\"checkCAFReg\"+resp.id,name:\"checkCAFReg\"+resp.id})})]});}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"right\"},children:/*#__PURE__*/_jsx(\"b\",{children:\"Total registro p\\xFAblico\"})}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"right\"},children:/*#__PURE__*/_jsxs(\"b\",{children:[\"$\",currencyData.format((_parseFloat$toFixed=parseFloat(total).toFixed(2))!==null&&_parseFloat$toFixed!==void 0?_parseFloat$toFixed:0)]})}),/*#__PURE__*/_jsx(\"td\",{})]})]})]})})})})})});};export default RegistroPublico;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/11_DocumentacionLegal/PantallaDetalle/RegistroPublico.js"],"names":["React","useEffect","useState","withTranslation","Link","Table","Card","CardBody","Pagination","PaginationItem","PaginationLink","CardFooter","Button","Row","Col","ApiServicesDetalleDocumentacion","BpmServices","BackendServices","CoreServices","useLocation","useHistory","url","SweetAlert","AvField","AvForm","AvGroup","Switch","useTranslation","Currency","Offsymbol","display","justifyContent","alignItems","height","fontSize","color","paddingRight","OnSymbol","estiloTotales","backgroundColor","textAlign","RegistroPublico","props","jsonRegistro","tipo","amount","habilita","id","factor","switch1","setswitch1","switch2","setswitch2","switch3","setswitch3","switch4","setswitch4","switch5","setswitch5","switch6","setswitch6","switch7","setswitch7","switch8","setswitch8","switch9","setswitch9","switch10","setswitch10","switch11","setswitch11","switch12","setswitch12","total","settotal","t","i18n","currencyData","coreServices","apiServiceBackend","location","openModalRiesgo","setopenModalRiesgo","dataRows","setdataRows","messageNotAvailable","setmessageNotAvailable","data","locationData","setLocationData","history","dataSession","undefined","transactionId","length","push","URL_DASHBOARD","sessionStorage","setItem","JSON","stringify","result","getItem","parse","activeTab","initializeData","consultGeneralDataPropCred","then","requestId","retrieveProposalType","propuesta","retrieveFacilityType","facilidad","consultarFacilidades","resp","jsonGarantias","getTipoGarantiaCatalogo","response","i","consultarGarantiaPropCred","facilityId","garantias","j","guaranteeTypeName","Number","commercialValue","guaranteeId","fastValue","label","Records","find","x","Code","Description","check","suma","checkboxes","document","getElementsByClassName","checked","parseFloat","getRealValue","getElementById","getAttribute","innerHTML","replace","map","e","valor","value","factorEs","format","Math","ceil","toFixed","cantidadEs","target"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport React, { useEffect, useState } from \"react\"\r\nimport { withTranslation } from \"react-i18next\"\r\nimport { Link } from \"react-router-dom\"\r\nimport {\r\n    Table,\r\n    Card,\r\n    CardBody,\r\n    Pagination,\r\n    PaginationItem,\r\n    PaginationLink,\r\n    CardFooter,\r\n    Button,\r\n    Row,\r\n    Col,\r\n} from \"reactstrap\"\r\nimport ApiServicesDetalleDocumentacion from '../../../../services/DocumentacionLegal/ApiServicesDetalleDocumentacion';\r\nimport { BpmServices, BackendServices, CoreServices } from \"../../../../services\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport * as url from \"../../../../helpers/url_helper\"\r\nimport SweetAlert from \"react-bootstrap-sweetalert\"\r\nimport { AvField, AvForm, AvGroup } from 'availity-reactstrap-validation';\r\nimport Switch from \"react-switch\";\r\nimport { useTranslation } from 'react-i18next';\r\nimport Currency from '../../../../helpers/currency';\r\n\r\nconst Offsymbol = () => {\r\n    return (\r\n        <div\r\n            style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                height: \"100%\",\r\n                fontSize: 12,\r\n                color: \"#fff\",\r\n                paddingRight: 2,\r\n            }}\r\n        >\r\n            {\" \"}\r\n            No\r\n        </div>\r\n    );\r\n};\r\nconst OnSymbol = () => {\r\n    return (\r\n        <div\r\n            style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                height: \"100%\",\r\n                fontSize: 12,\r\n                color: \"#fff\",\r\n                paddingRight: 2,\r\n            }}\r\n        >\r\n            {\" \"}\r\n            Si\r\n        </div>\r\n    );\r\n};\r\nconst estiloTotales = { backgroundColor: \"lightgrey !important\", color: \"black !important\", textAlign: \"center\" }\r\nconst RegistroPublico = (props) => {\r\n    const jsonRegistro = [\r\n        {\r\n            tipo: \"Venta de finca\",\r\n            amount: 0,\r\n            habilita: false,\r\n            id: 1,\r\n            factor: 3\r\n        },\r\n        {\r\n            tipo: \"Garantía Hipotecaria sobre Bien Inmueble\",\r\n            amount: 0,\r\n            habilita: false,\r\n            id: 2,\r\n            factor: 3\r\n        },\r\n        {\r\n            tipo: \"Fideicomiso de Garantía sobre Bien Inmueble\",\r\n            amount: 0,\r\n            habilita: false,\r\n            id: 3,\r\n            factor: 2.5\r\n        },\r\n        {\r\n            tipo: \"Calificación del Contrato de Fideicomiso\",\r\n            amount: 50,\r\n            habilita: false,\r\n            id: 4\r\n        },\r\n        {\r\n            tipo: \"Calificación del Contrato de Préstamo\",\r\n            amount: 25,\r\n            habilita: false,\r\n            id: 5\r\n        },\r\n        {\r\n            tipo: \"Calificación de Acta (por cada acta)\",\r\n            amount: 25,\r\n            habilita: false,\r\n            id: 6\r\n        },\r\n        {\r\n            tipo: \"Marginal de Garantía (por cada finca)\",\r\n            amount: 8,\r\n            habilita: false,\r\n            id: 7\r\n        },\r\n        {\r\n            tipo: \"Calificación de finca (por cada finca)\",\r\n            amount: 10,\r\n            habilita: false,\r\n            id: 8\r\n        },\r\n        {\r\n            tipo: \"Anticresis (solo cuando es Garantía Hipotecaria sobre Bien Inmueble y se cobra 1 sola vez por escritura sin importar el número de fincas involucradas en el trámite)\",\r\n            amount: 8,\r\n            habilita: false,\r\n            id: 9\r\n        },\r\n        {\r\n            tipo: \"Cancelación de Garantía Hipotecaria sobre Bien Inmueble\",\r\n            amount: 31,\r\n            habilita: false,\r\n            id: 10\r\n        },\r\n        {\r\n            tipo: \"Segregación de finca\",\r\n            amount: 10,\r\n            habilita: false,\r\n            id: 11\r\n        },\r\n        {\r\n            tipo: \"Desafectación de Fideicomiso de Garantía\",\r\n            amount: 25,\r\n            habilita: false,\r\n            id: 12\r\n        },\r\n        {\r\n            tipo: \"Modificación de Contrato de Fideicomiso (adendas)\",\r\n            amount: 50,\r\n            habilita: false,\r\n            id: 13\r\n        },\r\n        {\r\n            tipo: \"Modificación de Contrato de Préstamo que no modifique el monto (adendas)\",\r\n            amount: 35,\r\n            habilita: false,\r\n            id: 14\r\n        },\r\n    ]\r\n    const [switch1, setswitch1] = useState(false);\r\n    const [switch2, setswitch2] = useState(false);\r\n    const [switch3, setswitch3] = useState(false);\r\n    const [switch4, setswitch4] = useState(false);\r\n    const [switch5, setswitch5] = useState(false);\r\n    const [switch6, setswitch6] = useState(false);\r\n    const [switch7, setswitch7] = useState(false);\r\n    const [switch8, setswitch8] = useState(false);\r\n    const [switch9, setswitch9] = useState(false);\r\n    const [switch10, setswitch10] = useState(false);\r\n    const [switch11, setswitch11] = useState(false);\r\n    const [switch12, setswitch12] = useState(false);\r\n    const [total, settotal] = useState(0);\r\n    const { t, i18n } = useTranslation();\r\n    const currencyData = new Currency();\r\n    const coreServices = new CoreServices();\r\n    const apiServiceBackend = new BackendServices();\r\n    const location = useLocation()\r\n    const [openModalRiesgo, setopenModalRiesgo] = useState(false);\r\n    const [dataRows, setdataRows] = useState(null);\r\n    const [messageNotAvailable, setmessageNotAvailable] = useState(false);\r\n    const [locationData, setLocationData] = useState(location.data);\r\n    const history = useHistory();\r\n    // onClick={() => {\r\n    //     let valor = document.getElementById(\"valor\").value;\r\n    //     document.getElementById(\"datoooo\").innerHTML = (parseFloat(Math.ceil(parseFloat(valor) / 1000)) * 1000)\r\n    // }}\r\n    React.useEffect(() => {\r\n        let dataSession;\r\n        if (location.data !== null && location.data !== undefined) {\r\n            if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n                history.push(url.URL_DASHBOARD);\r\n            } else {\r\n                sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n                setLocationData(location.data);\r\n                dataSession = location.data;\r\n            }\r\n        } else {\r\n            //chequeamos si tenemos guardado en session\r\n            var result = sessionStorage.getItem('locationData');\r\n\r\n            if (result !== undefined && result !== null) {\r\n                result = JSON.parse(result);\r\n                setLocationData(result);\r\n                dataSession = result;\r\n            }\r\n        }\r\n        if (props.activeTab == 4) {\r\n            initializeData(dataSession);\r\n        }\r\n\r\n    }, [props.activeTab == 4]);\r\n    async function initializeData(dataSession) {\r\n        await apiServiceBackend.consultGeneralDataPropCred(dataSession?.transactionId ?? dataSession?.transactionId ?? 0)\r\n            .then(async (data) => {\r\n                let requestId = data[0]?.requestId;\r\n                await apiServiceBackend.retrieveProposalType()\r\n                    .then(async (propuesta) => {\r\n                        await apiServiceBackend.retrieveFacilityType()\r\n                            .then(async (facilidad) => {\r\n                                await apiServiceBackend.consultarFacilidades(requestId).then(async resp => {\r\n                                    let jsonGarantias = [];\r\n                                    await coreServices.getTipoGarantiaCatalogo().then(async response => {\r\n                                        for (let i = 0; i < resp.length; i++) {\r\n                                            apiServiceBackend.consultarGarantiaPropCred(resp[i].facilityId).then(garantias => {\r\n                                                if (garantias != undefined) {\r\n                                                    for (let j = 0; j < garantias.length; j++) {\r\n                                                        if (garantias[j].guaranteeTypeName == \"200\") {\r\n                                                            jsonGarantias.push({\r\n                                                                amount: Number(garantias[j].commercialValue),\r\n                                                                guaranteeId: Number(garantias[j].guaranteeId),\r\n                                                                fastValue: Number(garantias[j].fastValue),\r\n                                                                label: response.Records.find(x => x.Code === garantias[j].guaranteeTypeName)?.Description\r\n                                                            })\r\n                                                        }\r\n\r\n                                                    }\r\n                                                }\r\n                                            })\r\n                                        }\r\n                                    })\r\n                                })\r\n                            });\r\n                    });\r\n            });\r\n    }\r\n    function check() {\r\n        settotal(() => {\r\n            let suma = 0;\r\n            var checkboxes = document.getElementsByClassName(\"aplicaReg\");\r\n            for (var i = 0; i < checkboxes.length; i++) {\r\n                if (checkboxes[i].checked) {\r\n                    suma += parseFloat(currencyData.getRealValue(document.getElementById(\"total\" + checkboxes[i].getAttribute(\"identificador\")).innerHTML.replace(\"$\", \"\") == \"\" ? 0 : document.getElementById(\"total\" + checkboxes[i].getAttribute(\"identificador\")).innerHTML.replace(\"$\", \"\")));\r\n                }\r\n            }\r\n            return suma;\r\n        })\r\n    }\r\n    return (\r\n        <React.Fragment>\r\n            <AvForm>\r\n                <Row>\r\n                    <Col md=\"12\">\r\n                        <div className=\"table-responsive styled-table-div\">\r\n                            <Table className=\"table table-striped table-hover styled-table table\">\r\n                                <thead>\r\n                                    <tr style={{ textAlign: \"center\" }}>\r\n                                        <td>Tipo de trámite</td>\r\n                                        <td>Précio establecido</td>\r\n                                        <td>Cantidad</td>\r\n                                        <td>Factor</td>\r\n                                        <td>Total</td>\r\n                                        <td>Habilita</td>\r\n                                    </tr>\r\n                                </thead>\r\n\r\n                                <tbody>\r\n                                    {jsonRegistro.map((resp, i) => (\r\n                                        <tr>\r\n                                            <td>{resp.tipo}</td>\r\n                                            <td>\r\n                                                <div class=\"input-group mb-3\">\r\n                                                    <div class=\"input-group-prepend\">\r\n                                                        <span class=\"input-group-text\" ><b>$</b></span>\r\n                                                    </div>\r\n                                                    <input\r\n                                                        style={{ textAlign: \"right\" }}\r\n                                                        className=\"form-control precios\"\r\n                                                        type=\"text\"\r\n                                                        name={\"preciosEs\" + resp.id}\r\n                                                        id={\"preciosEs\" + resp.id}\r\n                                                        pattern=\"^[0-9,.]*$\"\r\n                                                        onChange={(e) => {\r\n                                                            check()\r\n                                                            let valor = currencyData.getRealValue(document.getElementById(\"preciosEs\" + resp.id).value);\r\n                                                            if (resp.id == 1 || resp.id == 2 || resp.id == 3) {\r\n                                                                let factorEs = document.getElementById(\"factorEs\" + resp.id).value;\r\n                                                                document.getElementById(\"total\" + resp.id).innerHTML = currencyData.format(parseFloat((parseFloat(Math.ceil(parseFloat(valor) / 1000)) * 1000) * parseFloat(factorEs / 1000)).toFixed(2));\r\n                                                            } else if (resp.id == 6 || resp.id == 7 || resp.id == 8 || resp.id == 10 || resp.id == 11 || resp.id == 12) {\r\n                                                                let cantidadEs = document.getElementById(\"cantidadEs\" + resp.id).value;\r\n                                                                document.getElementById(\"total\" + resp.id).innerHTML = currencyData.format(parseFloat(parseFloat(valor) * parseFloat(cantidadEs)).toFixed(2));\r\n                                                            } else {\r\n                                                                document.getElementById(\"total\" + resp.id).innerHTML = currencyData.format(parseFloat(parseFloat(valor)).toFixed(2));\r\n                                                            }\r\n                                                        }}\r\n                                                        onKeyUp={(e) => { let x = currencyData.getRealValue(e.target.value); e.target.value = currencyData.format(x); }}\r\n                                                        defaultValue={currencyData.format(parseFloat(resp.amount).toFixed(2))}\r\n                                                        title={t(\"\")}\r\n                                                    />\r\n                                                </div>\r\n                                            </td>\r\n                                            <td>{resp.id == 6 || resp.id == 7 || resp.id == 8 || resp.id == 10 || resp.id == 11 || resp.id == 12 ? <input\r\n                                                style={{ textAlign: \"right\" }}\r\n                                                className=\"form-control cantidad\"\r\n                                                type=\"number\"\r\n                                                min=\"1\"\r\n                                                name={\"cantidadEs\" + resp.id}\r\n                                                id={\"cantidadEs\" + resp.id}\r\n                                                pattern=\"^[0-9,.]*$\"\r\n                                                onChange={(e) => {\r\n                                                    check()\r\n                                                    let valor = currencyData.getRealValue(document.getElementById(\"preciosEs\" + resp.id).value);\r\n                                                    let cantidadEs = document.getElementById(\"cantidadEs\" + resp.id).value;\r\n                                                    document.getElementById(\"total\" + resp.id).innerHTML = currencyData.format(parseFloat(parseFloat(valor) * parseFloat(cantidadEs)).toFixed(2));\r\n                                                }}\r\n                                                defaultValue={1}\r\n                                                title={t(\"\")}\r\n                                            /> : null}</td>\r\n                                            <td>{resp.id == 1 || resp.id == 2 || resp.id == 3 ? <input\r\n                                                style={{ textAlign: \"right\" }}\r\n                                                className=\"form-control factor\"\r\n                                                type=\"text\"\r\n                                                name={\"factorEs\" + resp.id}\r\n                                                id={\"factorEs\" + resp.id}\r\n                                                pattern=\"^[0-9,.]*$\"\r\n                                                onChange={(e) => {\r\n                                                    check()\r\n                                                    let valor = currencyData.getRealValue(document.getElementById(\"preciosEs\" + resp.id).value);\r\n                                                    let factorEs = document.getElementById(\"factorEs\" + resp.id).value;\r\n                                                    document.getElementById(\"total\" + resp.id).innerHTML = currencyData.format(parseFloat((parseFloat(Math.ceil(parseFloat(valor) / 1000)) * 1000) * parseFloat(factorEs / 1000)).toFixed(2));\r\n                                                }}\r\n                                                defaultValue={resp.factor}\r\n                                                title={t(\"\")}\r\n                                            /> : null}</td>\r\n                                            <td>\r\n                                                $<strong id={\"total\" + resp.id}>{currencyData.format(parseFloat(resp.amount).toFixed(2))}</strong>\r\n                                            </td>\r\n                                            <td style={{ textAlign: \"center\" }}>\r\n                                                <input className=\"aplicaReg\"\r\n                                                    identificador={resp.id}\r\n                                                    onChange={(e) => {\r\n                                                        check()\r\n                                                    }} type=\"checkbox\" id={\"checkCAFReg\" + resp.id} name={\"checkCAFReg\" + resp.id} />\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))}\r\n                                    <tr>\r\n                                        <td style={{ textAlign: \"right\" }}><b>Total registro público</b></td>\r\n                                        <td style={{ textAlign: \"right\" }}><b>${currencyData.format(parseFloat(total).toFixed(2) ?? 0)}</b></td>\r\n                                        <td></td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </Table>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n            </AvForm>\r\n        </React.Fragment>\r\n    );\r\n}\r\nexport default RegistroPublico;\r\n"]},"metadata":{},"sourceType":"module"}