{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{withTranslation}from\"react-i18next\";import{useTranslation}from'react-i18next';import{Modal}from\"reactstrap\";import ApiServiceBpm from\"../../services/BpmServices/Services\";import LoadingOverlay from\"react-loading-overlay\";import{translationHelpers}from'../../helpers';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ModalWatchProcess=function ModalWatchProcess(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),svg=_useState2[0],setSvg=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isActiveLoading=_useState4[0],setisActiveLoading=_useState4[1];var _useTranslation=useTranslation(),t=_useTranslation.t;var api=new ApiServiceBpm();React.useEffect(function(){console.log('hola3');setSvg(null);setisActiveLoading(true);wacthprocess(props.processInstanceId);},[props.processInstanceId]);function wacthprocess(processInstanceId){api.wacthprocess(processInstanceId).then(function(data){var buff=new Buffer(data);var base64data=buff.toString('base64');setSvg(base64data);setisActiveLoading(false);}).catch(function(error){console.error(error);});}return/*#__PURE__*/_jsxs(Modal,{size:\"xl\",isOpen:props.isOpen,toggle:props.toggle,centered:true,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title mt-0\",children:props.t(\"ProcessImages\")}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:props.toggle,className:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsx(LoadingOverlay,{active:isActiveLoading,spinner:true,text:t(\"Processinginformation\"),children:/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'150px'},className:\"m-3 d-flex justify-content-center\",id:\"svgData\",children:/*#__PURE__*/_jsx(\"img\",{src:\"data:image/svg+xml;base64,\"+svg,alt:\"\"})})})]});};export default withTranslation()(ModalWatchProcess);","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/Dashboard/ModalWacthProcess.js"],"names":["React","useState","withTranslation","useTranslation","Modal","ApiServiceBpm","LoadingOverlay","translationHelpers","ModalWatchProcess","props","svg","setSvg","isActiveLoading","setisActiveLoading","t","api","useEffect","console","log","wacthprocess","processInstanceId","then","data","buff","Buffer","base64data","toString","catch","error","isOpen","toggle","minHeight"],"mappings":"+KAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,eAAT,KAAgC,eAAhC,CAEA,OAASC,cAAT,KAA+B,eAA/B,CAEA,OACIC,KADJ,KAEO,YAFP,CAIA,MAAOC,CAAAA,aAAP,KAA0B,qCAA1B,CACA,MAAOC,CAAAA,cAAP,KAA2B,uBAA3B,CACA,OAASC,kBAAT,KAAmC,eAAnC,C,wFAGA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,KAAD,CAAW,CACjC,cAAsBR,QAAQ,CAAC,IAAD,CAA9B,wCAAOS,GAAP,eAAYC,MAAZ,eACA,eAA8CV,QAAQ,CAAC,KAAD,CAAtD,yCAAOW,eAAP,eAAwBC,kBAAxB,eACA,oBAAcV,cAAc,EAA5B,CAAQW,CAAR,iBAAQA,CAAR,CAEA,GAAMC,CAAAA,GAAG,CAAG,GAAIV,CAAAA,aAAJ,EAAZ,CAEAL,KAAK,CAACgB,SAAN,CAAgB,UAAM,CAClBC,OAAO,CAACC,GAAR,CAAY,OAAZ,EACAP,MAAM,CAAC,IAAD,CAAN,CACAE,kBAAkB,CAAC,IAAD,CAAlB,CACAM,YAAY,CAACV,KAAK,CAACW,iBAAP,CAAZ,CACH,CALD,CAKG,CAACX,KAAK,CAACW,iBAAP,CALH,EAOA,QAASD,CAAAA,YAAT,CAAsBC,iBAAtB,CAAyC,CACrCL,GAAG,CAACI,YAAJ,CAAiBC,iBAAjB,EACKC,IADL,CACU,SAACC,IAAD,CAAU,CAEZ,GAAMC,CAAAA,IAAI,CAAG,GAAIC,CAAAA,MAAJ,CAAWF,IAAX,CAAb,CACA,GAAMG,CAAAA,UAAU,CAAGF,IAAI,CAACG,QAAL,CAAc,QAAd,CAAnB,CAEAf,MAAM,CAACc,UAAD,CAAN,CACAZ,kBAAkB,CAAC,KAAD,CAAlB,CAEH,CATL,EAUKc,KAVL,CAUW,SAACC,KAAD,CAAW,CACdX,OAAO,CAACW,KAAR,CAAcA,KAAd,EACH,CAZL,EAaH,CACD,mBACI,MAAC,KAAD,EACI,IAAI,CAAC,IADT,CAEI,MAAM,CAAEnB,KAAK,CAACoB,MAFlB,CAGI,MAAM,CAAEpB,KAAK,CAACqB,MAHlB,CAII,QAAQ,CAAE,IAJd,wBAMI,aAAK,SAAS,CAAC,cAAf,wBACI,WAAI,SAAS,CAAC,kBAAd,UAAkCrB,KAAK,CAACK,CAAN,CAAQ,eAAR,CAAlC,EADJ,cAEI,eACI,IAAI,CAAC,QADT,CAEI,OAAO,CAAEL,KAAK,CAACqB,MAFnB,CAGI,SAAS,CAAC,OAHd,CAII,eAAa,OAJjB,CAKI,aAAW,OALf,uBAOI,aAAM,cAAY,MAAlB,kBAPJ,EAFJ,GANJ,cAmBI,KAAC,cAAD,EAAgB,MAAM,CAAElB,eAAxB,CAAyC,OAAO,KAAhD,CAAiD,IAAI,CAAEE,CAAC,CAAC,uBAAD,CAAxD,uBAII,YAAK,KAAK,CAAE,CAAEiB,SAAS,CAAE,OAAb,CAAZ,CAAoC,SAAS,CAAC,mCAA9C,CAAkF,EAAE,CAAC,SAArF,uBACI,YAAK,GAAG,CAAE,6BAA+BrB,GAAzC,CAA8C,GAAG,CAAC,EAAlD,EADJ,EAJJ,EAnBJ,GADJ,CA8BH,CA3DD,CAmEA,cAAeR,CAAAA,eAAe,GAAGM,iBAAH,CAA9B","sourcesContent":["import React, { useState } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nimport {\r\n    Modal,\r\n} from \"reactstrap\";\r\n\r\nimport ApiServiceBpm from \"../../services/BpmServices/Services\";\r\nimport LoadingOverlay from \"react-loading-overlay\";\r\nimport { translationHelpers } from '../../helpers';\r\n\r\n\r\nconst ModalWatchProcess = (props) => {\r\n    const [svg, setSvg] = useState(null);\r\n    const [isActiveLoading, setisActiveLoading] = useState(false);\r\n    const { t } = useTranslation();\r\n\r\n    const api = new ApiServiceBpm();\r\n\r\n    React.useEffect(() => {\r\n        console.log('hola3')\r\n        setSvg(null);\r\n        setisActiveLoading(true);\r\n        wacthprocess(props.processInstanceId);\r\n    }, [props.processInstanceId])\r\n\r\n    function wacthprocess(processInstanceId) {\r\n        api.wacthprocess(processInstanceId)\r\n            .then((data) => {\r\n\r\n                const buff = new Buffer(data);\r\n                const base64data = buff.toString('base64');\r\n\r\n                setSvg(base64data)\r\n                setisActiveLoading(false);\r\n\r\n            })\r\n            .catch((error) => {\r\n                console.error(error);\r\n            });\r\n    }\r\n    return (\r\n        <Modal\r\n            size=\"xl\"\r\n            isOpen={props.isOpen}\r\n            toggle={props.toggle}\r\n            centered={true}\r\n        >\r\n            <div className=\"modal-header\">\r\n                <h5 className=\"modal-title mt-0\">{props.t(\"ProcessImages\")}</h5>\r\n                <button\r\n                    type=\"button\"\r\n                    onClick={props.toggle}\r\n                    className=\"close\"\r\n                    data-dismiss=\"modal\"\r\n                    aria-label=\"Close\"\r\n                >\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n\r\n            <LoadingOverlay active={isActiveLoading} spinner text={t(\"Processinginformation\")}>\r\n                {/* <SvgIcon component={Logo} viewBox=\"500 500 500 500\" /> */}\r\n                {/* <Logo></Logo> */}\r\n\r\n                <div style={{ minHeight: '150px' }} className=\"m-3 d-flex justify-content-center\" id=\"svgData\">\r\n                    <img src={\"data:image/svg+xml;base64,\" + svg} alt=\"\" />\r\n                </div>\r\n            </LoadingOverlay>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nModalWatchProcess.propTypes = {\r\n    isOpen: PropTypes.bool,\r\n    toggle: PropTypes.func,\r\n    onSaveProcess: PropTypes.func,\r\n};\r\n\r\nexport default withTranslation()(ModalWatchProcess);\r\n"]},"metadata":{},"sourceType":"module"}