{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import{Link}from\"react-router-dom\";import*as opt from\"../../helpers/options_helper\";var GetDashBoardModel=/*#__PURE__*/function(){function GetDashBoardModel(){_classCallCheck(this,GetDashBoardModel);}_createClass(GetDashBoardModel,null,[{key:\"fromJson\",value:function fromJson(json){this.results=[];this.searchValue(\"tasks\",json);var items=new GetDashBoardModel();items.results=this.results;return items;}},{key:\"searchValue\",value:function searchValue(mainkey,json){var jsonPrioridad=[{value:\"1\",label:\"Muy Urgente\"},{value:\"2\",label:\"Urgencia Moderada\"},{value:\"3\",label:\"Importante\"},{value:\"4\",label:\"Baja Urgencia\"},{value:\"5\",label:\"Sin Urgencia\"}];try{for(var _i=0,_Object$entries=Object.entries(json);_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];if(value!==null&&value!==undefined){if(typeof value===\"object\"){if(key!==mainkey){this.searchValue(mainkey,value);}else{switch(key){case\"tasks\":{for(var i=0;i<value.length;i++){var _infobpm$personName,_infobpm2,_infobpm$priority2,_infobpm3,_jsonPrioridad$find$l,_jsonPrioridad$find,_infobpm$priority3,_infobpm5;/* ------------------------------------------------------------------------------------------------------------------ */ /*                                 Convertimos la fecha de milisegundos a fecha normal                                */ /* ------------------------------------------------------------------------------------------------------------------ */ //let date = new Date(value[i]['task-activation-time'][\"java.util.Date\"]);\n/* ------------------------------------------------------------------------------------------------------------------ */ /*                                   Se arma el json que se le va a dar al dataTable                                  */ /* ------------------------------------------------------------------------------------------------------------------ */var infobpm=value[i][\"variables\"][\"info\"];//console.log(\"infobpm1\", infobpm);\nif(infobpm!==undefined&&infobpm.length>5){var _infobpm$priority,_infobpm;infobpm=JSON.parse(infobpm);infobpm.priority=(_infobpm$priority=(_infobpm=infobpm)===null||_infobpm===void 0?void 0:_infobpm.priority)!==null&&_infobpm$priority!==void 0?_infobpm$priority:0;value[i][\"variables\"][\"processId\"]=infobpm.processId.toString();value[i][\"variables\"][\"activityId\"]=infobpm.activityId.toString();//value[i][\"variables\"][\"processId\"] = infobpm.instanceId.toString();\nvalue[i][\"variables\"][\"transactionId\"]=infobpm.transactId.toString();}else{infobpm=null;}//infobpm[\"taskProcDefId\"] = value[i][\"taskProcDefId\"];\n//infobpm[\"containerId\"] = value[i][\"containerId\"];\nvar pathname=\"/creditocomercial/presolicitud\";switch(value[i][\"variables\"][\"processId\"]){case opt.PROCESS_BUSQUEDADESCARTE.toString():{pathname='/creditocomercial/presolicitud';break;}case opt.PROCESS_CUMPLIMIENTO.toString():{pathname=\"/creditocomercial/descartarcoincidencia\";break;}case opt.PROCESS_LISTAEXCLUSION.toString():{pathname=\"/creditocomercial/listaexclusion\";break;}case opt.PROCESS_INFORMEGESTION.toString():{pathname=\"/creditocomercial/informegestion\";break;}case opt.PROCESS_PROPUESTACREDITO.toString():{pathname=\"/creditocomercial/propuestacredito\";break;}case opt.PROCESS_ANALISISCREDITO.toString():{pathname=\"/creditocomercial/analisiscredito\";break;}case opt.PROCESS_INFORMEFINANCIERO.toString():{pathname=\"/creditocomercial/analisiscredito/informefinanciero\";break;}case opt.PROCESS_SUPERVISORANALISISCREDITO.toString():{pathname=\"/creditocomercial/supervisoranalisiscredito\";break;}case opt.PROCESS_AUTONOMY.toString():{pathname=\"/creditocomercial/autonomiacredito\";break;}case opt.PROCESS_ACEPTACIONCLIENTE.toString():{pathname=\"/creditocomercial/aceptacioncliente\";break;}case opt.PROCESS_ASIGNARNUMFIDEICOMISO.toString():{pathname=\"/creditocomercial/fideicomiso/asignarnumero\";break;}case opt.PROCESS_DATOSFIDEICOMISO.toString():{pathname=\"/creditocomercial/fideicomiso/relacionfiduciaria\";break;}case opt.PROCESS_DOCUMENTACIONLEGAL.toString():{pathname=\"/creditocomercial/documentacionlegal\";break;}case opt.PROCESS_LAWEYER.toString():{pathname=\"/creditocomercial/abogado\";break;}case opt.PROCESS_SIGNCONTRACT.toString():{pathname=\"/creditocomercial/firmarcontrato\";break;}case opt.PROCESS_INSTRUCTIVEDISBURSEMENT.toString():case\"22\":case\"23\":case\"450\":{pathname=\"/creditocomercial/instructivodesembolso\";break;}case opt.PROCESS_ADMINDISBURSEMENT.toString():{pathname=\"/creditocomercial/administracion\";break;}case opt.PROCESS_GUARANTEE.toString():{pathname=\"/creditocomercial/garantias\";break;}case opt.PROCESS_VALIDATEFILE.toString():{pathname=\"/creditocomercial/centroarchivo\";break;}}if(value[i][\"taskName\"].indexOf('Emitir opinión de Riesgo Ambiental y Social')>=0){pathname=\"/creditocomercial/riesgoambiental\";}if(value[i][\"taskName\"].indexOf('Emitir Opinión de Crédito')>=0){pathname=\"/creditocomercial/riesgocredito\";}//pathname = \"/creditocomercial/autonomiacredito\";\n// pathname = \"/creditocomercial/supervisoranalisiscredito\";\n// pathname = \"/creditocomercial/analisiscredito\";\n// pathname = \"/creditocomercial/supervisoranalisiscredito\";\n// pathname = \"/creditocomercial/instructivodesembolso\";\n// pathname = \"/creditocomercial/propuestacredito\";\n//pathname = \"/creditocomercial/analisiscredito\";\n//pathname = \"/creditocomercial/fideicomiso/asignarnumero\";\n//pathname = \"/creditocomercial/fideicomiso/relacionfiduciaria\";\n// pathname = \"/creditocomercial/garantias\";\n//pathname = \"/creditocomercial/desembolso\";\n// pathname = \"/creditocomercial/documentacionlegal\";\n// pathname = \"/creditocomercial/supervisoranalisiscredito\";\n//pathname = \"/creditocomercial/aceptacioncliente\";\n// pathname = \"/creditocomercial/aceptacioncliente\";\n// pathname = \"/creditocomercial/analisiscredito\";\n// pathname = \"/creditocomercial/analisiscredito/informefinanciero\";\n// pathname = \"/creditocomercial/propuestacredito\";\n// pathname = \"/creditocomercial/propuestacredito\";\n//pathname = \"/creditocomercial/firmarcontrato\";\n// pathname = \"/creditocomercial/abogado\";\n// pathname = \"/creditocomercial/riesgoambiental\";\n// pathname = \"/creditocomercial/supervisoranalisiscredito\";\n//pathname = \"/creditocomercial/analisiscredito\";\n// pathname = \"/creditocomercial/administracion\";\n// pathname = \"/creditocomercial/supervisoranalisiscredito\";\n// pathname = \"/creditocomercial/analisiscredito/informefinanciero\";\n// pathname = \"/creditocomercial/documentacionlegal\";\n// pathname = \"/creditocomercial/aceptacioncliente\";\n//pathname = \"/creditocomercial/instructivodesembolso\";\n// pathname = \"/creditocomercial/riesgoambiental\";\n// pathname = \"/creditocomercial/garantias\";\n//pathname = \"/creditocomercial/fideicomiso/asignarnumero\";  \n// pathname = \"/creditocomercial/autonomiacredito\";\n// pathname = \"/creditocomercial/supervisoranalisiscredito\";\n//pathname = \"/creditocomercial/administracion\";\n//pathname = \"/creditocomercial/fideicomiso/relacionfiduciaria\";\n// pathname = \"/creditocomercial/analisiscredito\";\n// pathname = \"/creditocomercial/supervisoranalisiscredito\";\n//pathname = \"/creditocomercial/informegestion\";\n//pathname = \"/creditocomercial/garantias\";\n// pathname = \"/creditocomercial/propuestacredito\";\n// pathname = \"/creditocomercial/autonomiacredito\";\n// pathname = \"/creditocomercial/supervisoranalisiscredito\";\n// pathname = \"/creditocomercial/riesgoambiental\";\n// pathname = \"/creditocomercial/analisiscredito\";\n//  pathname = \"/creditocomercial/garantias\";\n// pathname = \"/creditocomercial/fideicomiso/asignarnumero\";\n//pathname = \"/creditocomercial/administracion\";\n//pathname = \"/creditocomercial/fideicomiso/relacionfiduciaria\";\n// pathname = \"/creditocomercial/garantias\";\n// pathname = \"/creditocomercial/analisiscredito\";\n// pathname = \"/creditocomercial/supervisoranalisiscredito\";\n// pathname = \"/creditocomercial/informegestion\";\n// pathname = \"/creditocomercial/propuestacredito\";\n// pathname = \"/creditocomercial/informegestion\";\n// pathname = \"/creditocomercial/analisiscredito\";\n// pathname = \"/creditocomercial/riesgoambiental\";\n// pathname = \"/creditocomercial/autonomiacredito\";\n// pathname = \"/creditocomercial/supervisoranalisiscredito\";\n//pathname = \"/creditocomercial/administracion\";\n// pathname = \"/creditocomercial/garantias\";\n//pathname = \"/creditocomercial/fideicomiso/asignarnumero\";\n// pathname = \"/creditocomercial/garantias\";\n// pathname = \"/creditocomercial/analisiscredito\";\n// pathname = \"/creditocomercial/supervisoranalisiscredito\";\n// pathname = \"/creditocomercial/garantias\";\n// pathname = \"/creditocomercial/analisiscredito\";\n// pathname = \"/creditocomercial/supervisoranalisiscredito\";\n// pathname = \"/creditocomercial/garantias\";\n// pathname = \"/creditocomercial/analisiscredito\";\n// pathname = \"/creditocomercial/supervisoranalisiscredito\";\n// pathname = \"/creditocomercial/garantias\";\n// pathname = \"/creditocomercial/analisiscredito\";\n// pathname = \"/creditocomercial/supervisoranalisiscredito\";\n// pathname = \"/creditocomercial/propuestacredito\";\n// pathname = \"/creditocomercial/aceptacioncliente\";\n// pathname = \"/creditocomercial/analisiscredito\";\n// pathname = \"/creditocomercial/analisiscredito\";\n// pathname = \"/creditocomercial/instructivodesembolso\";\n//pathname = \"/creditocomercial/riesgoambiental\";\n// pathname = \"/creditocomercial/garantias\";\n//pathname = \"/creditocomercial/fideicomiso/asignarnumero\";  \n// pathname = \"/creditocomercial/autonomiacredito\";\n// pathname = \"/creditocomercial/supervisoranalisiscredito\";\n//pathname = \"/creditocomercial/administracion\";\n// pathname = \"/creditocomercial/fideicomiso/relacionfiduciaria\";\n// pathname = \"/creditocomercial/analisiscredito\";\n// pathname = \"/creditocomercial/supervisoranalisi  scredito\";\nthis.results.push({uniqueData:i+\"\",personName:(_infobpm$personName=(_infobpm2=infobpm)===null||_infobpm2===void 0?void 0:_infobpm2.personName)!==null&&_infobpm$personName!==void 0?_infobpm$personName:\"\",priority:(_infobpm$priority2=(_infobpm3=infobpm)===null||_infobpm3===void 0?void 0:_infobpm3.priority)!==null&&_infobpm$priority2!==void 0?_infobpm$priority2:0,priorityName:(_jsonPrioridad$find$l=(_jsonPrioridad$find=jsonPrioridad.find(function(x){var _infobpm4;return x.value==((_infobpm4=infobpm)===null||_infobpm4===void 0?void 0:_infobpm4.priority);}))===null||_jsonPrioridad$find===void 0?void 0:_jsonPrioridad$find.label)!==null&&_jsonPrioridad$find$l!==void 0?_jsonPrioridad$find$l:\"Sin urgencia\",date:value[i][\"taskCreatedOn\"],taskId:value[i][\"taskId\"],// BPM Id de la tarea\ninstanceId:value[i][\"instanceId\"],// BPM Id del Proceso\nprocedureNumber:value[i][\"variables\"][\"procedureNumber\"],//value[i][\"task-proc-inst-id\"],\napplicationNumber:value[i][\"variables\"][\"applicationNumber\"],//value[i][\"task-id\"],\ntransactionId:value[i][\"variables\"][\"transactionId\"],//value[i][\"task-id\"],\nactivityId:value[i][\"variables\"][\"activityId\"],//value[i][\"task-id\"],\nprocessId:value[i][\"variables\"][\"processId\"],//value[i][\"task-id\"],\nactivity:value[i][\"taskName\"],status:value[i][\"taskStatus\"],pathname:pathname,data:{priority:(_infobpm$priority3=(_infobpm5=infobpm)===null||_infobpm5===void 0?void 0:_infobpm5.priority)!==null&&_infobpm$priority3!==void 0?_infobpm$priority3:0,creditRisk:value[i][\"variables\"][\"dcreditoparalelo\"],environmentalRisk:value[i][\"variables\"][\"dambientalparalelo\"],infobpm:infobpm,requestId:value[i][\"variables\"][\"requestId\"],facilityId:value[i][\"variables\"][\"facilityId\"],customerId:value[i][\"variables\"][\"customerId\"],transactionId:value[i][\"variables\"][\"transactionId\"],processId:value[i][\"variables\"][\"processId\"],activityId:value[i][\"variables\"][\"activityId\"],instanceId:value[i][\"instanceId\"],taskId:value[i][\"taskId\"],taskStatus:value[i][\"taskStatus\"]}/*action: (\r\n                        <Link\r\n                          to={{\r\n                            pathname: pathname,\r\n                            data: { creditRisk: value[i][\"variables\"][\"dcreditoparalelo\"], environmentalRisk: value[i][\"variables\"][\"dambientalparalelo\"], infobpm: infobpm, requestId: value[i][\"variables\"][\"requestId\"], facilityId: value[i][\"variables\"][\"facilityId\"], customerId: value[i][\"variables\"][\"customerId\"], transactionId: value[i][\"variables\"][\"transactionId\"], processId: value[i][\"variables\"][\"processId\"], activityId: value[i][\"variables\"][\"activityId\"], instanceId: value[i][\"instanceId\"], taskId: value[i][\"taskId\"], taskStatus: value[i][\"taskStatus\"] },\r\n                          }}\r\n                        >\r\n                          <i className=\"mdi mdi-file-search-outline mdi-24px\"></i>\r\n                        </Link>\r\n                      ),*/});}break;}default:{break;}}}}}}}catch(err){}}}]);return GetDashBoardModel;}();GetDashBoardModel.results=[];export{GetDashBoardModel as default};","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/models/BPM/GetDashBoardModel.js"],"names":["Link","opt","GetDashBoardModel","json","results","searchValue","items","mainkey","jsonPrioridad","value","label","Object","entries","key","undefined","i","length","infobpm","JSON","parse","priority","processId","toString","activityId","transactId","pathname","PROCESS_BUSQUEDADESCARTE","PROCESS_CUMPLIMIENTO","PROCESS_LISTAEXCLUSION","PROCESS_INFORMEGESTION","PROCESS_PROPUESTACREDITO","PROCESS_ANALISISCREDITO","PROCESS_INFORMEFINANCIERO","PROCESS_SUPERVISORANALISISCREDITO","PROCESS_AUTONOMY","PROCESS_ACEPTACIONCLIENTE","PROCESS_ASIGNARNUMFIDEICOMISO","PROCESS_DATOSFIDEICOMISO","PROCESS_DOCUMENTACIONLEGAL","PROCESS_LAWEYER","PROCESS_SIGNCONTRACT","PROCESS_INSTRUCTIVEDISBURSEMENT","PROCESS_ADMINDISBURSEMENT","PROCESS_GUARANTEE","PROCESS_VALIDATEFILE","indexOf","push","uniqueData","personName","priorityName","find","x","date","taskId","instanceId","procedureNumber","applicationNumber","transactionId","activity","status","data","creditRisk","environmentalRisk","requestId","facilityId","customerId","taskStatus","err"],"mappings":"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","sourcesContent":["import { Link } from \"react-router-dom\";\r\n\r\nimport * as opt from \"../../helpers/options_helper\";\r\nexport default class GetDashBoardModel {\r\n  \r\n  static results = [];\r\n  static fromJson(json) {\r\n    \r\n    this.results = [];\r\n    this.searchValue(\"tasks\", json);\r\n    const items = new GetDashBoardModel();\r\n    items.results = this.results;\r\n\r\n    return items;\r\n  }\r\n  static searchValue(mainkey, json) {\r\n    const jsonPrioridad = [\r\n    { value: \"1\", label: \"Muy Urgente\" },\r\n    { value: \"2\", label: \"Urgencia Moderada\" },\r\n    { value: \"3\", label: \"Importante\" },\r\n    { value: \"4\", label: \"Baja Urgencia\" },\r\n    { value: \"5\", label: \"Sin Urgencia\" }]\r\n    try {\r\n      for (let [key, value] of Object.entries(json)) {\r\n        if (value !== null && value !== undefined) {\r\n          if (typeof value === \"object\") {\r\n            if (key !== mainkey) {\r\n              this.searchValue(mainkey, value);\r\n            } else {\r\n              switch (key) {\r\n                case \"tasks\": {\r\n                  for (var i = 0; i < value.length; i++) {\r\n                    /* ------------------------------------------------------------------------------------------------------------------ */\r\n                    /*                                 Convertimos la fecha de milisegundos a fecha normal                                */\r\n                    /* ------------------------------------------------------------------------------------------------------------------ */\r\n                    //let date = new Date(value[i]['task-activation-time'][\"java.util.Date\"]);\r\n                    /* ------------------------------------------------------------------------------------------------------------------ */\r\n                    /*                                   Se arma el json que se le va a dar al dataTable                                  */\r\n                    /* ------------------------------------------------------------------------------------------------------------------ */\r\n\r\n                    var infobpm = value[i][\"variables\"][\"info\"];\r\n                    //console.log(\"infobpm1\", infobpm);\r\n                    if (infobpm !== undefined && infobpm.length > 5) {\r\n                      infobpm = JSON.parse(infobpm);\r\n                      infobpm.priority = infobpm?.priority ?? 0;\r\n                      value[i][\"variables\"][\"processId\"] = infobpm.processId.toString();\r\n                      value[i][\"variables\"][\"activityId\"] = infobpm.activityId.toString();\r\n                      //value[i][\"variables\"][\"processId\"] = infobpm.instanceId.toString();\r\n                      value[i][\"variables\"][\"transactionId\"] = infobpm.transactId.toString();\r\n                    }\r\n                    else {\r\n                      infobpm = null;\r\n                    }\r\n                    //infobpm[\"taskProcDefId\"] = value[i][\"taskProcDefId\"];\r\n                    //infobpm[\"containerId\"] = value[i][\"containerId\"];\r\n\r\n                    var pathname = \"/creditocomercial/presolicitud\";\r\n                    switch (value[i][\"variables\"][\"processId\"]) {\r\n                      case opt.PROCESS_BUSQUEDADESCARTE.toString(): {\r\n                        pathname = '/creditocomercial/presolicitud';\r\n                        break;\r\n                      }\r\n                      case opt.PROCESS_CUMPLIMIENTO.toString(): {\r\n                        pathname = \"/creditocomercial/descartarcoincidencia\";\r\n                        break;\r\n                      }\r\n                      case opt.PROCESS_LISTAEXCLUSION.toString(): {\r\n                        pathname = \"/creditocomercial/listaexclusion\";\r\n                        break;\r\n                      }\r\n                      case opt.PROCESS_INFORMEGESTION.toString(): {\r\n                        pathname = \"/creditocomercial/informegestion\";\r\n                        break;\r\n                      }\r\n                      case opt.PROCESS_PROPUESTACREDITO.toString(): {\r\n                        pathname = \"/creditocomercial/propuestacredito\";\r\n                        break;\r\n                      }\r\n                      case opt.PROCESS_ANALISISCREDITO.toString(): {\r\n                        pathname = \"/creditocomercial/analisiscredito\";\r\n                        break;\r\n                      }\r\n                      case opt.PROCESS_INFORMEFINANCIERO.toString(): {\r\n                        pathname = \"/creditocomercial/analisiscredito/informefinanciero\";\r\n                        break;\r\n                      }\r\n                      case opt.PROCESS_SUPERVISORANALISISCREDITO.toString(): {\r\n                        pathname = \"/creditocomercial/supervisoranalisiscredito\";\r\n                        break;\r\n                      }\r\n                      case opt.PROCESS_AUTONOMY.toString(): {\r\n                        pathname = \"/creditocomercial/autonomiacredito\";\r\n                        break;\r\n                      }\r\n                      case opt.PROCESS_ACEPTACIONCLIENTE.toString(): {\r\n                        pathname = \"/creditocomercial/aceptacioncliente\";\r\n                        break;\r\n                      }\r\n                      case opt.PROCESS_ASIGNARNUMFIDEICOMISO.toString(): {\r\n                        pathname = \"/creditocomercial/fideicomiso/asignarnumero\";\r\n                        break;\r\n                      }\r\n                      case opt.PROCESS_DATOSFIDEICOMISO.toString(): {\r\n                        pathname = \"/creditocomercial/fideicomiso/relacionfiduciaria\";\r\n                        break;\r\n                      }\r\n                      case opt.PROCESS_DOCUMENTACIONLEGAL.toString(): {\r\n                        pathname = \"/creditocomercial/documentacionlegal\";\r\n                        break;\r\n                      }\r\n                      case opt.PROCESS_LAWEYER.toString(): {\r\n                        pathname = \"/creditocomercial/abogado\";\r\n                        break;\r\n                      }\r\n                      case opt.PROCESS_SIGNCONTRACT.toString(): {\r\n                        pathname = \"/creditocomercial/firmarcontrato\";\r\n                        break;\r\n                      }\r\n                      case opt.PROCESS_INSTRUCTIVEDISBURSEMENT.toString():\r\n                      case \"22\":\r\n                      case \"23\":\r\n                      case \"450\": {\r\n                        pathname = \"/creditocomercial/instructivodesembolso\";\r\n                        break;\r\n                      }\r\n                      case opt.PROCESS_ADMINDISBURSEMENT.toString(): {\r\n                        pathname = \"/creditocomercial/administracion\";\r\n                        break;\r\n                      }\r\n                      case opt.PROCESS_GUARANTEE.toString(): {\r\n                        pathname = \"/creditocomercial/garantias\";\r\n                        break;\r\n                      }\r\n                      case opt.PROCESS_VALIDATEFILE.toString(): {\r\n                        pathname = \"/creditocomercial/centroarchivo\";\r\n                        break;\r\n                      }\r\n                    }\r\n\r\n                    if (value[i][\"taskName\"].indexOf('Emitir opinión de Riesgo Ambiental y Social') >= 0) {\r\n                      pathname = \"/creditocomercial/riesgoambiental\";\r\n                    }\r\n                    if (value[i][\"taskName\"].indexOf('Emitir Opinión de Crédito') >= 0) {\r\n                      pathname = \"/creditocomercial/riesgocredito\";\r\n                    }\r\n\r\n                    //pathname = \"/creditocomercial/autonomiacredito\";\r\n                    // pathname = \"/creditocomercial/supervisoranalisiscredito\";\r\n                    // pathname = \"/creditocomercial/analisiscredito\";\r\n                    // pathname = \"/creditocomercial/supervisoranalisiscredito\";\r\n                    // pathname = \"/creditocomercial/instructivodesembolso\";\r\n                    // pathname = \"/creditocomercial/propuestacredito\";\r\n                    //pathname = \"/creditocomercial/analisiscredito\";\r\n                    //pathname = \"/creditocomercial/fideicomiso/asignarnumero\";\r\n                    //pathname = \"/creditocomercial/fideicomiso/relacionfiduciaria\";\r\n                    // pathname = \"/creditocomercial/garantias\";\r\n                    //pathname = \"/creditocomercial/desembolso\";\r\n                    // pathname = \"/creditocomercial/documentacionlegal\";\r\n                    // pathname = \"/creditocomercial/supervisoranalisiscredito\";\r\n                    //pathname = \"/creditocomercial/aceptacioncliente\";\r\n                    // pathname = \"/creditocomercial/aceptacioncliente\";\r\n                    // pathname = \"/creditocomercial/analisiscredito\";\r\n                    // pathname = \"/creditocomercial/analisiscredito/informefinanciero\";\r\n                    // pathname = \"/creditocomercial/propuestacredito\";\r\n                    // pathname = \"/creditocomercial/propuestacredito\";\r\n                    //pathname = \"/creditocomercial/firmarcontrato\";\r\n                    // pathname = \"/creditocomercial/abogado\";\r\n                    // pathname = \"/creditocomercial/riesgoambiental\";\r\n                    // pathname = \"/creditocomercial/supervisoranalisiscredito\";\r\n                    //pathname = \"/creditocomercial/analisiscredito\";\r\n                    // pathname = \"/creditocomercial/administracion\";\r\n                    // pathname = \"/creditocomercial/supervisoranalisiscredito\";\r\n                    // pathname = \"/creditocomercial/analisiscredito/informefinanciero\";\r\n                    // pathname = \"/creditocomercial/documentacionlegal\";\r\n                    // pathname = \"/creditocomercial/aceptacioncliente\";\r\n                    //pathname = \"/creditocomercial/instructivodesembolso\";\r\n                    // pathname = \"/creditocomercial/riesgoambiental\";\r\n                    // pathname = \"/creditocomercial/garantias\";\r\n                    //pathname = \"/creditocomercial/fideicomiso/asignarnumero\";  \r\n                    // pathname = \"/creditocomercial/autonomiacredito\";\r\n                    // pathname = \"/creditocomercial/supervisoranalisiscredito\";\r\n                    //pathname = \"/creditocomercial/administracion\";\r\n                    //pathname = \"/creditocomercial/fideicomiso/relacionfiduciaria\";\r\n\r\n                    // pathname = \"/creditocomercial/analisiscredito\";\r\n                    // pathname = \"/creditocomercial/supervisoranalisiscredito\";\r\n                    //pathname = \"/creditocomercial/informegestion\";\r\n                    //pathname = \"/creditocomercial/garantias\";\r\n                    // pathname = \"/creditocomercial/propuestacredito\";\r\n                    // pathname = \"/creditocomercial/autonomiacredito\";\r\n                    // pathname = \"/creditocomercial/supervisoranalisiscredito\";\r\n                    // pathname = \"/creditocomercial/riesgoambiental\";\r\n                    // pathname = \"/creditocomercial/analisiscredito\";\r\n                    //  pathname = \"/creditocomercial/garantias\";\r\n                    // pathname = \"/creditocomercial/fideicomiso/asignarnumero\";\r\n                    //pathname = \"/creditocomercial/administracion\";\r\n                    //pathname = \"/creditocomercial/fideicomiso/relacionfiduciaria\";\r\n                    // pathname = \"/creditocomercial/garantias\";\r\n                    // pathname = \"/creditocomercial/analisiscredito\";\r\n                    // pathname = \"/creditocomercial/supervisoranalisiscredito\";\r\n                    // pathname = \"/creditocomercial/informegestion\";\r\n                    // pathname = \"/creditocomercial/propuestacredito\";\r\n                    // pathname = \"/creditocomercial/informegestion\";\r\n                    // pathname = \"/creditocomercial/analisiscredito\";\r\n                    // pathname = \"/creditocomercial/riesgoambiental\";\r\n                    // pathname = \"/creditocomercial/autonomiacredito\";\r\n                    // pathname = \"/creditocomercial/supervisoranalisiscredito\";\r\n                    //pathname = \"/creditocomercial/administracion\";\r\n                    // pathname = \"/creditocomercial/garantias\";\r\n                    //pathname = \"/creditocomercial/fideicomiso/asignarnumero\";\r\n                    // pathname = \"/creditocomercial/garantias\";\r\n                    // pathname = \"/creditocomercial/analisiscredito\";\r\n                    // pathname = \"/creditocomercial/supervisoranalisiscredito\";\r\n                    // pathname = \"/creditocomercial/garantias\";\r\n                    // pathname = \"/creditocomercial/analisiscredito\";\r\n                    // pathname = \"/creditocomercial/supervisoranalisiscredito\";\r\n                    // pathname = \"/creditocomercial/garantias\";\r\n                    // pathname = \"/creditocomercial/analisiscredito\";\r\n                    // pathname = \"/creditocomercial/supervisoranalisiscredito\";\r\n                    // pathname = \"/creditocomercial/garantias\";\r\n                    // pathname = \"/creditocomercial/analisiscredito\";\r\n                    // pathname = \"/creditocomercial/supervisoranalisiscredito\";\r\n                    // pathname = \"/creditocomercial/propuestacredito\";\r\n                    // pathname = \"/creditocomercial/aceptacioncliente\";\r\n                    // pathname = \"/creditocomercial/analisiscredito\";\r\n                    // pathname = \"/creditocomercial/analisiscredito\";\r\n                    // pathname = \"/creditocomercial/instructivodesembolso\";\r\n                    //pathname = \"/creditocomercial/riesgoambiental\";\r\n                    // pathname = \"/creditocomercial/garantias\";\r\n                    //pathname = \"/creditocomercial/fideicomiso/asignarnumero\";  \r\n                    // pathname = \"/creditocomercial/autonomiacredito\";\r\n                    // pathname = \"/creditocomercial/supervisoranalisiscredito\";\r\n                    //pathname = \"/creditocomercial/administracion\";\r\n                    // pathname = \"/creditocomercial/fideicomiso/relacionfiduciaria\";\r\n                    // pathname = \"/creditocomercial/analisiscredito\";\r\n                    // pathname = \"/creditocomercial/supervisoranalisi  scredito\";\r\n                    this.results.push({\r\n                      uniqueData: i + \"\",\r\n                      personName: infobpm?.personName ?? \"\",\r\n                      priority: infobpm?.priority ?? 0,\r\n                      priorityName: jsonPrioridad.find(x => x.value == infobpm?.priority)?.label ?? \"Sin urgencia\",\r\n                      date: value[i][\"taskCreatedOn\"],\r\n                      taskId: value[i][\"taskId\"], // BPM Id de la tarea\r\n                      instanceId: value[i][\"instanceId\"],// BPM Id del Proceso\r\n                      procedureNumber: value[i][\"variables\"][\"procedureNumber\"],//value[i][\"task-proc-inst-id\"],\r\n                      applicationNumber: value[i][\"variables\"][\"applicationNumber\"],//value[i][\"task-id\"],\r\n                      transactionId: value[i][\"variables\"][\"transactionId\"],//value[i][\"task-id\"],\r\n                      activityId: value[i][\"variables\"][\"activityId\"],//value[i][\"task-id\"],\r\n                      processId: value[i][\"variables\"][\"processId\"],//value[i][\"task-id\"],\r\n                      activity: value[i][\"taskName\"],\r\n                      status: value[i][\"taskStatus\"],\r\n                      pathname: pathname,\r\n                      data: { priority: infobpm?.priority ?? 0, creditRisk: value[i][\"variables\"][\"dcreditoparalelo\"], environmentalRisk: value[i][\"variables\"][\"dambientalparalelo\"], infobpm: infobpm, requestId: value[i][\"variables\"][\"requestId\"], facilityId: value[i][\"variables\"][\"facilityId\"], customerId: value[i][\"variables\"][\"customerId\"], transactionId: value[i][\"variables\"][\"transactionId\"], processId: value[i][\"variables\"][\"processId\"], activityId: value[i][\"variables\"][\"activityId\"], instanceId: value[i][\"instanceId\"], taskId: value[i][\"taskId\"], taskStatus: value[i][\"taskStatus\"] },\r\n                      /*action: (\r\n                        <Link\r\n                          to={{\r\n                            pathname: pathname,\r\n                            data: { creditRisk: value[i][\"variables\"][\"dcreditoparalelo\"], environmentalRisk: value[i][\"variables\"][\"dambientalparalelo\"], infobpm: infobpm, requestId: value[i][\"variables\"][\"requestId\"], facilityId: value[i][\"variables\"][\"facilityId\"], customerId: value[i][\"variables\"][\"customerId\"], transactionId: value[i][\"variables\"][\"transactionId\"], processId: value[i][\"variables\"][\"processId\"], activityId: value[i][\"variables\"][\"activityId\"], instanceId: value[i][\"instanceId\"], taskId: value[i][\"taskId\"], taskStatus: value[i][\"taskStatus\"] },\r\n                          }}\r\n                        >\r\n                          <i className=\"mdi mdi-file-search-outline mdi-24px\"></i>\r\n                        </Link>\r\n                      ),*/\r\n\r\n                    });\r\n                  }\r\n                  break;\r\n                }\r\n\r\n                default: {\r\n                  break;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } catch (err) { }\r\n  }\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}