{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{translationHelpers}from'../../../helpers/translation-helper';import{Row,Col,Card,CardBody,Button,Label,Input,CardHeader,CardTitle,InputGroup,Table,CardFooter}from\"reactstrap\";import SweetAlert from\"react-bootstrap-sweetalert\";import{Link,useLocation}from\"react-router-dom\";import ModalNewDebt from'./ModalNewDebt';import ModalDeudasCortoPlazo from'../../../pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/ModalDeudasCortoPlazo';import ModalDeudasLargoPlazo from'../../../pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/ModalDeudasLargoPlazo';import{BackendServices,CoreServices}from'../../../services';import{AvForm,AvField}from\"availity-reactstrap-validation\";import\"flatpickr/dist/themes/material_blue.css\";import LoadingOverlay from\"react-loading-overlay\";import HeaderSections from\"../../Common/HeaderSections\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var estiloTotales={backgroundColor:\"lightgrey\",color:\"black\"};var DebtSL=function DebtSL(props){var api=new CoreServices();/**\r\n     * All use state\r\n     */var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isActiveLoading=_useState2[0],setIsActiveLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),termsDebts=_useState4[0],setTermsDebts=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),toggleModalNewDebt=_useState6[0],setToggleModalNewDebt=_useState6[1];/**\r\n     * End All use state\r\n     */var _translationHelpers=translationHelpers('commercial_credit','common','translation'),_translationHelpers2=_slicedToArray(_translationHelpers,3),t=_translationHelpers2[0],c=_translationHelpers2[1],tr=_translationHelpers2[2];React.useEffect(function(){getTermsDebt({typeDebt:props.typeDebt,customerNumberT24:props.customerNumberT24});},[]);function getTermsDebt(_ref){var typeDebt=_ref.typeDebt,customerNumberT24=_ref.customerNumberT24;setIsActiveLoading(true);typeDebt==='Short'&&api.getShortTermDebts(customerNumberT24).then(function(resp){console.log(resp);console.log(setDebt(resp));setTermsDebts(setDebt(resp));setIsActiveLoading(false);}).catch(function(err){setIsActiveLoading(false);});typeDebt==='Long'&&api.getLongTermDebts(customerNumberT24).then(function(resp){console.log(resp);setTermsDebts(setDebt(resp));setIsActiveLoading(false);}).catch(function(err){setIsActiveLoading(false);});}function setDebt(debt){return debt===null||debt===void 0?void 0:debt.map(function(debt,key){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:debt.name}),/*#__PURE__*/_jsx(\"td\",{children:debt.approvalRisk}),/*#__PURE__*/_jsx(\"td\",{children:debt.proposalRisk}),/*#__PURE__*/_jsx(\"td\",{children:debt.variationRisk}),/*#__PURE__*/_jsx(\"td\",{children:debt.variationRisk})]},key);});}function editDebt(debt){}function deleteDebt(debt){}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(HeaderSections,{title:props.title,t:t}),/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsx(LoadingOverlay,{active:isActiveLoading,spinner:true,text:t(\"WaitingPlease\"),children:/*#__PURE__*/_jsxs(Table,{className:\"table mt-1\",responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:tr(\"Name\")}),/*#__PURE__*/_jsx(\"th\",{children:tr(\"ProposedRisk\")}),/*#__PURE__*/_jsx(\"th\",{children:tr(\"ApprovedRisk\")}),/*#__PURE__*/_jsx(\"th\",{children:tr(\"Variation\")}),/*#__PURE__*/_jsx(\"th\",{children:tr(\"Date\")}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"right\"}}),/*#__PURE__*/_jsx(\"th\",{children:props.editable&&/*#__PURE__*/_jsxs(Link,{to:\"#\",className:\"float-end\",onClick:function onClick(){toggleModalNewDebt();},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-plus-box-multiple-outline mdi-24px\"}),t(\"\")]})})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[termsDebts,(termsDebts===null||termsDebts===void 0?void 0:termsDebts.length)>0&&/*#__PURE__*/_jsxs(\"tr\",{className:\"table-info\",children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"Total\").toLocaleUpperCase()}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{})]})]})]})})})]});};DebtSL.defaultProps={editable:false};export default DebtSL;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/components/PropuestaCreditoComercial/financialSummary/DebtSL.js"],"names":["React","useState","translationHelpers","Row","Col","Card","CardBody","Button","Label","Input","CardHeader","CardTitle","InputGroup","Table","CardFooter","SweetAlert","Link","useLocation","ModalNewDebt","ModalDeudasCortoPlazo","ModalDeudasLargoPlazo","BackendServices","CoreServices","AvForm","AvField","LoadingOverlay","HeaderSections","estiloTotales","backgroundColor","color","DebtSL","props","api","isActiveLoading","setIsActiveLoading","termsDebts","setTermsDebts","toggleModalNewDebt","setToggleModalNewDebt","t","c","tr","useEffect","getTermsDebt","typeDebt","customerNumberT24","getShortTermDebts","then","resp","console","log","setDebt","catch","err","getLongTermDebts","debt","map","key","name","approvalRisk","proposalRisk","variationRisk","editDebt","deleteDebt","title","textAlign","editable","length","toLocaleUpperCase","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\r\nimport PropTypes from 'prop-types';\r\nimport { translationHelpers } from '../../../helpers/translation-helper';\r\n\r\nimport {\r\n    Row,\r\n    Col,\r\n    Card,\r\n    CardBody,\r\n    Button,\r\n    Label,\r\n    Input,\r\n    CardHeader,\r\n    CardTitle,\r\n    InputGroup,\r\n    Table,\r\n    CardFooter\r\n} from \"reactstrap\"\r\nimport SweetAlert from \"react-bootstrap-sweetalert\"\r\nimport { Link, useLocation } from \"react-router-dom\"\r\nimport ModalNewDebt from './ModalNewDebt';\r\nimport ModalDeudasCortoPlazo from '../../../pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/ModalDeudasCortoPlazo';\r\nimport ModalDeudasLargoPlazo from '../../../pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/ModalDeudasLargoPlazo';\r\nimport { BackendServices, CoreServices } from '../../../services';\r\nimport { AvForm, AvField } from \"availity-reactstrap-validation\"\r\nimport \"flatpickr/dist/themes/material_blue.css\";\r\nimport LoadingOverlay from \"react-loading-overlay\";\r\nimport HeaderSections from \"../../Common/HeaderSections\";\r\nconst estiloTotales = { backgroundColor: \"lightgrey\", color: \"black\" }\r\n\r\nconst DebtSL = (props) => {\r\n    const api = new CoreServices()\r\n\r\n    /**\r\n     * All use state\r\n     */\r\n    const [isActiveLoading, setIsActiveLoading] = useState(false);\r\n    const [termsDebts, setTermsDebts] = useState(null);\r\n    const [toggleModalNewDebt, setToggleModalNewDebt] = useState(false);\r\n    /**\r\n     * End All use state\r\n     */\r\n\r\n    const [t, c, tr] = translationHelpers('commercial_credit', 'common', 'translation');\r\n\r\n    React.useEffect(() => {\r\n        getTermsDebt({ typeDebt: props.typeDebt, customerNumberT24: props.customerNumberT24 });\r\n    }, []);\r\n\r\n    function getTermsDebt({ typeDebt, customerNumberT24 }) {\r\n        setIsActiveLoading(true);\r\n\r\n        typeDebt === 'Short' && api.getShortTermDebts(customerNumberT24).then(resp => {\r\n            console.log(resp);\r\n            console.log(setDebt(resp));\r\n            setTermsDebts(setDebt(resp));\r\n            setIsActiveLoading(false);\r\n        }).catch(err => {\r\n            setIsActiveLoading(false);\r\n        });\r\n\r\n        typeDebt === 'Long' && api.getLongTermDebts(customerNumberT24).then(resp => {\r\n            console.log(resp);\r\n            setTermsDebts(setDebt(resp));\r\n            setIsActiveLoading(false);\r\n        }).catch(err => {\r\n            setIsActiveLoading(false);\r\n        });\r\n    }\r\n\r\n    function setDebt(debt) {\r\n        return debt?.map((debt, key) => (\r\n            <tr key={key}>\r\n                <td>\r\n                    {debt.name}\r\n                </td>\r\n                <td>\r\n                    {debt.approvalRisk}\r\n                </td>\r\n                <td>\r\n                    {debt.proposalRisk}\r\n                </td>\r\n                <td>\r\n                    {debt.variationRisk}\r\n                </td>\r\n                <td>\r\n                    {debt.variationRisk}\r\n                </td>\r\n                {/* <td style={{ textAlign: \"right\" }}>\r\n                    <Button type=\"button\" color=\"link\" onClick={(resp) => { editDebt(debt) }} className=\"btn btn-link\" ><i className=\"mdi mdi-border-color mdi-24px\"></i></Button>\r\n                    <Button type=\"button\" color=\"link\" onClick={(resp) => { deleteDebt(debt) }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n                </td> */}\r\n            </tr>\r\n        ))\r\n    }\r\n\r\n    function editDebt(debt) {\r\n\r\n    }\r\n\r\n    function deleteDebt(debt) {\r\n\r\n    }\r\n    return (\r\n        <>\r\n            <HeaderSections title={props.title} t={t}></HeaderSections>\r\n            {/* <p className=\"card-title-desc\"></p> */}\r\n\r\n            <Col md=\"12\">\r\n                <LoadingOverlay active={isActiveLoading} spinner text={t(\"WaitingPlease\")}>\r\n                    <Table className=\"table mt-1\" responsive>\r\n                        <thead className=\"table-light\">\r\n                            <tr>\r\n                                <th>{tr(\"Name\")}</th>\r\n                                <th>{tr(\"ProposedRisk\")}</th>\r\n                                <th>{tr(\"ApprovedRisk\")}</th>\r\n                                <th>{tr(\"Variation\")}</th>\r\n                                <th>{tr(\"Date\")}</th>\r\n                                <th style={{ textAlign: \"right\" }}></th>\r\n                                <th>\r\n                                    {props.editable && (<Link to=\"#\" className=\"float-end\" onClick={() => { toggleModalNewDebt() }}>\r\n                                        <i className=\"mdi mdi-plus-box-multiple-outline mdi-24px\"></i>{t(\"\")}\r\n                                    </Link>)}\r\n                                </th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {termsDebts}\r\n                            {termsDebts?.length > 0 && <tr className=\"table-info\">\r\n                                <th>{t(\"Total\").toLocaleUpperCase()}</th>\r\n                                <th></th>\r\n                                <th></th>\r\n                                <th></th>\r\n                                <th></th>\r\n                                <th></th>\r\n                                <th></th>\r\n                            </tr>}\r\n                        </tbody>\r\n                    </Table>\r\n                </LoadingOverlay >\r\n\r\n            </Col>\r\n        </>\r\n    );\r\n};\r\n\r\nDebtSL.propTypes = {\r\n    title: PropTypes.string,\r\n    // items: PropTypes.array.isRequired,\r\n    editable: PropTypes.bool,\r\n    addDebt: PropTypes.func\r\n};\r\n\r\nDebtSL.defaultProps = {\r\n    editable: false\r\n};\r\n\r\n\r\nexport default DebtSL;\r\n"]},"metadata":{},"sourceType":"module"}