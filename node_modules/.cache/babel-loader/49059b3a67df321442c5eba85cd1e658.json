{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useTranslation,withTranslation}from\"react-i18next\";import{Link,useLocation}from\"react-router-dom\";import{Row,Col,Button,Table}from\"reactstrap\";import{AvForm,AvField,AvGroup}from\"availity-reactstrap-validation\";import ModalCapex1 from\"./ModalCapex1.js\";import ModalCapex2 from\"./ModalCapex2.js\";import ModalCapex3 from\"./ModalCapex3.js\";import AttachmentFileCore from\"../../../../../components/Common/AttachmentFileCore\";import*as OPTs from\"../../../../../helpers/options_helper\";import{AttachmentFileInputModel}from'../../../../../models/Common/AttachmentFileInputModel';import SweetAlert from\"react-bootstrap-sweetalert\";import{BackendServices}from\"../../../../../services/index.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Capex=/*#__PURE__*/React.forwardRef(function(props,ref){var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var locationData=props.locationData;var location=useLocation();/* ---------------------------------------------------------------------------------------------- */ /*                        Variables de estados para los mensajes de alerta                        */ /* ---------------------------------------------------------------------------------------------- */var _useState=useState(false),_useState2=_slicedToArray(_useState,2),successSave_dlg=_useState2[0],setsuccessSave_dlg=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error_dlg=_useState4[0],seterror_dlg=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error_msg=_useState6[0],seterror_msg=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),confirm_alert=_useState8[0],setconfirm_alert=_useState8[1];var _useState9=useState(location.data),_useState10=_slicedToArray(_useState9,2),dataLocation=_useState10[0],setData=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),botonValidation=_useState12[0],setbotonValidation=_useState12[1];var _useState13=useState({\"transactId\":0,\"personId\":0,\"capexId\":0,\"observations\":\"\",\"thousandUse\":0,\"shareholder\":\"\",\"back\":\"\",\"status\":true}),_useState14=_slicedToArray(_useState13,2),dataCapex1=_useState14[0],setdataCapex1=_useState14[1];var _useState15=useState({\"transactId\":0,\"capexId\":0,\"budget\":\"\",\"amount\":0,\"status\":true}),_useState16=_slicedToArray(_useState15,2),dataCapex2=_useState16[0],setdataCapex2=_useState16[1];var _useState17=useState({\"transactId\":0,\"capexDetailsId\":0,\"observations\":\"\",\"amount\":0,\"status\":true}),_useState18=_slicedToArray(_useState17,2),dataCapex3=_useState18[0],setdataCapex3=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),tipo=_useState20[0],setTipo=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),formValid=_useState22[0],setFormValid=_useState22[1];var _useState23=useState(null),_useState24=_slicedToArray(_useState23,2),dataCapex1Rows=_useState24[0],setdataCapex1Rows=_useState24[1];var _useState25=useState(null),_useState26=_slicedToArray(_useState25,2),dataCapex2Rows=_useState26[0],setdataCapex2Rows=_useState26[1];var _useState27=useState(null),_useState28=_slicedToArray(_useState27,2),dataCapex3Rows=_useState28[0],setdataCapex3Rows=_useState28[1];var _useState29=useState(null),_useState30=_slicedToArray(_useState29,2),usuarioData=_useState30[0],setusuarioData=_useState30[1];React.useImperativeHandle(ref,function(){return{validateForm:function validateForm(){var form=document.getElementById('frmProveedores');form.requestSubmit();},getFormValidation:function getFormValidation(){return formValid;}};});var _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),showModalCapex1=_useState32[0],setShowModalCapex1=_useState32[1];var _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),showModalCapex2=_useState34[0],setShowModalCapex2=_useState34[1];var _useState35=useState(false),_useState36=_slicedToArray(_useState35,2),showModalCapex3=_useState36[0],setShowModalCapex3=_useState36[1];React.useEffect(function(){// Read Api Service data\ninitializeData();},[]);var api=new BackendServices();function initializeData(){api.consultarListaCapexAC(dataLocation.transactionId).then(function(resp){if(resp!=undefined){setdataCapex1Rows(resp.map(function(data){return data.status?/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.observations}),/*#__PURE__*/_jsx(\"td\",{children:data.thousandUse}),/*#__PURE__*/_jsx(\"td\",{children:data.shareholder}),/*#__PURE__*/_jsx(\"td\",{children:data.back}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){updateData(data,\"ECAPEX1\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){deleteData(data,\"DCAPEX1\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},data.id):null;}));}else{setdataCapex1Rows(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\",style:{textAlign:'center'}})},1));}});api.consultarListaCapexPresupuestoAC(dataLocation.transactionId).then(function(resp){if(resp!=undefined){setdataCapex2Rows(resp.map(function(data){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.budget}),/*#__PURE__*/_jsx(\"td\",{children:data.amount}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){updateData(data,\"ECAPEX2\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){deleteData(data,\"DCAPEX2\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},data.capexId);}));}else{setdataCapex2Rows(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",style:{textAlign:'center'}})},1));}});api.consultarListaCapexDetallesAC(dataLocation.transactionId).then(function(resp){if(resp!=undefined){setdataCapex3Rows(resp.map(function(data){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.details}),/*#__PURE__*/_jsx(\"td\",{children:data.amount}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){updateData(data,\"ECAPEX3\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){deleteData(data,\"DCAPEX3\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},data.capexDetailsId);}));}else{setdataCapex3Rows(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",style:{textAlign:'center'}})},1));}});/* ---------------------------------------------------------------------------------------------- */ /*                                   Consultar deudor principal                                   */ /* ---------------------------------------------------------------------------------------------- */api.consultPrincipalDebtor(dataLocation.transactionId).then(function(resp){setusuarioData(resp);});}/* ---------------------------------------------------------------------------------------------- */ /*                                     actualizamos los datos                                     */ /* ---------------------------------------------------------------------------------------------- */function updateData(data,tipo2){setTipo(tipo2);if(tipo2==\"ECAPEX1\"){setdataCapex1(data);toggleShowModalCapex1();}if(tipo2==\"ECAPEX2\"){setdataCapex2(data);toggleShowModalCapex2();}if(tipo2==\"ECAPEX3\"){setdataCapex3(data);toggleShowModalCapex3();}setbotonValidation(true);}function deleteData(data,tipo2){setTipo(tipo2);if(tipo2==\"ECAPEX1\"){setdataCapex1(data);}if(tipo2==\"ECAPEX2\"){setdataCapex2(data);}if(tipo2==\"ECAPEX3\"){setdataCapex3(data);}setconfirm_alert(true);}function SaveData(data,tipo){data.transactId=Number(dataLocation.transactionId);data.personId=usuarioData===null||usuarioData===void 0?void 0:usuarioData.personId;/* ---------------------------------------------------------------------------------------------- */ /*                                  Guardamos los datos del cash                                  */ /* ---------------------------------------------------------------------------------------------- */if(tipo==\"CAPEX1\"){data.thousandUse=Number(data.useInMiles);data.observations=data.description;data.back=data.bank;// guardarListaCapexAC\napi.guardarListaCapexAC(data).then(function(resp){if(resp!=undefined){setconfirm_alert(false);setsuccessSave_dlg(true);toggleShowModalCapex1();}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});}if(tipo==\"CAPEX2\"){data.thousandUse=Number(data.useInMiles);data.observations=data.description;data.back=data.bank;// guardarListaCapexPresupuestoAC\napi.guardarListaCapexPresupuestoAC(data).then(function(resp){if(resp!=undefined){setconfirm_alert(false);setsuccessSave_dlg(true);toggleShowModalCapex2();}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});}if(tipo==\"CAPEX3\"){data.details=data.observations;// guardarListaCapexDetallesAC\napi.guardarListaCapexDetallesAC(data).then(function(resp){if(resp!=undefined){setconfirm_alert(false);setsuccessSave_dlg(true);toggleShowModalCapex3();}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});}}function UpdateData(data,tipo){data.transactId=Number(dataLocation.transactionId);data.personId=usuarioData===null||usuarioData===void 0?void 0:usuarioData.personId;/* ---------------------------------------------------------------------------------------------- */ /*                                    Editita el flujo de caja                                    */ /* ---------------------------------------------------------------------------------------------- */if(tipo==\"ECAPEX1\"){data.thousandUse=Number(data.useInMiles);data.observations=data.description;data.back=data.bank;// actualizarListaCapexAC\napi.actualizarListaCapexAC(data).then(function(resp){if(resp!=undefined){setconfirm_alert(false);setsuccessSave_dlg(true);toggleShowModalCapex1();}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});}if(tipo==\"ECAPEX2\"){data.thousandUse=Number(data.useInMiles);data.observations=data.description;data.back=data.bank;// actualizarListaCapexPresupuestoAC\napi.actualizarListaCapexPresupuestoAC(data).then(function(resp){if(resp!=undefined){setconfirm_alert(false);setsuccessSave_dlg(true);toggleShowModalCapex2();}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});}if(tipo==\"ECAPEX3\"){data.details=data.observations;// actualizarListaCapexDetallesAC\napi.actualizarListaCapexDetallesAC(data).then(function(resp){if(resp!=undefined){setconfirm_alert(false);setsuccessSave_dlg(true);toggleShowModalCapex3();}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});}}//abrimos modal para adjunar archivos\nfunction toggleShowModalCapex1(){setShowModalCapex1(!showModalCapex1);removeBodyCss();}//abrimos modal para adjunar archivos\nfunction toggleShowModalCapex2(){setShowModalCapex2(!showModalCapex2);removeBodyCss();}//abrimos modal para adjunar archivos\nfunction toggleShowModalCapex3(){setShowModalCapex3(!showModalCapex3);removeBodyCss();}function removeBodyCss(){document.body.classList.add(\"no_padding\");}function handleSubmit(event,errors,values){event.preventDefault();if(errors.length>0){return;}}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"h5\",{children:t(\"Capex\")}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsxs(AvForm,{id:\"frmSearch\",className:\"needs-validation\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(Table,{className:\"table mt-1\",responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"Description\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"UsesInMiles\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Shareholder\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Bank\")}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Link,{className:\"float-end\",onClick:function onClick(){setbotonValidation(true);setdataCapex1({\"transactId\":1,\"personId\":1,\"capexId\":0,\"observations\":\"\",\"thousandUse\":0,\"shareholder\":\"\",\"back\":\"\",\"status\":true});setTipo(\"CAPEX1\");toggleShowModalCapex1();},children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-plus-box-multiple-outline mdi-24px\"})})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataCapex1Rows})]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(Table,{className:\"table mt-1\",responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"Budget\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Amount\")}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Link,{className:\"float-end\",onClick:function onClick(){setbotonValidation(true);setdataCapex2({\"transactId\":0,\"capexId\":0,\"budget\":\"\",\"amount\":0,\"status\":true});setTipo(\"CAPEX2\");toggleShowModalCapex2();},children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-plus-box-multiple-outline mdi-24px\"})})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataCapex2Rows})]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(Table,{className:\"table mt-1\",responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"ProjectDetails\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Amount\")}),/*#__PURE__*/_jsxs(\"th\",{children:[\" \",/*#__PURE__*/_jsx(Link,{className:\"float-end\",onClick:function onClick(){setbotonValidation(true);setdataCapex3({\"transactId\":0,\"capexDetailsId\":0,\"observations\":\"\",\"amount\":0,\"status\":true});setTipo(\"CAPEX3\");toggleShowModalCapex3();},children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-plus-box-multiple-outline mdi-24px\"})})]})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataCapex3Rows})]})})}),locationData?/*#__PURE__*/_jsx(AttachmentFileCore,{attachmentFileInputModel:new AttachmentFileInputModel(locationData.transactionId,OPTs.PROCESS_INFORMEGESTION,OPTs.ACT_CAPEX)}):null]}),/*#__PURE__*/_jsx(ModalCapex1,{SaveData:SaveData,botones:botonValidation,tipo:tipo,UpdateData:UpdateData,dataCapex1:dataCapex1,isOpen:showModalCapex1,toggle:function toggle(){toggleShowModalCapex1();}}),/*#__PURE__*/_jsx(ModalCapex2,{SaveData:SaveData,botones:botonValidation,tipo:tipo,UpdateData:UpdateData,dataCapex2:dataCapex2,isOpen:showModalCapex2,toggle:function toggle(){toggleShowModalCapex2();}}),/*#__PURE__*/_jsx(ModalCapex3,{SaveData:SaveData,botones:botonValidation,tipo:tipo,UpdateData:UpdateData,dataCapex3:dataCapex3,isOpen:showModalCapex3,toggle:function toggle(){toggleShowModalCapex3();}}),successSave_dlg?/*#__PURE__*/_jsx(SweetAlert,{success:true,title:t(\"SuccessDialog\"),onConfirm:function onConfirm(){setsuccessSave_dlg(false);initializeData();},children:t(\"SuccessSaveMessage\")}):null,error_dlg?/*#__PURE__*/_jsx(SweetAlert,{error:true,title:t(\"ErrorDialog\"),onConfirm:function onConfirm(){seterror_dlg(false);initializeData();},children:error_msg}):null,confirm_alert?/*#__PURE__*/_jsx(SweetAlert,{title:t(\"Areyousure\"),warning:true,showCancel:true,confirmButtonText:t(\"Yesdeleteit\"),confirmBtnBsStyle:\"success\",cancelBtnBsStyle:\"danger\",onConfirm:function onConfirm(){var apiBack=new BackendServices();if(tipo==\"DCAPEX1\"){// eliminarListaCapexAC\napiBack.eliminarListaCapexAC(dataLocation.transactionId,usuarioData===null||usuarioData===void 0?void 0:usuarioData.personId,dataCapex1.capexId).then(function(resp){if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(true);}else{setconfirm_alert(false);setsuccessSave_dlg(true);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(true);});}if(tipo==\"DCAPEX2\"){// eliminarListaCapexPresupuestoAC\napiBack.eliminarListaCapexPresupuestoAC(dataLocation.transactionId,usuarioData===null||usuarioData===void 0?void 0:usuarioData.personId,dataCapex2.capexId).then(function(resp){if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(true);}else{setconfirm_alert(false);setsuccessSave_dlg(true);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(true);});}if(tipo==\"DCAPEX3\"){// eliminarListaCapexDetallesAC\napiBack.eliminarListaCapexDetallesAC(dataLocation.transactionId,usuarioData===null||usuarioData===void 0?void 0:usuarioData.personId,dataCapex3.capexDetailId).then(function(resp){if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(true);}else{setconfirm_alert(false);setsuccessSave_dlg(true);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(true);});}},onCancel:function onCancel(){return setconfirm_alert(false);},children:t(\"Youwontbeabletorevertthis\")}):null]});});export default Capex;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/Capex.js"],"names":["React","useState","useTranslation","withTranslation","Link","useLocation","Row","Col","Button","Table","AvForm","AvField","AvGroup","ModalCapex1","ModalCapex2","ModalCapex3","AttachmentFileCore","OPTs","AttachmentFileInputModel","SweetAlert","BackendServices","Capex","forwardRef","props","ref","t","i18n","locationData","location","successSave_dlg","setsuccessSave_dlg","error_dlg","seterror_dlg","error_msg","seterror_msg","confirm_alert","setconfirm_alert","data","dataLocation","setData","botonValidation","setbotonValidation","dataCapex1","setdataCapex1","dataCapex2","setdataCapex2","dataCapex3","setdataCapex3","tipo","setTipo","formValid","setFormValid","dataCapex1Rows","setdataCapex1Rows","dataCapex2Rows","setdataCapex2Rows","dataCapex3Rows","setdataCapex3Rows","usuarioData","setusuarioData","useImperativeHandle","validateForm","form","document","getElementById","requestSubmit","getFormValidation","showModalCapex1","setShowModalCapex1","showModalCapex2","setShowModalCapex2","showModalCapex3","setShowModalCapex3","useEffect","initializeData","api","consultarListaCapexAC","transactionId","then","resp","undefined","map","status","observations","thousandUse","shareholder","back","textAlign","updateData","deleteData","id","consultarListaCapexPresupuestoAC","budget","amount","capexId","consultarListaCapexDetallesAC","details","capexDetailsId","consultPrincipalDebtor","tipo2","toggleShowModalCapex1","toggleShowModalCapex2","toggleShowModalCapex3","SaveData","transactId","Number","personId","useInMiles","description","bank","guardarListaCapexAC","catch","err","guardarListaCapexPresupuestoAC","guardarListaCapexDetallesAC","UpdateData","actualizarListaCapexAC","actualizarListaCapexPresupuestoAC","actualizarListaCapexDetallesAC","removeBodyCss","body","classList","add","handleSubmit","event","errors","values","preventDefault","length","PROCESS_INFORMEGESTION","ACT_CAPEX","apiBack","eliminarListaCapexAC","statusCode","error","eliminarListaCapexPresupuestoAC","eliminarListaCapexDetallesAC","capexDetailId"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\r\nimport { useTranslation, withTranslation } from \"react-i18next\"\r\nimport PropTypes from 'prop-types'\r\nimport { Link, useLocation } from \"react-router-dom\"\r\nimport {\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Table,\r\n} from \"reactstrap\"\r\n\r\nimport { AvForm, AvField, AvGroup } from \"availity-reactstrap-validation\"\r\nimport ModalCapex1 from \"./ModalCapex1.js\"\r\nimport ModalCapex2 from \"./ModalCapex2.js\"\r\nimport ModalCapex3 from \"./ModalCapex3.js\"\r\nimport AttachmentFileCore from \"../../../../../components/Common/AttachmentFileCore\";\r\nimport * as OPTs from \"../../../../../helpers/options_helper\";\r\nimport { AttachmentFileInputModel } from '../../../../../models/Common/AttachmentFileInputModel';\r\nimport SweetAlert from \"react-bootstrap-sweetalert\"\r\nimport { BackendServices } from \"../../../../../services/index.js\"\r\nconst Capex = React.forwardRef((props, ref) => {\r\n  const { t, i18n } = useTranslation();\r\n  const { locationData } = props;\r\n  const location = useLocation()\r\n  /* ---------------------------------------------------------------------------------------------- */\r\n  /*                        Variables de estados para los mensajes de alerta                        */\r\n  /* ---------------------------------------------------------------------------------------------- */\r\n  const [successSave_dlg, setsuccessSave_dlg] = useState(false);\r\n  const [error_dlg, seterror_dlg] = useState(false);\r\n  const [error_msg, seterror_msg] = useState(\"\");\r\n  const [confirm_alert, setconfirm_alert] = useState(false)\r\n  const [dataLocation, setData] = useState(location.data);\r\n  const [botonValidation, setbotonValidation] = useState(true);\r\n  const [dataCapex1, setdataCapex1] = useState({\r\n    \"transactId\": 0,\r\n    \"personId\": 0,\r\n    \"capexId\": 0,\r\n    \"observations\": \"\",\r\n    \"thousandUse\": 0,\r\n    \"shareholder\": \"\",\r\n    \"back\": \"\",\r\n    \"status\": true\r\n  });\r\n  const [dataCapex2, setdataCapex2] = useState({\r\n    \"transactId\": 0,\r\n    \"capexId\": 0,\r\n    \"budget\": \"\",\r\n    \"amount\": 0,\r\n    \"status\": true\r\n  });\r\n  const [dataCapex3, setdataCapex3] = useState({\r\n    \"transactId\": 0,\r\n    \"capexDetailsId\": 0,\r\n    \"observations\": \"\",\r\n    \"amount\": 0,\r\n    \"status\": true\r\n  });\r\n  const [tipo, setTipo] = useState(null);\r\n  const [formValid, setFormValid] = useState(false);\r\n  const [dataCapex1Rows, setdataCapex1Rows] = useState(null);\r\n  const [dataCapex2Rows, setdataCapex2Rows] = useState(null);\r\n  const [dataCapex3Rows, setdataCapex3Rows] = useState(null);\r\n  const [usuarioData, setusuarioData] = useState(null);\r\n  React.useImperativeHandle(ref, () => ({\r\n    validateForm: () => {\r\n      const form = document.getElementById('frmProveedores');\r\n      form.requestSubmit();\r\n    },\r\n    getFormValidation: () => {\r\n      return formValid;\r\n    }\r\n  }));\r\n  const [showModalCapex1, setShowModalCapex1] = useState(false);\r\n  const [showModalCapex2, setShowModalCapex2] = useState(false);\r\n  const [showModalCapex3, setShowModalCapex3] = useState(false);\r\n  React.useEffect(() => {\r\n    // Read Api Service data\r\n    initializeData();\r\n  }, []);\r\n  const api = new BackendServices();\r\n  function initializeData() {\r\n    api.consultarListaCapexAC(dataLocation.transactionId).then(resp => {\r\n      if (resp != undefined) {\r\n        setdataCapex1Rows(resp.map((data) => (\r\n          data.status ?\r\n            <tr key={data.id}>\r\n              <td>{data.observations}</td>\r\n              <td>{data.thousandUse}</td>\r\n              <td>{data.shareholder}</td>\r\n              <td>{data.back}</td>\r\n              <td style={{ textAlign: \"right\" }}>\r\n                <Button type=\"button\" color=\"link\" onClick={(resp) => { updateData(data, \"ECAPEX1\") }} className=\"btn btn-link\" ><i className=\"mdi mdi-border-color mdi-24px\"></i></Button>\r\n                <Button type=\"button\" color=\"link\" onClick={(resp) => { deleteData(data, \"DCAPEX1\") }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n              </td>\r\n            </tr> : null)\r\n        ));\r\n      } else {\r\n        setdataCapex1Rows(\r\n          <tr key={1}>\r\n            <td colSpan=\"4\" style={{ textAlign: 'center' }}></td>\r\n          </tr>);\r\n      }\r\n    });\r\n    api.consultarListaCapexPresupuestoAC(dataLocation.transactionId).then(resp => {\r\n      if (resp != undefined) {\r\n        setdataCapex2Rows(resp.map((data) => (\r\n          <tr key={data.capexId}>\r\n            <td>{data.budget}</td>\r\n            <td>{data.amount}</td>\r\n            <td style={{ textAlign: \"right\" }}>\r\n              <Button type=\"button\" color=\"link\" onClick={(resp) => { updateData(data, \"ECAPEX2\") }} className=\"btn btn-link\" ><i className=\"mdi mdi-border-color mdi-24px\"></i></Button>\r\n              <Button type=\"button\" color=\"link\" onClick={(resp) => { deleteData(data, \"DCAPEX2\") }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n            </td>\r\n          </tr>)\r\n        ));\r\n      } else {\r\n        setdataCapex2Rows(\r\n          <tr key={1}>\r\n            <td colSpan=\"2\" style={{ textAlign: 'center' }}></td>\r\n          </tr>);\r\n      }\r\n    });\r\n    api.consultarListaCapexDetallesAC(dataLocation.transactionId).then(resp => {\r\n      if (resp != undefined) {\r\n        setdataCapex3Rows(resp.map((data) => (\r\n          <tr key={data.capexDetailsId}>\r\n            <td>{data.details}</td>\r\n            <td>{data.amount}</td>\r\n            <td style={{ textAlign: \"right\" }}>\r\n              <Button type=\"button\" color=\"link\" onClick={(resp) => { updateData(data, \"ECAPEX3\") }} className=\"btn btn-link\" ><i className=\"mdi mdi-border-color mdi-24px\"></i></Button>\r\n              <Button type=\"button\" color=\"link\" onClick={(resp) => { deleteData(data, \"DCAPEX3\") }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n            </td>\r\n          </tr>)\r\n        ));\r\n      } else {\r\n        setdataCapex3Rows(\r\n          <tr key={1}>\r\n            <td colSpan=\"2\" style={{ textAlign: 'center' }}></td>\r\n          </tr>);\r\n      }\r\n    });\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                                   Consultar deudor principal                                   */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n     api.consultPrincipalDebtor(dataLocation.transactionId).then(resp => {\r\n      setusuarioData(resp);\r\n    })\r\n  }\r\n  /* ---------------------------------------------------------------------------------------------- */\r\n  /*                                     actualizamos los datos                                     */\r\n  /* ---------------------------------------------------------------------------------------------- */\r\n  function updateData(data, tipo2) {\r\n    setTipo(tipo2);\r\n    if (tipo2 == \"ECAPEX1\") {\r\n      setdataCapex1(data);\r\n      toggleShowModalCapex1()\r\n    }\r\n    if (tipo2 == \"ECAPEX2\") {\r\n      setdataCapex2(data);\r\n      toggleShowModalCapex2()\r\n    }\r\n    if (tipo2 == \"ECAPEX3\") {\r\n      setdataCapex3(data);\r\n      toggleShowModalCapex3()\r\n    }\r\n    setbotonValidation(true);\r\n  }\r\n  function deleteData(data, tipo2) {\r\n    setTipo(tipo2);\r\n    if (tipo2 == \"ECAPEX1\") {\r\n      setdataCapex1(data);\r\n    }\r\n    if (tipo2 == \"ECAPEX2\") {\r\n      setdataCapex2(data);\r\n    }\r\n    if (tipo2 == \"ECAPEX3\") {\r\n      setdataCapex3(data);\r\n    }\r\n    setconfirm_alert(true);\r\n  }\r\n  function SaveData(data, tipo) {\r\n    data.transactId = Number(dataLocation.transactionId);\r\n    data.personId = usuarioData?.personId;\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                                  Guardamos los datos del cash                                  */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    if (tipo == \"CAPEX1\") {\r\n      data.thousandUse = Number(data.useInMiles);\r\n      data.observations = data.description;\r\n      data.back = data.bank;\r\n      // guardarListaCapexAC\r\n      api.guardarListaCapexAC(data).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          setsuccessSave_dlg(true)\r\n          toggleShowModalCapex1();\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n    if (tipo == \"CAPEX2\") {\r\n      data.thousandUse = Number(data.useInMiles);\r\n      data.observations = data.description;\r\n      data.back = data.bank;\r\n      // guardarListaCapexPresupuestoAC\r\n      api.guardarListaCapexPresupuestoAC(data).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          setsuccessSave_dlg(true)\r\n          toggleShowModalCapex2();\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n    if (tipo == \"CAPEX3\") {\r\n      data.details = data.observations;\r\n      // guardarListaCapexDetallesAC\r\n      api.guardarListaCapexDetallesAC(data).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          setsuccessSave_dlg(true)\r\n          toggleShowModalCapex3();\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n  }\r\n  function UpdateData(data, tipo) {\r\n    data.transactId = Number(dataLocation.transactionId);\r\n    data.personId = usuarioData?.personId;\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                                    Editita el flujo de caja                                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    if (tipo == \"ECAPEX1\") {\r\n      data.thousandUse = Number(data.useInMiles);\r\n      data.observations = data.description;\r\n      data.back = data.bank;\r\n      // actualizarListaCapexAC\r\n      api.actualizarListaCapexAC(data).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          setsuccessSave_dlg(true)\r\n          toggleShowModalCapex1();\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n    if (tipo == \"ECAPEX2\") {\r\n      data.thousandUse = Number(data.useInMiles);\r\n      data.observations = data.description;\r\n      data.back = data.bank;\r\n      // actualizarListaCapexPresupuestoAC\r\n      api.actualizarListaCapexPresupuestoAC(data).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          setsuccessSave_dlg(true)\r\n          toggleShowModalCapex2();\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n    if (tipo == \"ECAPEX3\") {\r\n      data.details = data.observations;\r\n      // actualizarListaCapexDetallesAC\r\n      api.actualizarListaCapexDetallesAC(data).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          setsuccessSave_dlg(true)\r\n          toggleShowModalCapex3();\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n  }\r\n  //abrimos modal para adjunar archivos\r\n  function toggleShowModalCapex1() {\r\n    setShowModalCapex1(!showModalCapex1);\r\n    removeBodyCss()\r\n  }\r\n  //abrimos modal para adjunar archivos\r\n  function toggleShowModalCapex2() {\r\n    setShowModalCapex2(!showModalCapex2);\r\n    removeBodyCss()\r\n  }\r\n  //abrimos modal para adjunar archivos\r\n  function toggleShowModalCapex3() {\r\n    setShowModalCapex3(!showModalCapex3);\r\n    removeBodyCss()\r\n  }\r\n  function removeBodyCss() {\r\n    document.body.classList.add(\"no_padding\")\r\n  }\r\n  function handleSubmit(event, errors, values) {\r\n    event.preventDefault();\r\n    if (errors.length > 0) {\r\n      return;\r\n    }\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <h5>\r\n        {t(\"Capex\")}\r\n      </h5>\r\n      <p className=\"card-title-desc\"></p>\r\n      <AvForm id=\"frmSearch\" className=\"needs-validation\" onSubmit={handleSubmit}>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <Table className=\"table mt-1\" responsive>\r\n              <thead className=\"table-light\">\r\n                <tr>\r\n                  <th>{t(\"Description\")}</th>\r\n                  <th>{t(\"UsesInMiles\")}</th>\r\n                  {/* <th>{t(\"SourcesThousands\")}</th> */}\r\n                  <th>{t(\"Shareholder\")}</th>\r\n                  <th>{t(\"Bank\")}</th>\r\n                  <th><Link className=\"float-end\" onClick={() => {\r\n                    setbotonValidation(true); setdataCapex1({\r\n                      \"transactId\": 1,\r\n                      \"personId\": 1,\r\n                      \"capexId\": 0,\r\n                      \"observations\": \"\",\r\n                      \"thousandUse\": 0,\r\n                      \"shareholder\": \"\",\r\n                      \"back\": \"\",\r\n                      \"status\": true\r\n                    }); setTipo(\"CAPEX1\"); toggleShowModalCapex1()\r\n                  }}><i className=\"mdi mdi-plus-box-multiple-outline mdi-24px\"></i></Link></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {dataCapex1Rows}\r\n              </tbody>\r\n            </Table>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <Table className=\"table mt-1\" responsive>\r\n              <thead className=\"table-light\">\r\n                <tr>\r\n                  <th>{t(\"Budget\")}</th>\r\n                  <th>{t(\"Amount\")}</th>\r\n                  <th><Link className=\"float-end\" onClick={() => {\r\n                    setbotonValidation(true); setdataCapex2({\r\n                      \"transactId\": 0,\r\n                      \"capexId\": 0,\r\n                      \"budget\": \"\",\r\n                      \"amount\": 0,\r\n                      \"status\": true\r\n                    }); setTipo(\"CAPEX2\"); toggleShowModalCapex2()\r\n                  }}><i className=\"mdi mdi-plus-box-multiple-outline mdi-24px\"></i></Link></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {dataCapex2Rows}\r\n              </tbody>\r\n            </Table>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <Table className=\"table mt-1\" responsive>\r\n              <thead className=\"table-light\">\r\n                <tr>\r\n                  <th>{t(\"ProjectDetails\")}</th>\r\n                  <th>{t(\"Amount\")}</th>\r\n                  <th> <Link className=\"float-end\" onClick={() => {\r\n                    setbotonValidation(true); setdataCapex3({\r\n                      \"transactId\": 0,\r\n                      \"capexDetailsId\": 0,\r\n                      \"observations\": \"\",\r\n                      \"amount\": 0,\r\n                      \"status\": true\r\n                    }); setTipo(\"CAPEX3\"); toggleShowModalCapex3()\r\n                  }}><i className=\"mdi mdi-plus-box-multiple-outline mdi-24px\"></i></Link></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {dataCapex3Rows}\r\n              </tbody>\r\n            </Table>\r\n          </Col>\r\n        </Row>\r\n        {locationData?\r\n        <AttachmentFileCore attachmentFileInputModel={ new AttachmentFileInputModel(locationData.transactionId,OPTs.PROCESS_INFORMEGESTION,OPTs.ACT_CAPEX)} />\r\n        :null}\r\n        \r\n      </AvForm>\r\n      <ModalCapex1 SaveData={SaveData} botones={botonValidation} tipo={tipo} UpdateData={UpdateData} dataCapex1={dataCapex1} isOpen={showModalCapex1} toggle={() => { toggleShowModalCapex1() }} />\r\n      <ModalCapex2 SaveData={SaveData} botones={botonValidation} tipo={tipo} UpdateData={UpdateData} dataCapex2={dataCapex2} isOpen={showModalCapex2} toggle={() => { toggleShowModalCapex2() }} />\r\n      <ModalCapex3 SaveData={SaveData} botones={botonValidation} tipo={tipo} UpdateData={UpdateData} dataCapex3={dataCapex3} isOpen={showModalCapex3} toggle={() => { toggleShowModalCapex3() }} />\r\n      {successSave_dlg ? (\r\n        <SweetAlert\r\n          success\r\n          title={t(\"SuccessDialog\")}\r\n          onConfirm={() => {\r\n            setsuccessSave_dlg(false)\r\n            initializeData();\r\n          }}\r\n        >\r\n          {t(\"SuccessSaveMessage\")}\r\n        </SweetAlert>\r\n      ) : null}\r\n\r\n      {error_dlg ? (\r\n        <SweetAlert\r\n          error\r\n          title={t(\"ErrorDialog\")}\r\n          onConfirm={() => {\r\n            seterror_dlg(false)\r\n            initializeData();\r\n          }}\r\n        >\r\n          {error_msg}\r\n        </SweetAlert>\r\n      ) : null}\r\n      {confirm_alert ? (\r\n        <SweetAlert\r\n          title={t(\"Areyousure\")}\r\n          warning\r\n          showCancel\r\n          confirmButtonText={t(\"Yesdeleteit\")}\r\n          confirmBtnBsStyle=\"success\"\r\n          cancelBtnBsStyle=\"danger\"\r\n          onConfirm={() => {\r\n            const apiBack = new BackendServices();\r\n            if (tipo == \"DCAPEX1\") {\r\n              // eliminarListaCapexAC\r\n              apiBack.eliminarListaCapexAC(dataLocation.transactionId, usuarioData?.personId, dataCapex1.capexId).then(resp => {\r\n                if (resp.statusCode == \"500\") {\r\n                  setconfirm_alert(false)\r\n                  seterror_dlg(true)\r\n                } else {\r\n                  setconfirm_alert(false)\r\n                  setsuccessSave_dlg(true)\r\n                }\r\n              }).catch(error => {\r\n                setconfirm_alert(false)\r\n                seterror_dlg(true)\r\n              })\r\n            }\r\n            if (tipo == \"DCAPEX2\") {\r\n              // eliminarListaCapexPresupuestoAC\r\n              apiBack.eliminarListaCapexPresupuestoAC(dataLocation.transactionId, usuarioData?.personId, dataCapex2.capexId).then(resp => {\r\n                if (resp.statusCode == \"500\") {\r\n                  setconfirm_alert(false)\r\n                  seterror_dlg(true)\r\n                } else {\r\n                  setconfirm_alert(false)\r\n                  setsuccessSave_dlg(true)\r\n                }\r\n              }).catch(error => {\r\n                setconfirm_alert(false)\r\n                seterror_dlg(true)\r\n              })\r\n            }\r\n            if (tipo == \"DCAPEX3\") {\r\n              // eliminarListaCapexDetallesAC\r\n              apiBack.eliminarListaCapexDetallesAC(dataLocation.transactionId, usuarioData?.personId, dataCapex3.capexDetailId).then(resp => {\r\n                if (resp.statusCode == \"500\") {\r\n                  setconfirm_alert(false)\r\n                  seterror_dlg(true)\r\n                } else {\r\n                  setconfirm_alert(false)\r\n                  setsuccessSave_dlg(true)\r\n                }\r\n              }).catch(error => {\r\n                setconfirm_alert(false)\r\n                seterror_dlg(true)\r\n              })\r\n            }\r\n          }}\r\n          onCancel={() => setconfirm_alert(false)}\r\n        >\r\n          {t(\"Youwontbeabletorevertthis\")}\r\n        </SweetAlert>\r\n      ) : null}\r\n    </React.Fragment>\r\n  );\r\n\r\n});\r\nCapex.propTypes = {\r\n  locationData: PropTypes.any,\r\n}\r\nexport default Capex;\r\n"]},"metadata":{},"sourceType":"module"}