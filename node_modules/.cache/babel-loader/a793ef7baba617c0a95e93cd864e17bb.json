{"ast":null,"code":"var _jsxFileName = \"D:\\\\_PROJECTS\\\\_SOAINT\\\\JBPM\\\\App\\\\banescocreditoscomerciales\\\\src\\\\components\\\\InformeFinanciero\\\\background\\\\Guarantees.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport PropTypes from 'prop-types';\nimport { translationHelper } from '../../../helpers';\nimport { Card, CardBody, Col, Row, Table } from \"reactstrap\";\nimport { useTranslation } from 'react-i18next';\nimport { BackendServices, CoreServices, BpmServices } from \"../../../services\";\nimport { useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Guarantees = props => {\n  _s();\n\n  const location = useLocation();\n  const apiCore = new CoreServices();\n  const apiBack = new BackendServices();\n  const apiBpm = new BpmServices();\n  const [bodyRows, setbodyRows] = useState(null);\n  const [dataLocation, setdataLocation] = useState(location.data);\n  const {\n    t,\n    i18n\n  } = useTranslation();\n\n  function initializeData() {\n    const jsonSet = {\n      Muebles: {},\n      Inmuebles: {},\n      Depositos: {}\n    };\n    apiBack.consultarUsuarioProspecto(dataLocation.transactionId).then(user => {\n      const CustomerNumeroT24 = \"600258741\"; // const CustomerNumeroT24=user.customerNumberT24;\n\n      apiCore.getColaterals(CustomerNumeroT24).then(colaterals => {\n        for (let i = 0; i < colaterals.length; i++) {\n          apiCore.getWarrantyDetails(colaterals[i].collateralId, \"Muebles\").then(garantias => {\n            for (let j = 0; j < garantias.length; j++) {\n              jsonSet.Muebles.push(garantias[j]);\n              bodyRows = bodyRows + /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"Muebles\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 41,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: garantias[j].EmisionDt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 42,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: garantias[j].AppraisedBy\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 43,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: garantias[j].Collateral.CollateralAmt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 44,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: parseFloat(colaterals[i].facilityAmt) / parseFloat(garantias[j].Collateral.CollateralAmt)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 45,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 40,\n                columnNumber: 38\n              }, this);\n              setbodyRows(bodyRows);\n            }\n          });\n          apiCore.getWarrantyDetails(colaterals[i].collateralId, \"Inmuebles\").then(garantias => {\n            for (let j = 0; j < garantias.length; j++) {\n              jsonSet.Inmuebles.push(garantias[j]);\n              bodyRows = bodyRows + /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"Inmuebles\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 54,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: garantias[j].EmisionDt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 55,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: garantias[j].AppraisedBy\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: garantias[j].Collateral.CollateralAmt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: parseFloat(colaterals[i].facilityAmt) / parseFloat(garantias[j].Collateral.CollateralAmt)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 38\n              }, this);\n              setbodyRows(bodyRows);\n            }\n          });\n          apiCore.getWarrantyDetails(colaterals[i].collateralId, \"Depositos\").then(garantias => {\n            for (let j = 0; j < garantias.length; j++) {\n              jsonSet.Depositos.push(garantias[j]);\n              bodyRows = bodyRows + /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"Depositos\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: garantias[j].EmisionDt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: garantias[j].AppraisedBy\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: garantias[j].Collateral.CollateralAmt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: parseFloat(colaterals[i].facilityAmt) / parseFloat(garantias[j].Collateral.CollateralAmt)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 38\n              }, this);\n              setbodyRows(bodyRows);\n            }\n          });\n        }\n      });\n    });\n  }\n\n  React.useEffect(() => {\n    initializeData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: /*#__PURE__*/_jsxDEV(CardBody, {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"card-title\",\n        children: t(\"WarrantyDetails\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"card-title-desc\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          lg: \"12\",\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            className: \"table mb-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"table-light\",\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: t(\"Type\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: t(\"Date\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: t(\"appraisalcompany\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: t(\"QuickValue\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: t(\"LTV\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: bodyRows == null ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"7\",\n                  style: {\n                    textAlign: 'center'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                    children: t(\"NoData\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 85\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 33\n              }, this) : bodyRows\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Guarantees, \"rAvZ00kzw5crG4RA/X7Vg41MNrQ=\", false, function () {\n  return [useLocation, useTranslation];\n});\n\n_c = Guarantees;\nGuarantees.defaultProps = {\n  headers: [],\n  data: []\n};\nexport default Guarantees;\n\nvar _c;\n\n$RefreshReg$(_c, \"Guarantees\");","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/components/InformeFinanciero/background/Guarantees.js"],"names":["React","useEffect","useState","PropTypes","translationHelper","Card","CardBody","Col","Row","Table","useTranslation","BackendServices","CoreServices","BpmServices","useLocation","Guarantees","props","location","apiCore","apiBack","apiBpm","bodyRows","setbodyRows","dataLocation","setdataLocation","data","t","i18n","initializeData","jsonSet","Muebles","Inmuebles","Depositos","consultarUsuarioProspecto","transactionId","then","user","CustomerNumeroT24","getColaterals","colaterals","i","length","getWarrantyDetails","collateralId","garantias","j","push","EmisionDt","AppraisedBy","Collateral","CollateralAmt","parseFloat","facilityAmt","textAlign","defaultProps","headers"],"mappings":"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","sourcesContent":["\r\nimport React, { useEffect, useState } from \"react\"\r\nimport PropTypes from 'prop-types';\r\nimport { translationHelper } from '../../../helpers';\r\n\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  Col,\r\n  Row,\r\n  Table,\r\n} from \"reactstrap\"\r\nimport { useTranslation } from 'react-i18next';\r\nimport { BackendServices, CoreServices, BpmServices, } from \"../../../services\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\n\r\nconst Guarantees = (props) => {\r\n  const location = useLocation();\r\n  const apiCore = new CoreServices();\r\n  const apiBack = new BackendServices();\r\n  const apiBpm = new BpmServices();\r\n  const [bodyRows, setbodyRows] = useState(null);\r\n  const [dataLocation, setdataLocation] = useState(location.data);\r\n  const { t, i18n } = useTranslation();\r\n  function initializeData() {\r\n    const jsonSet = {\r\n      Muebles: {},\r\n      Inmuebles: {},\r\n      Depositos: {},\r\n    }\r\n    apiBack.consultarUsuarioProspecto(dataLocation.transactionId).then(user => {\r\n      const CustomerNumeroT24 = \"600258741\";\r\n      // const CustomerNumeroT24=user.customerNumberT24;\r\n      apiCore.getColaterals(CustomerNumeroT24).then(colaterals => {\r\n        for (let i = 0; i < colaterals.length; i++) {\r\n          apiCore.getWarrantyDetails(colaterals[i].collateralId, \"Muebles\").then(garantias => {\r\n            for (let j = 0; j < garantias.length; j++) {\r\n              jsonSet.Muebles.push(garantias[j]);\r\n              bodyRows = bodyRows + (<tr>\r\n                <td>Muebles</td>\r\n                <td>{garantias[j].EmisionDt}</td>\r\n                <td>{garantias[j].AppraisedBy}</td>\r\n                <td>{garantias[j].Collateral.CollateralAmt}</td>\r\n                <td>{parseFloat(colaterals[i].facilityAmt) / parseFloat(garantias[j].Collateral.CollateralAmt)}</td>\r\n              </tr>);\r\n              setbodyRows(bodyRows);\r\n            }\r\n          })\r\n          apiCore.getWarrantyDetails(colaterals[i].collateralId, \"Inmuebles\").then(garantias => {\r\n            for (let j = 0; j < garantias.length; j++) {\r\n              jsonSet.Inmuebles.push(garantias[j]);\r\n              bodyRows = bodyRows + (<tr>\r\n                <td>Inmuebles</td>\r\n                <td>{garantias[j].EmisionDt}</td>\r\n                <td>{garantias[j].AppraisedBy}</td>\r\n                <td>{garantias[j].Collateral.CollateralAmt}</td>\r\n                <td>{parseFloat(colaterals[i].facilityAmt) / parseFloat(garantias[j].Collateral.CollateralAmt)}</td>\r\n              </tr>);\r\n              setbodyRows(bodyRows);\r\n            }\r\n          })\r\n          apiCore.getWarrantyDetails(colaterals[i].collateralId, \"Depositos\").then(garantias => {\r\n            for (let j = 0; j < garantias.length; j++) {\r\n              jsonSet.Depositos.push(garantias[j]);\r\n              bodyRows = bodyRows + (<tr>\r\n                <td>Depositos</td>\r\n                <td>{garantias[j].EmisionDt}</td>\r\n                <td>{garantias[j].AppraisedBy}</td>\r\n                <td>{garantias[j].Collateral.CollateralAmt}</td>\r\n                <td>{parseFloat(colaterals[i].facilityAmt) / parseFloat(garantias[j].Collateral.CollateralAmt)}</td>\r\n              </tr>);\r\n              setbodyRows(bodyRows);\r\n            }\r\n          })\r\n        }\r\n      })\r\n    })\r\n  }\r\n  React.useEffect(() => {\r\n    initializeData();\r\n  }, []);\r\n  return (\r\n    <Card>\r\n      <CardBody>\r\n        <h4 className=\"card-title\">{t(\"WarrantyDetails\")}</h4>\r\n        <p className=\"card-title-desc\"></p>\r\n        <Row>\r\n          <Col lg=\"12\">\r\n            <Table className=\"table mb-0\">\r\n              <thead className=\"table-light\">\r\n                <th>{t(\"Type\")}</th>\r\n                <th>{t(\"Date\")}</th>\r\n                <th>{t(\"appraisalcompany\")}</th>\r\n                <th>{t(\"QuickValue\")}</th>\r\n                <th>{t(\"LTV\")}</th>\r\n              </thead>\r\n              <tbody>\r\n                {bodyRows==null?<tr><td colSpan=\"7\" style={{ textAlign: 'center' }}><h5>{t(\"NoData\")}</h5></td></tr>:bodyRows}\r\n              </tbody>\r\n            </Table>\r\n          </Col>\r\n        </Row>\r\n      </CardBody>\r\n    </Card>\r\n  );\r\n\r\n};\r\n\r\n\r\nGuarantees.defaultProps = {\r\n  headers: [],\r\n  data: []\r\n};\r\n\r\nexport default Guarantees;\r\n"]},"metadata":{},"sourceType":"module"}