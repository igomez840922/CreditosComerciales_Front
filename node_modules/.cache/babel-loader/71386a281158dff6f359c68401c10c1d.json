{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{translationHelper}from'../../../helpers';import{Card,CardBody,Col,Row,Table}from\"reactstrap\";import{useTranslation}from'react-i18next';import{BackendServices,CoreServices,BpmServices}from\"../../../services\";import{useLocation}from\"react-router-dom\";import HeaderSections from\"../../Common/HeaderSections\";import LoadingOverlay from\"react-loading-overlay\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Guarantees=function Guarantees(props){var _location$data;var location=useLocation();var apiCore=new CoreServices();var apiBack=new BackendServices();var apiBpm=new BpmServices();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),bodyRows1=_useState2[0],setbodyRows1=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),bodyRows2=_useState4[0],setbodyRows2=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),bodyRows3=_useState6[0],setbodyRows3=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isActiveLoading=_useState8[0],setisActiveLoading=_useState8[1];var _useState9=useState((_location$data=location.data)!==null&&_location$data!==void 0?_location$data:JSON.parse(sessionStorage.getItem('locationData'))),_useState10=_slicedToArray(_useState9,2),dataLocation=_useState10[0],setdataLocation=_useState10[1];var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;function initializeData(){var jsonSet={Muebles:{},Inmuebles:{},Depositos:{}};var CustomerNumeroT24=props.customerNumberT24;// const CustomerNumeroT24=user.customerNumberT24;\nsetisActiveLoading(true);apiCore.getColaterals(CustomerNumeroT24).then(function(colaterals){console.log(colaterals);var _loop=function _loop(i){apiCore.getWarrantyDetails(colaterals[i].collateralId,\"Muebles\").then(function(respgarantias){var garantias=respgarantias.Collateral;// console.log(\"Muebles\", garantias);\nif(!garantias)return;setbodyRows1(/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Muebles\"}),/*#__PURE__*/_jsx(\"td\",{children:garantias.EmisionDt?garantias.EmisionDt:\"\"}),/*#__PURE__*/_jsx(\"td\",{children:garantias.AppraisedBy?garantias.AppraisedBy:\"\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$ \",garantias.CollateralAmt.Amt?garantias.CollateralAmt.Amt:0]}),/*#__PURE__*/_jsxs(\"td\",{children:[parseFloat(colaterals[i].facilityAmt)/parseFloat(garantias.CollateralAmt.Amt?garantias.CollateralAmt.Amt:0),\"%\"]})]}));}).catch(function(err){console.log(err);});apiCore.getWarrantyDetails(colaterals[i].collateralId,\"Inmuebles\").then(function(respgarantias){var garantias=respgarantias.Collateral;// console.log(\"Inmuebles\", garantias);\nif(!garantias)return;setbodyRows2(/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Inmuebles\"}),/*#__PURE__*/_jsx(\"td\",{children:garantias.EmisionDt?garantias.EmisionDt:\"\"}),/*#__PURE__*/_jsx(\"td\",{children:garantias.AppraisedBy?garantias.AppraisedBy:\"\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$ \",garantias.CollateralAmt.Amt?garantias.CollateralAmt.Amt:0]}),/*#__PURE__*/_jsxs(\"td\",{children:[parseFloat(colaterals[i].facilityAmt)/parseFloat(garantias.CollateralAmt.Amt?garantias.CollateralAmt.Amt:0),\"%\"]})]}));});apiCore.getWarrantyDetails(colaterals[i].collateralId,\"Depositos\").then(function(respgarantias){var garantias=respgarantias.Collateral;// console.log(\"Depositos\", garantias);\nif(!garantias)return;setbodyRows3(/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Depositos\"}),/*#__PURE__*/_jsx(\"td\",{children:garantias.EmisionDt?garantias.EmisionDt:\"\"}),/*#__PURE__*/_jsx(\"td\",{children:garantias.AppraisedBy?garantias.AppraisedBy:\"\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$ \",garantias.CollateralAmt.Amt?garantias.CollateralAmt.Amt:0]}),/*#__PURE__*/_jsxs(\"td\",{children:[parseFloat(colaterals[i].facilityAmt)/parseFloat(garantias.CollateralAmt.Amt?garantias.CollateralAmt.Amt:0),\"%\"]})]}));});};for(var i=0;i<colaterals.length;i++){_loop(i);}setisActiveLoading(false);});// })\n}React.useEffect(function(){initializeData();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(HeaderSections,{title:\"WarrantyDetails\",t:t}),/*#__PURE__*/_jsx(LoadingOverlay,{active:isActiveLoading,spinner:true,text:t(\"WaitingPlease\"),children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(\"div\",{style:{minHeight:\"100px\"},children:/*#__PURE__*/_jsx(Col,{lg:\"12\",children:/*#__PURE__*/_jsxs(Table,{className:\"table mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"Type\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Date\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"appraisalcompany\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"QuickValue\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"LTV\")})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[bodyRows1,bodyRows2,bodyRows3]})]})})})})})]});};Guarantees.defaultProps={headers:[],data:[]};export default Guarantees;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/components/InformeFinanciero/background/Guarantees.js"],"names":["React","useEffect","useState","translationHelper","Card","CardBody","Col","Row","Table","useTranslation","BackendServices","CoreServices","BpmServices","useLocation","HeaderSections","LoadingOverlay","Guarantees","props","location","apiCore","apiBack","apiBpm","bodyRows1","setbodyRows1","bodyRows2","setbodyRows2","bodyRows3","setbodyRows3","isActiveLoading","setisActiveLoading","data","JSON","parse","sessionStorage","getItem","dataLocation","setdataLocation","t","i18n","initializeData","jsonSet","Muebles","Inmuebles","Depositos","CustomerNumeroT24","customerNumberT24","getColaterals","then","colaterals","console","log","i","getWarrantyDetails","collateralId","respgarantias","garantias","Collateral","EmisionDt","AppraisedBy","CollateralAmt","Amt","parseFloat","facilityAmt","catch","err","length","minHeight","defaultProps","headers"],"mappings":"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","sourcesContent":["\r\nimport React, { useEffect, useState } from \"react\"\r\nimport PropTypes from 'prop-types';\r\nimport { translationHelper } from '../../../helpers';\r\n\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  Col,\r\n  Row,\r\n  Table,\r\n} from \"reactstrap\"\r\nimport { useTranslation } from 'react-i18next';\r\nimport { BackendServices, CoreServices, BpmServices, } from \"../../../services\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport HeaderSections from \"../../Common/HeaderSections\";\r\nimport LoadingOverlay from \"react-loading-overlay\";\r\n\r\n\r\nconst Guarantees = (props) => {\r\n  const location = useLocation();\r\n  const apiCore = new CoreServices();\r\n  const apiBack = new BackendServices();\r\n  const apiBpm = new BpmServices();\r\n  const [bodyRows1, setbodyRows1] = useState(null);\r\n  const [bodyRows2, setbodyRows2] = useState(null);\r\n  const [bodyRows3, setbodyRows3] = useState(null);\r\n  const [isActiveLoading, setisActiveLoading] = useState(false);\r\n  const [dataLocation, setdataLocation] = useState(location.data ?? JSON.parse(sessionStorage.getItem('locationData')));\r\n  const { t, i18n } = useTranslation();\r\n  function initializeData() {\r\n    const jsonSet = {\r\n      Muebles: {},\r\n      Inmuebles: {},\r\n      Depositos: {},\r\n    }\r\n    const CustomerNumeroT24 = props.customerNumberT24;\r\n    // const CustomerNumeroT24=user.customerNumberT24;\r\n    setisActiveLoading(true);\r\n\r\n    apiCore.getColaterals(CustomerNumeroT24).then(colaterals => {\r\n      console.log(colaterals);\r\n      for (let i = 0; i < colaterals.length; i++) {\r\n        apiCore.getWarrantyDetails(colaterals[i].collateralId, \"Muebles\").then(respgarantias => {\r\n          let garantias = respgarantias.Collateral;\r\n          // console.log(\"Muebles\", garantias);\r\n          if (!garantias)\r\n            return;\r\n\r\n          setbodyRows1(<tr>\r\n            <td>Muebles</td>\r\n            <td>{garantias.EmisionDt ? garantias.EmisionDt : \"\"}</td>\r\n            <td>{garantias.AppraisedBy ? garantias.AppraisedBy : \"\"}</td>\r\n            <td>$ {garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0}</td>\r\n            <td>{parseFloat(colaterals[i].facilityAmt) / parseFloat(garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0)}%</td>\r\n          </tr>);\r\n        }).catch(err => {\r\n          console.log(err);\r\n\r\n        })\r\n        apiCore.getWarrantyDetails(colaterals[i].collateralId, \"Inmuebles\").then(respgarantias => {\r\n          let garantias = respgarantias.Collateral;\r\n          // console.log(\"Inmuebles\", garantias);\r\n          if (!garantias)\r\n            return;\r\n          setbodyRows2(<tr>\r\n            <td>Inmuebles</td>\r\n            <td>{garantias.EmisionDt ? garantias.EmisionDt : \"\"}</td>\r\n            <td>{garantias.AppraisedBy ? garantias.AppraisedBy : \"\"}</td>\r\n            <td>$ {garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0}</td>\r\n            <td>{parseFloat(colaterals[i].facilityAmt) / parseFloat(garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0)}%</td>\r\n          </tr>);\r\n        })\r\n        apiCore.getWarrantyDetails(colaterals[i].collateralId, \"Depositos\").then(respgarantias => {\r\n          let garantias = respgarantias.Collateral;\r\n          // console.log(\"Depositos\", garantias);\r\n          if (!garantias)\r\n            return;\r\n          setbodyRows3(<tr>\r\n            <td>Depositos</td>\r\n            <td>{garantias.EmisionDt ? garantias.EmisionDt : \"\"}</td>\r\n            <td>{garantias.AppraisedBy ? garantias.AppraisedBy : \"\"}</td>\r\n            <td>$ {garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0}</td>\r\n            <td>{parseFloat(colaterals[i].facilityAmt) / parseFloat(garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0)}%</td>\r\n          </tr>);\r\n        })\r\n      }\r\n      setisActiveLoading(false);\r\n    })\r\n\r\n    // })\r\n  }\r\n  React.useEffect(() => {\r\n    initializeData();\r\n  }, []);\r\n  return (\r\n    <>\r\n      <HeaderSections title=\"WarrantyDetails\" t={t}></HeaderSections>\r\n      <LoadingOverlay active={isActiveLoading} spinner text={t(\"WaitingPlease\")}>\r\n\r\n        <Row>\r\n          <div style={{ minHeight: \"100px\" }}>\r\n            <Col lg=\"12\">\r\n              <Table className=\"table mb-0\">\r\n                <thead className=\"table-light\">\r\n                  <tr>\r\n                    <th>{t(\"Type\")}</th>\r\n                    <th>{t(\"Date\")}</th>\r\n                    <th>{t(\"appraisalcompany\")}</th>\r\n                    <th>{t(\"QuickValue\")}</th>\r\n                    <th>{t(\"LTV\")}</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {bodyRows1}\r\n                  {bodyRows2}\r\n                  {bodyRows3}\r\n                </tbody>\r\n              </Table>\r\n            </Col>\r\n          </div>\r\n        </Row>\r\n      </LoadingOverlay>\r\n    </>\r\n  );\r\n\r\n};\r\n\r\n\r\nGuarantees.defaultProps = {\r\n  headers: [],\r\n  data: []\r\n};\r\n\r\nexport default Guarantees;\r\n"]},"metadata":{},"sourceType":"module"}