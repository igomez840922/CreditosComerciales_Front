{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useTranslation}from\"react-i18next\";import{Row,Col,Card,CardBody,Button,Label,Table}from\"reactstrap\";import{Link,useHistory}from\"react-router-dom\";import{AvForm,AvField,AvGroup}from\"availity-reactstrap-validation\";import ApiServicesCommon from\"../../../../../services/Common/ApiServicesCommon\";import{BackendServices,CoreServices}from\"../../../../../services\";import{Select}from'antd';import Currency from\"../../../../../helpers/currency\";import{useLocation}from\"react-router-dom\";import Switch from\"react-switch\";import Breadcrumb from\"../../../../../components/Common/Breadcrumb\";import{withTranslation}from\"react-i18next\";import ModalDatosPoliza from\"./ModalDatosPoliza\";import SweetAlert from\"react-bootstrap-sweetalert\";import moment from\"moment\";import{saveLogProcess}from\"../../../../../helpers/logs_helper\";import\"flatpickr/dist/themes/material_blue.css\";import Flatpickr from\"react-flatpickr\";import*as OPTs from\"../../../../../helpers/options_helper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Offsymbol=function Offsymbol(){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100%\",fontSize:12,color:\"#fff\",paddingRight:2},children:[\" \",\"No\"]});};var OnSymbol=function OnSymbol(){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100%\",fontSize:12,color:\"#fff\",paddingRight:2},children:[\" \",\"Si\"]});};var PantallaBusqueda=function PantallaBusqueda(props){var _dataLocation$transac2,_dataGeneral$guarante,_dataGeneral$attached,_dataGeneral$loanNumb,_dataGeneral$currency,_dataGeneral$customer,_dataGeneral$guarante2,_dataGeneral$guarante3,_dataGeneral$bank,_dataGeneral$agency,_dataGeneral$assetCod,_dataGeneral$trust,_dataLocation$facilit2,_dataLocation$transac3;var Option=Select.Option;var history=useHistory();var currencyData=new Currency();var location=useLocation();var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),dataLocation=_useState2[0],setdataLocation=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showResults=_useState4[0],setShowResults=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),dataList=_useState6[0],setDataList=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),displayClienteModal=_useState10[0],setDisplayClienteModal=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),showModelAttachment=_useState12[0],setShowModelAttachment=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),monedas=_useState14[0],setmonedas=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),monedasSet=_useState16[0],setmonedasSet=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),garantiaTipe=_useState18[0],setgarantiaTipe=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),usuarioProspecto=_useState20[0],setusuarioProspecto=_useState20[1];var _useState21=useState({\"transactId\":0,\"facilityId\":0,\"guaranteeId\":\"\",\"guaranteeNumber\":\"\",\"attachedNumber\":\"\",\"loanNumber\":\"\",\"currency\":\"\",\"customerNumber\":\"\",\"guaranteeAmount\":0,\"guaranteeType\":\"\",\"bank\":\"\",\"agency\":\"\",\"assetCode\":\"\",\"dueDate\":\"2000-01-01\",\"trust\":\"\",\"trustDate\":\"2000-01-01\",\"equipmentType\":\"\",\"engine\":\"\",\"serie\":\"\",\"model\":\"\",\"year\":0}),_useState22=_slicedToArray(_useState21,2),dataGeneral=_useState22[0],setdataGeneral=_useState22[1];var _useState23=useState(null),_useState24=_slicedToArray(_useState23,2),garantiaTypeSet=_useState24[0],setgarantiaTypeSet=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),garantiaTypeSetRequerido=_useState26[0],setgarantiaTypeSetRequerido=_useState26[1];var _useState27=useState(null),_useState28=_slicedToArray(_useState27,2),banco=_useState28[0],setbanco=_useState28[1];var _useState29=useState(\"new\"),_useState30=_slicedToArray(_useState29,2),type=_useState30[0],settype=_useState30[1];var _useState31=useState(\"nuevo\"),_useState32=_slicedToArray(_useState31,2),typeGarantia=_useState32[0],settypeGarantia=_useState32[1];var _useState33=useState(null),_useState34=_slicedToArray(_useState33,2),bancoSet=_useState34[0],setbancoSet=_useState34[1];var _useState35=useState(null),_useState36=_slicedToArray(_useState35,2),banca=_useState36[0],setbanca=_useState36[1];var _useState37=useState(null),_useState38=_slicedToArray(_useState37,2),bancaSet=_useState38[0],setbancaSet=_useState38[1];var _useState39=useState(null),_useState40=_slicedToArray(_useState39,2),dataPolizas=_useState40[0],setdataPolizas=_useState40[1];var _useState41=useState(null),_useState42=_slicedToArray(_useState41,2),dataPolizas2=_useState42[0],setdataPolizas2=_useState42[1];var _useState43=useState([]),_useState44=_slicedToArray(_useState43,2),dataTemporaly=_useState44[0],setdataTemporaly=_useState44[1];var _useState45=useState(false),_useState46=_slicedToArray(_useState45,2),successSave_dlg=_useState46[0],setsuccessSave_dlg=_useState46[1];var _useState47=useState(false),_useState48=_slicedToArray(_useState47,2),successSave_dlg2=_useState48[0],setsuccessSave_dlg2=_useState48[1];var _useState49=useState(false),_useState50=_slicedToArray(_useState49,2),error_dlg=_useState50[0],seterror_dlg=_useState50[1];var _useState51=useState(\"\"),_useState52=_slicedToArray(_useState51,2),error_msg=_useState52[0],seterror_msg=_useState52[1];var _useState53=useState(false),_useState54=_slicedToArray(_useState53,2),info_dlg=_useState54[0],setinfo_dlg=_useState54[1];var _useState55=useState(\"\"),_useState56=_slicedToArray(_useState55,2),info_msg=_useState56[0],setinfo_msg=_useState56[1];var _useState57=useState(\"\"),_useState58=_slicedToArray(_useState57,2),dynamic_title=_useState58[0],setdynamic_title=_useState58[1];var _useState59=useState(false),_useState60=_slicedToArray(_useState59,2),confirm_alert=_useState60[0],setconfirm_alert=_useState60[1];var _useState61=useState(false),_useState62=_slicedToArray(_useState61,2),success_dlg=_useState62[0],setsuccess_dlg=_useState62[1];var _useState63=useState(null),_useState64=_slicedToArray(_useState63,2),garantiasGeneradas=_useState64[0],setgarantiasGeneradas=_useState64[1];var _useState65=useState({\"transactId\":1,\"facilityId\":1,\"guaranteeId\":1,\"guaranteeType\":\"\",\"insuredName\":\"\",\"amount\":0,\"company\":\"\",\"policyNumber\":\"\",\"policyType\":\"\",\"companyCode\":\"\",\"issuedDate\":\"\",\"dueDate\":\"\"}),_useState66=_slicedToArray(_useState65,2),dataSet=_useState66[0],setdataSet=_useState66[1];var _useState67=useState(\"\"),_useState68=_slicedToArray(_useState67,2),dynamic_description=_useState68[0],setdynamic_description=_useState68[1];var backendServices=new BackendServices();var coreServices=new CoreServices();var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var _useState69=useState(null),_useState70=_slicedToArray(_useState69,2),fechaSet=_useState70[0],setfechaSet=_useState70[1];var _useState71=useState(null),_useState72=_slicedToArray(_useState71,2),fechaSet2=_useState72[0],setfechaSet2=_useState72[1];//abrimos modal para adjunar archivos\nuseEffect(function(){var _data,_data2,_data3,_data4,_data5,_data6,_data7,_data8;var data;if(location.data!==null&&location.data!==undefined){if(location.data.transactionId===undefined||location.data.transactionId.length<=0){location.data.transactionId=0;}else{var _location$data;sessionStorage.setItem('locationData',JSON.stringify(location.data));if((_location$data=location.data)===null||_location$data===void 0?void 0:_location$data.dataGeneral){setgarantiaTypeSet(location.data.dataGeneral.guaranteeId);setdataGeneral(location.data.dataGeneral);data=location.data.dataGeneral;settypeGarantia(\"editar\");}setdataLocation(location.data);loadData(location.data);}}else{//chequeamos si tenemos guardado en session\nvar result=sessionStorage.getItem('locationData');if(result!==undefined&&result!==null){var _result;result=JSON.parse(result);setdataLocation(result);if((_result=result)===null||_result===void 0?void 0:_result.dataGeneral){setgarantiaTypeSet(result.dataGeneral.guaranteeId);setdataGeneral(result.dataGeneral);settypeGarantia(\"editar\");data=result.dataGeneral;}loadData(result);}}console.log(data);setfechaSet(((_data=data)===null||_data===void 0?void 0:_data.dueDate)==\"\"||((_data2=data)===null||_data2===void 0?void 0:_data2.dueDate)==null||((_data3=data)===null||_data3===void 0?void 0:_data3.dueDate)==undefined?\"2000-01-01\":moment((_data4=data)===null||_data4===void 0?void 0:_data4.dueDate).format(\"DD-MM-YYYY\"));setfechaSet2(((_data5=data)===null||_data5===void 0?void 0:_data5.trustDate)==\"\"||((_data6=data)===null||_data6===void 0?void 0:_data6.trustDate)==null||((_data7=data)===null||_data7===void 0?void 0:_data7.trustDate)==undefined?\"2000-01-01\":moment((_data8=data)===null||_data8===void 0?void 0:_data8.trustDate).format(\"DD-MM-YYYY\"));},[]);function loadData(data){var _data$transactionId;cargarPolizas(data);coreServices.getMonedaCatalogo().then(function(resp){setmonedas(resp.Records);});coreServices.getBancaCatalogo().then(function(resp){setbanca(resp.Records);});coreServices.getBancosCatalogo().then(function(resp){setbanco(resp.Records);});coreServices.getTipoGarantiaCatalogo().then(function(resp){setgarantiaTipe(resp.Records);});backendServices.consultPrincipalDebtor(data.transactionId).then(function(data){if(data!==undefined){setusuarioProspecto(data);}});coreServices.getTipoGarantiaCatalogo().then(function(response){backendServices.consultarGarantiaPropCred(data.facilityId).then(function(resp){if(resp!=undefined){var json=[];var _loop=function _loop(i){var _response$Records$fin;json.push({Description:(_response$Records$fin=response.Records.find(function(x){return x.Code===resp[i].guaranteeTypeName;}))===null||_response$Records$fin===void 0?void 0:_response$Records$fin.Description,Code:resp[i].guaranteeId});};for(var i=0;i<resp.length;i++){_loop(i);}setgarantiaTipe(json);}});});backendServices.getGuaranteeUsedNewEquipments((_data$transactionId=data===null||data===void 0?void 0:data.transactionId)!==null&&_data$transactionId!==void 0?_data$transactionId:0).then(function(resp){console.log(resp);setgarantiasGeneradas(resp);});}function handleSubmit(event,errors,values){var _garantiaTipe$find,_dataLocation$transac,_dataLocation$facilit,_values$guaranteeAmou,_values$transactId,_values$facilityId,_values$guaranteeId,_values$guaranteeNumb,_values$attachedNumbe,_values$loanNumber,_values$currency,_values$customerNumbe,_values$guaranteeAmou2,_values$guaranteeType,_values$bank,_values$agency,_values$assetCode,_values$dueDate,_values$trust,_values$trustDate,_values$equipmentType,_values$engine,_values$serie,_values$model,_values$year;if(garantiaTypeSet==null){setgarantiaTypeSetRequerido(true);return;}setgarantiaTypeSetRequerido(false);event.preventDefault();if(errors.length>0){return;}values.currency=monedasSet;values.guaranteeType=(_garantiaTipe$find=garantiaTipe.find(function(x){return x.Code===garantiaTypeSet;}))===null||_garantiaTipe$find===void 0?void 0:_garantiaTipe$find.Description;values.bank=bancoSet;values.agency=bancaSet;values.transactId=Number((_dataLocation$transac=dataLocation.transactionId)!==null&&_dataLocation$transac!==void 0?_dataLocation$transac:0);values.facilityId=Number((_dataLocation$facilit=dataLocation.facilityId)!==null&&_dataLocation$facilit!==void 0?_dataLocation$facilit:0);values.equipmentType=\" \";values.engine=\" \";values.serie=\" \";values.model=\" \";values.year=0;values.guaranteeId=garantiaTypeSet;values.guaranteeAmount=Number(currencyData.getRealValue((_values$guaranteeAmou=values===null||values===void 0?void 0:values.guaranteeAmount)!==null&&_values$guaranteeAmou!==void 0?_values$guaranteeAmou:0));values.dueDate=moment(fechaSet,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\")==\"Invalid date\"?fechaSet:moment(fechaSet,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\");;values.trustDate=moment(fechaSet2,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\")==\"Invalid date\"?fechaSet2:moment(fechaSet2,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\");;var datosSet={transactId:(_values$transactId=values===null||values===void 0?void 0:values.transactId)!==null&&_values$transactId!==void 0?_values$transactId:0,facilityId:(_values$facilityId=values===null||values===void 0?void 0:values.facilityId)!==null&&_values$facilityId!==void 0?_values$facilityId:0,guaranteeId:(_values$guaranteeId=values===null||values===void 0?void 0:values.guaranteeId)!==null&&_values$guaranteeId!==void 0?_values$guaranteeId:0,guaranteeNumber:(_values$guaranteeNumb=values===null||values===void 0?void 0:values.guaranteeNumber)!==null&&_values$guaranteeNumb!==void 0?_values$guaranteeNumb:\" \",attachedNumber:(_values$attachedNumbe=values===null||values===void 0?void 0:values.attachedNumber)!==null&&_values$attachedNumbe!==void 0?_values$attachedNumbe:\" \",loanNumber:(_values$loanNumber=values===null||values===void 0?void 0:values.loanNumber)!==null&&_values$loanNumber!==void 0?_values$loanNumber:\" \",currency:(_values$currency=values===null||values===void 0?void 0:values.currency)!==null&&_values$currency!==void 0?_values$currency:\" \",customerNumber:(_values$customerNumbe=values===null||values===void 0?void 0:values.customerNumber)!==null&&_values$customerNumbe!==void 0?_values$customerNumbe:\" \",guaranteeAmount:(_values$guaranteeAmou2=values===null||values===void 0?void 0:values.guaranteeAmount)!==null&&_values$guaranteeAmou2!==void 0?_values$guaranteeAmou2:0,guaranteeType:(_values$guaranteeType=values===null||values===void 0?void 0:values.guaranteeType)!==null&&_values$guaranteeType!==void 0?_values$guaranteeType:\" \",bank:(_values$bank=values===null||values===void 0?void 0:values.bank)!==null&&_values$bank!==void 0?_values$bank:\" \",agency:(_values$agency=values===null||values===void 0?void 0:values.agency)!==null&&_values$agency!==void 0?_values$agency:\" \",assetCode:(_values$assetCode=values===null||values===void 0?void 0:values.assetCode)!==null&&_values$assetCode!==void 0?_values$assetCode:\" \",dueDate:(_values$dueDate=values===null||values===void 0?void 0:values.dueDate)!==null&&_values$dueDate!==void 0?_values$dueDate:\" \",trust:(_values$trust=values===null||values===void 0?void 0:values.trust)!==null&&_values$trust!==void 0?_values$trust:\" \",trustDate:(_values$trustDate=values===null||values===void 0?void 0:values.trustDate)!==null&&_values$trustDate!==void 0?_values$trustDate:\" \",equipmentType:(_values$equipmentType=values===null||values===void 0?void 0:values.equipmentType)!==null&&_values$equipmentType!==void 0?_values$equipmentType:\" \",engine:(_values$engine=values===null||values===void 0?void 0:values.engine)!==null&&_values$engine!==void 0?_values$engine:\" \",serie:(_values$serie=values===null||values===void 0?void 0:values.serie)!==null&&_values$serie!==void 0?_values$serie:\" \",model:(_values$model=values===null||values===void 0?void 0:values.model)!==null&&_values$model!==void 0?_values$model:\" \",year:(_values$year=values===null||values===void 0?void 0:values.year)!==null&&_values$year!==void 0?_values$year:\" \"};if(typeGarantia==\"editar\"){backendServices.updateGuaranteeUsedNewEquipments(datosSet).then(function(resp){if(resp!==null&&resp!==undefined){setdataGeneral({\"transactId\":0,\"facilityId\":0,\"guaranteeId\":\"\",\"guaranteeNumber\":\"\",\"attachedNumber\":\"\",\"loanNumber\":\"\",\"currency\":\"\",\"customerNumber\":\"\",\"guaranteeAmount\":0,\"guaranteeType\":\"\",\"bank\":\"\",\"agency\":\"\",\"assetCode\":\"\",\"dueDate\":\"2000-01-01\",\"trust\":\"\",\"trustDate\":\"2000-01-01\",\"equipmentType\":\"\",\"engine\":\"\",\"serie\":\"\",\"model\":\"\",\"year\":0});setsuccessSave_dlg2(true);}else{seterror_dlg(false);}}).catch(function(err){});}else{setdataGeneral({\"transactId\":0,\"facilityId\":0,\"guaranteeId\":\"\",\"guaranteeNumber\":\"\",\"attachedNumber\":\"\",\"loanNumber\":\"\",\"currency\":\"\",\"customerNumber\":\"\",\"guaranteeAmount\":0,\"guaranteeType\":\"\",\"bank\":\"\",\"agency\":\"\",\"assetCode\":\"\",\"dueDate\":\"2000-01-01\",\"trust\":\"\",\"trustDate\":\"2000-01-01\",\"equipmentType\":\"\",\"engine\":\"\",\"serie\":\"\",\"model\":\"\",\"year\":0});backendServices.saveGuaranteeUsedNewEquipments(datosSet).then(function(resp){if(resp!==null&&resp!==undefined){setsuccessSave_dlg2(true);}else{seterror_dlg(false);}}).catch(function(err){});}}function cargarPolizas(data){var _data$transactionId2;backendServices.getGuaranteePolicy((_data$transactionId2=data===null||data===void 0?void 0:data.transactionId)!==null&&_data$transactionId2!==void 0?_data$transactionId2:0).then(function(resp){if(resp.length>0&&resp!=undefined){setdataPolizas(resp.map(function(data){var _data$amount;return data.status?/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.guaranteeType}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",currencyData.formatTable((_data$amount=data===null||data===void 0?void 0:data.amount)!==null&&_data$amount!==void 0?_data$amount:0)]}),/*#__PURE__*/_jsx(\"td\",{children:data.company}),/*#__PURE__*/_jsx(\"td\",{children:data.policyNumber}),/*#__PURE__*/_jsx(\"td\",{children:data.policyType}),/*#__PURE__*/_jsx(\"td\",{children:data.companyCode}),/*#__PURE__*/_jsx(\"td\",{children:data.issuedDate}),/*#__PURE__*/_jsx(\"td\",{children:data.dueDate}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){updateData(data);},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){deleteData(data);},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},data.guaranteeType):null;}));}else{setdataPolizas(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"12\",style:{textAlign:'center'}})},1));}});}function updateData(data){setdataSet(data);toggleShowModelAttachment();settype(\"edit\");}function deleteData(data){setdataSet(data);setconfirm_alert(true);}function toggleShowModelAttachment(){setShowModelAttachment(!showModelAttachment);removeBodyCss();}function removeBodyCss(){document.body.classList.add(\"no_padding\");}function getTemporalyData(data,tipo){if(garantiaTypeSet==null||garantiaTypeSet==undefined){return;}if(type==\"new\"){var _garantiaTipe$find2;data.transactId=Number(dataLocation.transactionId);data.facilityId=Number(dataLocation.facilityId);data.amount=Number(data.amount);data.guaranteeId=garantiaTypeSet;data.guaranteeType=(_garantiaTipe$find2=garantiaTipe.find(function(x){return x.Code===garantiaTypeSet;}))===null||_garantiaTipe$find2===void 0?void 0:_garantiaTipe$find2.Description;backendServices.saveGuaranteePolicy(data).then(function(poliza){if(poliza!==null&&poliza!==undefined){setsuccessSave_dlg(true);toggleShowModelAttachment();}else{toggleShowModelAttachment();seterror_dlg(false);}}).catch(function(err){seterror_dlg(false);});}else{data.transactId=Number(dataLocation.transactionId);data.facilityId=Number(dataSet.facilityId);data.guaranteeId=dataSet.guaranteeId;data.guaranteeType=dataSet.guaranteeType;data.policyId=dataSet.policyId;backendServices.updateGuaranteePolicy(data).then(function(poliza){if(poliza!==null&&poliza!==undefined){setsuccessSave_dlg(true);toggleShowModelAttachment();}else{toggleShowModelAttachment();seterror_dlg(false);}}).catch(function(err){seterror_dlg(false);});}}function check(e){var tecla=document.all?e.keyCode:e.which;//Tecla de retroceso para borrar, siempre la permite\nif(tecla==45){e.preventDefault();return true;}return false;}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"card-title title-header\",children:[usuarioProspecto!=null?usuarioProspecto.name+\" \"+usuarioProspecto.name2+\" \"+usuarioProspecto.lastName+\" \"+usuarioProspecto.lastName2:\"\",\"    #\",(_dataLocation$transac2=dataLocation===null||dataLocation===void 0?void 0:dataLocation.transactionId)!==null&&_dataLocation$transac2!==void 0?_dataLocation$transac2:0]}),/*#__PURE__*/_jsx(\"h5\",{children:t(\"Datos Generales\")}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsxs(AvForm,{id:\"frmGarantiasMuebles\",autoComplete:\"off\",className:\"needs-validation\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"IDGarantia\",children:t(\"Warranty ID\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",type:\"text\",name:\"guaranteeNumber\",value:typeGarantia==\"nuevo\"?\"\":(_dataGeneral$guarante=dataGeneral===null||dataGeneral===void 0?void 0:dataGeneral.guaranteeNumber)!==null&&_dataGeneral$guarante!==void 0?_dataGeneral$guarante:\"\",id:\"guaranteeNumber\"})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"NumerodeArrachment\",children:t(\"Attachment Number\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",type:\"text\",name:\"attachedNumber\",value:typeGarantia==\"nuevo\"?\"\":(_dataGeneral$attached=dataGeneral===null||dataGeneral===void 0?void 0:dataGeneral.attachedNumber)!==null&&_dataGeneral$attached!==void 0?_dataGeneral$attached:\"\",id:\"attachedNumber\"})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"Numerodeprestamo\",children:t(\"Loan number\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",type:\"text\",name:\"loanNumber\",value:typeGarantia==\"nuevo\"?\"\":(_dataGeneral$loanNumb=dataGeneral===null||dataGeneral===void 0?void 0:dataGeneral.loanNumber)!==null&&_dataGeneral$loanNumb!==void 0?_dataGeneral$loanNumb:\"\",id:\"loanNumber\"})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{children:t(\"Coin\")}),garantiaTipe!=null?/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},showSearch:true,style:{width:\"100%\"},placeholder:t(\"SearchtoSelect\"),optionFilterProp:\"children\",defaultValue:typeGarantia==\"nuevo\"?\"\":(_dataGeneral$currency=dataGeneral===null||dataGeneral===void 0?void 0:dataGeneral.currency)!==null&&_dataGeneral$currency!==void 0?_dataGeneral$currency:0,onChange:function onChange(e){setmonedasSet(e);},filterOption:function filterOption(input,option){var _option$children;return((_option$children=option.children)===null||_option$children===void 0?void 0:_option$children.toLowerCase().indexOf(input.toLowerCase()))>=0;},children:monedas!=null?monedas.map(function(item,index){return/*#__PURE__*/_jsx(Option,{value:item.Description,children:item.Description},index);}):null}):null]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"customerNumber\",children:t(\"Client number\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",type:\"text\",name:\"customerNumber\",value:typeGarantia==\"nuevo\"?\"\":(_dataGeneral$customer=dataGeneral===null||dataGeneral===void 0?void 0:dataGeneral.customerNumber)!==null&&_dataGeneral$customer!==void 0?_dataGeneral$customer:\"\",id:\"customerNumber\"})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"MontoGarantia\",children:t(\"Guarantee Amount\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",type:\"text\",onKeyPress:function onKeyPress(e){return check(e);},pattern:\"^[0-9,.]*$\",onKeyUp:function onKeyUp(e){var x=currencyData.getRealValue(e.target.value);e.target.value=currencyData.format(x);},name:\"guaranteeAmount\",value:typeGarantia==\"nuevo\"?\"\":currencyData.format((_dataGeneral$guarante2=dataGeneral===null||dataGeneral===void 0?void 0:dataGeneral.guaranteeAmount)!==null&&_dataGeneral$guarante2!==void 0?_dataGeneral$guarante2:0),id:\"guaranteeAmount\"})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{children:t(\"GuaranteeType\")}),garantiaTipe!=null?/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},showSearch:true,style:{width:\"100%\"},placeholder:t(\"SearchtoSelect\"),optionFilterProp:\"children\",defaultValue:typeGarantia==\"nuevo\"?\"\":(_dataGeneral$guarante3=dataGeneral===null||dataGeneral===void 0?void 0:dataGeneral.guaranteeType)!==null&&_dataGeneral$guarante3!==void 0?_dataGeneral$guarante3:\"\",onChange:function onChange(e){setgarantiaTypeSet(e);},filterOption:function filterOption(input,option){var _option$children2;return((_option$children2=option.children)===null||_option$children2===void 0?void 0:_option$children2.toLowerCase().indexOf(input.toLowerCase()))>=0;},children:garantiaTipe!=null?garantiaTipe.map(function(item,index){return(garantiasGeneradas===null||garantiasGeneradas===void 0?void 0:garantiasGeneradas.length)>0&&typeGarantia==\"nuevo\"?garantiasGeneradas.find(function(x){return x.guaranteeId===item.Code;})?null:/*#__PURE__*/_jsx(Option,{value:item.Code,children:item.Description},index):/*#__PURE__*/_jsx(Option,{value:item.Code,children:item.Description},index);}):null}):null,garantiaTypeSetRequerido?/*#__PURE__*/_jsx(\"p\",{className:\"message-error-parrafo\",children:t(\"Required Field\")}):null]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{children:t(\"Bank\")}),garantiaTipe!=null?/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},showSearch:true,style:{width:\"100%\"},placeholder:t(\"SearchtoSelect\"),optionFilterProp:\"children\",defaultValue:typeGarantia==\"nuevo\"?\"\":(_dataGeneral$bank=dataGeneral===null||dataGeneral===void 0?void 0:dataGeneral.bank)!==null&&_dataGeneral$bank!==void 0?_dataGeneral$bank:\"\",onChange:function onChange(e){setbancoSet(e);},filterOption:function filterOption(input,option){var _option$children3;return((_option$children3=option.children)===null||_option$children3===void 0?void 0:_option$children3.toLowerCase().indexOf(input.toLowerCase()))>=0;},children:banco!=null?banco.map(function(item,index){return/*#__PURE__*/_jsx(Option,{value:item.Description,children:item.Description},index);}):null}):null]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{children:t(\"Agency(Banking)\")}),garantiaTipe!=null?/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},showSearch:true,style:{width:\"100%\"},placeholder:t(\"SearchtoSelect\"),optionFilterProp:\"children\",defaultValue:typeGarantia==\"nuevo\"?\"\":(_dataGeneral$agency=dataGeneral===null||dataGeneral===void 0?void 0:dataGeneral.agency)!==null&&_dataGeneral$agency!==void 0?_dataGeneral$agency:\"\",onChange:function onChange(e){setbancaSet(e);},filterOption:function filterOption(input,option){var _option$children4;return((_option$children4=option.children)===null||_option$children4===void 0?void 0:_option$children4.toLowerCase().indexOf(input.toLowerCase()))>=0;},children:banca!=null?banca.map(function(item,index){return/*#__PURE__*/_jsx(Option,{value:item.Description,children:item.Description},index);}):null}):null]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"MontoGarantia\",children:t(\"Movable Property Code\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",type:\"text\",name:\"assetCode\",value:typeGarantia==\"nuevo\"?\"\":(_dataGeneral$assetCod=dataGeneral===null||dataGeneral===void 0?void 0:dataGeneral.assetCode)!==null&&_dataGeneral$assetCod!==void 0?_dataGeneral$assetCod:\"\",id:\"assetCode\"})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{children:t(\"Transaction Expiration Date\")}),fechaSet2&&/*#__PURE__*/_jsx(Flatpickr,{name:\"birthDate\",className:\"form-control d-block\",placeholder:OPTs.FORMAT_DATE_SHOW,options:{dateFormat:OPTs.FORMAT_DATE,defaultDate:fechaSet},onChange:function onChange(selectedDates,dateStr,instance){setfechaSet2(moment(dateStr,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\"));}})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"NoFideicomiso\",children:t(\"TrustNumber\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",type:\"text\",name:\"trust\",value:typeGarantia==\"nuevo\"?\"\":(_dataGeneral$trust=dataGeneral===null||dataGeneral===void 0?void 0:dataGeneral.trust)!==null&&_dataGeneral$trust!==void 0?_dataGeneral$trust:\"\",id:\"trust\"})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"NoFideicomiso\",children:t(\"Trust Issuance Date\")}),fechaSet&&/*#__PURE__*/_jsx(Flatpickr,{name:\"birthDate\",className:\"form-control d-block\",placeholder:OPTs.FORMAT_DATE_SHOW,options:{dateFormat:OPTs.FORMAT_DATE,defaultDate:fechaSet2},onChange:function onChange(selectedDates,dateStr,instance){setfechaSet(moment(dateStr,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\"));}})]})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{md:12,style:{textAlign:\"right\",marginTop:\"10px\"},children:[/*#__PURE__*/_jsx(Link,{to:{pathname:'/creditocomercial/garantias/',data:{facilityId:(_dataLocation$facilit2=dataLocation===null||dataLocation===void 0?void 0:dataLocation.facilityId)!==null&&_dataLocation$facilit2!==void 0?_dataLocation$facilit2:0,transactionId:(_dataLocation$transac3=dataLocation===null||dataLocation===void 0?void 0:dataLocation.transactionId)!==null&&_dataLocation$transac3!==void 0?_dataLocation$transac3:0}},children:/*#__PURE__*/_jsxs(Button,{id:\"btnNew\",color:\"danger\",type:\"button\",style:{margin:\"5px\"},onClick:props.toggle,\"data-dismiss\":\"modal\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi mdi-cancel mid-12px\"}),\" \",t(\"Cancel\")]})}),/*#__PURE__*/_jsxs(Button,{id:\"btnSearch\",type:\"submit\",color:\"success\",style:{margin:'5px'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-content-save mdi-12px\"}),\" \",\" \",typeGarantia==\"nuevo\"?t(\"Save\"):t(\"Save\")]})]})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsx(AvForm,{id:\"frmDatosPoliza\",className:\"needs-validation\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"card-sub-title\",children:t(\"Policy Data\")})}),/*#__PURE__*/_jsx(Col,{md:\"6\",style:{textAlign:\"right\"},children:garantiaTypeSet!=null?/*#__PURE__*/_jsxs(Button,{className:\"btn\",color:\"success\",type:\"button\",style:{margin:'5px'},onClick:function onClick(){toggleShowModelAttachment();setdataSet({\"transactId\":0,\"facilityId\":0,\"guaranteeId\":0,\"guaranteeType\":\"\",\"insuredName\":\"\",\"amount\":0,\"company\":\"\",\"policyNumber\":\"\",\"policyType\":\"\",\"companyCode\":\"\",\"issuedDate\":\"\",\"dueDate\":\"\"});settype(\"new\");},title:t(\"Add\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lg fa-plus-circle\"}),\" \",\" \"]}):/*#__PURE__*/_jsx(\"p\",{className:\"message-error-parrafo\",children:t(\"Select a guarantee to be able to generate a policy\")})})]}),/*#__PURE__*/_jsx(Col,{md:\"12\",className:\"table-responsive styled-table-div\",children:/*#__PURE__*/_jsxs(Table,{className:\"table table-striped table-hover styled-table table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"Warrant Type\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Amount\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Insurance company\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Policy Number\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Policy type\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Broker Company\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Policy Issue Date\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Policy Expiration Date\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Actions\")})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataPolizas})]})})]})}),/*#__PURE__*/_jsx(ModalDatosPoliza,{getTemporalyData:getTemporalyData,isOpen:showModelAttachment,dataSet:dataSet,tipo:type,toggle:function toggle(){toggleShowModelAttachment();}}),successSave_dlg?/*#__PURE__*/_jsx(SweetAlert,{success:true,title:t(\"SuccessDialog\"),confirmButtonText:t(\"Confirm\"),cancelButtonText:t(\"Cancel\"),onConfirm:function onConfirm(){setsuccessSave_dlg(false);cargarPolizas(dataLocation);},children:t(\"SuccessSaveMessage\")}):null,successSave_dlg2?/*#__PURE__*/_jsx(SweetAlert,{success:true,title:t(\"SuccessDialog\"),confirmButtonText:t(\"Confirm\"),cancelButtonText:t(\"Cancel\"),onConfirm:function onConfirm(){var _dataLocation$facilit3,_dataLocation$transac4;setsuccessSave_dlg2(false);history.push({pathname:'/creditocomercial/garantias/',data:{facilityId:(_dataLocation$facilit3=dataLocation===null||dataLocation===void 0?void 0:dataLocation.facilityId)!==null&&_dataLocation$facilit3!==void 0?_dataLocation$facilit3:0,transactionId:(_dataLocation$transac4=dataLocation===null||dataLocation===void 0?void 0:dataLocation.transactionId)!==null&&_dataLocation$transac4!==void 0?_dataLocation$transac4:0}});},children:t(\"SuccessSaveMessage\")}):null,error_dlg?/*#__PURE__*/_jsx(SweetAlert,{error:true,title:t(\"ErrorDialog\"),confirmButtonText:t(\"Confirm\"),cancelButtonText:t(\"Cancel\"),onConfirm:function onConfirm(){seterror_dlg(false);cargarPolizas(dataLocation);},children:error_msg}):null,confirm_alert?/*#__PURE__*/_jsx(SweetAlert,{title:t(\"Areyousure\"),warning:true,showCancel:true,confirmButtonText:t(\"Yesdeleteit\"),cancelButtonText:t(\"Cancel\"),confirmBtnBsStyle:\"success\",cancelBtnBsStyle:\"danger\",onConfirm:function onConfirm(){var _dataSet$transactId,_dataSet$facilityId,_dataSet$guaranteeId,_dataSet$policyId;var apiBack=new BackendServices();// eliminarClienteIGR\napiBack.deleteGuaranteePolicy((_dataSet$transactId=dataSet.transactId)!==null&&_dataSet$transactId!==void 0?_dataSet$transactId:0,(_dataSet$facilityId=dataSet.facilityId)!==null&&_dataSet$facilityId!==void 0?_dataSet$facilityId:0,(_dataSet$guaranteeId=dataSet.guaranteeId)!==null&&_dataSet$guaranteeId!==void 0?_dataSet$guaranteeId:0,(_dataSet$policyId=dataSet.policyId)!==null&&_dataSet$policyId!==void 0?_dataSet$policyId:0).then(function(resp){if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(false);}else{setconfirm_alert(false);setsuccessSave_dlg(true);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(false);});},onCancel:function onCancel(){return setconfirm_alert(false);},children:t(\"Youwontbeabletorevertthis\")}):null]});};export default withTranslation()(PantallaBusqueda);","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/14_AdminDesembolso/Colateral/GarantiaEquiposNuevosUsados/Formulario.js"],"names":["React","useEffect","useState","useTranslation","Row","Col","Card","CardBody","Button","Label","Table","Link","useHistory","AvForm","AvField","AvGroup","ApiServicesCommon","BackendServices","CoreServices","Select","Currency","useLocation","Switch","Breadcrumb","withTranslation","ModalDatosPoliza","SweetAlert","moment","saveLogProcess","Flatpickr","OPTs","Offsymbol","display","justifyContent","alignItems","height","fontSize","color","paddingRight","OnSymbol","PantallaBusqueda","props","Option","history","currencyData","location","undefined","dataLocation","setdataLocation","showResults","setShowResults","dataList","setDataList","loading","setLoading","displayClienteModal","setDisplayClienteModal","showModelAttachment","setShowModelAttachment","monedas","setmonedas","monedasSet","setmonedasSet","garantiaTipe","setgarantiaTipe","usuarioProspecto","setusuarioProspecto","dataGeneral","setdataGeneral","garantiaTypeSet","setgarantiaTypeSet","garantiaTypeSetRequerido","setgarantiaTypeSetRequerido","banco","setbanco","type","settype","typeGarantia","settypeGarantia","bancoSet","setbancoSet","banca","setbanca","bancaSet","setbancaSet","dataPolizas","setdataPolizas","dataPolizas2","setdataPolizas2","dataTemporaly","setdataTemporaly","successSave_dlg","setsuccessSave_dlg","successSave_dlg2","setsuccessSave_dlg2","error_dlg","seterror_dlg","error_msg","seterror_msg","info_dlg","setinfo_dlg","info_msg","setinfo_msg","dynamic_title","setdynamic_title","confirm_alert","setconfirm_alert","success_dlg","setsuccess_dlg","garantiasGeneradas","setgarantiasGeneradas","dataSet","setdataSet","dynamic_description","setdynamic_description","backendServices","coreServices","t","i18n","fechaSet","setfechaSet","fechaSet2","setfechaSet2","data","transactionId","length","sessionStorage","setItem","JSON","stringify","guaranteeId","loadData","result","getItem","parse","console","log","dueDate","format","trustDate","cargarPolizas","getMonedaCatalogo","then","resp","Records","getBancaCatalogo","getBancosCatalogo","getTipoGarantiaCatalogo","consultPrincipalDebtor","response","consultarGarantiaPropCred","facilityId","json","i","push","Description","find","x","Code","guaranteeTypeName","getGuaranteeUsedNewEquipments","handleSubmit","event","errors","values","preventDefault","currency","guaranteeType","bank","agency","transactId","Number","equipmentType","engine","serie","model","year","guaranteeAmount","getRealValue","datosSet","guaranteeNumber","attachedNumber","loanNumber","customerNumber","assetCode","trust","updateGuaranteeUsedNewEquipments","catch","err","saveGuaranteeUsedNewEquipments","getGuaranteePolicy","map","status","formatTable","amount","company","policyNumber","policyType","companyCode","issuedDate","textAlign","updateData","deleteData","toggleShowModelAttachment","removeBodyCss","document","body","classList","add","getTemporalyData","tipo","saveGuaranteePolicy","poliza","policyId","updateGuaranteePolicy","check","e","tecla","all","keyCode","which","name","name2","lastName","lastName2","width","input","option","children","toLowerCase","indexOf","item","index","target","value","FORMAT_DATE_SHOW","dateFormat","FORMAT_DATE","defaultDate","selectedDates","dateStr","instance","marginTop","pathname","margin","toggle","apiBack","deleteGuaranteePolicy","statusCode","error"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nimport { Row, Col, Card, CardBody, Button, Label, Table } from \"reactstrap\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport { AvForm, AvField, AvGroup } from \"availity-reactstrap-validation\";\r\nimport ApiServicesCommon from \"../../../../../services/Common/ApiServicesCommon\";\r\nimport { BackendServices, CoreServices } from \"../../../../../services\";\r\nimport { Select } from 'antd';\r\nimport Currency from \"../../../../../helpers/currency\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport Switch from \"react-switch\";\r\nimport Breadcrumb from \"../../../../../components/Common/Breadcrumb\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport ModalDatosPoliza from \"./ModalDatosPoliza\";\r\nimport SweetAlert from \"react-bootstrap-sweetalert\"\r\n\r\n\r\nimport moment from \"moment\";\r\nimport { saveLogProcess } from \"../../../../../helpers/logs_helper\";\r\nimport \"flatpickr/dist/themes/material_blue.css\";\r\nimport Flatpickr from \"react-flatpickr\";\r\nimport * as OPTs from \"../../../../../helpers/options_helper\";\r\n\r\n\r\nconst Offsymbol = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: \"100%\",\r\n        fontSize: 12,\r\n        color: \"#fff\",\r\n        paddingRight: 2,\r\n      }}\r\n    >\r\n      {\" \"}\r\n      No\r\n    </div>\r\n  );\r\n};\r\n\r\nconst OnSymbol = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: \"100%\",\r\n        fontSize: 12,\r\n        color: \"#fff\",\r\n        paddingRight: 2,\r\n      }}\r\n    >\r\n      {\" \"}\r\n      Si\r\n    </div>\r\n  );\r\n};\r\n\r\nconst PantallaBusqueda = (props) => {\r\n  const { Option } = Select;\r\n  const history = useHistory();\r\n  const currencyData = new Currency()\r\n  const location = useLocation();\r\n  const [dataLocation, setdataLocation] = useState(undefined);\r\n  const [showResults, setShowResults] = useState(false);\r\n  const [dataList, setDataList] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [displayClienteModal, setDisplayClienteModal] = useState(false);\r\n  const [showModelAttachment, setShowModelAttachment] = useState(false);\r\n  const [monedas, setmonedas] = useState(null);\r\n  const [monedasSet, setmonedasSet] = useState(null);\r\n  const [garantiaTipe, setgarantiaTipe] = useState(null);\r\n  const [usuarioProspecto, setusuarioProspecto] = useState(null);\r\n\r\n  const [dataGeneral, setdataGeneral] = useState({\r\n    \"transactId\": 0,\r\n    \"facilityId\": 0,\r\n    \"guaranteeId\": \"\",\r\n    \"guaranteeNumber\": \"\",\r\n    \"attachedNumber\": \"\",\r\n    \"loanNumber\": \"\",\r\n    \"currency\": \"\",\r\n    \"customerNumber\": \"\",\r\n    \"guaranteeAmount\": 0,\r\n    \"guaranteeType\": \"\",\r\n    \"bank\": \"\",\r\n    \"agency\": \"\",\r\n    \"assetCode\": \"\",\r\n    \"dueDate\": \"2000-01-01\",\r\n    \"trust\": \"\",\r\n    \"trustDate\": \"2000-01-01\",\r\n    \"equipmentType\": \"\",\r\n    \"engine\": \"\",\r\n    \"serie\": \"\",\r\n    \"model\": \"\",\r\n    \"year\": 0\r\n  });\r\n  const [garantiaTypeSet, setgarantiaTypeSet] = useState(null);\r\n  const [garantiaTypeSetRequerido, setgarantiaTypeSetRequerido] = useState(false);\r\n  const [banco, setbanco] = useState(null);\r\n  const [type, settype] = useState(\"new\");\r\n  const [typeGarantia, settypeGarantia] = useState(\"nuevo\");\r\n  const [bancoSet, setbancoSet] = useState(null);\r\n  const [banca, setbanca] = useState(null);\r\n  const [bancaSet, setbancaSet] = useState(null);\r\n  const [dataPolizas, setdataPolizas] = useState(null);\r\n  const [dataPolizas2, setdataPolizas2] = useState(null);\r\n  const [dataTemporaly, setdataTemporaly] = useState([]);\r\n  const [successSave_dlg, setsuccessSave_dlg] = useState(false);\r\n  const [successSave_dlg2, setsuccessSave_dlg2] = useState(false);\r\n  const [error_dlg, seterror_dlg] = useState(false);\r\n  const [error_msg, seterror_msg] = useState(\"\");\r\n  const [info_dlg, setinfo_dlg] = useState(false)\r\n  const [info_msg, setinfo_msg] = useState(\"\")\r\n  const [dynamic_title, setdynamic_title] = useState(\"\")\r\n  const [confirm_alert, setconfirm_alert] = useState(false)\r\n  const [success_dlg, setsuccess_dlg] = useState(false)\r\n  const [garantiasGeneradas, setgarantiasGeneradas] = useState(null)\r\n  const [dataSet, setdataSet] = useState({\r\n    \"transactId\": 1,\r\n    \"facilityId\": 1,\r\n    \"guaranteeId\": 1,\r\n    \"guaranteeType\": \"\",\r\n    \"insuredName\": \"\",\r\n    \"amount\": 0,\r\n    \"company\": \"\",\r\n    \"policyNumber\": \"\",\r\n    \"policyType\": \"\",\r\n    \"companyCode\": \"\",\r\n    \"issuedDate\": \"\",\r\n    \"dueDate\": \"\"\r\n  })\r\n\r\n  const [dynamic_description, setdynamic_description] = useState(\"\")\r\n  const backendServices = new BackendServices();\r\n  const coreServices = new CoreServices();\r\n  const { t, i18n } = useTranslation();\r\n\r\n  const [fechaSet, setfechaSet] = useState(null)\r\n  const [fechaSet2, setfechaSet2] = useState(null)\r\n\r\n\r\n  //abrimos modal para adjunar archivos\r\n  useEffect(() => {\r\n    let data;\r\n    if (location.data !== null && location.data !== undefined) {\r\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n        location.data.transactionId = 0;\r\n      }\r\n      else {\r\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n        if (location.data?.dataGeneral) {\r\n          setgarantiaTypeSet(location.data.dataGeneral.guaranteeId)\r\n          setdataGeneral(location.data.dataGeneral);\r\n          data = location.data.dataGeneral;\r\n          settypeGarantia(\"editar\")\r\n        }\r\n        setdataLocation(location.data);\r\n        loadData(location.data)\r\n      }\r\n    }\r\n    else {\r\n      //chequeamos si tenemos guardado en session\r\n      var result = sessionStorage.getItem('locationData');\r\n      if (result !== undefined && result !== null) {\r\n        result = JSON.parse(result);\r\n        setdataLocation(result);\r\n        if (result?.dataGeneral) {\r\n          setgarantiaTypeSet(result.dataGeneral.guaranteeId)\r\n          setdataGeneral(result.dataGeneral);\r\n          settypeGarantia(\"editar\");\r\n          data = result.dataGeneral;\r\n        }\r\n        loadData(result)\r\n      }\r\n    }\r\n    console.log(data);\r\n    setfechaSet(data?.dueDate == \"\" || data?.dueDate == null || data?.dueDate == undefined ? \"2000-01-01\" : moment(data?.dueDate).format(\"DD-MM-YYYY\"))\r\n    setfechaSet2(data?.trustDate == \"\" || data?.trustDate == null || data?.trustDate == undefined ? \"2000-01-01\" : moment(data?.trustDate).format(\"DD-MM-YYYY\"))\r\n\r\n\r\n  }, []);\r\n  function loadData(data) {\r\n    cargarPolizas(data)\r\n    coreServices.getMonedaCatalogo().then(resp => {\r\n      setmonedas(resp.Records)\r\n    });\r\n    coreServices.getBancaCatalogo().then(resp => {\r\n      setbanca(resp.Records)\r\n    });\r\n    coreServices.getBancosCatalogo().then(resp => {\r\n      setbanco(resp.Records)\r\n    });\r\n    coreServices.getTipoGarantiaCatalogo().then(resp => {\r\n      setgarantiaTipe(resp.Records)\r\n    });\r\n    backendServices.consultPrincipalDebtor(data.transactionId)\r\n      .then((data) => {\r\n        if (data !== undefined) {\r\n          setusuarioProspecto(data);\r\n        }\r\n      });\r\n    coreServices.getTipoGarantiaCatalogo().then(response => {\r\n      backendServices.consultarGarantiaPropCred(data.facilityId).then(resp => {\r\n        if (resp != undefined) {\r\n          let json = [];\r\n          for (let i = 0; i < resp.length; i++) {\r\n            json.push({ Description: response.Records.find(x => x.Code === resp[i].guaranteeTypeName)?.Description, Code: resp[i].guaranteeId })\r\n          }\r\n          setgarantiaTipe(json)\r\n        }\r\n      })\r\n    });\r\n    backendServices.getGuaranteeUsedNewEquipments(data?.transactionId ?? 0).then(resp => {\r\n      console.log(resp);\r\n      setgarantiasGeneradas(resp)\r\n    });\r\n\r\n  }\r\n  function handleSubmit(event, errors, values) {\r\n    if (garantiaTypeSet == null) {\r\n      setgarantiaTypeSetRequerido(true);\r\n      return;\r\n    }\r\n    setgarantiaTypeSetRequerido(false);\r\n    event.preventDefault();\r\n    if (errors.length > 0) {\r\n      return;\r\n    }\r\n    values.currency = monedasSet;\r\n    values.guaranteeType = garantiaTipe.find(x => x.Code === garantiaTypeSet)?.Description;\r\n    values.bank = bancoSet;\r\n    values.agency = bancaSet;\r\n    values.transactId = Number(dataLocation.transactionId ?? 0);\r\n    values.facilityId = Number(dataLocation.facilityId ?? 0);\r\n    values.equipmentType = \" \";\r\n    values.engine = \" \";\r\n    values.serie = \" \";\r\n    values.model = \" \";\r\n    values.year = 0;\r\n    values.guaranteeId = garantiaTypeSet;\r\n    values.guaranteeAmount = Number(currencyData.getRealValue(values?.guaranteeAmount ?? 0))\r\n\r\n    values.dueDate = moment(fechaSet, \"DD/MM/YYYY\").format(\"YYYY-MM-DD\") == \"Invalid date\" ? fechaSet : (moment(fechaSet, \"DD/MM/YYYY\").format(\"YYYY-MM-DD\"));;\r\n    values.trustDate = moment(fechaSet2, \"DD/MM/YYYY\").format(\"YYYY-MM-DD\") == \"Invalid date\" ? fechaSet2 : (moment(fechaSet2, \"DD/MM/YYYY\").format(\"YYYY-MM-DD\"));;\r\n\r\n    const datosSet = {\r\n      transactId: values?.transactId ?? 0,\r\n      facilityId: values?.facilityId ?? 0,\r\n      guaranteeId: values?.guaranteeId ?? 0,\r\n      guaranteeNumber: values?.guaranteeNumber ?? \" \",\r\n      attachedNumber: values?.attachedNumber ?? \" \",\r\n      loanNumber: values?.loanNumber ?? \" \",\r\n      currency: values?.currency ?? \" \",\r\n      customerNumber: values?.customerNumber ?? \" \",\r\n      guaranteeAmount: values?.guaranteeAmount ?? 0,\r\n      guaranteeType: values?.guaranteeType ?? \" \",\r\n      bank: values?.bank ?? \" \",\r\n      agency: values?.agency ?? \" \",\r\n      assetCode: values?.assetCode ?? \" \",\r\n      dueDate: values?.dueDate ?? \" \",\r\n      trust: values?.trust ?? \" \",\r\n      trustDate: values?.trustDate ?? \" \",\r\n      equipmentType: values?.equipmentType ?? \" \",\r\n      engine: values?.engine ?? \" \",\r\n      serie: values?.serie ?? \" \",\r\n      model: values?.model ?? \" \",\r\n      year: values?.year ?? \" \"\r\n    }\r\n    if (typeGarantia == \"editar\") {\r\n      backendServices.updateGuaranteeUsedNewEquipments(datosSet).then(resp => {\r\n        if (resp !== null && resp !== undefined) {\r\n          setdataGeneral({\r\n            \"transactId\": 0,\r\n            \"facilityId\": 0,\r\n            \"guaranteeId\": \"\",\r\n            \"guaranteeNumber\": \"\",\r\n            \"attachedNumber\": \"\",\r\n            \"loanNumber\": \"\",\r\n            \"currency\": \"\",\r\n            \"customerNumber\": \"\",\r\n            \"guaranteeAmount\": 0,\r\n            \"guaranteeType\": \"\",\r\n            \"bank\": \"\",\r\n            \"agency\": \"\",\r\n            \"assetCode\": \"\",\r\n            \"dueDate\": \"2000-01-01\",\r\n            \"trust\": \"\",\r\n            \"trustDate\": \"2000-01-01\",\r\n            \"equipmentType\": \"\",\r\n            \"engine\": \"\",\r\n            \"serie\": \"\",\r\n            \"model\": \"\",\r\n            \"year\": 0\r\n          });\r\n          setsuccessSave_dlg2(true)\r\n        } else {\r\n          seterror_dlg(false);\r\n        }\r\n      }).catch(err => {\r\n      })\r\n    } else {\r\n      setdataGeneral({\r\n        \"transactId\": 0,\r\n        \"facilityId\": 0,\r\n        \"guaranteeId\": \"\",\r\n        \"guaranteeNumber\": \"\",\r\n        \"attachedNumber\": \"\",\r\n        \"loanNumber\": \"\",\r\n        \"currency\": \"\",\r\n        \"customerNumber\": \"\",\r\n        \"guaranteeAmount\": 0,\r\n        \"guaranteeType\": \"\",\r\n        \"bank\": \"\",\r\n        \"agency\": \"\",\r\n        \"assetCode\": \"\",\r\n        \"dueDate\": \"2000-01-01\",\r\n        \"trust\": \"\",\r\n        \"trustDate\": \"2000-01-01\",\r\n        \"equipmentType\": \"\",\r\n        \"engine\": \"\",\r\n        \"serie\": \"\",\r\n        \"model\": \"\",\r\n        \"year\": 0\r\n      });\r\n      backendServices.saveGuaranteeUsedNewEquipments(datosSet).then(resp => {\r\n        if (resp !== null && resp !== undefined) {\r\n          setsuccessSave_dlg2(true)\r\n        } else {\r\n          seterror_dlg(false);\r\n        }\r\n      }).catch(err => {\r\n      })\r\n\r\n    }\r\n  }\r\n  function cargarPolizas(data) {\r\n    backendServices.getGuaranteePolicy(data?.transactionId ?? 0).then(resp => {\r\n      if (resp.length > 0 && resp != undefined) {\r\n        setdataPolizas(resp.map((data) => (\r\n          data.status ?\r\n            <tr key={data.guaranteeType}>\r\n              <td>{data.guaranteeType}</td>\r\n              <td>${currencyData.formatTable(data?.amount ?? 0)}</td>\r\n              <td>{data.company}</td>\r\n              <td>{data.policyNumber}</td>\r\n              <td>{data.policyType}</td>\r\n              <td>{data.companyCode}</td>\r\n              <td>{data.issuedDate}</td>\r\n              <td>{data.dueDate}</td>\r\n              <td style={{ textAlign: \"right\" }}>\r\n                <Button type=\"button\" color=\"link\" onClick={(resp) => { updateData(data) }} className=\"btn btn-link\" ><i className=\"mdi mdi-border-color mdi-24px\"></i></Button>\r\n                <Button type=\"button\" color=\"link\" onClick={(resp) => { deleteData(data) }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n              </td>\r\n            </tr> : null)\r\n        ));\r\n      } else {\r\n        setdataPolizas(\r\n          <tr key={1}>\r\n            <td colSpan=\"12\" style={{ textAlign: 'center' }}></td>\r\n          </tr>);\r\n      }\r\n    })\r\n  }\r\n  function updateData(data) {\r\n    setdataSet(data);\r\n    toggleShowModelAttachment();\r\n    settype(\"edit\")\r\n  }\r\n  function deleteData(data) {\r\n    setdataSet(data);\r\n    setconfirm_alert(true);\r\n  }\r\n  function toggleShowModelAttachment() {\r\n    setShowModelAttachment(!showModelAttachment);\r\n    removeBodyCss();\r\n  }\r\n  function removeBodyCss() {\r\n    document.body.classList.add(\"no_padding\");\r\n  }\r\n  function getTemporalyData(data, tipo) {\r\n    if (garantiaTypeSet == null || garantiaTypeSet == undefined) {\r\n      return;\r\n    }\r\n    if (type == \"new\") {\r\n      data.transactId = Number(dataLocation.transactionId)\r\n      data.facilityId = Number(dataLocation.facilityId)\r\n      data.amount = Number(data.amount)\r\n      data.guaranteeId = garantiaTypeSet;\r\n      data.guaranteeType = garantiaTipe.find(x => x.Code === garantiaTypeSet)?.Description;\r\n      backendServices.saveGuaranteePolicy(data).then(poliza => {\r\n        if (poliza !== null && poliza !== undefined) {\r\n          setsuccessSave_dlg(true)\r\n          toggleShowModelAttachment();\r\n        } else {\r\n          toggleShowModelAttachment();\r\n          seterror_dlg(false);\r\n        }\r\n      }).catch(err => {\r\n        seterror_dlg(false);\r\n      })\r\n    } else {\r\n      data.transactId = Number(dataLocation.transactionId)\r\n      data.facilityId = Number(dataSet.facilityId)\r\n      data.guaranteeId = dataSet.guaranteeId;\r\n      data.guaranteeType = dataSet.guaranteeType;\r\n      data.policyId = dataSet.policyId;\r\n      backendServices.updateGuaranteePolicy(data).then(poliza => {\r\n        if (poliza !== null && poliza !== undefined) {\r\n          setsuccessSave_dlg(true)\r\n          toggleShowModelAttachment();\r\n        } else {\r\n          toggleShowModelAttachment();\r\n          seterror_dlg(false);\r\n        }\r\n      }).catch(err => {\r\n        seterror_dlg(false);\r\n      })\r\n    }\r\n  }\r\n  function check(e) {\r\n    let tecla = (document.all) ? e.keyCode : e.which;\r\n    //Tecla de retroceso para borrar, siempre la permite\r\n    if (tecla == 45) {\r\n      e.preventDefault();\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <h4 className=\"card-title title-header\">{usuarioProspecto != null ? usuarioProspecto.name + \" \" + usuarioProspecto.name2 + \" \" + usuarioProspecto.lastName + \" \" + usuarioProspecto.lastName2 : \"\"}    #{dataLocation?.transactionId ?? 0}</h4>\r\n\r\n      <h5>{t(\"Datos Generales\")}</h5>\r\n      <p className=\"card-title-desc\"></p>\r\n\r\n      <AvForm id=\"frmGarantiasMuebles\" autoComplete=\"off\" className=\"needs-validation\" onSubmit={handleSubmit}  >\r\n        <Row>\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"IDGarantia\">{t(\"Warranty ID\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                type=\"text\"\r\n                name=\"guaranteeNumber\"\r\n                value={typeGarantia == \"nuevo\" ? \"\" : dataGeneral?.guaranteeNumber ?? \"\"}\r\n                id=\"guaranteeNumber\"\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"NumerodeArrachment\">\r\n                {t(\"Attachment Number\")}\r\n              </Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                type=\"text\"\r\n                name=\"attachedNumber\"\r\n                value={typeGarantia == \"nuevo\" ? \"\" : dataGeneral?.attachedNumber ?? \"\"}\r\n                id=\"attachedNumber\"\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"Numerodeprestamo\">\r\n                {t(\"Loan number\")}\r\n              </Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                type=\"text\"\r\n                name=\"loanNumber\"\r\n                value={typeGarantia == \"nuevo\" ? \"\" : dataGeneral?.loanNumber ?? \"\"}\r\n                id=\"loanNumber\"\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label>{t(\"Coin\")}</Label>\r\n              {garantiaTipe != null ?\r\n                <Select noOptionsMessage={() => \"\"}\r\n                  showSearch\r\n                  style={{ width: \"100%\" }}\r\n                  placeholder={t(\"SearchtoSelect\")}\r\n                  optionFilterProp=\"children\"\r\n                  defaultValue={typeGarantia == \"nuevo\" ? \"\" : dataGeneral?.currency ?? 0}\r\n                  onChange={(e) => { setmonedasSet(e) }}\r\n                  filterOption={(input, option) =>\r\n                    option.children?.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                  }\r\n                >\r\n                  {monedas != null ?\r\n\r\n                    monedas.map((item, index) => (\r\n                      <Option key={index} value={item.Description}>{item.Description}</Option>\r\n                    ))\r\n                    : null}\r\n                </Select> : null}\r\n            </div>\r\n          </Col>\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"customerNumber\">{t(\"Client number\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                type=\"text\"\r\n                name=\"customerNumber\"\r\n                value={typeGarantia == \"nuevo\" ? \"\" : dataGeneral?.customerNumber ?? \"\"}\r\n                id=\"customerNumber\"\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"MontoGarantia\">{t(\"Guarantee Amount\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                type=\"text\"\r\n                onKeyPress={(e) => { return check(e) }}\r\n                pattern=\"^[0-9,.]*$\"\r\n                onKeyUp={(e) => { let x = currencyData.getRealValue(e.target.value); e.target.value = currencyData.format(x); }}\r\n                name=\"guaranteeAmount\"\r\n                value={typeGarantia == \"nuevo\" ? \"\" : currencyData.format(dataGeneral?.guaranteeAmount ?? 0)}\r\n                id=\"guaranteeAmount\"\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label>{t(\"GuaranteeType\")}</Label>\r\n              {garantiaTipe != null ?\r\n                <Select noOptionsMessage={() => \"\"}\r\n                  showSearch\r\n                  style={{ width: \"100%\" }}\r\n                  placeholder={t(\"SearchtoSelect\")}\r\n                  optionFilterProp=\"children\"\r\n                  defaultValue={typeGarantia == \"nuevo\" ? \"\" : dataGeneral?.guaranteeType ?? \"\"}\r\n                  onChange={(e) => { setgarantiaTypeSet(e); }}\r\n                  filterOption={(input, option) =>\r\n                    option.children?.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                  }\r\n                >\r\n                  {garantiaTipe != null ?\r\n                    garantiaTipe.map((item, index) => (\r\n                      garantiasGeneradas?.length > 0 && typeGarantia == \"nuevo\" ?\r\n                        garantiasGeneradas.find(x => x.guaranteeId === item.Code) ?\r\n                          null : <Option key={index} value={item.Code}>{item.Description}</Option> : <Option key={index} value={item.Code}>{item.Description}</Option>\r\n                    ))\r\n                    : null}\r\n                </Select>\r\n                : null}\r\n              {garantiaTypeSetRequerido ?\r\n                <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n                : null}\r\n            </div>\r\n          </Col>\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label>{t(\"Bank\")}</Label>\r\n              {garantiaTipe != null ?\r\n                <Select noOptionsMessage={() => \"\"}\r\n                  showSearch\r\n                  style={{ width: \"100%\" }}\r\n                  placeholder={t(\"SearchtoSelect\")}\r\n                  optionFilterProp=\"children\"\r\n                  defaultValue={typeGarantia == \"nuevo\" ? \"\" : dataGeneral?.bank ?? \"\"}\r\n                  onChange={(e) => { setbancoSet(e) }}\r\n                  filterOption={(input, option) =>\r\n                    option.children?.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                  }\r\n                >\r\n                  {banco != null ?\r\n                    banco.map((item, index) => (\r\n                      <Option key={index} value={item.Description}>{item.Description}</Option>\r\n                    ))\r\n                    : null}\r\n                </Select>\r\n                : null}\r\n            </div>\r\n          </Col>\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label>{t(\"Agency(Banking)\")}</Label>\r\n              {garantiaTipe != null ?\r\n                <Select noOptionsMessage={() => \"\"}\r\n                  showSearch\r\n                  style={{ width: \"100%\" }}\r\n                  placeholder={t(\"SearchtoSelect\")}\r\n                  optionFilterProp=\"children\"\r\n                  defaultValue={typeGarantia == \"nuevo\" ? \"\" : dataGeneral?.agency ?? \"\"}\r\n                  onChange={(e) => { setbancaSet(e) }}\r\n                  filterOption={(input, option) =>\r\n                    option.children?.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                  }\r\n                >\r\n                  {banca != null ?\r\n                    banca.map((item, index) => (\r\n                      <Option key={index} value={item.Description}>{item.Description}</Option>\r\n                    ))\r\n                    : null}\r\n                </Select>\r\n                : null}\r\n            </div>\r\n          </Col>\r\n\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"MontoGarantia\">\r\n                {t(\"Movable Property Code\")}\r\n              </Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                type=\"text\"\r\n                name=\"assetCode\"\r\n                value={typeGarantia == \"nuevo\" ? \"\" : dataGeneral?.assetCode ?? \"\"}\r\n                id=\"assetCode\"\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label>{t(\"Transaction Expiration Date\")}</Label>\r\n              {fechaSet2 && (<Flatpickr\r\n                name=\"birthDate\"\r\n                className=\"form-control d-block\"\r\n                placeholder={OPTs.FORMAT_DATE_SHOW}\r\n                options={{\r\n                  dateFormat: OPTs.FORMAT_DATE,\r\n                  defaultDate: fechaSet\r\n                }}\r\n                onChange={(selectedDates, dateStr, instance) => { setfechaSet2(moment(dateStr, \"DD/MM/YYYY\").format(\"YYYY-MM-DD\")) }}\r\n              />)}\r\n\r\n\r\n            </div>\r\n          </Col>\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"NoFideicomiso\">{t(\"TrustNumber\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                type=\"text\"\r\n                name=\"trust\"\r\n                value={typeGarantia == \"nuevo\" ? \"\" : dataGeneral?.trust ?? \"\"}\r\n                id=\"trust\"\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"NoFideicomiso\">\r\n                {t(\"Trust Issuance Date\")}\r\n              </Label>\r\n              {fechaSet && (<Flatpickr\r\n                name=\"birthDate\"\r\n                className=\"form-control d-block\"\r\n                placeholder={OPTs.FORMAT_DATE_SHOW}\r\n                options={{\r\n                  dateFormat: OPTs.FORMAT_DATE,\r\n                  defaultDate: fechaSet2\r\n                }}\r\n                onChange={(selectedDates, dateStr, instance) => { setfechaSet(moment(dateStr, \"DD/MM/YYYY\").format(\"YYYY-MM-DD\")) }}\r\n              />)}\r\n\r\n            </div>\r\n          </Col>\r\n          {/* <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label>{t(\"Tipo de Equipo\")}</Label>\r\n              <Select noOptionsMessage={() => \"\"} \r\n                showSearch\r\n                style={{ width: \"100%\" }}\r\n                placeholder={t(\"SearchtoSelect\")}\r\n                optionFilterProp=\"children\"\r\n                // defaultValue={props.dataCapex1.back}\r\n                onChange={(e) => { setmonedasSet(e) }}\r\n                filterOption={(input, option) =>\r\n                  option.children?.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                }\r\n              >\r\n                {monedas != null ?\r\n\r\n                  monedas.map((item, index) => (\r\n                    <Option key={index} value={item.Code}>{item.Description}</Option>\r\n                  ))\r\n                  : null}\r\n              </Select>\r\n            </div>\r\n          </Col>\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"Motor\">{t(\"Motor\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                type=\"text\"\r\n                name=\"searchfield\"\r\n                id=\"searchfield\"\r\n              />\r\n            </div>\r\n          </Col>\r\n\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"Serie\">{t(\"Serie\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                type=\"text\"\r\n                name=\"searchfield\"\r\n                id=\"searchfield\"\r\n              />\r\n            </div>\r\n          </Col>\r\n\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"Modelo\">{t(\"Modelo\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                type=\"text\"\r\n                name=\"searchfield\"\r\n                id=\"searchfield\"\r\n              />\r\n            </div>\r\n          </Col>\r\n\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"Placa\">{t(\"Año\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                type=\"text\"\r\n                name=\"searchfield\"\r\n                id=\"searchfield\"\r\n              />\r\n            </div>\r\n          </Col> */}\r\n        </Row>\r\n        <Row>\r\n          <Col md={12} style={{ textAlign: \"right\", marginTop: \"10px\" }}>\r\n            <Link\r\n              to={{\r\n                pathname: '/creditocomercial/garantias/',\r\n                data: { facilityId: dataLocation?.facilityId ?? 0, transactionId: dataLocation?.transactionId ?? 0 },\r\n              }}\r\n            >\r\n              <Button\r\n                id=\"btnNew\"\r\n                color=\"danger\"\r\n                type=\"button\"\r\n                style={{ margin: \"5px\" }}\r\n                onClick={props.toggle}\r\n                data-dismiss=\"modal\"\r\n              >\r\n                <i className=\"mdi mdi mdi-cancel mid-12px\"></i>{\" \"}\r\n                {t(\"Cancel\")}\r\n              </Button>\r\n            </Link>\r\n            <Button id=\"btnSearch\" type=\"submit\" color=\"success\" style={{ margin: '5px' }}>\r\n              <i className=\"mdi mdi-content-save mdi-12px\"></i>\r\n              {\" \"} {typeGarantia == \"nuevo\" ? t(\"Save\") : t(\"Save\")}</Button>\r\n          </Col>\r\n        </Row>\r\n      </AvForm>\r\n\r\n      <p className=\"card-title-desc\"></p>\r\n      <AvForm id=\"frmDatosPoliza\" className=\"needs-validation\">\r\n        <Row>\r\n          <Row>\r\n            <Col md=\"6\">\r\n              <h5 className=\"card-sub-title\">{t(\"Policy Data\")}</h5>\r\n            </Col>\r\n            <Col md=\"6\" style={{ textAlign: \"right\" }}>\r\n              {garantiaTypeSet != null ?\r\n                <Button className=\"btn\" color=\"success\" type=\"button\" style={{ margin: '5px' }} onClick={() => {\r\n                  toggleShowModelAttachment();\r\n                  setdataSet({\r\n                    \"transactId\": 0,\r\n                    \"facilityId\": 0,\r\n                    \"guaranteeId\": 0,\r\n                    \"guaranteeType\": \"\",\r\n                    \"insuredName\": \"\",\r\n                    \"amount\": 0,\r\n                    \"company\": \"\",\r\n                    \"policyNumber\": \"\",\r\n                    \"policyType\": \"\",\r\n                    \"companyCode\": \"\",\r\n                    \"issuedDate\": \"\",\r\n                    \"dueDate\": \"\"\r\n                  });\r\n                  settype(\"new\");\r\n                }} title={t(\"Add\")}><i className=\"fas fa-lg fa-plus-circle\"></i> {(\" \")}</Button>\r\n                : <p className=\"message-error-parrafo\">{t(\"Select a guarantee to be able to generate a policy\")}</p>}\r\n            </Col>\r\n          </Row>\r\n          <Col md=\"12\" className=\"table-responsive styled-table-div\">\r\n            <Table className=\"table table-striped table-hover styled-table table\" >\r\n              <thead>\r\n                <tr>\r\n                  <th>{t(\"Warrant Type\")}</th>\r\n                  <th>{t(\"Amount\")}</th>\r\n                  <th>{t(\"Insurance company\")}</th>\r\n                  <th>{t(\"Policy Number\")}</th>\r\n                  <th>{t(\"Policy type\")}</th>\r\n                  <th>{t(\"Broker Company\")}</th>\r\n                  <th>{t(\"Policy Issue Date\")}</th>\r\n                  <th>{t(\"Policy Expiration Date\")}</th>\r\n                  <th>{t(\"Actions\")}</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>{dataPolizas}</tbody>\r\n            </Table>\r\n          </Col>\r\n        </Row>\r\n      </AvForm>\r\n      <ModalDatosPoliza\r\n        getTemporalyData={getTemporalyData}\r\n        isOpen={showModelAttachment}\r\n        dataSet={dataSet}\r\n        tipo={type}\r\n        toggle={() => {\r\n          toggleShowModelAttachment();\r\n        }}\r\n      />\r\n      {successSave_dlg ? (\r\n        <SweetAlert\r\n          success\r\n          title={t(\"SuccessDialog\")}\r\n          confirmButtonText={t(\"Confirm\")}\r\n          cancelButtonText={t(\"Cancel\")}\r\n          onConfirm={() => {\r\n            setsuccessSave_dlg(false)\r\n            cargarPolizas(dataLocation);\r\n          }}\r\n        >\r\n          {t(\"SuccessSaveMessage\")}\r\n        </SweetAlert>\r\n      ) : null}\r\n      {successSave_dlg2 ? (\r\n        <SweetAlert\r\n          success\r\n          title={t(\"SuccessDialog\")}\r\n          confirmButtonText={t(\"Confirm\")}\r\n          cancelButtonText={t(\"Cancel\")}\r\n          onConfirm={() => {\r\n            setsuccessSave_dlg2(false)\r\n            history.push({\r\n              pathname: '/creditocomercial/garantias/',\r\n              data: { facilityId: dataLocation?.facilityId ?? 0, transactionId: dataLocation?.transactionId ?? 0 },\r\n            });\r\n          }}\r\n        >\r\n          {t(\"SuccessSaveMessage\")}\r\n        </SweetAlert>\r\n      ) : null}\r\n\r\n      {error_dlg ? (\r\n        <SweetAlert\r\n          error\r\n          title={t(\"ErrorDialog\")}\r\n          confirmButtonText={t(\"Confirm\")}\r\n          cancelButtonText={t(\"Cancel\")}\r\n          onConfirm={() => {\r\n            seterror_dlg(false)\r\n            cargarPolizas(dataLocation);\r\n          }}\r\n        >\r\n          {error_msg}\r\n        </SweetAlert>\r\n      ) : null}\r\n      {confirm_alert ? (\r\n        <SweetAlert\r\n          title={t(\"Areyousure\")}\r\n          warning\r\n          showCancel\r\n          confirmButtonText={t(\"Yesdeleteit\")}\r\n          cancelButtonText={t(\"Cancel\")}\r\n          confirmBtnBsStyle=\"success\"\r\n          cancelBtnBsStyle=\"danger\"\r\n          onConfirm={() => {\r\n            const apiBack = new BackendServices();\r\n            // eliminarClienteIGR\r\n            apiBack.deleteGuaranteePolicy(dataSet.transactId ?? 0, dataSet.facilityId ?? 0, dataSet.guaranteeId ?? 0, dataSet.policyId ?? 0).then(resp => {\r\n              if (resp.statusCode == \"500\") {\r\n                setconfirm_alert(false)\r\n                seterror_dlg(false)\r\n              } else {\r\n                setconfirm_alert(false)\r\n                setsuccessSave_dlg(true)\r\n              }\r\n            }).catch(error => {\r\n              setconfirm_alert(false)\r\n              seterror_dlg(false)\r\n            })\r\n          }}\r\n          onCancel={() => setconfirm_alert(false)}\r\n        >\r\n          {t(\"Youwontbeabletorevertthis\")}\r\n        </SweetAlert>\r\n      ) : null}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withTranslation()(PantallaBusqueda);\r\n"]},"metadata":{},"sourceType":"module"}