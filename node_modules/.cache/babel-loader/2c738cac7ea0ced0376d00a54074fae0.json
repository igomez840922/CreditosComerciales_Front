{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useTranslation,withTranslation}from\"react-i18next\";import{formatCurrency,translationHelpers}from'../../../../helpers';import*as url from\"../../../../helpers/url_helper\";import Breadcrumbs from\"../../../../components/Common/Breadcrumb\";import{Row,Col,Button,Label,Input,Modal,Card,CardBody,CardFooter,InputGroup,CardHeader,Table}from\"reactstrap\";import{AvForm,AvField,AvGroup}from\"availity-reactstrap-validation\";import{BackendServices,CoreServices}from\"../../../../services\";import{useHistory,useLocation}from\"react-router-dom\";import LoadingOverlay from\"react-loading-overlay\";import Currency from\"../../../../helpers/currency\";import{uniq_key}from'../../../../helpers/unq_key';import moment from\"moment\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PrevisualizarFideicomiso=function PrevisualizarFideicomiso(props){var currencyData=new Currency();var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var location=useLocation();var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),dataRows=_React$useState2[0],setdataRows=_React$useState2[1];var _useState=useState(location.data),_useState2=_slicedToArray(_useState,2),dataLocation=_useState2[0],setData2=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),Facilidades=_useState4[0],setFacilidades=_useState4[1];var _React$useState3=React.useState(null),_React$useState4=_slicedToArray(_React$useState3,2),dataRows1=_React$useState4[0],setdataRows1=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),isActiveLoading1=_React$useState6[0],setisActiveLoading1=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),isActiveLoading2=_React$useState8[0],setisActiveLoading2=_React$useState8[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),CorporateExposure=_useState6[0],setCorporateExposure=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),datosUsuario=_useState8[0],setdatosUsuario=_useState8[1];var api=new BackendServices();var coreServices=new CoreServices();var history=useHistory();var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),locationData=_useState10[0],setLocationData=_useState10[1];useEffect(function(){var _location$pathname;var dataSession={transactionId:atob(location===null||location===void 0?void 0:(_location$pathname=location.pathname)===null||_location$pathname===void 0?void 0:_location$pathname.split(\"PrevisualizarFideicomiso/\")[1])};sessionStorage.setItem('locationData',JSON.stringify(dataSession));if(location.data!==null&&location.data!==undefined){if(location.data.transactionId===undefined||location.data.transactionId.length<=0){//location.data.transactionId = 0;\n//checkAndCreateProcedure(location.data);\nhistory.push(url.URL_DASHBOARD);}else{sessionStorage.setItem('locationData',JSON.stringify(location.data));setLocationData(location.data);dataSession=location.data;}}else{//chequeamos si tenemos guardado en session\nvar result=sessionStorage.getItem('locationData');if(result!==undefined&&result!==null){result=JSON.parse(result);setLocationData(result);dataSession=result;}}// setData(modelo)\n// Read Api Serv ice ddasata\nsetLocationData(dataSession);initializeData(dataSession);},[]);function formatDate(date){return!date?'':moment(date).format(\"DD/MM/YYYY\");}function initializeData(dataSession){var _ref,_dataSession$transact,_location$data;api.consultPrincipalDebtor((_ref=(_dataSession$transact=dataSession===null||dataSession===void 0?void 0:dataSession.transactionId)!==null&&_dataSession$transact!==void 0?_dataSession$transact:(_location$data=location.data)===null||_location$data===void 0?void 0:_location$data.transactionId)!==null&&_ref!==void 0?_ref:0).then(function(resp){if(resp!=undefined){setdatosUsuario(resp);}});}return/*#__PURE__*/_jsx(_Fragment,{children:locationData?/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(Breadcrumbs,{title:t(\"Commercial Credit\"),breadcrumbItem:t(\"Credit Proposal\")}),/*#__PURE__*/_jsx(Col,{md:12,children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{sm:12,style:{textAlign:\"right\"},children:/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title title-header\",children:[datosUsuario!=null?datosUsuario.typePerson===\"1\"?datosUsuario.name+\" \"+datosUsuario.name2+\" \"+datosUsuario.lastName+\" \"+datosUsuario.lastName2:datosUsuario.name:\"\",\" \"]})}),/*#__PURE__*/_jsx(Col,{sm:12,style:{textAlign:\"right\"},children:/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",style:{textAlign:\"right\"},children:[t(\"Tramit\"),\":\",\" \",\"#\",locationData===null||locationData===void 0?void 0:locationData.transactionId]})})]})}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:\"In process!!!\"})})]})}):/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"page-content\",children:/*#__PURE__*/_jsx(Breadcrumbs,{title:t(\"Commercial Credit\"),breadcrumbItem:t(\"Credit Proposal\")})})})});};export default PrevisualizarFideicomiso;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/10_Fideicomiso/Relacionfiduciaria/PrevisualizarFideicomiso.js"],"names":["React","useEffect","useState","useTranslation","withTranslation","formatCurrency","translationHelpers","url","Breadcrumbs","Row","Col","Button","Label","Input","Modal","Card","CardBody","CardFooter","InputGroup","CardHeader","Table","AvForm","AvField","AvGroup","BackendServices","CoreServices","useHistory","useLocation","LoadingOverlay","Currency","uniq_key","moment","PrevisualizarFideicomiso","props","currencyData","t","i18n","location","dataRows","setdataRows","data","dataLocation","setData2","Facilidades","setFacilidades","dataRows1","setdataRows1","isActiveLoading1","setisActiveLoading1","isActiveLoading2","setisActiveLoading2","CorporateExposure","setCorporateExposure","datosUsuario","setdatosUsuario","api","coreServices","history","locationData","setLocationData","dataSession","transactionId","atob","pathname","split","sessionStorage","setItem","JSON","stringify","undefined","length","push","URL_DASHBOARD","result","getItem","parse","initializeData","formatDate","date","format","consultPrincipalDebtor","then","resp","textAlign","typePerson","name","name2","lastName","lastName2"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { useTranslation, withTranslation } from \"react-i18next\"\r\nimport { formatCurrency, translationHelpers } from '../../../../helpers';\r\nimport * as url from \"../../../../helpers/url_helper\"\r\nimport Breadcrumbs from \"../../../../components/Common/Breadcrumb\"\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Row,\r\n    Col,\r\n    Button,\r\n    Label,\r\n    Input,\r\n    Modal,\r\n    Card,\r\n    CardBody,\r\n    CardFooter,\r\n    InputGroup,\r\n    CardHeader,\r\n    Table,\r\n} from \"reactstrap\"\r\n\r\nimport { AvForm, AvField, AvGroup } from \"availity-reactstrap-validation\"\r\nimport { BackendServices, CoreServices } from \"../../../../services\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\nimport LoadingOverlay from \"react-loading-overlay\";\r\nimport Currency from \"../../../../helpers/currency\";\r\nimport { uniq_key } from '../../../../helpers/unq_key'\r\nimport moment from \"moment\";\r\n\r\n\r\nconst PrevisualizarFideicomiso = (props) => {\r\n    const currencyData = new Currency();\r\n\r\n    const { t, i18n } = useTranslation();\r\n    const location = useLocation()\r\n    const [dataRows, setdataRows] = React.useState(null);\r\n    const [dataLocation, setData2] = useState(location.data);\r\n    const [Facilidades, setFacilidades] = useState(null);\r\n    const [dataRows1, setdataRows1] = React.useState(null);\r\n    const [isActiveLoading1, setisActiveLoading1] = React.useState(false);\r\n    const [isActiveLoading2, setisActiveLoading2] = React.useState(false);\r\n    const [CorporateExposure, setCorporateExposure] = useState(null);\r\n\r\n    const [datosUsuario, setdatosUsuario] = useState(null)\r\n    const api = new BackendServices();\r\n    const coreServices = new CoreServices();\r\n    const history = useHistory();\r\n    const [locationData, setLocationData] = useState(null);\r\n\r\n    useEffect(() => {\r\n        let dataSession = { transactionId: atob(location?.pathname?.split(\"PrevisualizarFideicomiso/\")[1]) };\r\n        sessionStorage.setItem('locationData', JSON.stringify(dataSession));\r\n        if (location.data !== null && location.data !== undefined) {\r\n            if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n                //location.data.transactionId = 0;\r\n                //checkAndCreateProcedure(location.data);\r\n                history.push(url.URL_DASHBOARD);\r\n            }\r\n            else {\r\n                sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n                setLocationData(location.data);\r\n                dataSession = location.data;\r\n            }\r\n        }\r\n        else {\r\n            //chequeamos si tenemos guardado en session\r\n            var result = sessionStorage.getItem('locationData');\r\n            if (result !== undefined && result !== null) {\r\n                result = JSON.parse(result);\r\n                setLocationData(result);\r\n                dataSession = result;\r\n            }\r\n        }\r\n        // setData(modelo)\r\n        // Read Api Serv ice ddasata\r\n        setLocationData(dataSession)\r\n        initializeData(dataSession);\r\n    }, []);\r\n    function formatDate(date) {\r\n        return !date ? '' : moment(date).format(\"DD/MM/YYYY\");\r\n    }\r\n    function initializeData(dataSession) {\r\n        api.consultPrincipalDebtor(dataSession?.transactionId ?? location.data?.transactionId ?? 0).then(resp => {\r\n            if (resp != undefined) {\r\n                setdatosUsuario(resp);\r\n            }\r\n        })\r\n    }\r\n    return (\r\n        <>\r\n            {locationData ?\r\n                <React.Fragment>\r\n                    <div className=\"page-content\">\r\n                        <Breadcrumbs title={t(\"Commercial Credit\")} breadcrumbItem={t(\"Credit Proposal\")} />\r\n                        <Col md={12}>\r\n                            <Row>\r\n                                <Col sm={12} style={{ textAlign: \"right\" }}>\r\n                                    <h5 className=\"card-title title-header\">{datosUsuario != null ? (datosUsuario.typePerson === \"1\" ? (datosUsuario.name + \" \" + datosUsuario.name2 + \" \" + datosUsuario.lastName + \" \" + datosUsuario.lastName2) : (datosUsuario.name)) : \"\"} </h5>\r\n                                </Col>\r\n                                <Col sm={12} style={{ textAlign: \"right\" }}>\r\n                                    <h5 className=\"card-title\" style={{ textAlign: \"right\" }}>{t(\"Tramit\")}:{\" \"}#{locationData?.transactionId}</h5>\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                        {/* Previsualizacion de datos generales pantalla 1 */}\r\n                        <Card>\r\n                            <CardBody>\r\n                                In process!!!\r\n                            </CardBody>\r\n                        </Card>\r\n                    </div>\r\n                </React.Fragment >\r\n                : <React.Fragment>\r\n                    <div className=\"page-content\">\r\n                        <Breadcrumbs title={t(\"Commercial Credit\")} breadcrumbItem={t(\"Credit Proposal\")} />\r\n                    </div>\r\n                </React.Fragment >}\r\n        </>\r\n    );\r\n};\r\nPrevisualizarFideicomiso.propTypes = {\r\n    isOpen: PropTypes.bool,\r\n    toggle: PropTypes.func\r\n};\r\nexport default PrevisualizarFideicomiso;\r\n"]},"metadata":{},"sourceType":"module"}