{"ast":null,"code":"import _regeneratorRuntime from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{translationHelpers}from\"../../../helpers\";import{Link}from\"react-router-dom\";import{useLocation,useHistory}from'react-router-dom';import*as url from\"../../../helpers/url_helper\";import{Row,Col,Button,Nav,NavLink,Card,CardBody}from\"reactstrap\";import Breadcrumbs from\"../../../components/Common/Breadcrumb\";import{FinancialSummary}from\"../../../components/PropuestaCreditoComercial\";import{Background,Capex,CreditProposal,CreditPolicyReview,ExchangeRisk,FinancialInformation,FormCreditRisk,Projections,Workload,FormRecommendations,DocumentFooter}from\"../../../components/InformeFinanciero\";import{AvForm,AvField,AvGroup}from\"availity-reactstrap-validation\";import{Tabs,Tab}from'react-bootstrap';import{getDateMeta}from\"@fullcalendar/react\";import classnames from\"classnames\";import FinancialReportComp from\"./FinancialReportComp\";import LoadingOverlay from\"react-loading-overlay\";import Guarantees from\"../../../components/InformeFinanciero/background/Guarantees\";import DebtSL from\"../../../components/PropuestaCreditoComercial/financialSummary/DebtSL\";import History from\"../../../components/PropuestaCreditoComercial/financialSummary/History\";import CapexIF from\"../../../components/InformeFinanciero/CapexIF\";import SweetAlert from\"react-bootstrap-sweetalert\";import{useTranslation,withTranslation}from\"react-i18next\";// Services\nimport{BackendServices,CoreServices,BpmServices}from\"../../../services\";import ModalPrevicualizarAIF from\"../../../pages/CommercialCredit/6_AnalisisCredito/previsualizarAIF\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FinancialReportContent=function FinancialReportContent(props){var _location$data;var _translationHelpers=translationHelpers('translation','common','translation'),_translationHelpers2=_slicedToArray(_translationHelpers,3),t=_translationHelpers2[0],c=_translationHelpers2[1],tr=_translationHelpers2[2];var propostarData={products:[{id:1,product:'Línea de Crédito Rotativa',debtor:{name:'Inversion Yarlys SA'},rate:7.0,safi:'5-6: Riesgo Standard',currentApprovedRisk:0,usedBalance:0,proposedRisk:126.0},{id:2,product:'Línea de Crédito Rotativa',debtor:{name:'Inversion Yarlys SA'},rate:7.0,safi:'5-6: Riesgo Standard',currentApprovedRisk:0,usedBalance:0,proposedRisk:126.0}]};var sumaryData={client:{name:'Nombre Deudor'},financialStatus:{headers:['Auditados Dic-18','Auditados Dic-19','Auditados Dic-20','Proyecciones Dic-21'],items:[{label:'Clasificación SAFI',data:['-','-','5:6 Riesgo','-']},{label:'Crecimiento',data:['-','-3.4%','-12.5%','0.0%']},{label:'Costo de Ventas',data:['(1550)66.2%','(1510)66.8%','(1360)68.8%','(1360)68.8%']},{label:'Beneficio Mutuo en Operaciones',data:['(790)66.2%','(751)66.8%','(618)68.8%','(618)68.8%']},{label:'Margen Bruto',data:['','','','']}]},balances:{active:{title:t('Active Balance'),headers:[t('Period Date'),'','',''],items:[[t('Months'),'','',''],[t('Auditor'),'','',''],[t('Balance Type'),'','',''],[t('Figures Types'),'','',''],[t('Coins Types'),'','',''],[t('Exchange Rates'),'','','']]},passive:{title:t('Passive Balance and Capital'),headers:[t('Period Date'),'','',''],items:[[t('Months'),'','',''],[t('Auditor'),'','',''],[t('Balance Type'),'','',''],[t('Figures Types'),'','',''],[t('Coins Types'),'','',''],[t('Exchange Rates'),'','','']]},application:{title:t('Origin and Application Status'),headers:[t('Period Date'),'','',''],items:[[t('Months'),'','',''],[t('Auditor'),'','',''],[t('Balance Type'),'','',''],[t('Figures Types'),'','',''],[t('Coins Types'),'','',''],[t('Exchange Rates'),'','','']]},indicators:{title:t('Indicators'),headers:[t('Period Date'),'','',''],items:[[t('Months'),'','',''],[t('Auditor'),'','',''],[t('Balance Type'),'','',''],[t('Figures Types'),'','',''],[t('Coins Types'),'','',''],[t('Exchange Rates'),'','','']]}},debts:{short:{items:[{bank:'Capital Bank',purpose:'Linea de Crédito',approvedAmount:200,balanceLastYear:200,balanceLast6Months:154,balanceForecast:200,rate:7.0,surety:'Fianza'},{bank:'St Georges',purpose:'Linea de Crédito',approvedAmount:320,balanceLastYear:200,balanceLast6Months:436,balanceForecast:450,rate:7.5,surety:'Fianza'},{bank:'St Georges',purpose:'TDC',approvedAmount:11,balanceLastYear:11,balanceLast6Months:0,balanceForecast:11,rate:null,surety:''}]},long:{items:[{bank:'Banesco',purpose:'Préstamo',approvedAmount:126,balanceLastYear:0,balanceLast6Months:0,balanceForecast:126,rate:6.5,surety:'Bien Inmueble'}]}},history:{headers:[t('# days',{days:30}),t('# days',{days:60}),t('# days',{days:90}),t('# days',{days:120}),t('# days',{days:150}),t('# days',{days:180}),t('# days',{days:210}),t('# days',{days:240}),t('# days',{days:270}),t('# days',{days:300}),t('# days',{days:330}),t('+# days',{days:331}),t('Totals')],data:[{name:'Banesco',data:[100,80,80,80,100,80,80,80,100,80,80,200,0]},{name:'Banesco',data:[100,80,80,80,100,80,80,80,100,80,80,200,0]}]}};var capexData={sources:[{id:10010,description:'Presupuesto 1',usage:0.4,shareholders:0,bank:0},{id:10020,description:'Presupuesto 2',usage:0.8,shareholders:0,bank:0},{id:10030,description:'Presupuesto 3',usage:1.2,shareholders:0,bank:0},{id:10040,description:'Presupuesto 4',usage:1.1,shareholders:0,bank:0}],budgets:[{id:10010,description:'Costo Directo de Construcción',value:100000},{id:10020,description:'Costo Directo de Infraestructura',value:120000}],projects:[{id:10010,description:'Area de construcción total m2',value:1000},{id:10020,description:'Area de construcción infraestructura total m2',value:1000}],attachments:[]};var backgroundData={items:{headers:['2012','2013','2014','2015','2016','2017','2018','2019','2020','2021'],data:[{id:10010,description:'Monto Aprobado Corto Plazo',values:[100,100,0,0,0,0,0,0,1000,2000]},{id:10020,description:'Desembolsos Corto Plazo (Utilizaciones)',values:[100,100,0,0,0,0,0,0,1000,2000]},{id:10030,description:'Desembolsos Largo Plazo',values:[100,100,0,0,0,0,0,0,1000,2000]},{id:10040,description:'Consumo',values:[100,100,0,0,0,0,0,0,1000,2000]},{id:10050,description:'TOTAL Desembolsos',values:[200,200,0,0,0,0,0,0,2000,4000]},{id:10060,description:'Pagos Capital Corto Plazo',values:[100,100,0,0,0,0,0,0,1000,2000]},{id:10070,description:'Pagos Intereses Corto Plazo',values:[100,100,0,0,0,0,0,0,1000,2000]},{id:10080,description:'Amortización Capital Largo Plazo',values:[100,100,0,0,0,0,0,0,1000,2000]},{id:10090,description:'Amortización Intereses Largo Plazo',values:[100,100,0,0,0,0,0,0,1000,2000]},{id:10100,description:'Consumo (Capital + Intereses)',values:[100,100,0,0,0,0,0,0,1000,2000]},{id:10110,description:'TOTAL Pagos a Capital',values:[100,100,0,0,0,0,0,0,1000,2000]},{id:10120,description:'TOTAL Pago a Intereses',values:[100,100,0,0,0,0,0,0,1000,2000]},{id:10130,description:'Saldos LP + CP (al cierre)',values:[100,100,0,0,0,0,0,0,1000,2000]},{id:10140,description:'Saldos Corto Plazo (al cierre)',values:[100,100,0,0,0,0,0,0,1000,2000]},{id:10150,description:'Saldos Largo Plazo (al cierre)',values:[100,100,0,0,0,0,0,0,1000,2000]},{id:10160,description:'Refinanciamientos (#)',values:[1,1,0,0,0,0,0,0,1,2]},{id:10170,description:'Reestructuraciones (#)',values:[1,1,0,0,0,0,0,0,1,2]},{id:10180,description:'Clasificación de Riesgos',values:['','','','','','','','','','']}]},facilities:[{id:22151,debtor:{id:15050,name:'Arturo Vidal'},facility:{id:1090,name:'Facilidad'},amount:12000,balance:10000,quota:0,capital:0,status:'',classification:'',interests:2.5,charges:0,refi1:'',refi2:'',currentStatus:'',comments:''}],restructuring:{headers:['jun-16','nov-18','jun-20 (actual)'],data:[{description:'Concepto',values:['Reestructuración','','']},{description:'Monto (Miles $US)',values:[5.142,'','']},{description:'Tasa',values:['5%','','']},{description:'Vencimiento',values:['5 años','','']},{description:'Solicitud',values:['Reestructuración','','']},{description:'Plan de Pagos',values:['Primeros 2 años: $25,750 (Capital e Intereses), 3er año: $30,000 (Capital e Intereses), 4to año: $35,000 (Capital e intereses)','','']}]},guarantees:{headers:['jun-16','nov-18','jun-20 (actual)'],data:[{description:'Empresa Avaluadora',values:['AIR Avaluos','','']},{description:'Valor de Venta Rápida (Miles $US)',values:[5.400,'','']},{description:'LTV',values:['95%','','']}]}};var documetsData={date:'25-ago-2021',code:'###',owner:{id:1010,name:'Carolina Delgado'}};var history=useHistory();var location=useLocation();var _useState=useState(propostarData),_useState2=_slicedToArray(_useState,2),proposal=_useState2[0],setProposal=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),policies=_useState4[0],setPolicies=_useState4[1];var _useState5=useState(sumaryData),_useState6=_slicedToArray(_useState5,2),financialSummary=_useState6[0],setFinancialSummary=_useState6[1];//const [financialInformation, setFinancialInformation] = useState(null);\nvar _useState7=useState(capexData),_useState8=_slicedToArray(_useState7,2),capex=_useState8[0],setCapex=_useState8[1];var _useState9=useState(backgroundData),_useState10=_slicedToArray(_useState9,2),background=_useState10[0],setBackground=_useState10[1];var _useState11=useState(documetsData),_useState12=_slicedToArray(_useState11,2),document=_useState12[0],setDocument=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),Opinion=_useState14[0],setOpinion=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),Recomendation=_useState16[0],setRecomendation=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),deudor=_useState18[0],setDeudor=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),debtorId=_useState20[0],setDebtorId=_useState20[1];var _useState21=useState(0),_useState22=_slicedToArray(_useState21,2),DataDeudor=_useState22[0],setDataDeudor=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),isActiveLoading=_useState24[0],setIsActiveLoading=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),successSave_dlg=_useState26[0],setsuccessSave_dlg=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),error_dlg=_useState28[0],seterror_dlg=_useState28[1];var _useState29=useState(\"\"),_useState30=_slicedToArray(_useState29,2),error_msg=_useState30[0],seterror_msg=_useState30[1];var _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),confirm_alert=_useState32[0],setconfirm_alert=_useState32[1];var _useState33=useState(null),_useState34=_slicedToArray(_useState33,2),mainDebtor=_useState34[0],setmainDebtor=_useState34[1];var _useState35=useState(null),_useState36=_slicedToArray(_useState35,2),preview=_useState36[0],setpreview=_useState36[1];var _useState37=useState(false),_useState38=_slicedToArray(_useState37,2),displayModal=_useState38[0],setDisplayModal=_useState38[1];var _useState39=useState((_location$data=location.data)!==null&&_location$data!==void 0?_location$data:JSON.parse(sessionStorage.getItem('locationData'))),_useState40=_slicedToArray(_useState39,2),locationData=_useState40[0],setLocationData=_useState40[1];//Servicios\nvar _useState41=useState(new BackendServices()),_useState42=_slicedToArray(_useState41,2),backendServices=_useState42[0],setbackendServices=_useState42[1];var _useState43=useState(new BpmServices()),_useState44=_slicedToArray(_useState43,2),bpmServices=_useState44[0],setbpmServices=_useState44[1];var _useState45=useState(new CoreServices()),_useState46=_slicedToArray(_useState45,2),coreServices=_useState46[0],setcoreServices=_useState46[1];//On Mounting (componentDidMount)\nvar dataSession;useEffect(function(){if(location.data!==null&&location.data!==undefined){if(location.data.transactionId===undefined||location.data.transactionId.length<=0){//location.data.transactionId = 0;\n//checkAndCreateProcedure(location.data);\nhistory.push(url.URL_DASHBOARD);}else{sessionStorage.setItem('locationData',JSON.stringify(location.data));dataSession=location.data;setLocationData(location.data);fetchData(location.data);}}else{//chequeamos si tenemos guardado en session\nvar result=sessionStorage.getItem('locationData');if(result!==undefined&&result!==null){result=JSON.parse(result);dataSession=result;setLocationData(result);fetchData(result);}}},[]);//Caraga Inicial de datos\nfunction fetchData(dataSession){//chequear si la tarea no ha sido iniciada\nbpmServices.checkAndStartTask(dataSession).then(function(iniresult){if(iniresult===false){history.push(url.URL_DASHBOARD);}});loadUserProspect(dataSession.transactionId);fetchFinancialReport();}function loadUserProspect(transactionId){// consultarDeudorPrincipal\nbackendServices.consultPrincipalDebtor(transactionId).then(function(data){if(data!==undefined){setmainDebtor(data);}});}function fetchFinancialReport(){return _fetchFinancialReport.apply(this,arguments);}function _fetchFinancialReport(){_fetchFinancialReport=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:Promise.allSettled([LoadOpinion(),LoadRecomendacion(),drawTabs()]).then(function(resp){setIsActiveLoading(false);}).catch(function(err){setIsActiveLoading(false);});case 1:case\"end\":return _context.stop();}}},_callee);}));return _fetchFinancialReport.apply(this,arguments);}function handleNewDebt(newDebt){}function handleNewHistoryDetail(newHistoryDetail){}function handleSubmit(_x,_x2,_x3){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event,errors,values){var newOpinion,newRecommendations,errOpi,errConc;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();if(!(errors.length>0)){_context2.next=3;break;}return _context2.abrupt(\"return\");case 3:newOpinion={transactId:dataSession.transactionId,opinion:values.opinion};newRecommendations={transactId:dataSession.transactionId,debtorId:debtorId,strengths:values.strengths,weakness:values.weakness,conclusion:values.conclusion};errOpi=false;if(!(Opinion!=undefined&&Opinion!=null)){_context2.next=11;break;}_context2.next=9;return backendServices.actualizarDetalleOpinionRiesgoCredito(newOpinion).then(function(resp){if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(true);errOpi=true;}else{setconfirm_alert(false);setsuccessSave_dlg(true);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(true);});case 9:_context2.next=13;break;case 11:_context2.next=13;return backendServices.nuevoDetalleOpinionRiesgoCredito(newOpinion).then(function(resp){if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(true);errOpi=true;}else{setconfirm_alert(false);setsuccessSave_dlg(true);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(true);});case 13:errConc=false;if(!(Recomendation!==undefined&&Recomendation!=null)){_context2.next=19;break;}_context2.next=17;return backendServices.actualizarConclusionesRecomendacionesAnalisisFinanciero(newRecommendations).then(function(resp){console.log(resp);if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(true);errConc=true;}else{setconfirm_alert(false);setsuccessSave_dlg(true);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(true);});case 17:_context2.next=21;break;case 19:_context2.next=21;return backendServices.nuevoConclusionesRecomendacionesAnalisisFinanciero(newRecommendations).then(function(resp){console.log(resp);if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(true);errConc=true;}else{setconfirm_alert(false);setsuccessSave_dlg(true);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(true);});case 21://props.onSubmit(values);\n!errOpi&&!errConc&&history.push(url.URL_DASHBOARD);case 22:case\"end\":return _context2.stop();}}},_callee2);}));return _handleSubmit.apply(this,arguments);}function LoadOpinion(){return new Promise(function(resolve,reject){backendServices.consultarDetalleOpinionRiesgoCredito(dataSession.transactionId).then(function(resp){var data=resp[0];(data!=null||data!=undefined)&&setOpinion(data);resolve();}).catch(function(err){resolve();});});}function LoadRecomendacion(){return new Promise(function(resolve,reject){backendServices.consultarConclusionesRecomendacionesAnalisisFinanciero(dataSession.transactionId).then(function(resp){var data=resp[0];(data!=null||data!=undefined)&&setRecomendation(data);resolve();}).catch(function(err){resolve();});});}function drawTabs(){return new Promise(function(resolve,reject){// let resp = [{ debtorId: 1, name: 'Deudor 1' }, { debtorId: 20, name: 'Deudor 2' }, { debtorId: 32, name: 'Deudor 3' }, { debtorId: 4, name: 'Deudor 4' }];\nbackendServices.consultarDeudores(dataSession.transactionId).then(function(resp){// console.log(resp);\nresp=resp.map(function($$){return _objectSpread(_objectSpread({},$$),{},{debtorId:$$.personId,name:$$.typePerson==2?$$.name:\"\".concat($$.name,\" \").concat($$.name2,\" \").concat($$.lastName)});});setDataDeudor(resp);setDebtorId(resp[0].debtorId);props.changeDebtor&&props.changeDebtor(resp[0].debtorId);setDeudor(resp.map(function(items,index){return/*#__PURE__*/_jsx(Tab,{className:\"my-4\",eventKey:index,title:items.name,children:/*#__PURE__*/_jsx(FinancialReportComp,{customerNumberT24:items.customerNumberT24,addHistoryDetail:props.addHistoryDetail,debtorId:items.debtorId,client:financialSummary.client,financialStatus:financialSummary.financialStatus,balances:financialSummary.balances,debts:financialSummary.debts,addDebt:handleNewDebt,history:financialSummary.history,addHistoryDetails:handleNewHistoryDetail,preview:props.preview})},index);}));resolve();});});}function handleSelect(key){setDebtorId(DataDeudor[key].debtorId);props.changeDebtor&&props.changeDebtor(DataDeudor[key].debtorId);}function toggleModal(){setDisplayModal(!displayModal);}return/*#__PURE__*/_jsx(React.Fragment,{children:locationData?/*#__PURE__*/_jsxs(LoadingOverlay,{active:isActiveLoading,spinner:true,text:t(\"WaitingPlease\"),children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Tabs,{defaultActiveKey:\"0\",id:\"uncontrolled-tab-example\",className:\"m-0\",onSelect:function onSelect(e){handleSelect(e);},children:deudor})}),/*#__PURE__*/_jsx(Col,{className:\"mt-4\",children:/*#__PURE__*/_jsx(FinancialInformation,{preview:props.preview})}),/*#__PURE__*/_jsx(Col,{className:\"mt-4\",children:/*#__PURE__*/_jsx(ExchangeRisk,{preview:props.preview})}),/*#__PURE__*/_jsx(Col,{className:\"mt-4\",children:/*#__PURE__*/_jsx(Workload,{preview:props.preview})}),/*#__PURE__*/_jsx(Col,{className:\"mt-4\",children:/*#__PURE__*/_jsx(Projections,{preview:props.preview})}),/*#__PURE__*/_jsx(Col,{className:\"mt-4\",children:/*#__PURE__*/_jsx(Background,{items:background.items,facilities:background.facilities,restructuring:background.restructuring,guarantees:background.guarantees,preview:props.preview})})]}):null});};export default FinancialReportContent;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/6_AnalisisCredito/FinancialReportContent.js"],"names":["React","useEffect","useState","translationHelpers","Link","useLocation","useHistory","url","Row","Col","Button","Nav","NavLink","Card","CardBody","Breadcrumbs","FinancialSummary","Background","Capex","CreditProposal","CreditPolicyReview","ExchangeRisk","FinancialInformation","FormCreditRisk","Projections","Workload","FormRecommendations","DocumentFooter","AvForm","AvField","AvGroup","Tabs","Tab","getDateMeta","classnames","FinancialReportComp","LoadingOverlay","Guarantees","DebtSL","History","CapexIF","SweetAlert","useTranslation","withTranslation","BackendServices","CoreServices","BpmServices","ModalPrevicualizarAIF","FinancialReportContent","props","t","c","tr","propostarData","products","id","product","debtor","name","rate","safi","currentApprovedRisk","usedBalance","proposedRisk","sumaryData","client","financialStatus","headers","items","label","data","balances","active","title","passive","application","indicators","debts","short","bank","purpose","approvedAmount","balanceLastYear","balanceLast6Months","balanceForecast","surety","long","history","days","capexData","sources","description","usage","shareholders","budgets","value","projects","attachments","backgroundData","values","facilities","facility","amount","balance","quota","capital","status","classification","interests","charges","refi1","refi2","currentStatus","comments","restructuring","guarantees","documetsData","date","code","owner","location","proposal","setProposal","policies","setPolicies","financialSummary","setFinancialSummary","capex","setCapex","background","setBackground","document","setDocument","Opinion","setOpinion","Recomendation","setRecomendation","deudor","setDeudor","debtorId","setDebtorId","DataDeudor","setDataDeudor","isActiveLoading","setIsActiveLoading","successSave_dlg","setsuccessSave_dlg","error_dlg","seterror_dlg","error_msg","seterror_msg","confirm_alert","setconfirm_alert","mainDebtor","setmainDebtor","preview","setpreview","displayModal","setDisplayModal","JSON","parse","sessionStorage","getItem","locationData","setLocationData","backendServices","setbackendServices","bpmServices","setbpmServices","coreServices","setcoreServices","dataSession","undefined","transactionId","length","push","URL_DASHBOARD","setItem","stringify","fetchData","result","checkAndStartTask","then","iniresult","loadUserProspect","fetchFinancialReport","consultPrincipalDebtor","Promise","allSettled","LoadOpinion","LoadRecomendacion","drawTabs","resp","catch","err","handleNewDebt","newDebt","handleNewHistoryDetail","newHistoryDetail","handleSubmit","event","errors","preventDefault","newOpinion","transactId","opinion","newRecommendations","strengths","weakness","conclusion","errOpi","actualizarDetalleOpinionRiesgoCredito","statusCode","error","nuevoDetalleOpinionRiesgoCredito","errConc","actualizarConclusionesRecomendacionesAnalisisFinanciero","console","log","nuevoConclusionesRecomendacionesAnalisisFinanciero","resolve","reject","consultarDetalleOpinionRiesgoCredito","consultarConclusionesRecomendacionesAnalisisFinanciero","consultarDeudores","map","$$","personId","typePerson","name2","lastName","changeDebtor","index","customerNumberT24","addHistoryDetail","handleSelect","key","toggleModal","e"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { translationHelpers } from \"../../../helpers\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { useLocation, useHistory } from 'react-router-dom'\r\nimport * as url from \"../../../helpers/url_helper\"\r\n\r\nimport {\r\n    Row,\r\n    Col,\r\n    Button,\r\n    Nav,\r\n    NavLink,\r\n    Card,\r\n    CardBody,\r\n} from \"reactstrap\"\r\n\r\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\"\r\nimport { FinancialSummary } from \"../../../components/PropuestaCreditoComercial\"\r\nimport {\r\n    Background, Capex, CreditProposal, CreditPolicyReview,\r\n    ExchangeRisk, FinancialInformation, FormCreditRisk,\r\n    Projections, Workload, FormRecommendations, DocumentFooter\r\n} from \"../../../components/InformeFinanciero\"\r\nimport { AvForm, AvField, AvGroup } from \"availity-reactstrap-validation\"\r\n\r\nimport { Tabs, Tab } from 'react-bootstrap';\r\nimport { getDateMeta } from \"@fullcalendar/react\"\r\nimport classnames from \"classnames\"\r\nimport FinancialReportComp from \"./FinancialReportComp\";\r\nimport LoadingOverlay from \"react-loading-overlay\"\r\nimport Guarantees from \"../../../components/InformeFinanciero/background/Guarantees\"\r\nimport DebtSL from \"../../../components/PropuestaCreditoComercial/financialSummary/DebtSL\"\r\nimport History from \"../../../components/PropuestaCreditoComercial/financialSummary/History\"\r\nimport CapexIF from \"../../../components/InformeFinanciero/CapexIF\"\r\nimport SweetAlert from \"react-bootstrap-sweetalert\"\r\n\r\nimport { useTranslation, withTranslation } from \"react-i18next\"\r\n\r\n// Services\r\nimport { BackendServices, CoreServices, BpmServices, } from \"../../../services\";\r\nimport ModalPrevicualizarAIF from \"../../../pages/CommercialCredit/6_AnalisisCredito/previsualizarAIF\";\r\n\r\nconst FinancialReportContent = (props) => {\r\n\r\n    const [t, c, tr] = translationHelpers('translation', 'common', 'translation');\r\n    const propostarData = {\r\n        products: [\r\n            {\r\n                id: 1,\r\n                product: 'Línea de Crédito Rotativa',\r\n                debtor: { name: 'Inversion Yarlys SA' },\r\n                rate: 7.0,\r\n                safi: '5-6: Riesgo Standard',\r\n                currentApprovedRisk: 0,\r\n                usedBalance: 0,\r\n                proposedRisk: 126.0\r\n            },\r\n            {\r\n                id: 2,\r\n                product: 'Línea de Crédito Rotativa',\r\n                debtor: { name: 'Inversion Yarlys SA' },\r\n                rate: 7.0,\r\n                safi: '5-6: Riesgo Standard',\r\n                currentApprovedRisk: 0,\r\n                usedBalance: 0,\r\n                proposedRisk: 126.0\r\n            }\r\n        ]\r\n    }\r\n    const sumaryData = {\r\n        client: {\r\n            name: 'Nombre Deudor'\r\n        },\r\n        financialStatus: {\r\n            headers: ['Auditados Dic-18', 'Auditados Dic-19', 'Auditados Dic-20', 'Proyecciones Dic-21'],\r\n            items: [\r\n                {\r\n                    label: 'Clasificación SAFI',\r\n                    data: ['-', '-', '5:6 Riesgo', '-']\r\n                },\r\n                {\r\n                    label: 'Crecimiento',\r\n                    data: ['-', '-3.4%', '-12.5%', '0.0%']\r\n                },\r\n                {\r\n                    label: 'Costo de Ventas',\r\n                    data: ['(1550)66.2%', '(1510)66.8%', '(1360)68.8%', '(1360)68.8%']\r\n                },\r\n                {\r\n                    label: 'Beneficio Mutuo en Operaciones',\r\n                    data: ['(790)66.2%', '(751)66.8%', '(618)68.8%', '(618)68.8%']\r\n                },\r\n                {\r\n                    label: 'Margen Bruto',\r\n                    data: ['', '', '', '']\r\n                }\r\n            ]\r\n        },\r\n        balances: {\r\n            active: {\r\n                title: t('Active Balance'),\r\n                headers: [t('Period Date'), '', '', ''],\r\n                items: [\r\n                    [t('Months'), '', '', ''],\r\n                    [t('Auditor'), '', '', ''],\r\n                    [t('Balance Type'), '', '', ''],\r\n                    [t('Figures Types'), '', '', ''],\r\n                    [t('Coins Types'), '', '', ''],\r\n                    [t('Exchange Rates'), '', '', '']\r\n                ]\r\n            },\r\n            passive: {\r\n                title: t('Passive Balance and Capital'),\r\n                headers: [t('Period Date'), '', '', ''],\r\n                items: [\r\n                    [t('Months'), '', '', ''],\r\n                    [t('Auditor'), '', '', ''],\r\n                    [t('Balance Type'), '', '', ''],\r\n                    [t('Figures Types'), '', '', ''],\r\n                    [t('Coins Types'), '', '', ''],\r\n                    [t('Exchange Rates'), '', '', '']\r\n                ]\r\n            },\r\n            application: {\r\n                title: t('Origin and Application Status'),\r\n                headers: [t('Period Date'), '', '', ''],\r\n                items: [\r\n                    [t('Months'), '', '', ''],\r\n                    [t('Auditor'), '', '', ''],\r\n                    [t('Balance Type'), '', '', ''],\r\n                    [t('Figures Types'), '', '', ''],\r\n                    [t('Coins Types'), '', '', ''],\r\n                    [t('Exchange Rates'), '', '', '']\r\n                ]\r\n            },\r\n            indicators: {\r\n                title: t('Indicators'),\r\n                headers: [t('Period Date'), '', '', ''],\r\n                items: [\r\n                    [t('Months'), '', '', ''],\r\n                    [t('Auditor'), '', '', ''],\r\n                    [t('Balance Type'), '', '', ''],\r\n                    [t('Figures Types'), '', '', ''],\r\n                    [t('Coins Types'), '', '', ''],\r\n                    [t('Exchange Rates'), '', '', '']\r\n                ]\r\n            }\r\n        },\r\n        debts: {\r\n            short: {\r\n                items: [\r\n                    {\r\n                        bank: 'Capital Bank',\r\n                        purpose: 'Linea de Crédito',\r\n                        approvedAmount: 200,\r\n                        balanceLastYear: 200,\r\n                        balanceLast6Months: 154,\r\n                        balanceForecast: 200,\r\n                        rate: 7.0,\r\n                        surety: 'Fianza'\r\n                    },\r\n                    {\r\n                        bank: 'St Georges',\r\n                        purpose: 'Linea de Crédito',\r\n                        approvedAmount: 320,\r\n                        balanceLastYear: 200,\r\n                        balanceLast6Months: 436,\r\n                        balanceForecast: 450,\r\n                        rate: 7.5,\r\n                        surety: 'Fianza'\r\n                    },\r\n                    {\r\n                        bank: 'St Georges',\r\n                        purpose: 'TDC',\r\n                        approvedAmount: 11,\r\n                        balanceLastYear: 11,\r\n                        balanceLast6Months: 0,\r\n                        balanceForecast: 11,\r\n                        rate: null,\r\n                        surety: ''\r\n                    }\r\n                ]\r\n            },\r\n            long: {\r\n                items: [\r\n                    {\r\n                        bank: 'Banesco',\r\n                        purpose: 'Préstamo',\r\n                        approvedAmount: 126,\r\n                        balanceLastYear: 0,\r\n                        balanceLast6Months: 0,\r\n                        balanceForecast: 126,\r\n                        rate: 6.5,\r\n                        surety: 'Bien Inmueble'\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        history: {\r\n            headers: [\r\n                t('# days', { days: 30 }),\r\n                t('# days', { days: 60 }),\r\n                t('# days', { days: 90 }),\r\n                t('# days', { days: 120 }),\r\n                t('# days', { days: 150 }),\r\n                t('# days', { days: 180 }),\r\n                t('# days', { days: 210 }),\r\n                t('# days', { days: 240 }),\r\n                t('# days', { days: 270 }),\r\n                t('# days', { days: 300 }),\r\n                t('# days', { days: 330 }),\r\n                t('+# days', { days: 331 }),\r\n                t('Totals')\r\n            ],\r\n            data: [\r\n                {\r\n                    name: 'Banesco',\r\n                    data: [100, 80, 80, 80, 100, 80, 80, 80, 100, 80, 80, 200, 0]\r\n                },\r\n                {\r\n                    name: 'Banesco',\r\n                    data: [100, 80, 80, 80, 100, 80, 80, 80, 100, 80, 80, 200, 0]\r\n                }\r\n            ]\r\n        }\r\n    }\r\n    const capexData = {\r\n        sources: [\r\n            { id: 10010, description: 'Presupuesto 1', usage: 0.4, shareholders: 0, bank: 0 },\r\n            { id: 10020, description: 'Presupuesto 2', usage: 0.8, shareholders: 0, bank: 0 },\r\n            { id: 10030, description: 'Presupuesto 3', usage: 1.2, shareholders: 0, bank: 0 },\r\n            { id: 10040, description: 'Presupuesto 4', usage: 1.1, shareholders: 0, bank: 0 },\r\n        ],\r\n        budgets: [\r\n            { id: 10010, description: 'Costo Directo de Construcción', value: 100_000 },\r\n            { id: 10020, description: 'Costo Directo de Infraestructura', value: 120_000 },\r\n        ],\r\n        projects: [\r\n            { id: 10010, description: 'Area de construcción total m2', value: 1000 },\r\n            { id: 10020, description: 'Area de construcción infraestructura total m2', value: 1000 },\r\n        ],\r\n        attachments: []\r\n    }\r\n    const backgroundData = {\r\n        items: {\r\n            headers: ['2012', '2013', '2014', '2015', '2016', '2017', '2018', '2019', '2020', '2021'],\r\n            data: [{\r\n                id: 10010,\r\n                description: 'Monto Aprobado Corto Plazo',\r\n                values: [100, 100, 0, 0, 0, 0, 0, 0, 1000, 2000]\r\n            }, {\r\n                id: 10020,\r\n                description: 'Desembolsos Corto Plazo (Utilizaciones)',\r\n                values: [100, 100, 0, 0, 0, 0, 0, 0, 1000, 2000]\r\n            }, {\r\n                id: 10030,\r\n                description: 'Desembolsos Largo Plazo',\r\n                values: [100, 100, 0, 0, 0, 0, 0, 0, 1000, 2000]\r\n            }, {\r\n                id: 10040,\r\n                description: 'Consumo',\r\n                values: [100, 100, 0, 0, 0, 0, 0, 0, 1000, 2000]\r\n            }, {\r\n                id: 10050,\r\n                description: 'TOTAL Desembolsos',\r\n                values: [200, 200, 0, 0, 0, 0, 0, 0, 2000, 4000]\r\n            }, {\r\n                id: 10060,\r\n                description: 'Pagos Capital Corto Plazo',\r\n                values: [100, 100, 0, 0, 0, 0, 0, 0, 1000, 2000]\r\n            }, {\r\n                id: 10070,\r\n                description: 'Pagos Intereses Corto Plazo',\r\n                values: [100, 100, 0, 0, 0, 0, 0, 0, 1000, 2000]\r\n            }, {\r\n                id: 10080,\r\n                description: 'Amortización Capital Largo Plazo',\r\n                values: [100, 100, 0, 0, 0, 0, 0, 0, 1000, 2000]\r\n            }, {\r\n                id: 10090,\r\n                description: 'Amortización Intereses Largo Plazo',\r\n                values: [100, 100, 0, 0, 0, 0, 0, 0, 1000, 2000]\r\n            }, {\r\n                id: 10100,\r\n                description: 'Consumo (Capital + Intereses)',\r\n                values: [100, 100, 0, 0, 0, 0, 0, 0, 1000, 2000]\r\n            }, {\r\n                id: 10110,\r\n                description: 'TOTAL Pagos a Capital',\r\n                values: [100, 100, 0, 0, 0, 0, 0, 0, 1000, 2000]\r\n            }, {\r\n                id: 10120,\r\n                description: 'TOTAL Pago a Intereses',\r\n                values: [100, 100, 0, 0, 0, 0, 0, 0, 1000, 2000]\r\n            }, {\r\n                id: 10130,\r\n                description: 'Saldos LP + CP (al cierre)',\r\n                values: [100, 100, 0, 0, 0, 0, 0, 0, 1000, 2000]\r\n            }, {\r\n                id: 10140,\r\n                description: 'Saldos Corto Plazo (al cierre)',\r\n                values: [100, 100, 0, 0, 0, 0, 0, 0, 1000, 2000]\r\n            }, {\r\n                id: 10150,\r\n                description: 'Saldos Largo Plazo (al cierre)',\r\n                values: [100, 100, 0, 0, 0, 0, 0, 0, 1000, 2000]\r\n            }, {\r\n                id: 10160,\r\n                description: 'Refinanciamientos (#)',\r\n                values: [1, 1, 0, 0, 0, 0, 0, 0, 1, 2]\r\n            }, {\r\n                id: 10170,\r\n                description: 'Reestructuraciones (#)',\r\n                values: [1, 1, 0, 0, 0, 0, 0, 0, 1, 2]\r\n            }, {\r\n                id: 10180,\r\n                description: 'Clasificación de Riesgos',\r\n                values: ['', '', '', '', '', '', '', '', '', '']\r\n            }]\r\n        },\r\n        facilities: [\r\n            {\r\n                id: 22151,\r\n                debtor: { id: 15050, name: 'Arturo Vidal' },\r\n                facility: { id: 1090, name: 'Facilidad' },\r\n                amount: 12_000,\r\n                balance: 10_000,\r\n                quota: 0,\r\n                capital: 0,\r\n                status: '',\r\n                classification: '',\r\n                interests: 2.5,\r\n                charges: 0,\r\n                refi1: '',\r\n                refi2: '',\r\n                currentStatus: '',\r\n                comments: ''\r\n            }\r\n        ],\r\n        restructuring: {\r\n            headers: ['jun-16', 'nov-18', 'jun-20 (actual)'],\r\n            data: [\r\n                {\r\n                    description: 'Concepto',\r\n                    values: ['Reestructuración', '', '']\r\n                },\r\n                {\r\n                    description: 'Monto (Miles $US)',\r\n                    values: [5.142, '', '']\r\n                },\r\n                {\r\n                    description: 'Tasa',\r\n                    values: ['5%', '', '']\r\n                },\r\n                {\r\n                    description: 'Vencimiento',\r\n                    values: ['5 años', '', '']\r\n                },\r\n                {\r\n                    description: 'Solicitud',\r\n                    values: ['Reestructuración', '', '']\r\n                },\r\n                {\r\n                    description: 'Plan de Pagos',\r\n                    values: ['Primeros 2 años: $25,750 (Capital e Intereses), 3er año: $30,000 (Capital e Intereses), 4to año: $35,000 (Capital e intereses)', '', '']\r\n                }\r\n            ]\r\n\r\n        },\r\n        guarantees: {\r\n            headers: ['jun-16', 'nov-18', 'jun-20 (actual)'],\r\n            data: [\r\n                {\r\n                    description: 'Empresa Avaluadora',\r\n                    values: ['AIR Avaluos', '', '']\r\n                },\r\n                {\r\n                    description: 'Valor de Venta Rápida (Miles $US)',\r\n                    values: [5.400, '', '']\r\n                },\r\n                {\r\n                    description: 'LTV',\r\n                    values: ['95%', '', '']\r\n                }\r\n            ]\r\n        }\r\n    }\r\n    const documetsData = {\r\n        date: '25-ago-2021',\r\n        code: '###',\r\n        owner: { id: 1010, name: 'Carolina Delgado' }\r\n    }\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n\r\n    const [proposal, setProposal] = useState(propostarData);\r\n    const [policies, setPolicies] = useState([]);\r\n    const [financialSummary, setFinancialSummary] = useState(sumaryData);\r\n    //const [financialInformation, setFinancialInformation] = useState(null);\r\n    const [capex, setCapex] = useState(capexData);\r\n    const [background, setBackground] = useState(backgroundData);\r\n    const [document, setDocument] = useState(documetsData);\r\n    const [Opinion, setOpinion] = useState(null);\r\n    const [Recomendation, setRecomendation] = useState(null);\r\n    const [deudor, setDeudor] = useState(null);\r\n    const [debtorId, setDebtorId] = useState(null);\r\n    const [DataDeudor, setDataDeudor] = useState(0);\r\n    const [isActiveLoading, setIsActiveLoading] = useState(false);\r\n    const [successSave_dlg, setsuccessSave_dlg] = useState(false);\r\n    const [error_dlg, seterror_dlg] = useState(false);\r\n    const [error_msg, seterror_msg] = useState(\"\");\r\n    const [confirm_alert, setconfirm_alert] = useState(false)\r\n    const [mainDebtor, setmainDebtor] = useState(null);\r\n    const [preview, setpreview] = useState(null);\r\n    const [displayModal, setDisplayModal] = useState(false);\r\n\r\n    const [locationData, setLocationData] = useState(location.data ?? JSON.parse(sessionStorage.getItem('locationData')));\r\n\r\n    //Servicios\r\n    const [backendServices, setbackendServices] = useState(new BackendServices());\r\n    const [bpmServices, setbpmServices] = useState(new BpmServices());\r\n    const [coreServices, setcoreServices] = useState(new CoreServices());\r\n\r\n    //On Mounting (componentDidMount)\r\n\r\n    let dataSession;\r\n    useEffect(() => {\r\n        if (location.data !== null && location.data !== undefined) {\r\n            if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n                //location.data.transactionId = 0;\r\n                //checkAndCreateProcedure(location.data);\r\n                history.push(url.URL_DASHBOARD);\r\n            }\r\n            else {\r\n                sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n                dataSession = location.data\r\n                setLocationData(location.data);\r\n                fetchData(location.data);\r\n            }\r\n        }\r\n        else {\r\n            //chequeamos si tenemos guardado en session\r\n            var result = sessionStorage.getItem('locationData');\r\n            if (result !== undefined && result !== null) {\r\n                result = JSON.parse(result);\r\n                dataSession = result\r\n                setLocationData(result);\r\n                fetchData(result);\r\n            }\r\n        }\r\n\r\n    }, []);\r\n\r\n    //Caraga Inicial de datos\r\n    function fetchData(dataSession) {\r\n        //chequear si la tarea no ha sido iniciada\r\n        bpmServices.checkAndStartTask(dataSession)\r\n            .then((iniresult) => {\r\n                if (iniresult === false) {\r\n                    history.push(url.URL_DASHBOARD);\r\n                }\r\n            })\r\n        loadUserProspect(dataSession.transactionId)\r\n        fetchFinancialReport();\r\n    }\r\n\r\n    function loadUserProspect(transactionId) {\r\n        // consultarDeudorPrincipal\r\n        backendServices.consultPrincipalDebtor(transactionId)\r\n            .then((data) => {\r\n                if (data !== undefined) {\r\n                    setmainDebtor(data);\r\n                }\r\n            });\r\n    }\r\n\r\n    async function fetchFinancialReport() {\r\n        Promise.allSettled([\r\n            LoadOpinion(),\r\n            LoadRecomendacion(),\r\n            drawTabs(),\r\n        ]).then((resp) => {\r\n            setIsActiveLoading(false);\r\n        }).catch(err => {\r\n            setIsActiveLoading(false);\r\n        });\r\n    }\r\n\r\n    function handleNewDebt(newDebt) {\r\n\r\n    }\r\n\r\n    function handleNewHistoryDetail(newHistoryDetail) {\r\n\r\n    }\r\n\r\n    async function handleSubmit(event, errors, values) {\r\n        event.preventDefault();\r\n        if (errors.length > 0) {\r\n            return;\r\n        }\r\n\r\n\r\n        let newOpinion = { transactId: dataSession.transactionId, opinion: values.opinion };\r\n        let newRecommendations = {\r\n            transactId: dataSession.transactionId,\r\n            debtorId: debtorId,\r\n            strengths: values.strengths,\r\n            weakness: values.weakness,\r\n            conclusion: values.conclusion\r\n        }\r\n\r\n        let errOpi = false;\r\n\r\n        if (Opinion != undefined && Opinion != null) {\r\n            await backendServices.actualizarDetalleOpinionRiesgoCredito(newOpinion).then(resp => {\r\n                if (resp.statusCode == \"500\") {\r\n                    setconfirm_alert(false)\r\n                    seterror_dlg(true)\r\n                    errOpi = true;\r\n                } else {\r\n                    setconfirm_alert(false)\r\n                    setsuccessSave_dlg(true)\r\n                }\r\n            }).catch(error => {\r\n                setconfirm_alert(false)\r\n                seterror_dlg(true)\r\n            });\r\n        } else {\r\n            await backendServices.nuevoDetalleOpinionRiesgoCredito(newOpinion).then(resp => {\r\n                if (resp.statusCode == \"500\") {\r\n                    setconfirm_alert(false)\r\n                    seterror_dlg(true)\r\n                    errOpi = true;\r\n                } else {\r\n                    setconfirm_alert(false)\r\n                    setsuccessSave_dlg(true)\r\n                }\r\n            }).catch(error => {\r\n                setconfirm_alert(false)\r\n                seterror_dlg(true)\r\n            });\r\n        }\r\n        let errConc = false;\r\n        if (Recomendation !== undefined && Recomendation != null) {\r\n            await backendServices.actualizarConclusionesRecomendacionesAnalisisFinanciero(newRecommendations).then(resp => {\r\n                console.log(resp)\r\n                if (resp.statusCode == \"500\") {\r\n                    setconfirm_alert(false)\r\n                    seterror_dlg(true)\r\n                    errConc = true;\r\n                } else {\r\n                    setconfirm_alert(false)\r\n                    setsuccessSave_dlg(true)\r\n                }\r\n            }).catch(error => {\r\n                setconfirm_alert(false)\r\n                seterror_dlg(true)\r\n            });\r\n        } else {\r\n            await backendServices.nuevoConclusionesRecomendacionesAnalisisFinanciero(newRecommendations).then(resp => {\r\n                console.log(resp)\r\n                if (resp.statusCode == \"500\") {\r\n                    setconfirm_alert(false)\r\n                    seterror_dlg(true)\r\n                    errConc = true;\r\n                } else {\r\n                    setconfirm_alert(false)\r\n                    setsuccessSave_dlg(true)\r\n                }\r\n            }).catch(error => {\r\n                setconfirm_alert(false)\r\n                seterror_dlg(true)\r\n            });\r\n        }\r\n\r\n        //props.onSubmit(values);\r\n        (!errOpi && !errConc) && history.push(url.URL_DASHBOARD);\r\n\r\n    }\r\n\r\n    function LoadOpinion() {\r\n        return new Promise(function (resolve, reject) {\r\n\r\n            backendServices.consultarDetalleOpinionRiesgoCredito(dataSession.transactionId).then(resp => {\r\n                let data = resp[0];\r\n                (data != null || data != undefined) && setOpinion(data);\r\n                resolve();\r\n            }).catch(err => {\r\n                resolve();\r\n            });\r\n        })\r\n    }\r\n\r\n    function LoadRecomendacion() {\r\n        return new Promise(function (resolve, reject) {\r\n            backendServices.consultarConclusionesRecomendacionesAnalisisFinanciero(dataSession.transactionId).then(resp => {\r\n                let data = resp[0];\r\n                (data != null || data != undefined) && setRecomendation(data);\r\n                resolve();\r\n            }).catch(err => {\r\n                resolve();\r\n            });\r\n        })\r\n    }\r\n\r\n    function drawTabs() {\r\n        return new Promise(function (resolve, reject) {\r\n            // let resp = [{ debtorId: 1, name: 'Deudor 1' }, { debtorId: 20, name: 'Deudor 2' }, { debtorId: 32, name: 'Deudor 3' }, { debtorId: 4, name: 'Deudor 4' }];\r\n            backendServices.consultarDeudores(dataSession.transactionId).then(resp => {\r\n                // console.log(resp);\r\n                resp = resp.map($$ => ({\r\n                    ...$$,\r\n                    debtorId: $$.personId,\r\n                    name: $$.typePerson == 2 ? $$.name : `${$$.name} ${$$.name2} ${$$.lastName}`\r\n                }))\r\n                setDataDeudor(resp);\r\n                setDebtorId(resp[0].debtorId)\r\n                props.changeDebtor && props.changeDebtor(resp[0].debtorId)\r\n\r\n                setDeudor(resp.map((items, index) => (\r\n                    <Tab className=\"my-4\" key={index} eventKey={index} title={items.name}>\r\n                        <FinancialReportComp\r\n                            customerNumberT24={items.customerNumberT24}\r\n                            addHistoryDetail={props.addHistoryDetail}\r\n                            debtorId={items.debtorId}\r\n\r\n                            client={financialSummary.client}\r\n                            financialStatus={financialSummary.financialStatus}\r\n                            balances={financialSummary.balances}\r\n                            debts={financialSummary.debts}\r\n                            addDebt={handleNewDebt}\r\n                            history={financialSummary.history}\r\n                            addHistoryDetails={handleNewHistoryDetail}\r\n                            preview={props.preview}\r\n                        />\r\n\r\n                    </Tab>\r\n                )));\r\n\r\n                resolve();\r\n\r\n            })\r\n        })\r\n    }\r\n\r\n    function handleSelect(key) {\r\n        setDebtorId(DataDeudor[key].debtorId);\r\n        props.changeDebtor && props.changeDebtor(DataDeudor[key].debtorId)\r\n    }\r\n\r\n    function toggleModal() {\r\n        setDisplayModal(!displayModal);\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            {locationData ?\r\n                <LoadingOverlay active={isActiveLoading} spinner text={t(\"WaitingPlease\")}>\r\n\r\n                    <Col>\r\n                        <Tabs defaultActiveKey=\"0\" id=\"uncontrolled-tab-example\" className=\"m-0\" onSelect={(e) => { handleSelect(e) }}>\r\n                            {deudor}\r\n                        </Tabs>\r\n                    </Col>\r\n\r\n\r\n                    <Col className=\"mt-4\">\r\n                        <FinancialInformation\r\n                            preview={props.preview}\r\n                        />\r\n                    </Col>\r\n\r\n\r\n                    <Col className=\"mt-4\">\r\n                        <ExchangeRisk\r\n                            preview={props.preview}\r\n                        />\r\n                    </Col>\r\n\r\n                    <Col className=\"mt-4\">\r\n                        <Workload\r\n                            preview={props.preview}\r\n                        />\r\n                    </Col>\r\n\r\n                    <Col className=\"mt-4\">\r\n                        <Projections\r\n                            preview={props.preview}\r\n                        />\r\n                    </Col>\r\n\r\n\r\n                    <Col className=\"mt-4\">\r\n                        <Background items={background.items}\r\n                            facilities={background.facilities}\r\n                            restructuring={background.restructuring}\r\n                            guarantees={background.guarantees}\r\n                            preview={props.preview}\r\n                        />\r\n                    </Col>\r\n                </LoadingOverlay >\r\n                : null}\r\n        </React.Fragment>\r\n    )\r\n};\r\n\r\nexport default FinancialReportContent;\r\n"]},"metadata":{},"sourceType":"module"}