{"ast":null,"code":"var _jsxFileName = \"D:\\\\_PROJECTS\\\\_SOAINT\\\\JBPM\\\\App\\\\banescocreditoscomerciales\\\\src\\\\pages\\\\CommercialCredit\\\\18_ListaExclusion\\\\index.js\",\n    _s = $RefreshSig$();\n\n/*ExclusionList = Lista de Exclusion*/\nimport React, { useState } from \"react\";\nimport PropTypes from 'prop-types';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport LoadingOverlay from 'react-loading-overlay';\nimport ModalEndProcess from \"../../../components/EndProcess/ModalEndProcess\";\nimport * as OPTs from \"../../../helpers/options_helper\";\nimport * as url from \"../../../helpers/url_helper\";\nimport { Row, Col, Card, CardBody, Label, CardFooter, CardHeader, Button } from \"reactstrap\";\nimport { AvForm, AvField } from \"availity-reactstrap-validation\";\nimport { Link } from \"react-router-dom\"; //Import Breadcrumb\n\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\"; //i18n\n\nimport { withTranslation } from \"react-i18next\";\nimport FormResult from \"./FormResultados\";\nimport ModalAdvanceOptions from \"./ModalAdvanceOptions\";\nimport ModalCloseOptions from \"./ModalCloseOptions\";\nimport { BackendServices, CoreServices, BpmServices } from \"../../../services\";\nimport SweetAlert from \"react-bootstrap-sweetalert\";\nimport { useTranslation } from \"react-i18next\";\nimport { InfoBpmModel } from '../../../models/Common/InfoBpmModel';\nimport { LogProcessModel } from '../../../models/Common/LogProcessModel';\nimport LogProcess from \"../../../components/LogProcess/index\";\nimport { saveLogProcess } from \"../../../helpers/logs_helper\";\nimport HorizontalSteeper from \"../../../components/Common/HorizontalSteeper\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LIST = [\"Trabajo forzoso significa todo trabajo o servicio, que no se realiza voluntariamente, que se extrae de un individuo bajo la amenaza de la fuerza o la pena según lo definido en los convenios de la OIT.\", \"Las personas solo pueden ser empleadas si tienen al menos 14 años, como se define en los Convenios Fundamentales de Derechos Humanos de la OIT (Convenio de edad mínima C138, Art.2), a menos que la legislación local especifique la asistencia escolar obligatoria o la edad mínima para trabajar. En tales casos, se aplicará la edad más avanzada.\", \"Destrucción significa la (1) eliminación o disminución severa de la integridad de un área causada por un cambio importante a largo plazo en el uso de la tierra o el agua o (2) modificación de un hábitat de tal manera que la capacidad del área para mantener su papel está perdido.\", `Las áreas de Alto Valor de Conservación (AVC) se definen como hábitats naturales donde estos valores se consideran de gran importancia o importancia crítica (ver <a href=\"http://www.hcvnetwork.org\" target=\"_blank\">http://www.hcvnetwork.org)</a>.`, \"Esto no se aplica a la compra de equipos médicos, equipos de control de calidad o cualquier otro equipo donde se entiende que la fuente radiactiva es trivial y / o está adecuadamente protegida.\", \"Para las empresas, \\\"sustancial\\\" significa más del 10% de sus balances o ganancias consolidadas.<br>Para las instituciones financieras y los fondos de inversión, \\\"sustancial\\\" significa más del 10% de su cartera subyacente.\", \"Se exceptúan la producción y/ o distribución de cerveza, vinos, ron y seco (bebida alcohólica destilada de la caña de azúcar de origen panameño).\"];\n\nconst ListaExclusion = props => {\n  _s();\n\n  const [isReadOnly, setReadOnly] = useState(false);\n  const history = useHistory();\n  const location = useLocation(); //Data que recibimos en el location\n\n  const [locationData, setLocationData] = useState(undefined);\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  const [dataList, setDataList] = useState([]); //items de la lista de exclusion\n\n  const [dataListSelected, setDataListSelected] = useState([]); //items selected de la lista de exclusion       \n\n  const [isActiveLoading, setIsActiveLoading] = useState(false);\n  const [successSave_dlg, setsuccessSave_dlg] = useState(false);\n  const [error_dlg, seterror_dlg] = useState(false);\n  const [error_msg, seterror_msg] = useState(\"\");\n  const [displayModalAdvanceOptions, setDisplayModalAdvanceOptions] = useState(false);\n  const [displayModalCloseOptions, setDisplayModalCloseOptions] = useState(false);\n  const [displayModalEndProcess, setdisplayModalEndProcess] = useState(false);\n  const [mainDebtor, setmainDebtor] = useState(null); //Servicios\n\n  const [backendServices, setbackendServices] = useState(new BackendServices());\n  const [bpmServices, setbpmServices] = useState(new BpmServices());\n  const [checked, setchecked] = useState(false);\n  const [listDetail, setListDetail] = useState(undefined); //On Mounting (componentDid Mount)\n\n  React.useEffect(() => {\n    if (location.data !== null && location.data !== undefined) {\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\n        //location.data.transactionId = 0;\n        //checkAndCreateProcedure(location.data);\n        history.push(url.URL_DASHBOARD);\n      } else {\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\n        setLocationData(location.data);\n        fetchData(location.data);\n      }\n    } else {\n      //chequeamos si tenemos guardado en session\n      var result = sessionStorage.getItem('locationData');\n\n      if (result !== undefined && result !== null) {\n        result = JSON.parse(result);\n        setLocationData(result);\n        fetchData(result);\n      }\n    }\n\n    loadDetail();\n  }, []);\n  React.useEffect(() => {\n    let lista = document.getElementsByClassName(\"listaExclusion\");\n\n    for (var i = 0; i < lista.length; i++) {\n      for (let j = 0; j < dataListSelected.length; j++) {\n        if (dataListSelected[j].exclusionCatListId == dataList[i].exclusionId) {\n          document.getElementById(dataList[i].exclusionId).checked = true;\n          setchecked(true);\n        }\n      }\n    }\n  }, [props, dataListSelected]);\n\n  function loadDetail() {\n    setListDetail(LIST.map((listDetail, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-row mx-3\",\n        style: {\n          fontSize: '12px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          style: {\n            marginRight: '15px'\n          },\n          children: [index + 1, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"m-0\",\n          dangerouslySetInnerHTML: {\n            __html: listDetail\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)));\n  } //Caraga Inicial de datos\n\n\n  function fetchData(locationData) {\n    console.log(locationData);\n\n    if (locationData.readOnly != null) {\n      setReadOnly(locationData.readOnly);\n\n      if (locationData.readOnly && locationData.taskStatus == \"Reservado\") {\n        bpmServices.checkAndStartTask(locationData).then(iniresult => {\n          if (iniresult === false) {\n            history.push(url.URL_DASHBOARD);\n          }\n        });\n      }\n    } else {\n      setReadOnly(false);\n    }\n\n    loadMainDebtor(locationData);\n    setLocationData(locationData);\n    initializeData(locationData);\n  } //Caraga Inicial\n\n\n  function initializeData(locdata) {\n    var processNumber = locdata ? locdata.transactionId : null;\n    /* ---------------------------------------------------------------------------------------------- */\n\n    /*                     Buscar en Servicio el ExclisionList de este proceso...                     */\n\n    /* ---------------------------------------------------------------------------------------------- */\n\n    backendServices.queryListExclusion().then(data => {\n      setDataList(data.exclusionCatListDTOList);\n    }).catch(error => {\n      console.error('api error: ', error);\n    }); //{ transactId: location.data.transactionId, processId: location.data.processId, activityId: location.data.activityId }\n\n    /* ---------------------------------------------------------------------------------------------- */\n\n    /*                       Obtenemos los datos de la lista de exclusion record                      */\n\n    /* ---------------------------------------------------------------------------------------------- */\n\n    if (processNumber != null) {\n      backendServices.consultListExclusionChecked({\n        transactId: processNumber\n      }).then(data => {\n        let datos = data.getExclusionApplicationListDTOList;\n        setDataListSelected(datos);\n      }).catch(error => {\n        console.error('api error: ', error);\n      });\n    }\n  }\n\n  function startProcess(status, taskId) {\n    if (status === \"Ready\") {\n      bpmServices.startedStatusTask(taskId).then(resp => {\n        if (resp === undefined) {\n          history.push(url.URL_DASHBOARD);\n        }\n      });\n    }\n  }\n\n  function removeBodyCss() {\n    document.body.classList.add(\"no_padding\");\n  }\n\n  function loadMainDebtor(InputData) {\n    backendServices.consultPrincipalDebtor(InputData.transactionId).then(resp => {\n      //resp.personType\n      //resp.identificationType\n      //resp.customerNumberT24\n      //resp.firstName\n      //resp.secondName\n      //resp.firstLastName\n      //resp.secondLastName\n      //resp.customerDocumentId\n      // dataReturn.nuevoDato = \"\"\n      setmainDebtor(resp);\n    });\n  }\n\n  async function UpdateData() {\n    //moment().valueOf()\n    var data = {\n      transactId: transactId,\n      //9330\n      instanceId: \"-2\",\n      //moment().valueOf().toString(),//instanceId,//\"9330\"\n      currentProcessId: currentProcessId,\n      //1\n      nextProcessId: nextProcessId,\n      //2\n      responsible: responsible,\n      //\"admin\"\n      requestId: requestId //\"1\"\n\n    };\n    console.log(\"nuevoTramite\", data);\n    result = await this.post(url.URL_BACKEND_TRAMITES, data);\n    data.transactId = result.transactId;\n    data.instanceId = result.transactId;\n    result = await backendServices.actualizarTramite(data);\n  } //Modal Opciones para avanzar\n\n\n  function toggleModalAdvanceOptions() {\n    setDisplayModalAdvanceOptions(!displayModalAdvanceOptions);\n  } //Modal Opciones al Salir\n\n\n  function toggleModalCloseOptions() {\n    setDisplayModalCloseOptions(!displayModalCloseOptions);\n  }\n\n  function onSelectOption(e) {\n    if (document.getElementById(e.exclusionId).checked) {\n      setchecked(true);\n      backendServices.saveListExclusion(locationData.transactionId, e.exclusionId).then(resp => {\n        if (resp === undefined) {\n          //Mensaje ERROR\n          seterror_msg(t(\"ErrorSaveMessage\") + \" \" + t(\"ExclusionList\"));\n          seterror_dlg(false);\n          return;\n        }\n      });\n    } else {\n      setchecked(false);\n      backendServices.removeCheckedExclusionList(locationData.transactionId, e.exclusionId).then(resp => {\n        if (resp === undefined) {\n          //Mensaje ERROR\n          seterror_msg(t(\"ErrorSaveMessage\") + \" \" + t(\"ExclusionList\"));\n          seterror_dlg(false);\n          return;\n        }\n      });\n    }\n  } //Chequear si existen opciones seleccionadas en la lista\n\n\n  function checkSelectedOptions() {\n    /* ---------------------------------------------------------------------------------------------- */\n\n    /*              chequear si tiene seleccionada alguna opcion de la lista de exclusion             */\n\n    /*              mostrar mensaje para confirmacion y finalizar proceso                             */\n\n    /* ---------------------------------------------------------------------------------------------- */\n    var checkboxes = document.getElementsByClassName(\"listaExclusion\");\n    let check = 0;\n\n    for (var i = 0; i < checkboxes.length; i++) {\n      if (checkboxes[i].checked) {\n        check++;\n      }\n    }\n\n    if (check > 0) {\n      setDisplayModalAdvanceOptions(true);\n    } else {\n      //Avanzamos el Proceso\n      onSaveProcess(OPTs.PROCESS_INFORMEGESTION);\n    }\n  } //Salvando el Proceso y le pasamos una opcion: 1-Finalizar Proceso, 2- Salvarlo, 3- A Cumplimmineto, 4- Avanzar a IGR\n\n\n  function onSaveProcess(option) {\n    let tipo = false;\n\n    switch (option) {\n      case OPTs.PROCESS_INFORMEGESTION:\n        {\n          //Guardamos la seleccion\n          var checkboxes = document.getElementsByClassName(\"listaExclusion\");\n\n          for (var i = 0; i < checkboxes.length; i++) {\n            if (checkboxes[i].checked) {\n              tipo = true;\n              option = OPTs.PROCESS_CANCELPROCESS;\n            }\n          }\n\n          break;\n        }\n    }\n\n    saveJBPMProcess(option, tipo);\n  }\n\n  async function saveJBPMProcess(option, validacion = false) {\n    var _locationData$infoBpm, _locationData$infoBpm2, _locationData$infoBpm3, _locationData$infoBpm4;\n\n    var maindebtor = await backendServices.consultPrincipalDebtor(locationData.transactionId);\n    var infoBpmModel = new InfoBpmModel((_locationData$infoBpm = (_locationData$infoBpm2 = locationData.infoBpmModel) === null || _locationData$infoBpm2 === void 0 ? void 0 : _locationData$infoBpm2.instanceId) !== null && _locationData$infoBpm !== void 0 ? _locationData$infoBpm : locationData.instanceId, (_locationData$infoBpm3 = (_locationData$infoBpm4 = locationData.infoBpmModel) === null || _locationData$infoBpm4 === void 0 ? void 0 : _locationData$infoBpm4.transactId) !== null && _locationData$infoBpm3 !== void 0 ? _locationData$infoBpm3 : locationData.transactionId, 0, 0, maindebtor === null || maindebtor === void 0 ? void 0 : maindebtor.personId);\n    infoBpmModel.personName = maindebtor !== undefined ? maindebtor.typePerson == \"2\" ? maindebtor.name : maindebtor.name + \" \" + maindebtor.name2 + \" \" + maindebtor.lastName + \" \" + maindebtor.lastName2 : \"\";\n\n    switch (option) {\n      case OPTs.PROCESS_CANCELPROCESS:\n        {\n          bpmServices.abortProcess(infoBpmModel.instanceId).then(data => {\n            if (data !== undefined) {\n              saveAutoLog(null, validacion);\n              history.push(url.URL_DASHBOARD);\n            } else {\n              //Mensaje ERROR\n              seterror_msg(t(\"ErrorSaveMessage\"));\n              seterror_dlg(false);\n            }\n          });\n          break;\n        }\n\n      case OPTs.PROCESS_LISTAEXCLUSION:\n        {\n          infoBpmModel.processId = OPTs.PROCESS_LISTAEXCLUSION;\n          infoBpmModel.activityId = OPTs.ACT_NONE;\n          var values = {\n            \"info\": JSON.stringify(infoBpmModel),\n            \"processId\": OPTs.PROCESS_LISTAEXCLUSION.toString(),\n            \"activityId\": OPTs.ACT_NONE.toString(),\n            \"transactionId\": locationData.transactionId.toString(),\n            \"customerId\": locationData.customerId.toString(),\n            \"applicationNumber\": \"\",\n            \"procedureNumber\": \"\" //\"decision\":\"no\"          \n\n          };\n          bpmServices.updatevariables(locationData.instanceId, values).then(data => {\n            if (data !== undefined) {\n              history.push(url.URL_DASHBOARD);\n            } else {\n              //Mensaje ERROR\n              seterror_msg(t(\"ErrorSaveMessage\"));\n              seterror_dlg(false);\n            }\n          });\n          break;\n        }\n\n      case OPTs.PROCESS_INFORMEGESTION:\n        {\n          infoBpmModel.processId = OPTs.PROCESS_INFORMEGESTION;\n          infoBpmModel.activityId = OPTs.ACT_NONE;\n          var values = {\n            \"info\": JSON.stringify(infoBpmModel),\n            \"processId\": OPTs.PROCESS_INFORMEGESTION.toString(),\n            \"activityId\": OPTs.ACT_DATOSGENERALES.toString(),\n            \"transactionId\": locationData.transactionId.toString(),\n            \"customerId\": locationData.customerId.toString(),\n            \"applicationNumber\": \"\",\n            \"procedureNumber\": \"\" //\"decision\":\"no\"          \n\n          };\n          bpmServices.updatevariables(locationData.instanceId, values).then(data => {\n            if (data !== undefined) {\n              saveAutoLog(null);\n              history.push({\n                pathname: url.URL_MANAGEMENTREPORT,\n                data: locationData\n              });\n            } else {\n              //Mensaje ERROR\n              seterror_msg(t(\"ErrorSaveMessage\"));\n              seterror_dlg(false);\n            }\n          });\n          break;\n        }\n    }\n  } ////////// PARTE ES LA FINAL DEL PROCESO ///////\n  //Modal Para mostrar Comentario de Fin de Proceso\n\n\n  function showModalEndProcess(show = true) {\n    setdisplayModalEndProcess(show);\n  } //salvar comentario de end process\n\n\n  function onSaveEndProcess(values) {\n    //Salvar los comentarios en Bitacora    \n    locationData[\"endProcessComment\"] = values.txtComment;\n    UpdateDataModel(locationData);\n    onSaveProcess(OPTs.PROCESS_CANCELPROCESS);\n  } //Actualizamos El Modelo de Datos segun va cambiando\n\n\n  function UpdateDataModel(data) {\n    setLocationData(data);\n  }\n\n  async function saveAutoLog(APPLICATION_STATUS, validacion = false) {\n    var _mainDebtor$personId, _APPLICATION_STATUS$i, _APPLICATION_STATUS$n;\n\n    var mainDebtor = await backendServices.consultPrincipalDebtor(locationData.transactionId);\n    var log = new LogProcessModel(locationData.instanceId, locationData.transactionId, 0, \"\", \"\", OPTs.PROCESS_LISTAEXCLUSION, OPTs.ACT_NONE, OPTs.BPM_ACTIVITY_03);\n    log.clientId = (_mainDebtor$personId = mainDebtor === null || mainDebtor === void 0 ? void 0 : mainDebtor.personId) !== null && _mainDebtor$personId !== void 0 ? _mainDebtor$personId : log.clientId;\n    log.observations = validacion ? t(\"Presents a match in the exclusion list\") : t(\"NotCoincidenceInExclusionList\");\n    log.requestId = (_APPLICATION_STATUS$i = APPLICATION_STATUS === null || APPLICATION_STATUS === void 0 ? void 0 : APPLICATION_STATUS.id) !== null && _APPLICATION_STATUS$i !== void 0 ? _APPLICATION_STATUS$i : 0;\n    log.statusDescription = (_APPLICATION_STATUS$n = APPLICATION_STATUS === null || APPLICATION_STATUS === void 0 ? void 0 : APPLICATION_STATUS.name) !== null && _APPLICATION_STATUS$n !== void 0 ? _APPLICATION_STATUS$n : \"\";\n    saveLogProcess(log);\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-content\",\n      children: [/*#__PURE__*/_jsxDEV(Breadcrumbs, {\n        title: t(\"CommercialCredit\"),\n        breadcrumbItem: t(\"ExclusionList\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HorizontalSteeper, {\n        processNumber: 1,\n        activeStep: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LoadingOverlay, {\n        active: isActiveLoading,\n        spinner: true,\n        text: t(\"WaitingPlease\"),\n        children: [!isReadOnly ? /*#__PURE__*/_jsxDEV(Row, {\n          style: {\n            marginTop: \"0px\",\n            marginBottom: \"15px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 3,\n            style: {\n              textAlign: \"left\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              color: \"danger\",\n              style: {\n                margin: '5px 0px'\n              },\n              type: \"button\",\n              onClick: () => {\n                showModalEndProcess();\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"mdi mdi-cancel mid-12px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 126\n              }, this), \" \", t(\"CancelProcess\")]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 9,\n            style: {\n              textAlign: \"right\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              color: \"primary\",\n              type: \"button\",\n              style: {\n                marginRight: \"5px\"\n              },\n              onClick: () => {\n                onSaveProcess(OPTs.PROCESS_LISTAEXCLUSION);\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"mdi mdi-content-save-outline mid-12px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 149\n              }, this), \" \", t(\"Exit\")]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              color: \"success\",\n              type: \"button\",\n              style: {},\n              onClick: () => {\n                checkSelectedOptions();\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"mdi mdi-arrow-right-bold-circle-outline mid-12px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 63\n              }, this), \" \", t(\"Advance\")]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Row, {\n          style: {\n            marginBottom: \"15px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"card-title\",\n                  children: t(\"ExclusionList\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-title-desc\",\n                  children: t(\"Selectifyoumeetanyofthefollowingpoints\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 455,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    sm: 12,\n                    style: {\n                      textAlign: \"right\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"card-title title-header\",\n                      children: [mainDebtor != null ? mainDebtor.typePerson === \"1\" ? mainDebtor.name + \" \" + mainDebtor.name2 + \" \" + mainDebtor.lastName + \" \" + mainDebtor.lastName2 : mainDebtor.name : \"\", \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 460,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 459,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    sm: 12,\n                    style: {\n                      textAlign: \"right\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"card-title\",\n                      style: {\n                        textAlign: \"right\"\n                      },\n                      children: [t(\"Tramit\"), \":\", \" \", \"#\", locationData === null || locationData === void 0 ? void 0 : locationData.transactionId]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 463,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 462,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n            children: dataList.length > 0 && /*#__PURE__*/_jsxDEV(FormResult, {\n              results: dataList,\n              dataCheck: dataListSelected,\n              setDataListSelected: setDataListSelected,\n              onSelectOption: onSelectOption\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardFooter, {\n            children: listDetail\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 11\n        }, this), locationData !== undefined && locationData.customerId !== null && locationData.customerId !== undefined && locationData.customerId.length > 0 ? /*#__PURE__*/_jsxDEV(LogProcess, {\n          locationData: locationData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 159\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this), locationData ? /*#__PURE__*/_jsxDEV(LogProcess, {\n        logProcessModel: new LogProcessModel(locationData.instanceId, locationData.transactionId, 0, \"\", \"\", OPTs.PROCESS_LISTAEXCLUSION, OPTs.ACT_NONE, OPTs.BPM_ACTIVITY_03)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 11\n      }, this) : null, !isReadOnly ? /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          marginTop: \"0px\",\n          marginBottom: \"15px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          style: {\n            textAlign: \"left\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            color: \"danger\",\n            style: {\n              margin: '5px 0px'\n            },\n            type: \"button\",\n            onClick: () => {\n              showModalEndProcess();\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"mdi mdi-cancel mid-12px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 124\n            }, this), \" \", t(\"CancelProcess\")]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 9,\n          style: {\n            textAlign: \"right\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            color: \"primary\",\n            type: \"button\",\n            style: {\n              marginRight: \"5px\"\n            },\n            onClick: () => {\n              onSaveProcess(OPTs.PROCESS_LISTAEXCLUSION);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"mdi mdi-content-save-outline mid-12px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 147\n            }, this), \" \", t(\"Exit\")]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            color: \"success\",\n            type: \"button\",\n            style: {},\n            onClick: () => {\n              checkSelectedOptions();\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"mdi mdi-arrow-right-bold-circle-outline mid-12px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 61\n            }, this), \" \", t(\"Advance\")]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(ModalCloseOptions, {\n        onSaveProcess: onSaveProcess,\n        isOpen: displayModalCloseOptions,\n        toggle: () => {\n          toggleModalCloseOptions();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModalAdvanceOptions, {\n        onSaveProcess: onSaveProcess,\n        isOpen: displayModalAdvanceOptions,\n        toggle: () => {\n          toggleModalAdvanceOptions();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModalEndProcess, {\n        onSaveEndProcess: onSaveEndProcess,\n        isOpen: displayModalEndProcess,\n        toggle: () => {\n          showModalEndProcess(false);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 9\n      }, this), successSave_dlg ? /*#__PURE__*/_jsxDEV(SweetAlert, {\n        success: true,\n        title: t(\"SuccessDialog\"),\n        confirmButtonText: t(\"Confirm\"),\n        cancelButtonText: t(\"Cancel\"),\n        onConfirm: () => {\n          setsuccessSave_dlg(false);\n          history.push(url.URL_DASHBOARD);\n        },\n        children: t(\"SuccessSaveMessage\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 11\n      }, this) : null, error_dlg ? /*#__PURE__*/_jsxDEV(SweetAlert, {\n        error: true,\n        title: t(\"ErrorDialog\"),\n        confirmButtonText: t(\"Confirm\"),\n        cancelButtonText: t(\"Cancel\"),\n        onConfirm: () => {\n          seterror_dlg(false);\n        },\n        children: error_msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 429,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ListaExclusion, \"R58vplxRJRgAH71ihiNGYjVA6sA=\", false, function () {\n  return [useHistory, useLocation, useTranslation];\n});\n\n_c = ListaExclusion;\nexport default withTranslation()(ListaExclusion);\n\nvar _c;\n\n$RefreshReg$(_c, \"ListaExclusion\");","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/18_ListaExclusion/index.js"],"names":["React","useState","PropTypes","useLocation","useHistory","LoadingOverlay","ModalEndProcess","OPTs","url","Row","Col","Card","CardBody","Label","CardFooter","CardHeader","Button","AvForm","AvField","Link","Breadcrumbs","withTranslation","FormResult","ModalAdvanceOptions","ModalCloseOptions","BackendServices","CoreServices","BpmServices","SweetAlert","useTranslation","InfoBpmModel","LogProcessModel","LogProcess","saveLogProcess","HorizontalSteeper","LIST","ListaExclusion","props","isReadOnly","setReadOnly","history","location","locationData","setLocationData","undefined","t","i18n","dataList","setDataList","dataListSelected","setDataListSelected","isActiveLoading","setIsActiveLoading","successSave_dlg","setsuccessSave_dlg","error_dlg","seterror_dlg","error_msg","seterror_msg","displayModalAdvanceOptions","setDisplayModalAdvanceOptions","displayModalCloseOptions","setDisplayModalCloseOptions","displayModalEndProcess","setdisplayModalEndProcess","mainDebtor","setmainDebtor","backendServices","setbackendServices","bpmServices","setbpmServices","checked","setchecked","listDetail","setListDetail","useEffect","data","transactionId","length","push","URL_DASHBOARD","sessionStorage","setItem","JSON","stringify","fetchData","result","getItem","parse","loadDetail","lista","document","getElementsByClassName","i","j","exclusionCatListId","exclusionId","getElementById","map","index","fontSize","marginRight","__html","console","log","readOnly","taskStatus","checkAndStartTask","then","iniresult","loadMainDebtor","initializeData","locdata","processNumber","queryListExclusion","exclusionCatListDTOList","catch","error","consultListExclusionChecked","transactId","datos","getExclusionApplicationListDTOList","startProcess","status","taskId","startedStatusTask","resp","removeBodyCss","body","classList","add","InputData","consultPrincipalDebtor","UpdateData","instanceId","currentProcessId","nextProcessId","responsible","requestId","post","URL_BACKEND_TRAMITES","actualizarTramite","toggleModalAdvanceOptions","toggleModalCloseOptions","onSelectOption","e","saveListExclusion","removeCheckedExclusionList","checkSelectedOptions","checkboxes","check","onSaveProcess","PROCESS_INFORMEGESTION","option","tipo","PROCESS_CANCELPROCESS","saveJBPMProcess","validacion","maindebtor","infoBpmModel","personId","personName","typePerson","name","name2","lastName","lastName2","abortProcess","saveAutoLog","PROCESS_LISTAEXCLUSION","processId","activityId","ACT_NONE","values","toString","customerId","updatevariables","ACT_DATOSGENERALES","pathname","URL_MANAGEMENTREPORT","showModalEndProcess","show","onSaveEndProcess","txtComment","UpdateDataModel","APPLICATION_STATUS","BPM_ACTIVITY_03","clientId","observations","id","statusDescription","marginTop","marginBottom","textAlign","margin"],"mappings":"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","sourcesContent":["/*ExclusionList = Lista de Exclusion*/\r\nimport React, { useState } from \"react\"\r\nimport PropTypes from 'prop-types';\r\nimport { useLocation, useHistory } from 'react-router-dom'\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ModalEndProcess from \"../../../components/EndProcess/ModalEndProcess\"\r\nimport * as OPTs from \"../../../helpers/options_helper\"\r\nimport * as url from \"../../../helpers/url_helper\"\r\n\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardBody,\r\n  Label,\r\n  CardFooter,\r\n  CardHeader,\r\n  Button\r\n} from \"reactstrap\"\r\n\r\nimport { AvForm, AvField } from \"availity-reactstrap-validation\"\r\nimport { Link } from \"react-router-dom\"\r\n//Import Breadcrumb\r\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\"\r\n\r\n//i18n\r\nimport { withTranslation } from \"react-i18next\"\r\n\r\nimport FormResult from \"./FormResultados\"\r\nimport ModalAdvanceOptions from \"./ModalAdvanceOptions\"\r\nimport ModalCloseOptions from \"./ModalCloseOptions\"\r\nimport { BackendServices, CoreServices, BpmServices, } from \"../../../services\";\r\nimport SweetAlert from \"react-bootstrap-sweetalert\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { InfoBpmModel } from '../../../models/Common/InfoBpmModel';\r\n\r\nimport { LogProcessModel } from '../../../models/Common/LogProcessModel';\r\nimport LogProcess from \"../../../components/LogProcess/index\";\r\n\r\nimport { saveLogProcess } from \"../../../helpers/logs_helper\";\r\n\r\nimport HorizontalSteeper from \"../../../components/Common/HorizontalSteeper\";\r\n\r\nconst LIST = [\r\n  \"Trabajo forzoso significa todo trabajo o servicio, que no se realiza voluntariamente, que se extrae de un individuo bajo la amenaza de la fuerza o la pena según lo definido en los convenios de la OIT.\",\r\n  \"Las personas solo pueden ser empleadas si tienen al menos 14 años, como se define en los Convenios Fundamentales de Derechos Humanos de la OIT (Convenio de edad mínima C138, Art.2), a menos que la legislación local especifique la asistencia escolar obligatoria o la edad mínima para trabajar. En tales casos, se aplicará la edad más avanzada.\",\r\n  \"Destrucción significa la (1) eliminación o disminución severa de la integridad de un área causada por un cambio importante a largo plazo en el uso de la tierra o el agua o (2) modificación de un hábitat de tal manera que la capacidad del área para mantener su papel está perdido.\",\r\n  `Las áreas de Alto Valor de Conservación (AVC) se definen como hábitats naturales donde estos valores se consideran de gran importancia o importancia crítica (ver <a href=\"http://www.hcvnetwork.org\" target=\"_blank\">http://www.hcvnetwork.org)</a>.`,\r\n  \"Esto no se aplica a la compra de equipos médicos, equipos de control de calidad o cualquier otro equipo donde se entiende que la fuente radiactiva es trivial y / o está adecuadamente protegida.\",\r\n  \"Para las empresas, \\\"sustancial\\\" significa más del 10% de sus balances o ganancias consolidadas.<br>Para las instituciones financieras y los fondos de inversión, \\\"sustancial\\\" significa más del 10% de su cartera subyacente.\",\r\n  \"Se exceptúan la producción y/ o distribución de cerveza, vinos, ron y seco (bebida alcohólica destilada de la caña de azúcar de origen panameño).\",\r\n]\r\n\r\nconst ListaExclusion = props => {\r\n\r\n  const [isReadOnly, setReadOnly] = useState(false);\r\n\r\n  const history = useHistory();\r\n  const location = useLocation()\r\n  //Data que recibimos en el location\r\n  const [locationData, setLocationData] = useState(undefined);\r\n\r\n  const { t, i18n } = useTranslation();\r\n\r\n  const [dataList, setDataList] = useState([]); //items de la lista de exclusion\r\n  const [dataListSelected, setDataListSelected] = useState([]); //items selected de la lista de exclusion       \r\n  const [isActiveLoading, setIsActiveLoading] = useState(false);\r\n  const [successSave_dlg, setsuccessSave_dlg] = useState(false);\r\n  const [error_dlg, seterror_dlg] = useState(false);\r\n  const [error_msg, seterror_msg] = useState(\"\");\r\n  const [displayModalAdvanceOptions, setDisplayModalAdvanceOptions] = useState(false);\r\n  const [displayModalCloseOptions, setDisplayModalCloseOptions] = useState(false);\r\n  const [displayModalEndProcess, setdisplayModalEndProcess] = useState(false);\r\n\r\n  const [mainDebtor, setmainDebtor] = useState(null);\r\n  //Servicios\r\n  const [backendServices, setbackendServices] = useState(new BackendServices());\r\n  const [bpmServices, setbpmServices] = useState(new BpmServices());\r\n\r\n  const [checked, setchecked] = useState(false);\r\n  const [listDetail, setListDetail] = useState(undefined);\r\n  //On Mounting (componentDid Mount)\r\n  React.useEffect(() => {\r\n    if (location.data !== null && location.data !== undefined) {\r\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n        //location.data.transactionId = 0;\r\n        //checkAndCreateProcedure(location.data);\r\n        history.push(url.URL_DASHBOARD);\r\n      }\r\n      else {\r\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n        setLocationData(location.data);\r\n        fetchData(location.data);\r\n      }\r\n    }\r\n    else {\r\n      //chequeamos si tenemos guardado en session\r\n      var result = sessionStorage.getItem('locationData');\r\n      if (result !== undefined && result !== null) {\r\n        result = JSON.parse(result);\r\n        setLocationData(result);\r\n        fetchData(result);\r\n      }\r\n    }\r\n\r\n    loadDetail()\r\n  }, []);\r\n  React.useEffect(() => {\r\n    let lista = document.getElementsByClassName(\"listaExclusion\");\r\n    for (var i = 0; i < lista.length; i++) {\r\n      for (let j = 0; j < dataListSelected.length; j++) {\r\n        if (dataListSelected[j].exclusionCatListId == dataList[i].exclusionId) {\r\n          document.getElementById(dataList[i].exclusionId).checked = true;\r\n          setchecked(true);\r\n        }\r\n      }\r\n    }\r\n  }, [props, dataListSelected]);\r\n\r\n  function loadDetail() {\r\n    setListDetail(LIST.map((listDetail, index) => (\r\n      <div key={index}>\r\n        <div className=\"d-flex flex-row mx-3\" style={{ fontSize: '12px' }}>\r\n          <Label style={{ marginRight: '15px' }}>\r\n            {index + 1})\r\n          </Label>\r\n          <p className=\"m-0\" dangerouslySetInnerHTML={{ __html: listDetail }}>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    )))\r\n  }\r\n\r\n  //Caraga Inicial de datos\r\n  function fetchData(locationData) {\r\n    console.log(locationData);\r\n    if (locationData.readOnly != null) {\r\n      setReadOnly(locationData.readOnly);\r\n      if (locationData.readOnly && locationData.taskStatus == \"Reservado\") {\r\n        bpmServices.checkAndStartTask(locationData)\r\n          .then((iniresult) => {\r\n            if (iniresult === false) {\r\n              history.push(url.URL_DASHBOARD);\r\n            }\r\n          });\r\n      }\r\n    } else {\r\n      setReadOnly(false);\r\n    }\r\n\r\n    loadMainDebtor(locationData);\r\n    setLocationData(locationData);\r\n    initializeData(locationData);\r\n  }\r\n\r\n  //Caraga Inicial\r\n  function initializeData(locdata) {\r\n    var processNumber = locdata ? locdata.transactionId : null;\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                     Buscar en Servicio el ExclisionList de este proceso...                     */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    backendServices.queryListExclusion().then((data) => {\r\n      setDataList(data.exclusionCatListDTOList);\r\n    }).catch((error) => {\r\n      console.error('api error: ', error);\r\n    });\r\n    //{ transactId: location.data.transactionId, processId: location.data.processId, activityId: location.data.activityId }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                       Obtenemos los datos de la lista de exclusion record                      */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    if (processNumber != null) {\r\n      backendServices.consultListExclusionChecked({ transactId: processNumber }).then((data) => {\r\n        let datos = data.getExclusionApplicationListDTOList;\r\n        setDataListSelected(datos);\r\n\r\n      }).catch((error) => {\r\n        console.error('api error: ', error);\r\n      });\r\n    }\r\n  }\r\n  function startProcess(status, taskId) {\r\n    if (status === \"Ready\") {\r\n      bpmServices.startedStatusTask(taskId).then(resp => {\r\n        if (resp === undefined) {\r\n          history.push(url.URL_DASHBOARD);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  function removeBodyCss() {\r\n    document.body.classList.add(\"no_padding\")\r\n  }\r\n  function loadMainDebtor(InputData) {\r\n    backendServices.consultPrincipalDebtor(InputData.transactionId).then(resp => {\r\n      //resp.personType\r\n      //resp.identificationType\r\n      //resp.customerNumberT24\r\n      //resp.firstName\r\n      //resp.secondName\r\n      //resp.firstLastName\r\n      //resp.secondLastName\r\n      //resp.customerDocumentId\r\n      // dataReturn.nuevoDato = \"\"\r\n      setmainDebtor(resp)\r\n    })\r\n  }\r\n\r\n  async function UpdateData(){\r\n    //moment().valueOf()\r\n    var data = {\r\n      transactId: transactId,//9330\r\n      instanceId: \"-2\",//moment().valueOf().toString(),//instanceId,//\"9330\"\r\n      currentProcessId: currentProcessId,//1\r\n      nextProcessId: nextProcessId,//2\r\n      responsible: responsible,//\"admin\"\r\n      requestId: requestId//\"1\"\r\n    }\r\n    console.log(\"nuevoTramite\", data);\r\n    result = await this.post(url.URL_BACKEND_TRAMITES, data);\r\n\r\n    data.transactId = result.transactId;\r\n    data.instanceId = result.transactId\r\n\r\n    result = await backendServices.actualizarTramite(data)\r\n  }\r\n\r\n  //Modal Opciones para avanzar\r\n  function toggleModalAdvanceOptions() {\r\n    setDisplayModalAdvanceOptions(!displayModalAdvanceOptions);\r\n  }\r\n  //Modal Opciones al Salir\r\n  function toggleModalCloseOptions() {\r\n    setDisplayModalCloseOptions(!displayModalCloseOptions);\r\n  }\r\n\r\n  function onSelectOption(e) {\r\n    if (document.getElementById(e.exclusionId).checked) {\r\n      setchecked(true);\r\n      backendServices.saveListExclusion(locationData.transactionId, e.exclusionId).then(resp => {\r\n        if (resp === undefined) {\r\n          //Mensaje ERROR\r\n          seterror_msg(t(\"ErrorSaveMessage\") + \" \" + t(\"ExclusionList\"))\r\n          seterror_dlg(false)\r\n          return;\r\n        }\r\n      });\r\n    } else {\r\n      setchecked(false);\r\n      backendServices.removeCheckedExclusionList(locationData.transactionId, e.exclusionId).then(resp => {\r\n        if (resp === undefined) {\r\n          //Mensaje ERROR\r\n          seterror_msg(t(\"ErrorSaveMessage\") + \" \" + t(\"ExclusionList\"))\r\n          seterror_dlg(false)\r\n          return;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  //Chequear si existen opciones seleccionadas en la lista\r\n  function checkSelectedOptions() {\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*              chequear si tiene seleccionada alguna opcion de la lista de exclusion             */\r\n    /*              mostrar mensaje para confirmacion y finalizar proceso                             */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    var checkboxes = document.getElementsByClassName(\"listaExclusion\");\r\n    let check = 0;\r\n    for (var i = 0; i < checkboxes.length; i++) {\r\n      if (checkboxes[i].checked) {\r\n        check++;\r\n      }\r\n    }\r\n\r\n    if (check > 0) {\r\n      setDisplayModalAdvanceOptions(true);\r\n    } else {\r\n      //Avanzamos el Proceso\r\n      onSaveProcess(OPTs.PROCESS_INFORMEGESTION);\r\n    }\r\n  }\r\n\r\n  //Salvando el Proceso y le pasamos una opcion: 1-Finalizar Proceso, 2- Salvarlo, 3- A Cumplimmineto, 4- Avanzar a IGR\r\n  function onSaveProcess(option) {\r\n    let tipo = false;\r\n    switch (option) {\r\n      case OPTs.PROCESS_INFORMEGESTION: {\r\n        //Guardamos la seleccion\r\n        var checkboxes = document.getElementsByClassName(\"listaExclusion\");\r\n        for (var i = 0; i < checkboxes.length; i++) {\r\n          if (checkboxes[i].checked) {\r\n            tipo = true;\r\n            option = OPTs.PROCESS_CANCELPROCESS;\r\n          }\r\n        }\r\n        break;\r\n      }\r\n    }\r\n\r\n\r\n    saveJBPMProcess(option, tipo);\r\n\r\n  }\r\n\r\n  async function saveJBPMProcess(option, validacion = false) {\r\n\r\n    var maindebtor = await backendServices.consultPrincipalDebtor(locationData.transactionId)\r\n\r\n    var infoBpmModel = new InfoBpmModel(\r\n      locationData.infoBpmModel?.instanceId ?? locationData.instanceId,\r\n      locationData.infoBpmModel?.transactId ?? locationData.transactionId,\r\n      0, 0,\r\n      maindebtor?.personId\r\n    );\r\n    infoBpmModel.personName = maindebtor !== undefined ? (maindebtor.typePerson == \"2\" ? maindebtor.name : (maindebtor.name + \" \" + maindebtor.name2 + \" \" + maindebtor.lastName + \" \" + maindebtor.lastName2)) : \"\";\r\n\r\n    switch (option) {\r\n      case OPTs.PROCESS_CANCELPROCESS: {\r\n        bpmServices.abortProcess(infoBpmModel.instanceId)\r\n          .then((data) => {\r\n            if (data !== undefined) {\r\n              saveAutoLog(null, validacion)\r\n              history.push(url.URL_DASHBOARD);\r\n            }\r\n            else {\r\n              //Mensaje ERROR\r\n              seterror_msg(t(\"ErrorSaveMessage\"))\r\n              seterror_dlg(false)\r\n            }\r\n          });\r\n        break;\r\n      }\r\n      case OPTs.PROCESS_LISTAEXCLUSION: {\r\n        infoBpmModel.processId = OPTs.PROCESS_LISTAEXCLUSION;\r\n        infoBpmModel.activityId = OPTs.ACT_NONE;\r\n\r\n        var values = {\r\n          \"info\": JSON.stringify(infoBpmModel),\r\n          \"processId\": OPTs.PROCESS_LISTAEXCLUSION.toString(),\r\n          \"activityId\": OPTs.ACT_NONE.toString(),\r\n          \"transactionId\": locationData.transactionId.toString(),\r\n          \"customerId\": locationData.customerId.toString(),\r\n          \"applicationNumber\": \"\",\r\n          \"procedureNumber\": \"\",\r\n          //\"decision\":\"no\"          \r\n        };\r\n        bpmServices.updatevariables(locationData.instanceId, values)\r\n          .then((data) => {\r\n            if (data !== undefined) {\r\n              history.push(url.URL_DASHBOARD);\r\n            }\r\n            else {\r\n              //Mensaje ERROR\r\n              seterror_msg(t(\"ErrorSaveMessage\"))\r\n              seterror_dlg(false)\r\n            }\r\n          });\r\n\r\n        break;\r\n      }\r\n      case OPTs.PROCESS_INFORMEGESTION: {\r\n        infoBpmModel.processId = OPTs.PROCESS_INFORMEGESTION;\r\n        infoBpmModel.activityId = OPTs.ACT_NONE;\r\n\r\n        var values = {\r\n          \"info\": JSON.stringify(infoBpmModel),\r\n          \"processId\": OPTs.PROCESS_INFORMEGESTION.toString(),\r\n          \"activityId\": OPTs.ACT_DATOSGENERALES.toString(),\r\n          \"transactionId\": locationData.transactionId.toString(),\r\n          \"customerId\": locationData.customerId.toString(),\r\n          \"applicationNumber\": \"\",\r\n          \"procedureNumber\": \"\",\r\n          //\"decision\":\"no\"          \r\n        };\r\n        bpmServices.updatevariables(locationData.instanceId, values)\r\n          .then((data) => {\r\n            if (data !== undefined) {\r\n              saveAutoLog(null)\r\n              history.push({\r\n                pathname: url.URL_MANAGEMENTREPORT,\r\n                data: locationData,\r\n              });\r\n            }\r\n            else {\r\n              //Mensaje ERROR\r\n              seterror_msg(t(\"ErrorSaveMessage\"))\r\n              seterror_dlg(false)\r\n            }\r\n          });\r\n\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  ////////// PARTE ES LA FINAL DEL PROCESO ///////\r\n  //Modal Para mostrar Comentario de Fin de Proceso\r\n  function showModalEndProcess(show = true) {\r\n    setdisplayModalEndProcess(show);\r\n  }\r\n\r\n  //salvar comentario de end process\r\n  function onSaveEndProcess(values) {\r\n\r\n    //Salvar los comentarios en Bitacora    \r\n    locationData[\"endProcessComment\"] = values.txtComment;\r\n\r\n    UpdateDataModel(locationData);\r\n\r\n    onSaveProcess(OPTs.PROCESS_CANCELPROCESS);\r\n  }\r\n\r\n  //Actualizamos El Modelo de Datos segun va cambiando\r\n  function UpdateDataModel(data) {\r\n    setLocationData(data);\r\n  }\r\n\r\n  async function saveAutoLog(APPLICATION_STATUS, validacion = false) {\r\n    var mainDebtor = await backendServices.consultPrincipalDebtor(locationData.transactionId);\r\n    var log = new LogProcessModel(locationData.instanceId, locationData.transactionId, 0, \"\", \"\", OPTs.PROCESS_LISTAEXCLUSION, OPTs.ACT_NONE, OPTs.BPM_ACTIVITY_03)\r\n    log.clientId = mainDebtor?.personId ?? log.clientId;\r\n    log.observations = validacion ? t(\"Presents a match in the exclusion list\") : t(\"NotCoincidenceInExclusionList\");\r\n    log.requestId = APPLICATION_STATUS?.id ?? 0;\r\n    log.statusDescription = APPLICATION_STATUS?.name ?? \"\";\r\n    saveLogProcess(log);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"page-content\">\r\n        <Breadcrumbs title={t(\"CommercialCredit\")} breadcrumbItem={t(\"ExclusionList\")} />\r\n\r\n        <HorizontalSteeper processNumber={1} activeStep={1}></HorizontalSteeper>\r\n\r\n        <LoadingOverlay active={isActiveLoading} spinner text={t(\"WaitingPlease\")}>\r\n          {!isReadOnly ?\r\n            <Row style={{ marginTop: \"0px\", marginBottom: \"15px\" }}>\r\n              <Col md={3} style={{ textAlign: \"left\" }}>\r\n                <Button color=\"danger\" style={{ margin: '5px 0px' }} type=\"button\" onClick={() => { showModalEndProcess() }}><i className=\"mdi mdi-cancel mid-12px\"></i> {t(\"CancelProcess\")}</Button>\r\n              </Col>\r\n              <Col md={9} style={{ textAlign: \"right\" }}>\r\n                <Button color=\"primary\" type=\"button\" style={{ marginRight: \"5px\" }} onClick={() => { onSaveProcess(OPTs.PROCESS_LISTAEXCLUSION) }}><i className=\"mdi mdi-content-save-outline mid-12px\"></i> {t(\"Exit\")}</Button>\r\n                <Button color=\"success\" type=\"button\" style={{}}\r\n                  onClick={() => { checkSelectedOptions(); }}><i className=\"mdi mdi-arrow-right-bold-circle-outline mid-12px\"></i> {t(\"Advance\")}</Button>\r\n              </Col>\r\n            </Row> : <Row style={{ marginBottom: \"15px\" }} />\r\n          }\r\n\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <Row>\r\n                <Col md={6}>\r\n                  <h4 className=\"card-title\">{t(\"ExclusionList\")}</h4>\r\n                  <p className=\"card-title-desc\">{t(\"Selectifyoumeetanyofthefollowingpoints\")}</p>\r\n                </Col>\r\n                <Col md={6}>\r\n                  <Row>\r\n                    <Col sm={12} style={{ textAlign: \"right\" }}>\r\n                      <h5 className=\"card-title title-header\">{mainDebtor != null ? (mainDebtor.typePerson === \"1\" ? (mainDebtor.name + \" \" + mainDebtor.name2 + \" \" + mainDebtor.lastName + \" \" + mainDebtor.lastName2) : (mainDebtor.name)) : \"\"} </h5>\r\n                    </Col>\r\n                    <Col sm={12} style={{ textAlign: \"right\" }}>\r\n                      <h5 className=\"card-title\" style={{ textAlign: \"right\" }}>{t(\"Tramit\")}:{\" \"}#{locationData?.transactionId}</h5>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n              </Row>\r\n            </CardHeader>\r\n            <CardBody>\r\n              {dataList.length > 0 && (\r\n                <FormResult results={dataList} dataCheck={dataListSelected} setDataListSelected={setDataListSelected} onSelectOption={onSelectOption} />\r\n              )}\r\n            </CardBody>\r\n            <CardFooter>\r\n              {listDetail}\r\n              {/*\r\n              <Row>\r\n                <Col md={3} style={{ textAlign: \"left\"}}>\r\n                  <Button color=\"danger\" style={{ margin: '5px 0px' }} type=\"button\" onClick={() => { showModalEndProcess() }}><i className=\"mdi mdi-cancel mid-12px\"></i> {t(\"CancelProcess\")}</Button>\r\n                </Col>\r\n                <Col md={9} style={{ textAlign: \"right\"}}>\r\n                  <Button color=\"primary\" type=\"button\" style={{ margin: '5px' }} onClick={() => { onSaveProcess(OPTs.PROCESS_LISTAEXCLUSION) }}><i className=\"mdi mdi-content-save-outline mid-12px\"></i> {t(\"Exit\")}</Button>\r\n                  <Button color=\"success\" type=\"button\"\r\n                    onClick={() => { checkSelectedOptions(); }}><i className=\"mdi mdi-arrow-right-bold-circle-outline mid-12px\"></i> {t(\"ManagementReport\")}</Button>\r\n                </Col>\r\n              </Row>\r\n              */}\r\n            </CardFooter>\r\n          </Card>\r\n\r\n          {(locationData !== undefined && locationData.customerId !== null && locationData.customerId !== undefined && locationData.customerId.length > 0) ? (<LogProcess locationData={locationData} />) : null}\r\n\r\n        </LoadingOverlay>\r\n\r\n        {locationData ?\r\n          <LogProcess logProcessModel={new LogProcessModel(locationData.instanceId, locationData.transactionId, 0, \"\", \"\", OPTs.PROCESS_LISTAEXCLUSION, OPTs.ACT_NONE, OPTs.BPM_ACTIVITY_03)} />\r\n          : null}\r\n\r\n        {!isReadOnly ?\r\n          <Row style={{ marginTop: \"0px\", marginBottom: \"15px\" }}>\r\n            <Col md={3} style={{ textAlign: \"left\" }}>\r\n              <Button color=\"danger\" style={{ margin: '5px 0px' }} type=\"button\" onClick={() => { showModalEndProcess() }}><i className=\"mdi mdi-cancel mid-12px\"></i> {t(\"CancelProcess\")}</Button>\r\n            </Col>\r\n            <Col md={9} style={{ textAlign: \"right\" }}>\r\n              <Button color=\"primary\" type=\"button\" style={{ marginRight: \"5px\" }} onClick={() => { onSaveProcess(OPTs.PROCESS_LISTAEXCLUSION) }}><i className=\"mdi mdi-content-save-outline mid-12px\"></i> {t(\"Exit\")}</Button>\r\n              <Button color=\"success\" type=\"button\" style={{}}\r\n                onClick={() => { checkSelectedOptions(); }}><i className=\"mdi mdi-arrow-right-bold-circle-outline mid-12px\"></i> {t(\"Advance\")}</Button>\r\n            </Col>\r\n          </Row> : null\r\n        }\r\n\r\n\r\n\r\n\r\n        <ModalCloseOptions onSaveProcess={onSaveProcess} isOpen={displayModalCloseOptions} toggle={() => { toggleModalCloseOptions() }} />\r\n        <ModalAdvanceOptions onSaveProcess={onSaveProcess} isOpen={displayModalAdvanceOptions} toggle={() => { toggleModalAdvanceOptions() }} />\r\n        <ModalEndProcess onSaveEndProcess={onSaveEndProcess} isOpen={displayModalEndProcess} toggle={() => { showModalEndProcess(false) }} />\r\n\r\n        {successSave_dlg ? (\r\n          <SweetAlert\r\n            success\r\n            title={t(\"SuccessDialog\")}\r\n            confirmButtonText={t(\"Confirm\")}\r\n            cancelButtonText={t(\"Cancel\")}\r\n            onConfirm={() => {\r\n              setsuccessSave_dlg(false)\r\n\r\n              history.push(url.URL_DASHBOARD);\r\n            }}\r\n          >\r\n            {t(\"SuccessSaveMessage\")}\r\n          </SweetAlert>\r\n        ) : null}\r\n\r\n        {error_dlg ? (\r\n          <SweetAlert\r\n            error\r\n            title={t(\"ErrorDialog\")}\r\n            confirmButtonText={t(\"Confirm\")}\r\n            cancelButtonText={t(\"Cancel\")}\r\n            onConfirm={() => {\r\n              seterror_dlg(false)\r\n            }}\r\n          >\r\n            {error_msg}\r\n          </SweetAlert>\r\n        ) : null}\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default (withTranslation()(ListaExclusion))\r\n"]},"metadata":{},"sourceType":"module"}