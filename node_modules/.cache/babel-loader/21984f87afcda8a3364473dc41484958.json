{"ast":null,"code":"var _jsxFileName = \"D:\\\\_PROJECTS\\\\_SOAINT\\\\JBPM\\\\App\\\\banescocreditoscomerciales\\\\src\\\\pages\\\\CommercialCredit\\\\5_PropuestaCredito\\\\Secciones\\\\FacilidadesSeccion.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useRef, useEffect } from \"react\";\nimport PropTypes from 'prop-types';\nimport { Link } from \"react-router-dom\";\nimport SweetAlert from \"react-bootstrap-sweetalert\";\nimport { Table, Card, CardBody, Button, Row, Col, Label, Alert } from \"reactstrap\";\nimport { AvForm, AvGroup, AvField, AvInput } from \"availity-reactstrap-validation\";\nimport listaFacilidades from \"../../../../api/bpm/propuestacredito/facilidades\";\nimport { Facilidad } from \"../../../../models/PropuestaCredito\";\nimport { BackendServices, CoreServices } from \"../../../../services\";\nimport Select from \"react-select\";\nimport ComisionSeccion from \"./Comision\";\nimport DisbursementSection from \"./DisturbementSeccion\";\nimport WarrantsSection from \"./WarrantsSection\";\nimport SuretiesSection from \"./SuretiesSection\";\nimport Switch from \"react-switch\";\nimport { useLocation, useHistory } from 'react-router-dom';\nimport * as url from \"../../../../helpers/url_helper\";\nimport Currency from \"../../../../helpers/currency\";\nimport { useTranslation } from \"react-i18next/\";\nimport FacilityHistory from \"../../../../components/Common/FacilityHistory\";\nimport LoadingOverlay from \"react-loading-overlay\";\nimport AttachmentFileCore from \"../../../../components/Common/AttachmentFileCore\";\nimport { AttachmentFileInputModel } from \"../../../../models/Common/AttachmentFileInputModel\";\nimport * as OPTs from \"../../../../helpers/options_helper\";\nimport TreasuryCurve from \"./treasuryCurve.model\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Offsymbol = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      height: \"100%\",\n      fontSize: 12,\n      color: \"#fff\",\n      paddingRight: 2\n    },\n    children: [\" \", \"No\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n\n_c = Offsymbol;\n\nconst OnSymbol = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      height: \"100%\",\n      fontSize: 12,\n      color: \"#fff\",\n      paddingRight: 2\n    },\n    children: [\" \", \"Si\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_c2 = OnSymbol;\nconst ListaFacilidad = /*#__PURE__*/React.forwardRef(_c3 = _s((props, ref) => {\n  var _dataSet$amount, _document$getElementB4, _dataSet$startingAmou, _dataSet$balance, _dataSet$proposalRate, _dataSet$noSubsidyRat, _parseFloat, _rateProposalTreasury, _rateProposalTreasury2, _dataSet$creditRiskOp;\n\n  _s();\n\n  const location = useLocation();\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  const [dataSet, setdataSet] = useState({\n    \"requestId\": \"\",\n    \"cr\": \"\",\n    \"amount\": 0,\n    \"debtor\": \"\",\n    \"clientTypeId\": 0,\n    \"balance\": 0,\n    \"proposalTypeId\": \"\",\n    \"proposalTypeName\": \"\",\n    \"facilityTypeId\": \"\",\n    \"purpose\": \"\",\n    \"sublimits\": \"\",\n    \"proposalRate\": 0,\n    \"noSubsidyRate\": 0,\n    \"effectiveRate\": 0,\n    \"feci\": true,\n    \"termDays\": 0,\n    \"termDescription\": \"\",\n    \"ltv\": 0,\n    \"finantialConditions\": \"\",\n    \"environmentRiskCategory\": 0,\n    \"covenant\": \"\",\n    \"environmentRiskOpinion\": \"\",\n    \"finantialCovenant\": \"\",\n    \"legalDocumentation\": \"\",\n    \"creditRiskOpinion\": \"\",\n    \"provision\": \"\",\n    \"numero\": \"\",\n    \"otherConditions\": \"\",\n    \"facilityId\": 0\n  });\n  const [datosUsuario, setdatosUsuario] = useState(null);\n  const [dataValidation, setdataValidation] = useState({\n    tipoPropuestaRequerido: false,\n    subPropuestaRequerido: false,\n    tipoFacilidadRequerido: false\n  });\n  const [context, setcontext] = useState(location.data);\n  const propostalSectionRef = useRef();\n  const [formValid, setFormValid] = useState(false);\n  const [dataLocation, setData] = useState(location.data);\n  const [commissions, setCommissions] = useState([]);\n  const [disbursementTerms, setDisbursementTerms] = useState([]);\n  const [paymentPrograms, setPaymentPrograms] = useState([]);\n  const [disbursementMethods, setDisbursementMethods] = useState([]);\n  const [warrants, setWarrants] = useState([]);\n  const [sureties, setSureties] = useState([]);\n  const [garantiaET, setgarantiaET] = useState([]);\n  const [ViewSeccion, setViewSeccion] = useState(false);\n  const backendServices = new BackendServices(); // Variables para alertas\n\n  const [successSave_dlg, setsuccessSave_dlg] = useState(false);\n  const [error_dlg, seterror_dlg] = useState(false);\n  const [error_msg, seterror_msg] = useState(\"\");\n  const [info_dlg, setinfo_dlg] = useState(false);\n  const [info_msg, setinfo_msg] = useState(\"\");\n  const [dynamic_title, setdynamic_title] = useState(\"\");\n  const [confirm_alert, setconfirm_alert] = useState(false);\n  const [confirm_alertDelete, setconfirm_alertDelete] = useState(false);\n  const [success_dlg, setsuccess_dlg] = useState(false);\n  const [applyEscrow, setapplyEscrow] = useState(false);\n  const [isActiveLoading, setIsActiveLoading] = useState(false);\n  const history = useHistory();\n  const currencyData = new Currency();\n  const [locationData, setLocationData] = useState(null);\n  const [checkSubProp, setcheckSubProp] = useState(false);\n  const [campoTasa, setcampoTasa] = useState(false);\n  const [campoTasa2, setcampoTasa2] = useState(false);\n  const [campoTasa3, setcampoTasa3] = useState(false);\n  const [campoTasa4, setcampoTasa4] = useState(false);\n  const [PropotalRate, setPropotalRate] = useState(0);\n  const [TotalPropotalRate, setTotalPropotalRate] = useState(0);\n  const [historyDetails, setHistoryDetails] = useState(undefined);\n  const termOptions = [{\n    label: `${t(\"ShortTerm\")}`,\n    value: \"CP\"\n  }, {\n    label: `${t(\"LongTerm\")}`,\n    value: \"LP\"\n  }];\n  const [term, setTerm] = useState(null);\n  const [isActiveLoadingFacilities, setIsActiveLoadingFacilities] = useState(false);\n  const [treasuryCurveClass, setTreasuryCurveClass] = useState();\n  const [treasuryCurveMessage, setTreasuryCurveMessage] = useState(false);\n  React.useImperativeHandle(ref, () => ({\n    submit: (validate = true) => {\n      const form = document.getElementById('formNewFacility');\n\n      if (validate) {\n        if (formValid) {\n          form.requestSubmit();\n          return true;\n        }\n\n        return false;\n      } else {\n        form.requestSubmit();\n        return true;\n      }\n    },\n    getFormValidation: () => {\n      return formValid;\n    }\n  })); // services\n\n  useEffect(() => {\n    setTerm(undefined);\n    let dataSession;\n\n    if (location.data !== null && location.data !== undefined) {\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\n        //location.data.transactionId = 0;\n        //checkAndCreateProcedure(location.data);\n        history.push(url.URL_DASHBOARD);\n      } else {\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\n        setLocationData(location.data);\n        dataSession = location.data;\n      }\n    } else {\n      //chequeamos si tenemos guardado en session\n      var result = sessionStorage.getItem('locationData');\n\n      if (result !== undefined && result !== null) {\n        result = JSON.parse(result);\n        setLocationData(result);\n        dataSession = result;\n      }\n    } // Read Api Service  ata\n    // consultarDeudorPrincipal\n\n\n    backendServices.consultPrincipalDebtor(dataSession.transactionId).then(resp => {\n      dataSet.numero = resp.clientDocId;\n      setdataSet(dataSet);\n      setdatosUsuario(resp);\n    });\n    backendServices.consultEnvironmentalAspectsIGR(dataSession.transactionId).then(dataAsp => {\n      var _dataAsp$environmenta, _dataAsp$environmenta2;\n\n      setgarantiaET((_dataAsp$environmenta = dataAsp === null || dataAsp === void 0 ? void 0 : (_dataAsp$environmenta2 = dataAsp.environmentalAspectsDTO) === null || _dataAsp$environmenta2 === void 0 ? void 0 : _dataAsp$environmenta2.riskClassificationConfirmation) !== null && _dataAsp$environmenta !== void 0 ? _dataAsp$environmenta : \"\");\n    });\n  }, []);\n\n  async function handleSubmitFacilidad(event, errors, values) {\n    var _document, _document$getElementB, _values$amount, _values$balance, _values$proposalRate, _values$noSubsidyRate, _values$effectiveRate, _values$ltv, _values$startingAmoun;\n\n    // console.log(\"termOptions\", term.value)\n    if (!propuestaSet || !tipoFacilidadSet) {\n      return;\n    }\n\n    if (+((_document = document) === null || _document === void 0 ? void 0 : (_document$getElementB = _document.getElementById(\"amount\")) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.value) < 0) {\n      return;\n    }\n\n    if (campoTasa) {\n      return;\n    }\n\n    if (campoTasa2) {\n      return;\n    }\n\n    if (campoTasa3) {\n      return;\n    } // if (campoTasa4) {\n    //   return;\n    // }\n\n\n    event.preventDefault();\n\n    if (errors.length > 0) {\n      return;\n    }\n\n    setIsActiveLoading(true);\n    console.log(values === null || values === void 0 ? void 0 : values.amount);\n    values.amount = Number(currencyData.getRealValue((_values$amount = values === null || values === void 0 ? void 0 : values.amount) !== null && _values$amount !== void 0 ? _values$amount : 0));\n    values.clientTypeId = Number(1);\n    values.balance = Number(currencyData.getRealValue((_values$balance = values === null || values === void 0 ? void 0 : values.balance) !== null && _values$balance !== void 0 ? _values$balance : 0));\n    values.proposalRate = Number(currencyData.getRealPercent((_values$proposalRate = values === null || values === void 0 ? void 0 : values.proposalRate) !== null && _values$proposalRate !== void 0 ? _values$proposalRate : 0));\n    values.noSubsidyRate = Number(currencyData.getRealPercent((_values$noSubsidyRate = values === null || values === void 0 ? void 0 : values.noSubsidyRate) !== null && _values$noSubsidyRate !== void 0 ? _values$noSubsidyRate : 0));\n    values.effectiveRate = Number(currencyData.getRealPercent((_values$effectiveRate = values === null || values === void 0 ? void 0 : values.effectiveRate) !== null && _values$effectiveRate !== void 0 ? _values$effectiveRate : 0));\n    values.feci = values.feci == \"true\" ? true : false;\n    values.termDays = values.termDays === '' ? 0 : values.termDays;\n    values.ltv = Number(currencyData.getRealPercent((_values$ltv = values === null || values === void 0 ? void 0 : values.ltv) !== null && _values$ltv !== void 0 ? _values$ltv : 0));\n    values.environmentRiskCategory = values.environmentRiskCategory;\n    values.proposalTypeId = tipoPropuestaSelect == undefined ? \" \" : tipoPropuestaSelect.value;\n    values.proposalTypeName = subPropuestaSelect == undefined ? \" \" : subPropuestaSelect.value;\n    values.facilityTypeId = tipoFacilidadSelect == undefined ? \" \" : tipoFacilidadSelect.value;\n    values.termType = terminosSelect == undefined ? \" \" : terminosSelect.value;\n    values.facilityId = dataSet.facilityId;\n    values.requestId = dataGlobalReq !== null && dataGlobalReq !== void 0 ? dataGlobalReq : 0;\n    values.applyEscrow = applyEscrow !== null && applyEscrow !== void 0 ? applyEscrow : false;\n    values.startingAmount = currencyData.getRealValue((_values$startingAmoun = values === null || values === void 0 ? void 0 : values.startingAmount) !== null && _values$startingAmoun !== void 0 ? _values$startingAmoun : 0);\n    values.term = !term ? \" \" : term.value;\n    props.setViewAutonomy(false);\n    saveNewFacility(values).then(result => {\n      // props.onSave(values);\n      // props.onDismiss();\n      props.setViewAutonomy(true);\n    }).catch(err => {\n      console.log(err);\n      props.setViewAutonomy(true);\n    });\n  }\n\n  async function newFacility(data = {\n    \"facilityNumber\": \"0\",\n    \"cr\": \"0\",\n    \"amount\": 0,\n    \"debtor\": \"  \",\n    \"clientTypeId\": 1,\n    \"customer\": {\n      \"id\": \"469303-1-434018\"\n    },\n    \"balance\": 0,\n    \"purpose\": \"\",\n    \"sublimits\": \"\",\n    \"proposalRate\": 0,\n    \"noSubsidyRate\": 0,\n    \"effectiveRate\": 0,\n    \"feci\": false,\n    \"termDays\": 0,\n    \"termDescription\": \"\",\n    \"ltv\": 0,\n    \"finantialConditions\": \" \",\n    \"environmentRiskCategory\": 0,\n    \"covenant\": \" \",\n    \"environmentRiskOpinion\": \" \",\n    \"finantialCovenant\": \" \",\n    \"legalDocumentation\": \"  \",\n    \"otherConditions\": \" \",\n    \"creditRiskOpinion\": \" \",\n    \"provision\": \" \",\n    \"proposalTypeId\": \"\",\n    \"proposalTypeName\": \"\",\n    \"facilityTypeId\": \"\",\n    \"termType\": \"\",\n    \"origin\": \"MVP\",\n    \"applyEscrow\": false,\n    facilityId: 0,\n    \"requestId\": dataGlobalReq !== null && dataGlobalReq !== void 0 ? dataGlobalReq : 0,\n    startingAmount: 0,\n    term: ''\n  }) {\n    var _modelTreasuryCurve$t;\n\n    let modelTreasuryCurve = new TreasuryCurve();\n    await modelTreasuryCurve.initial();\n    setTreasuryCurveClass(modelTreasuryCurve);\n    setTreasuryCurveMessage(((_modelTreasuryCurve$t = modelTreasuryCurve.treasuryCurve) === null || _modelTreasuryCurve$t === void 0 ? void 0 : _modelTreasuryCurve$t.length) === 0); // nuevoFacilidadPropCred\n\n    backendServices.newFacilityPropCred(data).then(async resp => {\n      await backendServices.consultarFacilidades2(dataGlobalReq !== null && dataGlobalReq !== void 0 ? dataGlobalReq : 0).then(async resp2 => {\n        resp2 = resp2.find(facilities => facilities.facilityId == Math.max(...resp2.map(arr => arr.facilityId)));\n        data.facilityId = resp;\n        setViewSeccion(!ViewSeccion);\n        setHistoryDetails(false); // setapplyEscrow(locationData)\n\n        setIsActiveLoading(true);\n        await Promise.allSettled([backendServices.consultarFacilidades(dataGlobalReq !== null && dataGlobalReq !== void 0 ? dataGlobalReq : 0), backendServices.consultarDetalleOpinionRiesgoCredito(locationData.transactionId), backendServices.getEnvironmentalRiskInfo(locationData.transactionId)]).then(response => {\n          var _EnvironmentalRiskInf, _EnvironmentalRiskInf2, _data$proposalTypeId;\n\n          const [{\n            value: Facilidades\n          }, {\n            value: DetalleOpinionRiesgoCredito\n          }, {\n            value: EnvironmentalRiskInfo\n          }] = response;\n          data.covenant = (_EnvironmentalRiskInf = EnvironmentalRiskInfo === null || EnvironmentalRiskInfo === void 0 ? void 0 : EnvironmentalRiskInfo.detail) !== null && _EnvironmentalRiskInf !== void 0 ? _EnvironmentalRiskInf : \"\";\n          data.environmentRiskOpinion = (_EnvironmentalRiskInf2 = EnvironmentalRiskInfo === null || EnvironmentalRiskInfo === void 0 ? void 0 : EnvironmentalRiskInfo.recommendations) !== null && _EnvironmentalRiskInf2 !== void 0 ? _EnvironmentalRiskInf2 : \"\";\n          data.opinionRiskCredit = DetalleOpinionRiesgoCredito.length > 0 ? DetalleOpinionRiesgoCredito[0].opinion : \"\";\n          data.facilityIdVisible = (Facilidades === null || Facilidades === void 0 ? void 0 : Facilidades.filter($$ => $$.debtor != \"  \").length) + 1 || 1;\n          data.facilityId = resp;\n          console.log(data);\n          setIsActiveLoading(false);\n          setTerm(null);\n          setpropuestaSet(null);\n          settipoFacilidadSet(null);\n          setcheckSubProp(false);\n          setsubPropuestaSet(null);\n          settipoPropuestaSelect((_data$proposalTypeId = data === null || data === void 0 ? void 0 : data.proposalTypeId) !== null && _data$proposalTypeId !== void 0 ? _data$proposalTypeId : undefined);\n          setsubPropuestaSelect(undefined);\n          settipoFacilidadSelect(undefined);\n          setdataSet(data);\n          cargarDataSelect(data);\n        }).catch(err => {\n          setIsActiveLoading(false);\n          console.log(err);\n          dataSet.facilityId = resp;\n          setdataSet(dataSet);\n          setTerm(null);\n          setpropuestaSet(null);\n          settipoFacilidadSet(null);\n          setcheckSubProp(false);\n          setsubPropuestaSet(null);\n          settipoPropuestaSelect(undefined);\n          setsubPropuestaSelect(undefined);\n          settipoFacilidadSelect(undefined);\n        });\n      });\n    });\n  }\n\n  function saveNewFacility(values) {\n    return new Promise((resolve, reject) => {\n      const datos = {\n        \"requestId\": values.requestId,\n        \"facilityId\": dataSet.facilityId,\n        \"cr\": values.cr,\n        \"amount\": values.amount,\n        \"debtor\": deudoresListSelect.value,\n        \"clientTypeId\": deudoresListSelect.value,\n        \"balance\": values.balance,\n        \"proposalTypeId\": values.proposalTypeId,\n        \"proposalTypeName\": values.proposalTypeName,\n        // \"facilityTypeId\": values.facilityTypeId,\n        \"facilityTypeId\": values.facilityTypeId,\n        \"purpose\": values.purpose,\n        \"sublimits\": values.sublimits,\n        \"proposalRate\": values.proposalRate,\n        \"noSubsidyRate\": values.noSubsidyRate,\n        \"effectiveRate\": values.effectiveRate,\n        \"feci\": values.feci,\n        \"termDays\": values.termDays,\n        \"termDescription\": values.termDescription,\n        \"ltv\": values.ltv,\n        \"finantialConditions\": values.finantialConditions,\n        \"environmentRiskCategory\": 0,\n        \"covenant\": values.covenant,\n        \"environmentRiskOpinion\": values.environmentRiskOpinion,\n        \"finantialCovenant\": values.finantialCovenant,\n        \"legalDocumentation\": values.legalDocumentation,\n        \"creditRiskOpinion\": values.creditRiskOpinion,\n        \"otherConditions\": values.otherConditions,\n        \"provision\": values.provision,\n        \"applyEscrow\": values.applyEscrow,\n        \"termType\": values.termType,\n        \"startingAmount\": +values.startingAmount,\n        \"term\": values.term,\n        \"origin\": \"MVP\"\n      };\n      console.log(datos);\n      props.setLevelAutonomy(levelAutonomy => levelAutonomy + +datos.amount); // actualizarFacilidadPropCred\n\n      backendServices.updateFacilityPropCred(datos).then(resp => {\n        console.log(\"ðŸš€ ~ file: FacilidadesSeccion.js ~ line 399 ~ backendServices.updateFacilityPropCred ~ resp\", resp);\n\n        if (resp !== null && resp !== undefined) {\n          setViewSeccion(!ViewSeccion);\n          setsuccessSave_dlg(true);\n        } else {\n          seterror_dlg(false);\n        }\n\n        cargarFacilidades(locationData);\n        setIsActiveLoading(false);\n        resetData();\n        resolve();\n      }).catch(err => {\n        console.log(err);\n        seterror_dlg(false);\n        setIsActiveLoading(false);\n        resetData();\n        resolve();\n      });\n    });\n  }\n\n  function handleNewCommission(newItem) {\n    const newCommissions = [...commissions, newItem];\n    setCommissions(newCommissions);\n  }\n\n  function handleDeleteCommission(item) {\n    const itemIndex = commissions.indexOf(item);\n\n    if (itemIndex === -1) {\n      return;\n    }\n\n    const newCommissions = [...commissions];\n    newCommissions.splice(itemIndex, 1);\n    setCommissions(newCommissions);\n  }\n\n  function handleNewDisbursementTerm(newItem) {\n    const newDisbursementTerms = [...disbursementTerms, newItem];\n    setDisbursementTerms(newDisbursementTerms);\n  }\n\n  function handleDeleteDisbursementTerm(item) {\n    const itemIndex = disbursementTerms.indexOf(item);\n\n    if (itemIndex === -1) {\n      return;\n    }\n\n    const newDisbursementTerms = [...disbursementTerms];\n    newDisbursementTerms.splice(itemIndex, 1);\n    setDisbursementTerms(newDisbursementTerms);\n  }\n\n  function handleNewPaymentProgram(newItem) {\n    const newPaymentPrograms = [...paymentPrograms, newItem];\n    setPaymentPrograms(newPaymentPrograms);\n  }\n\n  function handleDeletePaymentProgram(item) {\n    const itemIndex = paymentPrograms.indexOf(item);\n\n    if (itemIndex === -1) {\n      return;\n    }\n\n    const newPaymentPrograms = [...paymentPrograms];\n    newPaymentPrograms.splice(itemIndex, 1);\n    setPaymentPrograms(newPaymentPrograms);\n  }\n\n  function handleNewDisbursementMethod(newItem) {\n    const newDisbursementMethods = [...disbursementMethods, newItem];\n    setDisbursementMethods(newDisbursementMethods);\n  }\n\n  function handleDeleteDisbursementMethod(item) {\n    const itemIndex = disbursementMethods.indexOf(item);\n\n    if (itemIndex === -1) {\n      return;\n    }\n\n    const newDisbursementMethods = [...disbursementMethods];\n    newDisbursementMethods.splice(itemIndex, 1);\n    setDisbursementMethods(newDisbursementMethods);\n  }\n\n  function handleNewWarrant(newItem) {\n    const newWarrants = [...warrants, newItem];\n    setWarrants(newWarrants);\n  }\n\n  function handleDeleteWarrant(item) {\n    const itemIndex = warrants.indexOf(item);\n\n    if (itemIndex === -1) {\n      return;\n    }\n\n    const newWarrants = [...warrants];\n    newWarrants.splice(itemIndex, 1);\n    setWarrants(newWarrants);\n  }\n\n  function handleNewSurety(newItem) {\n    const newSureties = [...sureties, newItem];\n    setSureties(newSureties);\n  }\n\n  function handleDeleteSurety(item) {\n    const itemIndex = sureties.indexOf(item);\n\n    if (itemIndex === -1) {\n      return;\n    }\n\n    const newSureties = [...sureties];\n    newSureties.splice(itemIndex, 1);\n    setSureties(newSureties);\n  } // FUNCIONES PARA PROPOSTALSECTION\n\n\n  const api = new BackendServices();\n  const apiCoreServices = new CoreServices();\n  const [dataReturn, setdataReturn] = useState({\n    proposalTypeId: null,\n    proposalTypeName: null,\n    facilityTypeId: null\n  });\n  const [tipoPropuesta, settipoPropuesta] = useState(null);\n  const [tipoPropuestaSelect, settipoPropuestaSelect] = useState(undefined);\n  const [propuestaSet, setpropuestaSet] = useState(null);\n  const [tipoPropuestaRequerido, settipoPropuestaRequerido] = useState(false);\n  const [subPropuesta, setsubPropuesta] = useState(null);\n  const [subPropuestaSelect, setsubPropuestaSelect] = useState(undefined);\n  const [subPropuestaSet, setsubPropuestaSet] = useState(null);\n  const [subPropuestaRequerido, setsubPropuestaRequerido] = useState(false);\n  const [tipoFacilidad, settipoFacilidad] = useState(null);\n  const [tipoFacilidadSelect, settipoFacilidadSelect] = useState(undefined);\n  const [deudoresListSelect, setdeudoresListSelect] = useState(undefined);\n  const [terminosSelect, setterminosSelect] = useState(undefined);\n  const [tipoFacilidadSet, settipoFacilidadSet] = useState(null);\n  const [deudoresList, setdeudoresList] = useState(null);\n  const [tipo, settipo] = useState(\"guardar\");\n  const [dataRows, setdataRows] = useState(null);\n  const [dataEdit, setdataEdit] = useState(null);\n  const [campoRequeridoDeudores, setcampoRequeridoDeudores] = useState(false);\n  const [MontoFacilidad, setMontoFacilidad] = useState(0);\n  const [dataGlobalReq, setdataGlobalReq] = useState(0);\n  let listaIdentificacion = props.identificationList;\n  const [tipoFacilidadRequerido, settipoFacilidadRequerido] = useState(false);\n  const [facilityNumber, setfacilityNumber] = useState(1);\n  const typeTerms = [{\n    label: t(\"Days\"),\n    value: \"DÃAS\"\n  }, {\n    label: t(\"Months\"),\n    value: \"MESES\"\n  }, {\n    label: t(\"Years\"),\n    value: \"AÃ‘OS\"\n  }];\n  const [proposalRate, setProposalRate] = useState(0);\n  const [rateTreasuryCurve, setRateTreasuryCurve] = useState(false);\n  const [rateProposalTreasuryCurve, setRateProposalTreasuryCurve] = useState({\n    Description: \"\",\n    Code: \"\"\n  });\n  React.useEffect(() => {\n    setterminosSelect(typeTerms[0]); // Read Api Service data\n    // initializeData();\n  }, []);\n  React.useEffect(() => {\n    let dataSession;\n\n    if (location.data !== null && location.data !== undefined) {\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\n        //location.data.transactionId = 0;\n        //checkAndCreateProcedure(location.data);\n        history.push(url.URL_DASHBOARD);\n      } else {\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\n        setLocationData(location.data);\n        dataSession = location.data;\n      }\n    } else {\n      //chequeamos si tenemos guardado en session\n      var result = sessionStorage.getItem('locationData');\n\n      if (result !== undefined && result !== null) {\n        result = JSON.parse(result);\n        setLocationData(result);\n        dataSession = result;\n      }\n    }\n\n    if (props.activeTab == 3) {\n      var _ref, _dataSession$transact, _dataSession, _dataSession2;\n\n      const backendServicesAll = new BackendServices();\n      backendServicesAll.consultGeneralDataPropCred((_ref = (_dataSession$transact = (_dataSession = dataSession) === null || _dataSession === void 0 ? void 0 : _dataSession.transactionId) !== null && _dataSession$transact !== void 0 ? _dataSession$transact : (_dataSession2 = dataSession) === null || _dataSession2 === void 0 ? void 0 : _dataSession2.transactionId) !== null && _ref !== void 0 ? _ref : 0).then(data => {\n        var _data$2;\n\n        console.log(\"ðŸš€ ~ file: FacilidadesSeccion.js ~ line 576 ~ .then ~ data\", data);\n\n        if (data !== undefined) {\n          var _data$;\n\n          setdataGlobalReq((_data$ = data[0]) === null || _data$ === void 0 ? void 0 : _data$.requestId);\n        }\n\n        cargarFacilidades(dataSession, (_data$2 = data[0]) === null || _data$2 === void 0 ? void 0 : _data$2.requestId);\n        initializeData(dataSession);\n      });\n    } // Read Api Service data\n\n  }, [props.activeTab == 3]);\n\n  function cargarFacilidades(dataSession, requestId = dataGlobalReq) {\n    setIsActiveLoadingFacilities(true);\n    api.consultarDeudores(dataSession.transactionId).then(data2 => {\n      if (data2 !== null && data2 !== undefined) {\n        let jsonDeudores = [];\n\n        for (let i = 0; i < data2.length; i++) {\n          jsonDeudores.push({\n            label: data2[i][\"typePerson\"] == 2 ? data2[i][\"name\"] : data2[i][\"name\"] + \" \" + data2[i][\"name2\"] + \" \" + data2[i][\"lastName\"] + \" \" + data2[i][\"lastName2\"],\n            value: data2[i][\"personId\"]\n          }); // jsonDeudores.push({ label: data2[i][\"name\"] + \" \" + data2[i][\"name2\"] + \" \" + data2[i][\"lastName\"] + \" \" + data2[i][\"lastName2\"], value: data2[i][\"personId\"] })\n        }\n\n        api.retrieveProposalType().then(propuesta => {\n          api.retrieveFacilityType().then(facilidad => {\n            api.consultarFacilidades(requestId).then(resp => {\n              var _resp;\n\n              let acu = 0;\n\n              if (((_resp = resp) === null || _resp === void 0 ? void 0 : _resp.filter(data => data.debtor != \"  \").length) > 0) {\n                resp = currencyData.orderByJSON(resp, 'facilityId', 'asc');\n                setdataRows(resp.map((data, index) => {\n                  var _jsonDeudores$find, _facilidad$find, _propuesta$find, _data$amount, _data$proposalRate;\n\n                  acu++;\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      \"data-label\": t(\"Facility\"),\n                      children: acu\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 645,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      \"data-label\": t(\"Debtor\"),\n                      children: (_jsonDeudores$find = jsonDeudores.find(x => x.value === Number(data.debtor))) === null || _jsonDeudores$find === void 0 ? void 0 : _jsonDeudores$find.label\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 646,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      \"data-label\": t(\"Facility Type\"),\n                      children: (_facilidad$find = facilidad.find(x => x.id === data.facilityTypeId)) === null || _facilidad$find === void 0 ? void 0 : _facilidad$find.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 647,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      \"data-label\": t(\"Proposal\"),\n                      children: (_propuesta$find = propuesta.find(x => x.id === data.proposalTypeId)) === null || _propuesta$find === void 0 ? void 0 : _propuesta$find.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 648,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      \"data-label\": t(\"Amount\"),\n                      children: [\"$\", currencyData.formatTable((_data$amount = data.amount) !== null && _data$amount !== void 0 ? _data$amount : 0)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 649,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      \"data-label\": t(\"Amount\") + \" \" + t(\"Rate\"),\n                      children: [currencyData.formatTable((_data$proposalRate = data.proposalRate) !== null && _data$proposalRate !== void 0 ? _data$proposalRate : 0), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 650,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      \"data-label\": t(\"Actions\"),\n                      style: {\n                        textAlign: \"right\"\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(Button, {\n                        type: \"button\",\n                        color: \"link\",\n                        onClick: resp => {\n                          update(data, index);\n                        },\n                        className: \"btn btn-link\",\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"mdi mdi-border-color mdi-24px\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 654,\n                          columnNumber: 60\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 652,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        type: \"button\",\n                        color: \"link\",\n                        onClick: resp => {\n                          setdataSet(data);\n                          eliminarFacilidades();\n                        },\n                        className: \"btn btn-link\",\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"mdi mdi-trash-can-outline mdi-24px\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 655,\n                          columnNumber: 157\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 655,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 651,\n                      columnNumber: 29\n                    }, this)]\n                  }, acu, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 644,\n                    columnNumber: 27\n                  }, this);\n                }));\n                setIsActiveLoadingFacilities(false);\n              } else {\n                setdataRows( /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"7\",\n                    style: {\n                      textAlign: 'center'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 664,\n                    columnNumber: 27\n                  }, this)\n                }, 1, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 663,\n                  columnNumber: 25\n                }, this));\n                setIsActiveLoadingFacilities(false);\n              }\n            }).catch(err => {});\n          });\n        });\n      }\n    }).catch(error => {\n      console.error('api error: ', error);\n    });\n  }\n\n  async function update(data, index) {\n    var _modelTreasuryCurve$t2, _data$proposalRate2, _data$termType;\n\n    let modelTreasuryCurve = new TreasuryCurve();\n    await modelTreasuryCurve.initial();\n    setTreasuryCurveClass(modelTreasuryCurve);\n    setTreasuryCurveMessage(((_modelTreasuryCurve$t2 = modelTreasuryCurve.treasuryCurve) === null || _modelTreasuryCurve$t2 === void 0 ? void 0 : _modelTreasuryCurve$t2.length) === 0);\n    data.facilityIdVisible = index + 1;\n    setdataSet(data);\n    cargarDataSelect(data);\n    settipo(\"editar\");\n    setViewSeccion(true);\n    changeRateProposal((_data$proposalRate2 = data.proposalRate) !== null && _data$proposalRate2 !== void 0 ? _data$proposalRate2 : 0, (_data$termType = data.termType) !== null && _data$termType !== void 0 ? _data$termType : 'DÃAS', modelTreasuryCurve);\n    dataReturn.termType = data.termType;\n    setdataReturn(dataReturn);\n    setPropotalRate(data.proposalRate);\n    setTotalPropotalRate(+data.proposalRate - +data.noSubsidyRate);\n  }\n\n  function eliminarFacilidades() {\n    settipo(\"eliminar\");\n    setconfirm_alertDelete(true);\n  }\n\n  React.useEffect(() => {\n    // Read Api Service data\n    settipoPropuestaRequerido(dataValidation.tipoPropuestaRequerido);\n    setsubPropuestaRequerido(dataValidation.subPropuestaRequerido);\n    settipoFacilidadRequerido(dataValidation.tipoFacilidadRequerido);\n  }, [dataValidation]);\n\n  function cargarDataSelect(data) {\n    var defaultVal = null;\n    setapplyEscrow(data === null || data === void 0 ? void 0 : data.applyEscrow);\n    console.log(termOptions, data);\n\n    try {\n      if (termOptions.length > 0 && data.term) {\n        defaultVal = termOptions.find(x => x.value.toUpperCase() === data.term.toUpperCase());\n\n        if (defaultVal !== undefined) {\n          setTerm(defaultVal);\n        }\n      }\n\n      if (tipoPropuesta.length > 0 && data.proposalTypeId !== null) {\n        defaultVal = tipoPropuesta.find(x => x.value.toUpperCase() === data.proposalTypeId.toUpperCase());\n\n        if (defaultVal !== undefined) {\n          settipoPropuestaSelect(defaultVal);\n          setpropuestaSet(defaultVal);\n        }\n      }\n\n      if (subPropuesta.length > 0 && data.proposalTypeName !== null) {\n        defaultVal = subPropuesta.find(x => x.value.toUpperCase() === data.proposalTypeName.toUpperCase());\n\n        if (defaultVal !== undefined) {\n          setsubPropuestaSelect(defaultVal);\n          setsubPropuestaSet(defaultVal);\n        }\n      }\n\n      if (tipoFacilidad.length > 0 && data.facilityTypeId !== null) {\n        defaultVal = tipoFacilidad.find(x => x.value.toUpperCase() === data.facilityTypeId.toUpperCase());\n\n        if (defaultVal !== undefined) {\n          settipoFacilidadSelect(defaultVal);\n          settipoFacilidadSet(defaultVal);\n        }\n      }\n\n      console.log(deudoresList);\n\n      if (deudoresList.length > 0 && data.debtor !== null) {\n        defaultVal = deudoresList.find(x => x.value === data.debtor);\n\n        if (defaultVal !== undefined) {\n          setdeudoresListSelect(defaultVal);\n        }\n      }\n\n      if (typeTerms.length > 0 && data.termType) {\n        defaultVal = typeTerms.find(x => x.value.toUpperCase() === data.termType.toUpperCase());\n\n        if (defaultVal !== undefined) {\n          setterminosSelect(defaultVal);\n        }\n      }\n    } catch (err) {\n      console.log(console.error(err));\n    }\n  }\n\n  React.useEffect(() => {\n    cargarDataSelect(dataSet); // Read Api Service data\n\n    setMontoFacilidad(dataSet.amount);\n  }, [dataSet, ViewSeccion, subPropuesta]);\n  var treasuryCurveCat0;\n\n  function initializeData(dataLocation) {\n    // consultarDeudores\n    api.consultarDeudores(dataLocation.transactionId).then(data => {\n      if (data !== null && data !== undefined) {\n        let json = [];\n        console.log(data);\n\n        for (let i = 0; i < data.length; i++) {\n          // json.push({ label: data[i][\"name\"] + \" \" + data[i][\"name2\"] + \" \" + data[i][\"lastName\"] + \" \" + data[i][\"lastName2\"], value: data[i][\"personId\"] })\n          json.push({\n            label: data[i][\"typePerson\"] == 2 ? data[i][\"name\"] : data[i][\"name\"] + \" \" + data[i][\"name2\"] + \" \" + data[i][\"lastName\"] + \" \" + data[i][\"lastName2\"],\n            value: data[i][\"personId\"]\n          });\n        }\n\n        console.log(\"initializeData\", json);\n        setdeudoresListSelect(json[0]);\n        setdeudoresList(json);\n      }\n    }).catch(error => {\n      console.error('api error: ', error);\n    });\n    api.retrieveProposalType().then(response => {\n      if (response === null) {\n        return;\n      }\n\n      let json = [];\n\n      for (let i = 0; i < response.length; i++) {\n        json.push({\n          label: response[i][\"description\"],\n          value: response[i][\"id\"]\n        });\n      }\n\n      console.log(\"retrieveProposalType\", response);\n      settipoPropuesta(json);\n    }).catch(error => {\n      console.error('api error: ', error);\n    });\n    api.retrieveFacilityType().then(response => {\n      console.log(\"retrieveFacilityType\", response);\n\n      if (response === null) {\n        return;\n      }\n\n      let json = [];\n\n      for (let i = 0; i < response.length; i++) {\n        if (response[i][\"id\"] !== \"TDC\") {\n          json.push({\n            label: response[i][\"description\"],\n            value: response[i][\"id\"]\n          });\n        }\n      }\n\n      settipoFacilidad(json);\n      console.log(\"retrieveFacilityType\", response);\n    }).catch(error => {\n      console.error('api error: ', error);\n    });\n    api.retrieveSubproposalType().then(response => {\n      if (response === null) {\n        return;\n      }\n\n      let json = [];\n\n      for (let i = 0; i < response.length; i++) {\n        json.push({\n          label: response[i][\"description\"],\n          value: response[i][\"id\"]\n        });\n      }\n\n      console.log(\"retrieveSubproposalType\", response);\n      setsubPropuesta(json);\n    }).catch(error => {\n      console.error('api error: ', error);\n    });\n  }\n\n  function soloNumeros(e, dato) {\n    var teclaPulsada = window.event ? window.event.keyCode : e.which;\n    var valor = document.getElementById(dato).value;\n\n    if (teclaPulsada === 45 && valor.indexOf(\"-\") === -1) {\n      document.getElementById(dato).value = \"-\" + valor;\n    }\n\n    if (teclaPulsada === 13 || teclaPulsada === 46 && valor.indexOf(\".\") === -1) {\n      return true;\n    }\n\n    console.log(valor);\n    return /\\d/.test(String.fromCharCode(teclaPulsada));\n  } //   function handleChangeInputfrmSearch(e) {\n  //     values[e.target.name] = e.target.value;\n  // }\n\n\n  function resetData() {\n    let data = {\n      \"facilityNumber\": \"0\",\n      \"cr\": \"0\",\n      \"amount\": 0,\n      \"debtor\": \"  \",\n      \"clientTypeId\": 1,\n      \"customer\": {\n        \"id\": \"469303-1-434018\"\n      },\n      \"balance\": 0,\n      \"purpose\": \"\",\n      \"sublimits\": \"\",\n      \"proposalRate\": 0,\n      \"noSubsidyRate\": 0,\n      \"effectiveRate\": 0,\n      \"feci\": false,\n      \"termDays\": 0,\n      \"termDescription\": \"\",\n      \"ltv\": 0,\n      \"finantialConditions\": \" \",\n      \"environmentRiskCategory\": 0,\n      \"covenant\": \" \",\n      \"environmentRiskOpinion\": \" \",\n      \"finantialCovenant\": \" \",\n      \"legalDocumentation\": \"  \",\n      \"otherConditions\": \" \",\n      \"creditRiskOpinion\": \" \",\n      \"provision\": \" \",\n      \"proposalTypeId\": \"\",\n      \"proposalTypeName\": \"\",\n      \"facilityTypeId\": \"\",\n      \"termType\": \"\",\n      \"applyEscrow\": false,\n      facilityId: 0,\n      \"requestId\": dataGlobalReq !== null && dataGlobalReq !== void 0 ? dataGlobalReq : 0,\n      \"term\": \"\"\n    };\n    setdataSet(data);\n    setTerm(null);\n    setpropuestaSet(null);\n    settipoFacilidadSet(null);\n    setcheckSubProp(false);\n    setsubPropuestaSet(null);\n    settipoPropuestaSelect(undefined);\n    setsubPropuestaSelect(undefined);\n    settipoFacilidadSelect(undefined);\n    setPropotalRate(0);\n    setTotalPropotalRate(0);\n    setRateProposalTreasuryCurve({\n      Description: \"\",\n      Code: \"\"\n    });\n  }\n\n  function check(e) {\n    let tecla = document.all ? e.keyCode : e.which; //Tecla de retroceso para borrar, siempre la permite\n\n    if (tecla === 45) {\n      e.preventDefault();\n      return true;\n    }\n\n    return false;\n  }\n\n  function editFacilitiesT24(data) {\n    console.log(\"editFacilitiesT24\", data);\n    setIsActiveLoadingFacilities(true); // AA19214M07G3\n\n    api.consultGeneralDataPropCred(locationData === null || locationData === void 0 ? void 0 : locationData.transactionId).then(resp2 => {\n      if (resp2 != undefined && data !== undefined) {\n        if (data.cr !== null && data.cr !== undefined && data.cr.length > 0) {\n          apiCoreServices.getFacilityInfo(data.cr).then(resp => {\n            var _resp2$0$requestId, _resp2$;\n\n            setIsActiveLoadingFacilities(false);\n            console.log(\"Data facilities\", resp);\n            let tmpdata = {\n              \"facilityNumber\": \"0\",\n              \"cr\": \"0\",\n              \"amount\": 0,\n              // \"debtor\": datosUsuario.personId,\n              \"debtor\": \" \",\n              \"clientTypeId\": 1,\n              \"customer\": {\n                \"id\": \"469303-1-434018\"\n              },\n              \"balance\": data.balance,\n              \"purpose\": \"\",\n              \"sublimits\": \"\",\n              \"proposalRate\": 0,\n              \"noSubsidyRate\": 0,\n              \"effectiveRate\": 0,\n              \"feci\": false,\n              \"termDays\": 0,\n              \"termDescription\": \"\",\n              \"ltv\": 0,\n              \"finantialConditions\": \" \",\n              \"environmentRiskCategory\": 0,\n              \"covenant\": \" \",\n              \"environmentRiskOpinion\": \" \",\n              \"finantialCovenant\": \" \",\n              \"legalDocumentation\": \"  \",\n              \"otherConditions\": \" \",\n              \"creditRiskOpinion\": \" \",\n              \"provision\": \" \",\n              \"proposalTypeId\": \"MEN\",\n              \"proposalTypeName\": \"\",\n              \"facilityTypeId\": \"\",\n              \"termType\": \"\",\n              \"applyEscrow\": false,\n              facilityId: 0,\n              \"requestId\": (_resp2$0$requestId = (_resp2$ = resp2[0]) === null || _resp2$ === void 0 ? void 0 : _resp2$.requestId) !== null && _resp2$0$requestId !== void 0 ? _resp2$0$requestId : 0,\n              startingAmount: data.amount,\n              term: '',\n              origin: \"MVP\"\n            };\n\n            if (resp != null || resp != undefined) {\n              var _resp$IntRateData$Int, _resp$IntRateData, _resp$CreditAcctData$, _resp$CreditAcctData, _resp$CreditAcctData$2, _resp$CreditAcctData2, _resp$CreditAcctData3;\n\n              //data.amount = resp?.AcctBal[1]?.CurAmt?.Amt ?? 0;\n              tmpdata.proposalRate = (_resp$IntRateData$Int = resp === null || resp === void 0 ? void 0 : (_resp$IntRateData = resp.IntRateData) === null || _resp$IntRateData === void 0 ? void 0 : _resp$IntRateData.IntRate) !== null && _resp$IntRateData$Int !== void 0 ? _resp$IntRateData$Int : 0;\n              tmpdata.feci = (_resp$CreditAcctData$ = resp === null || resp === void 0 ? void 0 : (_resp$CreditAcctData = resp.CreditAcctData) === null || _resp$CreditAcctData === void 0 ? void 0 : _resp$CreditAcctData.FeciProperty) !== null && _resp$CreditAcctData$ !== void 0 ? _resp$CreditAcctData$ : false;\n              tmpdata.termDays = (_resp$CreditAcctData$2 = resp === null || resp === void 0 ? void 0 : (_resp$CreditAcctData2 = resp.CreditAcctData) === null || _resp$CreditAcctData2 === void 0 ? void 0 : (_resp$CreditAcctData3 = _resp$CreditAcctData2.Term) === null || _resp$CreditAcctData3 === void 0 ? void 0 : _resp$CreditAcctData3.ProposedTerm) !== null && _resp$CreditAcctData$2 !== void 0 ? _resp$CreditAcctData$2 : \"0\";\n              tmpdata.termDays = Number(tmpdata.termDays.length > 1 ? tmpdata.termDays.substring(0, tmpdata.termDays.length - 1) : tmpdata.termDays); // creamos una nueva facilidad\n\n              console.log(\"tmpdata\", tmpdata);\n              newFacility(tmpdata);\n            } else {\n              setHistoryDetails(true); //newFacility(data)\n            }\n          }).catch(err => {\n            console.log(err);\n            setIsActiveLoadingFacilities(false);\n          });\n        } else {\n          var _resp2$0$requestId2, _resp2$2;\n\n          let tmpdata = {\n            \"facilityNumber\": \"0\",\n            \"cr\": \"0\",\n            \"amount\": 0,\n            // \"debtor\": datosUsuario.personId,\n            \"debtor\": \" \",\n            \"clientTypeId\": 1,\n            \"customer\": {\n              \"id\": \"469303-1-434018\"\n            },\n            \"balance\": data.balance,\n            \"purpose\": \"\",\n            \"sublimits\": \"\",\n            \"proposalRate\": 0,\n            \"noSubsidyRate\": 0,\n            \"effectiveRate\": 0,\n            \"feci\": false,\n            \"termDays\": 0,\n            \"termDescription\": \"\",\n            \"ltv\": 0,\n            \"finantialConditions\": \" \",\n            \"environmentRiskCategory\": 0,\n            \"covenant\": \" \",\n            \"environmentRiskOpinion\": \" \",\n            \"finantialCovenant\": \" \",\n            \"legalDocumentation\": \"  \",\n            \"otherConditions\": \" \",\n            \"creditRiskOpinion\": \" \",\n            \"provision\": \" \",\n            \"proposalTypeId\": \"MEN\",\n            \"proposalTypeName\": \"\",\n            \"facilityTypeId\": \"\",\n            \"termType\": \"\",\n            origin: \"MVP\",\n            \"applyEscrow\": false,\n            facilityId: 0,\n            \"requestId\": (_resp2$0$requestId2 = (_resp2$2 = resp2[0]) === null || _resp2$2 === void 0 ? void 0 : _resp2$2.requestId) !== null && _resp2$0$requestId2 !== void 0 ? _resp2$0$requestId2 : 0,\n            startingAmount: data.amount,\n            term: ''\n          };\n          /*data.amount = resp?.AcctBal[1]?.CurAmt?.Amt ?? 0;\r\n              data.proposalRate = resp?.IntRateData?.IntRate ?? 0;\r\n              data.feci = resp?.CreditAcctData?.FeciProperty ?? false;\r\n              data.requestId = resp?.AcctKey?.AcctId ?? '';\r\n              data.termDays = resp?.CreditAcctData?.Term?.ProposedTerm ?? 0;*/\n          // creamos una nueva facilidad\n\n          newFacility(tmpdata);\n        }\n      }\n    }).catch(err => {\n      console.log(err);\n      setIsActiveLoadingFacilities(false);\n    });\n  }\n\n  function changeRateProposal(proposalRate, termType, modelTreasuryCurve = treasuryCurveClass) {\n    var _treasury$Description, _treasury$Code, _treasury$Description2, _treasury$Description3, _document$getElementB2, _document$getElementB3;\n\n    let treasury = modelTreasuryCurve.showTreasuryCurve({\n      proposalRate,\n      termType\n    });\n    rateProposalTreasuryCurve.Description = (_treasury$Description = treasury === null || treasury === void 0 ? void 0 : treasury.Description) !== null && _treasury$Description !== void 0 ? _treasury$Description : 0;\n    rateProposalTreasuryCurve.Code = (_treasury$Code = treasury === null || treasury === void 0 ? void 0 : treasury.Code) !== null && _treasury$Code !== void 0 ? _treasury$Code : 0;\n    setRateProposalTreasuryCurve(rateProposalTreasuryCurve);\n    dataReturn.proposalRate = (_treasury$Description2 = treasury === null || treasury === void 0 ? void 0 : treasury.Description) !== null && _treasury$Description2 !== void 0 ? _treasury$Description2 : 0;\n    setdataReturn(dataReturn); // setPropotalRate(treasury?.Description ?? 0)\n\n    setTotalPropotalRate(+((_treasury$Description3 = treasury === null || treasury === void 0 ? void 0 : treasury.Description) !== null && _treasury$Description3 !== void 0 ? _treasury$Description3 : 0) - +currencyData.getRealPercent((_document$getElementB2 = (_document$getElementB3 = document.getElementById('noSubsidyRate')) === null || _document$getElementB3 === void 0 ? void 0 : _document$getElementB3.value) !== null && _document$getElementB2 !== void 0 ? _document$getElementB2 : dataSet === null || dataSet === void 0 ? void 0 : dataSet.noSubsidyRate));\n  }\n\n  function test(x) {\n    dataSet.proposalRate = x;\n    setdataSet(dataSet);\n    setPropotalRate(x);\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(AvForm, {\n      id: \"formFacilidades\",\n      className: \"needs-validation\",\n      onSubmit: handleSubmitFacilidad,\n      children: [!ViewSeccion ? /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [datosUsuario && locationData && dataGlobalReq != 0 ? /*#__PURE__*/_jsxDEV(FacilityHistory, {\n          setLevelAutonomy: props.setLevelAutonomy,\n          requestId: dataGlobalReq,\n          transactId: locationData.transactionId,\n          editFacilitiesT24: editFacilitiesT24,\n          mainDebtor: datosUsuario,\n          partyId: datosUsuario.customerNumberT24,\n          historyDetails: historyDetails\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1073,\n          columnNumber: 15\n        }, this) : null, /*#__PURE__*/_jsxDEV(LoadingOverlay, {\n          active: isActiveLoadingFacilities,\n          spinner: true,\n          text: t(\"WaitingPlease\"),\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-sub-title\",\n              children: t(\"ActualFacilityList\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1078,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: \"12\",\n                style: {\n                  textAlign: \"right\"\n                },\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"btn\",\n                  color: \"success\",\n                  type: \"button\",\n                  style: {\n                    margin: '5px'\n                  },\n                  onClick: () => {\n                    newFacility();\n                  },\n                  title: t(\"Add\"),\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-lg fa-plus-circle\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1083,\n                    columnNumber: 41\n                  }, this), \" \", \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1081,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1080,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: \"12\",\n                className: \"table-responsive styled-table-div\",\n                children: /*#__PURE__*/_jsxDEV(Table, {\n                  className: \"table table-striped table-hover styled-table table\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        children: t(\"Facility\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1089,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: t(\"Debtor\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1090,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: t(\"Facility Type\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1091,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: t(\"Proposal\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1092,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: t(\"ProposalRisk\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1093,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: t(\"Rate\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1094,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1095,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1088,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1087,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: dataRows\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1098,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1086,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1085,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1079,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1077,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1075,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1071,\n        columnNumber: 11\n      }, this) : null, ViewSeccion ? /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(CardBody, {\n          children: /*#__PURE__*/_jsxDEV(LoadingOverlay, {\n            active: isActiveLoading,\n            spinner: true,\n            text: t(\"WaitingPlease\"),\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: t(\"Facility\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1112,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-title-desc\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1113,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              className: \"mb-3\",\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                md: \"12\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: t(\"General Data\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1117,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    lg: \"4\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"facilityNumber\",\n                        children: [t(\"Facility\"), \" \", t(\" \"), \" \", t(\"Number\")]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1121,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"facilityNumber\",\n                        type: \"text\",\n                        validate: {\n                          number: {\n                            value: true,\n                            errorMessage: t(\"InvalidField\")\n                          }\n                        },\n                        value: dataSet.facilityIdVisible,\n                        id: \"facilityNumber\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1122,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1120,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1119,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    lg: \"4\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"cr\",\n                        children: t(\"CR\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1135,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"cr\",\n                        value: dataSet.cr,\n                        type: \"text\",\n                        id: \"cr\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1136,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1134,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1133,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    lg: \"4\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"amount\",\n                        children: t(\"Amount\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1146,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"amount\",\n                        type: \"text\",\n                        pattern: \"^[0-9,.]*$\",\n                        onKeyUp: e => {\n                          let x = currencyData.getRealValue(e.target.value);\n                          e.target.value = currencyData.format(x);\n                        },\n                        onChange: e => {\n                          setMontoFacilidad(e.target.value);\n                        },\n                        value: currencyData.format((_dataSet$amount = dataSet === null || dataSet === void 0 ? void 0 : dataSet.amount) !== null && _dataSet$amount !== void 0 ? _dataSet$amount : 1),\n                        id: \"amount\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1153,\n                        columnNumber: 27\n                      }, this), +((_document$getElementB4 = document.getElementById(\"amount\")) === null || _document$getElementB4 === void 0 ? void 0 : _document$getElementB4.value) < 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"message-error-parrafo\",\n                        children: t(\"The amount entered must be greater than or equal to $0\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1163,\n                        columnNumber: 29\n                      }, this) : null]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1145,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1144,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1118,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: \"8\",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      htmlFor: \"Term Type\",\n                      children: t(\"Term Type\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1170,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      noOptionsMessage: () => \"\",\n                      onChange: e => {\n                        setTerm(termOptions.find(x => x.value === e.value));\n                      },\n                      options: termOptions,\n                      classNamePrefix: \"select2-selection\",\n                      placeholder: t(\"Select\"),\n                      value: term\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1171,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1169,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"4\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"Initial Amount\",\n                        children: t(\"Initial Amount\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1186,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"startingAmount\",\n                        value: currencyData.format((_dataSet$startingAmou = dataSet === null || dataSet === void 0 ? void 0 : dataSet.startingAmount) !== null && _dataSet$startingAmou !== void 0 ? _dataSet$startingAmou : 0),\n                        pattern: \"^[0-9,.-]*$\",\n                        onKeyUp: e => {\n                          let x = currencyData.getRealValue(e.target.value);\n                          e.target.value = currencyData.format(x);\n                        },\n                        type: \"text\",\n                        id: \"startingAmount\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1187,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1185,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1184,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1168,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: \"8\",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      htmlFor: \"amount\",\n                      children: t(\"Debtors\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1200,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      noOptionsMessage: () => \"\",\n                      onChange: e => {\n                        setdeudoresListSelect(deudoresList.find(x => x.value === e.value));\n                      },\n                      options: deudoresList,\n                      classNamePrefix: \"select2-selection\",\n                      placeholder: t(\"Select\"),\n                      value: deudoresListSelect\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1201,\n                      columnNumber: 25\n                    }, this), campoRequeridoDeudores ? /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"message-error-parrafo\",\n                      children: t(\"Required Field\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1211,\n                      columnNumber: 27\n                    }, this) : null]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1199,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"4\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"balance\",\n                        children: t(\"Balance\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1216,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"balance\",\n                        value: currencyData.format((_dataSet$balance = dataSet === null || dataSet === void 0 ? void 0 : dataSet.balance) !== null && _dataSet$balance !== void 0 ? _dataSet$balance : 0),\n                        pattern: \"^[0-9,.-]*$\",\n                        onKeyUp: e => {\n                          let x = currencyData.getRealValue(e.target.value);\n                          e.target.value = currencyData.format(x);\n                        },\n                        type: \"text\",\n                        id: \"balance\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1217,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1215,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1214,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1198,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1116,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1115,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              className: \"mb-3\",\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                md: \"12\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: t(\"Proposal\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1234,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: \"4\",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      htmlFor: \"proposalType\",\n                      children: t(\"Proposal Type\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1238,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      noOptionsMessage: () => \"\",\n                      onChange: e => {\n                        let facilities = tipoPropuesta.find(x => x.value === e.value);\n                        settipoPropuestaSelect(facilities);\n\n                        if (facilities.value === 'RES' || facilities.value === 'REF') {\n                          setcheckSubProp(true);\n                        } else {\n                          setcheckSubProp(false);\n                        }\n\n                        setpropuestaSet(e.value);\n                        dataReturn.proposalTypeId = e.value;\n                        setdataReturn(dataReturn);\n                      },\n                      options: tipoPropuesta,\n                      placeholder: t(\"Select\"),\n                      value: tipoPropuestaSelect\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1239,\n                      columnNumber: 25\n                    }, this), !propuestaSet ? /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"message-error-parrafo\",\n                      children: t(\"Required\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1259,\n                      columnNumber: 27\n                    }, this) : null]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1237,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"4\",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      htmlFor: \"subproposalType\",\n                      children: t(\"SubProposal Type\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1263,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      noOptionsMessage: () => \"\",\n                      onChange: e => {\n                        setsubPropuestaSelect(subPropuesta.find(x => x.value === e.value));\n                        setsubPropuestaSet(e.value);\n                        dataReturn.proposalTypeName = e.value;\n                        setdataReturn(dataReturn);\n                      },\n                      options: subPropuesta,\n                      placeholder: t(\"Select\"),\n                      value: subPropuestaSelect\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1264,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1262,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"4\",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      htmlFor: \"facilityType\",\n                      children: t(\"Facility Type\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1281,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      noOptionsMessage: () => \"\",\n                      onChange: e => {\n                        settipoFacilidadSelect(tipoFacilidad.find(x => x.value === e.value));\n                        settipoFacilidadSet(e.value);\n                        dataReturn.facilityTypeId = e.value;\n                        setdataReturn(dataReturn);\n                      },\n                      options: tipoFacilidad,\n                      placeholder: t(\"Select\"),\n                      value: tipoFacilidadSelect\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1282,\n                      columnNumber: 25\n                    }, this), !tipoFacilidadSet ? /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"message-error-parrafo\",\n                      children: t(\"Required\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1294,\n                      columnNumber: 27\n                    }, this) : null]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1280,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1236,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: \"6\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"purpose\",\n                        children: t(\"Purpose\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1301,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"purpose\",\n                        id: \"purpose\" // validate={{\n                        //   required: { value: true, errorMessage: t(\"Required\") }\n                        // }}\n                        ,\n                        type: \"textarea\",\n                        value: dataSet.purpose,\n                        rows: \"4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1302,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1300,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1299,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"6\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"sublimits\",\n                        children: t(\"Sub Limits\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1316,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"sublimits\",\n                        id: \"sublimits\",\n                        value: dataSet.sublimits,\n                        type: \"textarea\",\n                        rows: \"4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1317,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1315,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1314,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1298,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1233,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1232,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              className: \"mb-3\",\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                md: \"12\",\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: \"3\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"proposalRate\",\n                        children: t(\"Proposed Interest Rate\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1335,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"proposalRate\",\n                        type: \"text\",\n                        onKeyUp: e => {\n                          let x = currencyData.getRealPercent(e.target.value);\n                          test(x);\n                          e.target.value = currencyData.formatPercent(x, e);\n                          setTotalPropotalRate(x - +currencyData.getRealPercent(document.getElementById('noSubsidyRate').value));\n                        },\n                        onChange: e => {\n                          let x = currencyData.getRealPercent(e.target.value);\n                          parseFloat(x) > 100 ? setcampoTasa(true) : setcampoTasa(false);\n                        },\n                        id: \"proposalRate\",\n                        value: `${(_dataSet$proposalRate = dataSet === null || dataSet === void 0 ? void 0 : dataSet.proposalRate) !== null && _dataSet$proposalRate !== void 0 ? _dataSet$proposalRate : 0}%`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1336,\n                        columnNumber: 27\n                      }, this), campoTasa ? /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"message-error-parrafo\",\n                        children: t(\"Thepercentageexceeds100%\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1350,\n                        columnNumber: 29\n                      }, this) : null]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1334,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1333,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"3\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"noSubsidyRate\",\n                        children: t(\"Subsidy Rate\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1356,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"noSubsidyRate\",\n                        type: \"text\",\n                        id: \"noSubsidyRate\",\n                        value: `${currencyData.format((_dataSet$noSubsidyRat = dataSet === null || dataSet === void 0 ? void 0 : dataSet.noSubsidyRate) !== null && _dataSet$noSubsidyRat !== void 0 ? _dataSet$noSubsidyRat : 0)}%`,\n                        onKeyUp: e => {\n                          let x = currencyData.getRealPercent(e.target.value);\n                          e.target.value = currencyData.formatPercent(x, e);\n                          setTotalPropotalRate(PropotalRate - x);\n                        },\n                        onChange: e => {\n                          let x = currencyData.getRealPercent(e.target.value);\n                          parseFloat(x) > 100 ? setcampoTasa2(true) : setcampoTasa2(false);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1357,\n                        columnNumber: 27\n                      }, this), campoTasa2 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"message-error-parrafo\",\n                        children: t(\"Thepercentageexceeds100%\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1370,\n                        columnNumber: 29\n                      }, this) : null]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1355,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1354,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"3\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"effectiveRate\",\n                        children: t(\"Total Rate\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1376,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"effectiveRate\",\n                        value: `${currencyData.format((_parseFloat = parseFloat(TotalPropotalRate.toFixed(2))) !== null && _parseFloat !== void 0 ? _parseFloat : 0)}%`,\n                        type: \"text\",\n                        id: \"effectiveRate\",\n                        onKeyUp: e => {\n                          let x = currencyData.getRealPercent(e.target.value);\n                          e.target.value = currencyData.formatPercent(x, e);\n                        },\n                        onChange: e => {\n                          let x = currencyData.getRealPercent(e.target.value);\n                          parseFloat(x) > 100 ? setcampoTasa3(true) : setcampoTasa3(false);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1377,\n                        columnNumber: 27\n                      }, this), campoTasa3 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"message-error-parrafo\",\n                        children: t(\"Thepercentageexceeds100%\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1387,\n                        columnNumber: 29\n                      }, this) : null]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1375,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1374,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"3\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"feci\",\n                        children: t(\"FECI\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1393,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        id: \"feci\",\n                        className: \"form-control\",\n                        name: \"feci\",\n                        type: \"select\",\n                        value: dataSet.feci ? \"true\" : \"false\",\n                        required: true,\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"true\",\n                          children: \"Si\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1400,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"false\",\n                          children: \"No\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1401,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1394,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1392,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1391,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1332,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1330,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1329,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              className: \"mb-3\",\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                md: \"12\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: [t(\"Minimum Rate value according to Treasury Curve\"), \" \", (rateProposalTreasuryCurve === null || rateProposalTreasuryCurve === void 0 ? void 0 : rateProposalTreasuryCurve.Description) ? `${rateProposalTreasuryCurve === null || rateProposalTreasuryCurve === void 0 ? void 0 : rateProposalTreasuryCurve.Description}%` : '']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1413,\n                  columnNumber: 21\n                }, this), treasuryCurveMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-danger\",\n                  children: t(\"For this Bank does not apply Treasury Curve\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1414,\n                  columnNumber: 46\n                }, this), +PropotalRate < +((_rateProposalTreasury = rateProposalTreasuryCurve === null || rateProposalTreasuryCurve === void 0 ? void 0 : rateProposalTreasuryCurve.Description) !== null && _rateProposalTreasury !== void 0 ? _rateProposalTreasury : 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-danger\",\n                  children: t(\"Lower Proposal Rate than Treasury Curve\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1415,\n                  columnNumber: 88\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"12\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      check: true,\n                      className: \"my-2\",\n                      children: [/*#__PURE__*/_jsxDEV(AvInput, {\n                        type: \"checkbox\",\n                        defaultChecked: rateTreasuryCurve,\n                        name: \"rateTreasuryCurve\",\n                        onChange: () => {\n                          setRateTreasuryCurve(!rateTreasuryCurve);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1419,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"rateTreasuryCurve\",\n                        children: [\" \", t(\"Rate according to the price of the Treasury Curve\")]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1420,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1418,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1417,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1416,\n                  columnNumber: 21\n                }, this), +PropotalRate < +((_rateProposalTreasury2 = rateProposalTreasuryCurve === null || rateProposalTreasuryCurve === void 0 ? void 0 : rateProposalTreasuryCurve.Description) !== null && _rateProposalTreasury2 !== void 0 ? _rateProposalTreasury2 : 0) && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Row, {\n                    children: /*#__PURE__*/_jsxDEV(Col, {\n                      md: \"12\",\n                      children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                        className: \"mb-3\",\n                        children: [/*#__PURE__*/_jsxDEV(Label, {\n                          htmlFor: \"opinion\",\n                          children: t(\"Comment\")\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1428,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                          className: \"form-control\",\n                          name: \"treasuryCurveComment\",\n                          type: \"textarea\",\n                          value: dataSet === null || dataSet === void 0 ? void 0 : dataSet.treasuryCurveComment,\n                          id: \"treasuryCurveComment\",\n                          rows: \"4\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1429,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1427,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1426,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1425,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(AttachmentFileCore, {\n                    attachmentFileInputModel: new AttachmentFileInputModel(locationData.transactionId, OPTs.PROCESS_PROPUESTACREDITO, OPTs.ACT_PROPUESTACREDITO)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1439,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1412,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1411,\n              columnNumber: 17\n            }, this), \"*/}\", /*#__PURE__*/_jsxDEV(Row, {\n              className: \"mb-3\",\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                md: \"12\",\n                children: /*#__PURE__*/_jsxDEV(ComisionSeccion, {\n                  MontoFacilidad: MontoFacilidad,\n                  validation: dataValidation,\n                  dataSet: dataSet,\n                  items: commissions,\n                  onSaveItem: handleNewCommission,\n                  onDeleteItem: handleDeleteCommission\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1448,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1447,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1446,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              children: t(\"Terms\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1454,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: \"4\",\n                children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    htmlFor: \"termDays\",\n                    children: t(\"Quantity\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1458,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                    className: \"form-control\",\n                    name: \"termDays\",\n                    value: dataSet.termDays,\n                    onKeyUp: e => {\n                      setProposalRate(e.target.value);\n                      test(+currencyData.getRealPercent(document.getElementById('proposalRate').value));\n                      changeRateProposal(e.target.value, dataSet.termType || 'DÃAS');\n                    },\n                    type: \"text\",\n                    validate: {\n                      number: {\n                        value: true,\n                        errorMessage: t(\"InvalidField\")\n                      }\n                    },\n                    id: \"termDays\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1459,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1457,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1456,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: \"4\",\n                children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    children: t(\"DaysMonthsYears\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1477,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Select, {\n                    noOptionsMessage: () => \"\",\n                    onChange: e => {\n                      setterminosSelect(typeTerms.find(x => x.value === e.value));\n                      dataReturn.termType = e.value;\n                      setdataReturn(dataReturn);\n                      changeRateProposal(proposalRate, e.value);\n                    },\n                    options: typeTerms,\n                    placeholder: t(\"Select\"),\n                    value: terminosSelect\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1478,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1476,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1475,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: \"12\",\n                children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    htmlFor: \"termsDescription\",\n                    children: t(\"Terms Description\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1508,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                    className: \"form-control\",\n                    name: \"termDescription\",\n                    type: \"textarea\",\n                    id: \"termDescription\",\n                    value: dataSet.termDescription,\n                    rows: \"4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1509,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1507,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1506,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1455,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(DisbursementSection, {\n              validation: dataValidation,\n              dataSet: dataSet,\n              disbursementTerms: disbursementTerms,\n              onSaveDisbursementTerm: handleNewDisbursementTerm,\n              onDeleteDisbursementTerm: handleDeleteDisbursementTerm,\n              paymentPrograms: paymentPrograms,\n              onSavePaymentProgram: handleNewPaymentProgram,\n              onDeletePaymentProgram: handleDeletePaymentProgram,\n              disbursementMethods: disbursementMethods,\n              onSaveDisbursementMethod: handleNewDisbursementMethod,\n              onDeleteDisbursementMethod: handleDeleteDisbursementMethod\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1520,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(WarrantsSection, {\n              ViewSeccion: ViewSeccion,\n              validation: dataValidation,\n              dataSet: dataSet,\n              warrants: warrants,\n              onSaveItem: handleNewWarrant,\n              onDeleteItem: handleDeleteWarrant\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1530,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                md: \"12\",\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: \"4\",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      htmlFor: \"relatedPart\",\n                      children: [t(\"LTV\"), \"(%)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1538,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(AvGroup, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"ltv\",\n                        value: `${dataSet.ltv}%`,\n                        type: \"text\",\n                        onKeyUp: e => {\n                          let x = currencyData.getRealPercent(e.target.value);\n                          e.target.value = currencyData.formatPercent(x, e);\n                        } // onChange={(e) => { let x = currencyData.getRealPercent(e.target.value); parseFloat(x) > 100 ? setcampoTasa4(true) : setcampoTasa4(false); }}\n                        ,\n                        id: \"ltv\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1540,\n                        columnNumber: 27\n                      }, this), campoTasa4 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"message-error-parrafo\",\n                        children: t(\"Thepercentageexceeds100%\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1549,\n                        columnNumber: 29\n                      }, this) : null]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1539,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1537,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"4\",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      htmlFor: \"relatedPart\",\n                      children: t(\"Escrow\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1554,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(AvGroup, {\n                      check: true,\n                      className: \"mb-3\",\n                      children: /*#__PURE__*/_jsxDEV(Switch, {\n                        name: \"fd\",\n                        uncheckedIcon: /*#__PURE__*/_jsxDEV(Offsymbol, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1557,\n                          columnNumber: 44\n                        }, this),\n                        checkedIcon: /*#__PURE__*/_jsxDEV(OnSymbol, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1558,\n                          columnNumber: 42\n                        }, this),\n                        onColor: \"#007943\",\n                        id: \"check1\",\n                        className: \"form-label\",\n                        onChange: () => {\n                          setapplyEscrow(!applyEscrow);\n                        },\n                        checked: applyEscrow\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1556,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1555,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1553,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1536,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1535,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1534,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SuretiesSection, {\n              validation: dataValidation,\n              dataSet: dataSet,\n              sureties: sureties,\n              onSaveItem: handleNewSurety,\n              onDeleteItem: handleDeleteSurety\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1573,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              className: \"mb-3\",\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                md: \"12\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: t(\"FinancialConditions\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1579,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"12\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      className: \"mb-3\",\n                      children: /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"finantialConditions\",\n                        type: \"textarea\",\n                        value: dataSet.finantialConditions,\n                        id: \"finantialConditions\",\n                        rows: \"4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1584,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1582,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1581,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1580,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1578,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1577,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              className: \"mb-3\",\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                md: \"12\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: t(\"AmbientalRisk\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1599,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: \"6\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"category\",\n                        children: t(\"Category\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1603,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"environmentRiskCategory\",\n                        type: \"text\",\n                        value: garantiaET,\n                        id: \"environmentRiskCategory\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1604,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1602,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1601,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"6\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"covenant\",\n                        children: t(\"Covenant\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1614,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"covenant\",\n                        type: \"text\",\n                        value: dataSet.covenant,\n                        id: \"covenant\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1615,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1613,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1612,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"12\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"opinion\",\n                        children: t(\"Opinion\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1625,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"environmentRiskOpinion\",\n                        type: \"textarea\",\n                        value: dataSet === null || dataSet === void 0 ? void 0 : dataSet.environmentRiskOpinion,\n                        id: \"environmentRiskOpinion\",\n                        rows: \"4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1626,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1624,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1623,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1600,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1598,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1597,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              className: \"mb-3\",\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                md: \"12\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: t(\"FinantialCovenant\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1641,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"12\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      className: \"mb-3\",\n                      children: /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"finantialCovenant\",\n                        value: dataSet.finantialCovenant,\n                        type: \"textarea\",\n                        id: \"finantialCovenant\",\n                        rows: \"4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1645,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1644,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1643,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1642,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1640,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1639,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: t(\"Status of Legal Documentation\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1660,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"12\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      className: \"mb-3\",\n                      children: /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"legalDocumentation\",\n                        value: dataSet.legalDocumentation,\n                        type: \"textarea\",\n                        id: \"legalDocumentation\",\n                        rows: \"4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1665,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1663,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1662,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1661,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1659,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1658,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: t(\"OtherConditions\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1680,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"12\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      className: \"mb-3\",\n                      children: /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"otherConditions\",\n                        value: dataSet.otherConditions,\n                        type: \"textarea\",\n                        id: \"otherConditions\",\n                        rows: \"4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1684,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1683,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1682,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1681,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1679,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1678,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: t(\"CreditRisk\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1699,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"12\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"creditrisk\",\n                        children: t(\"Opinion\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1703,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"creditRiskOpinion\",\n                        type: \"textarea\",\n                        value: (_dataSet$creditRiskOp = dataSet === null || dataSet === void 0 ? void 0 : dataSet.creditRiskOpinion) !== null && _dataSet$creditRiskOp !== void 0 ? _dataSet$creditRiskOp : \"\",\n                        id: \"creditRiskOpinion\",\n                        rows: \"4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1704,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1702,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1701,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1700,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1698,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1697,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: t(\"Provision\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1719,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"12\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      className: \"mb-3\",\n                      children: /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"provision\",\n                        value: dataSet.provision,\n                        type: \"textarea\",\n                        id: \"provision\",\n                        rows: \"4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1724,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1722,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1721,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1720,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1718,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1717,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              className: \"my-2\",\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                xl: \"12 text-end\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  color: \"danger\",\n                  onClick: e => {\n                    setViewSeccion(!ViewSeccion);\n                    cargarFacilidades(locationData);\n                    resetData();\n                  },\n                  style: {\n                    margin: '5px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"mdi mdi-cancel mid-12px\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1746,\n                    columnNumber: 23\n                  }, this), \" \", t(\"Cancel\")]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1738,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"btn btn-primary\",\n                  type: \"submit\",\n                  color: \"success\",\n                  style: {\n                    margin: '5px'\n                  },\n                  children: t(\"Save\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1748,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1737,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1736,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1111,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1110,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1109,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1069,\n      columnNumber: 7\n    }, this), successSave_dlg ? /*#__PURE__*/_jsxDEV(SweetAlert, {\n      success: true,\n      title: t(\"SuccessDialog\"),\n      confirmButtonText: t(\"Confirm\"),\n      cancelButtonText: t(\"Cancel\"),\n      onConfirm: () => {\n        setsuccessSave_dlg(false);\n        cargarFacilidades(locationData);\n      },\n      children: t(\"SuccessSaveMessage\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1759,\n      columnNumber: 9\n    }, this) : null, error_dlg ? /*#__PURE__*/_jsxDEV(SweetAlert, {\n      error: true,\n      title: t(\"ErrorDialog\"),\n      confirmButtonText: t(\"Confirm\"),\n      cancelButtonText: t(\"Cancel\"),\n      onConfirm: () => {\n        seterror_dlg(false);\n      },\n      children: error_msg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1774,\n      columnNumber: 9\n    }, this) : null, confirm_alert ? /*#__PURE__*/_jsxDEV(SweetAlert, {\n      title: t(\"Areyousure\"),\n      warning: true,\n      showCancel: true,\n      confirmButtonText: t(\"Yesdeleteit\"),\n      cancelButtonText: t(\"Cancel\"),\n      confirmBtnBsStyle: \"success\",\n      cancelBtnBsStyle: \"danger\",\n      onConfirm: () => {\n        setViewSeccion(!ViewSeccion);\n      },\n      onCancel: () => setconfirm_alert(false),\n      children: t(\"Youwontbeabletorevertthis\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1787,\n      columnNumber: 9\n    }, this) : null, confirm_alertDelete ? /*#__PURE__*/_jsxDEV(SweetAlert, {\n      title: t(\"Areyousure\"),\n      warning: true,\n      showCancel: true,\n      confirmButtonText: t(\"Yesdeleteit\"),\n      cancelButtonText: t(\"Cancel\"),\n      confirmBtnBsStyle: \"success\",\n      cancelBtnBsStyle: \"danger\",\n      onConfirm: () => {\n        if (tipo == \"eliminar\") {\n          var _dataSet$facilityId, _dataSet$requestId;\n\n          props.setViewAutonomy(false);\n          backendServices.deleteFacility((_dataSet$facilityId = dataSet === null || dataSet === void 0 ? void 0 : dataSet.facilityId) !== null && _dataSet$facilityId !== void 0 ? _dataSet$facilityId : \"\", (_dataSet$requestId = dataSet === null || dataSet === void 0 ? void 0 : dataSet.requestId) !== null && _dataSet$requestId !== void 0 ? _dataSet$requestId : \"\").then(resp => {\n            if (resp.statusCode == \"500\") {\n              seterror_dlg(false);\n              setconfirm_alertDelete(false);\n            } else {\n              setconfirm_alertDelete(false);\n              resetData();\n              setsuccessSave_dlg(true); // props.setLevelAutonomy(levelAutonomy => levelAutonomy - (+dataSet?.amount))\n              // cargarFacilidades(locationData)\n            }\n\n            props.setViewAutonomy(true);\n          }).catch(err => {\n            props.setViewAutonomy(true);\n          });\n        }\n      },\n      onCancel: () => setconfirm_alertDelete(false),\n      children: t(\"Youwontbeabletorevertthis\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1804,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1068,\n    columnNumber: 5\n  }, this);\n}, \"wyuWMiE7TFTQhZGVag51PKLf60w=\", false, function () {\n  return [useLocation, useTranslation, useHistory, React.useImperativeHandle];\n}));\n_c4 = ListaFacilidad;\nListaFacilidad.propTypes = {\n  items: PropTypes.array.isRequired,\n  editMode: PropTypes.bool,\n  onSaveFacility: PropTypes.func\n};\nListaFacilidad.defaultProps = {\n  items: [],\n  editMode: false\n};\nexport default ListaFacilidad;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Offsymbol\");\n$RefreshReg$(_c2, \"OnSymbol\");\n$RefreshReg$(_c3, \"ListaFacilidad$React.forwardRef\");\n$RefreshReg$(_c4, \"ListaFacilidad\");","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/5_PropuestaCredito/Secciones/FacilidadesSeccion.js"],"names":["React","useState","useContext","useRef","useEffect","PropTypes","Link","SweetAlert","Table","Card","CardBody","Button","Row","Col","Label","Alert","AvForm","AvGroup","AvField","AvInput","listaFacilidades","Facilidad","BackendServices","CoreServices","Select","ComisionSeccion","DisbursementSection","WarrantsSection","SuretiesSection","Switch","useLocation","useHistory","url","Currency","useTranslation","FacilityHistory","LoadingOverlay","AttachmentFileCore","AttachmentFileInputModel","OPTs","TreasuryCurve","Offsymbol","display","justifyContent","alignItems","height","fontSize","color","paddingRight","OnSymbol","ListaFacilidad","forwardRef","props","ref","location","t","i18n","dataSet","setdataSet","datosUsuario","setdatosUsuario","dataValidation","setdataValidation","tipoPropuestaRequerido","subPropuestaRequerido","tipoFacilidadRequerido","context","setcontext","data","propostalSectionRef","formValid","setFormValid","dataLocation","setData","commissions","setCommissions","disbursementTerms","setDisbursementTerms","paymentPrograms","setPaymentPrograms","disbursementMethods","setDisbursementMethods","warrants","setWarrants","sureties","setSureties","garantiaET","setgarantiaET","ViewSeccion","setViewSeccion","backendServices","successSave_dlg","setsuccessSave_dlg","error_dlg","seterror_dlg","error_msg","seterror_msg","info_dlg","setinfo_dlg","info_msg","setinfo_msg","dynamic_title","setdynamic_title","confirm_alert","setconfirm_alert","confirm_alertDelete","setconfirm_alertDelete","success_dlg","setsuccess_dlg","applyEscrow","setapplyEscrow","isActiveLoading","setIsActiveLoading","history","currencyData","locationData","setLocationData","checkSubProp","setcheckSubProp","campoTasa","setcampoTasa","campoTasa2","setcampoTasa2","campoTasa3","setcampoTasa3","campoTasa4","setcampoTasa4","PropotalRate","setPropotalRate","TotalPropotalRate","setTotalPropotalRate","historyDetails","setHistoryDetails","undefined","termOptions","label","value","term","setTerm","isActiveLoadingFacilities","setIsActiveLoadingFacilities","treasuryCurveClass","setTreasuryCurveClass","treasuryCurveMessage","setTreasuryCurveMessage","useImperativeHandle","submit","validate","form","document","getElementById","requestSubmit","getFormValidation","dataSession","transactionId","length","push","URL_DASHBOARD","sessionStorage","setItem","JSON","stringify","result","getItem","parse","consultPrincipalDebtor","then","resp","numero","clientDocId","consultEnvironmentalAspectsIGR","dataAsp","environmentalAspectsDTO","riskClassificationConfirmation","handleSubmitFacilidad","event","errors","values","propuestaSet","tipoFacilidadSet","preventDefault","console","log","amount","Number","getRealValue","clientTypeId","balance","proposalRate","getRealPercent","noSubsidyRate","effectiveRate","feci","termDays","ltv","environmentRiskCategory","proposalTypeId","tipoPropuestaSelect","proposalTypeName","subPropuestaSelect","facilityTypeId","tipoFacilidadSelect","termType","terminosSelect","facilityId","requestId","dataGlobalReq","startingAmount","setViewAutonomy","saveNewFacility","catch","err","newFacility","modelTreasuryCurve","initial","treasuryCurve","newFacilityPropCred","consultarFacilidades2","resp2","find","facilities","Math","max","map","arr","Promise","allSettled","consultarFacilidades","consultarDetalleOpinionRiesgoCredito","getEnvironmentalRiskInfo","response","Facilidades","DetalleOpinionRiesgoCredito","EnvironmentalRiskInfo","covenant","detail","environmentRiskOpinion","recommendations","opinionRiskCredit","opinion","facilityIdVisible","filter","$$","debtor","setpropuestaSet","settipoFacilidadSet","setsubPropuestaSet","settipoPropuestaSelect","setsubPropuestaSelect","settipoFacilidadSelect","cargarDataSelect","resolve","reject","datos","cr","deudoresListSelect","purpose","sublimits","termDescription","finantialConditions","finantialCovenant","legalDocumentation","creditRiskOpinion","otherConditions","provision","setLevelAutonomy","levelAutonomy","updateFacilityPropCred","cargarFacilidades","resetData","handleNewCommission","newItem","newCommissions","handleDeleteCommission","item","itemIndex","indexOf","splice","handleNewDisbursementTerm","newDisbursementTerms","handleDeleteDisbursementTerm","handleNewPaymentProgram","newPaymentPrograms","handleDeletePaymentProgram","handleNewDisbursementMethod","newDisbursementMethods","handleDeleteDisbursementMethod","handleNewWarrant","newWarrants","handleDeleteWarrant","handleNewSurety","newSureties","handleDeleteSurety","api","apiCoreServices","dataReturn","setdataReturn","tipoPropuesta","settipoPropuesta","settipoPropuestaRequerido","subPropuesta","setsubPropuesta","subPropuestaSet","setsubPropuestaRequerido","tipoFacilidad","settipoFacilidad","setdeudoresListSelect","setterminosSelect","deudoresList","setdeudoresList","tipo","settipo","dataRows","setdataRows","dataEdit","setdataEdit","campoRequeridoDeudores","setcampoRequeridoDeudores","MontoFacilidad","setMontoFacilidad","setdataGlobalReq","listaIdentificacion","identificationList","settipoFacilidadRequerido","facilityNumber","setfacilityNumber","typeTerms","setProposalRate","rateTreasuryCurve","setRateTreasuryCurve","rateProposalTreasuryCurve","setRateProposalTreasuryCurve","Description","Code","activeTab","backendServicesAll","consultGeneralDataPropCred","initializeData","consultarDeudores","data2","jsonDeudores","i","retrieveProposalType","propuesta","retrieveFacilityType","facilidad","acu","orderByJSON","index","x","id","description","formatTable","textAlign","update","eliminarFacilidades","error","changeRateProposal","defaultVal","toUpperCase","treasuryCurveCat0","json","retrieveSubproposalType","soloNumeros","e","dato","teclaPulsada","window","keyCode","which","valor","test","String","fromCharCode","check","tecla","all","editFacilitiesT24","getFacilityInfo","tmpdata","origin","IntRateData","IntRate","CreditAcctData","FeciProperty","Term","ProposedTerm","substring","treasury","showTreasuryCurve","customerNumberT24","margin","number","errorMessage","target","format","formatPercent","parseFloat","toFixed","treasuryCurveComment","PROCESS_PROPUESTACREDITO","ACT_PROPUESTACREDITO","deleteFacility","statusCode","propTypes","items","array","isRequired","editMode","bool","onSaveFacility","func","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useRef, useEffect } from \"react\"\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from \"react-router-dom\"\r\nimport SweetAlert from \"react-bootstrap-sweetalert\"\r\nimport {\r\n  Table,\r\n  Card,\r\n  CardBody,\r\n  Button,\r\n  Row,\r\n  Col,\r\n  Label,\r\n  Alert\r\n} from \"reactstrap\"\r\nimport { AvForm, AvGroup, AvField, AvInput } from \"availity-reactstrap-validation\"\r\nimport listaFacilidades from \"../../../../api/bpm/propuestacredito/facilidades\";\r\nimport { Facilidad } from \"../../../../models/PropuestaCredito\";\r\nimport { BackendServices, CoreServices } from \"../../../../services\";\r\nimport Select from \"react-select\";\r\nimport ComisionSeccion from \"./Comision\";\r\nimport DisbursementSection from \"./DisturbementSeccion\";\r\nimport WarrantsSection from \"./WarrantsSection\";\r\nimport SuretiesSection from \"./SuretiesSection\";\r\nimport Switch from \"react-switch\";\r\nimport { useLocation, useHistory } from 'react-router-dom';\r\nimport * as url from \"../../../../helpers/url_helper\"\r\nimport Currency from \"../../../../helpers/currency\"\r\nimport { useTranslation } from \"react-i18next/\";\r\nimport FacilityHistory from \"../../../../components/Common/FacilityHistory\";\r\nimport LoadingOverlay from \"react-loading-overlay\";\r\nimport AttachmentFileCore from \"../../../../components/Common/AttachmentFileCore\";\r\nimport { AttachmentFileInputModel } from \"../../../../models/Common/AttachmentFileInputModel\";\r\nimport * as OPTs from \"../../../../helpers/options_helper\";\r\nimport TreasuryCurve from \"./treasuryCurve.model\";\r\n\r\nconst Offsymbol = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: \"100%\",\r\n        fontSize: 12,\r\n        color: \"#fff\",\r\n        paddingRight: 2,\r\n      }}\r\n    >\r\n      {\" \"}\r\n      No\r\n    </div>\r\n  );\r\n};\r\nconst OnSymbol = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: \"100%\",\r\n        fontSize: 12,\r\n        color: \"#fff\",\r\n        paddingRight: 2,\r\n      }}\r\n    >\r\n      {\" \"}\r\n      Si\r\n    </div>\r\n  );\r\n};\r\nconst ListaFacilidad = React.forwardRef((props, ref) => {\r\n  const location = useLocation()\r\n  const { t, i18n } = useTranslation();\r\n  const [dataSet, setdataSet] = useState({\r\n    \"requestId\": \"\",\r\n    \"cr\": \"\",\r\n    \"amount\": 0,\r\n    \"debtor\": \"\",\r\n    \"clientTypeId\": 0,\r\n    \"balance\": 0,\r\n    \"proposalTypeId\": \"\",\r\n    \"proposalTypeName\": \"\",\r\n    \"facilityTypeId\": \"\",\r\n    \"purpose\": \"\",\r\n    \"sublimits\": \"\",\r\n    \"proposalRate\": 0,\r\n    \"noSubsidyRate\": 0,\r\n    \"effectiveRate\": 0,\r\n    \"feci\": true,\r\n    \"termDays\": 0,\r\n    \"termDescription\": \"\",\r\n    \"ltv\": 0,\r\n    \"finantialConditions\": \"\",\r\n    \"environmentRiskCategory\": 0,\r\n    \"covenant\": \"\",\r\n    \"environmentRiskOpinion\": \"\",\r\n    \"finantialCovenant\": \"\",\r\n    \"legalDocumentation\": \"\",\r\n    \"creditRiskOpinion\": \"\",\r\n    \"provision\": \"\",\r\n    \"numero\": \"\",\r\n    \"otherConditions\": \"\",\r\n    \"facilityId\": 0,\r\n  });\r\n  const [datosUsuario, setdatosUsuario] = useState(null)\r\n  const [dataValidation, setdataValidation] = useState({\r\n    tipoPropuestaRequerido: false,\r\n    subPropuestaRequerido: false,\r\n    tipoFacilidadRequerido: false,\r\n  });\r\n  const [context, setcontext] = useState(location.data)\r\n  const propostalSectionRef = useRef();\r\n  const [formValid, setFormValid] = useState(false);\r\n  const [dataLocation, setData] = useState(location.data);\r\n  const [commissions, setCommissions] = useState([]);\r\n  const [disbursementTerms, setDisbursementTerms] = useState([]);\r\n  const [paymentPrograms, setPaymentPrograms] = useState([]);\r\n  const [disbursementMethods, setDisbursementMethods] = useState([]);\r\n  const [warrants, setWarrants] = useState([]);\r\n  const [sureties, setSureties] = useState([]);\r\n  const [garantiaET, setgarantiaET] = useState([]);\r\n  const [ViewSeccion, setViewSeccion] = useState(false);\r\n  const backendServices = new BackendServices();\r\n  // Variables para alertas\r\n  const [successSave_dlg, setsuccessSave_dlg] = useState(false);\r\n  const [error_dlg, seterror_dlg] = useState(false);\r\n  const [error_msg, seterror_msg] = useState(\"\");\r\n  const [info_dlg, setinfo_dlg] = useState(false)\r\n  const [info_msg, setinfo_msg] = useState(\"\")\r\n  const [dynamic_title, setdynamic_title] = useState(\"\")\r\n  const [confirm_alert, setconfirm_alert] = useState(false)\r\n  const [confirm_alertDelete, setconfirm_alertDelete] = useState(false)\r\n  const [success_dlg, setsuccess_dlg] = useState(false)\r\n  const [applyEscrow, setapplyEscrow] = useState(false)\r\n  const [isActiveLoading, setIsActiveLoading] = useState(false);\r\n  const history = useHistory();\r\n  const currencyData = new Currency();\r\n  const [locationData, setLocationData] = useState(null);\r\n  const [checkSubProp, setcheckSubProp] = useState(false);\r\n\r\n  const [campoTasa, setcampoTasa] = useState(false);\r\n  const [campoTasa2, setcampoTasa2] = useState(false);\r\n  const [campoTasa3, setcampoTasa3] = useState(false);\r\n  const [campoTasa4, setcampoTasa4] = useState(false);\r\n  const [PropotalRate, setPropotalRate] = useState(0);\r\n  const [TotalPropotalRate, setTotalPropotalRate] = useState(0);\r\n\r\n  const [historyDetails, setHistoryDetails] = useState(undefined);\r\n\r\n  const termOptions = [{ label: `${t(\"ShortTerm\")}`, value: \"CP\" }, { label: `${t(\"LongTerm\")}`, value: \"LP\" }];\r\n  const [term, setTerm] = useState(null);\r\n\r\n  const [isActiveLoadingFacilities, setIsActiveLoadingFacilities] = useState(false);\r\n  const [treasuryCurveClass, setTreasuryCurveClass] = useState();\r\n  const [treasuryCurveMessage, setTreasuryCurveMessage] = useState(false);\r\n\r\n  React.useImperativeHandle(ref, () => ({\r\n    submit: (validate = true) => {\r\n      const form = document.getElementById('formNewFacility');\r\n      if (validate) {\r\n        if (formValid) {\r\n          form.requestSubmit();\r\n          return true;\r\n        }\r\n        return false;\r\n      }\r\n      else {\r\n        form.requestSubmit();\r\n        return true;\r\n      }\r\n    },\r\n    getFormValidation: () => {\r\n      return formValid;\r\n    }\r\n  }));\r\n  // services\r\n  useEffect(() => {\r\n    setTerm(undefined);\r\n\r\n    let dataSession;\r\n    if (location.data !== null && location.data !== undefined) {\r\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n        //location.data.transactionId = 0;\r\n        //checkAndCreateProcedure(location.data);\r\n        history.push(url.URL_DASHBOARD);\r\n      }\r\n      else {\r\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n        setLocationData(location.data);\r\n        dataSession = location.data;\r\n      }\r\n    }\r\n    else {\r\n      //chequeamos si tenemos guardado en session\r\n      var result = sessionStorage.getItem('locationData');\r\n      if (result !== undefined && result !== null) {\r\n        result = JSON.parse(result);\r\n        setLocationData(result);\r\n        dataSession = result;\r\n      }\r\n    }\r\n\r\n    // Read Api Service  ata\r\n    // consultarDeudorPrincipal\r\n    backendServices.consultPrincipalDebtor(dataSession.transactionId).then(resp => {\r\n      dataSet.numero = resp.clientDocId\r\n      setdataSet(dataSet);\r\n      setdatosUsuario(resp)\r\n    })\r\n    backendServices.consultEnvironmentalAspectsIGR(dataSession.transactionId).then(dataAsp => {\r\n      setgarantiaET(dataAsp?.environmentalAspectsDTO?.riskClassificationConfirmation ?? \"\");\r\n    })\r\n\r\n\r\n\r\n  }, []);\r\n\r\n\r\n  async function handleSubmitFacilidad(event, errors, values) {\r\n\r\n    // console.log(\"termOptions\", term.value)\r\n    if (!propuestaSet || !tipoFacilidadSet) {\r\n      return\r\n    }\r\n    if (+document?.getElementById(\"amount\")?.value < 0) {\r\n      return;\r\n    }\r\n    if (campoTasa) {\r\n      return;\r\n    }\r\n    if (campoTasa2) {\r\n      return;\r\n    }\r\n    if (campoTasa3) {\r\n      return;\r\n    }\r\n    // if (campoTasa4) {\r\n    //   return;\r\n    // }\r\n    event.preventDefault();\r\n    if (errors.length > 0) {\r\n      return;\r\n    }\r\n    setIsActiveLoading(true);\r\n    console.log(values?.amount);\r\n    values.amount = Number(currencyData.getRealValue(values?.amount ?? 0));\r\n    values.clientTypeId = Number(1);\r\n    values.balance = Number(currencyData.getRealValue(values?.balance ?? 0));\r\n    values.proposalRate = Number(currencyData.getRealPercent(values?.proposalRate ?? 0));\r\n    values.noSubsidyRate = Number(currencyData.getRealPercent(values?.noSubsidyRate ?? 0));\r\n    values.effectiveRate = Number(currencyData.getRealPercent(values?.effectiveRate ?? 0));\r\n    values.feci = values.feci == \"true\" ? true : false;\r\n    values.termDays = (values.termDays === '' ? 0 : values.termDays);\r\n    values.ltv = Number(currencyData.getRealPercent(values?.ltv ?? 0));\r\n    values.environmentRiskCategory = values.environmentRiskCategory;\r\n    values.proposalTypeId = tipoPropuestaSelect == undefined ? \" \" : tipoPropuestaSelect.value;\r\n    values.proposalTypeName = subPropuestaSelect == undefined ? \" \" : subPropuestaSelect.value;\r\n    values.facilityTypeId = tipoFacilidadSelect == undefined ? \" \" : tipoFacilidadSelect.value;\r\n    values.termType = terminosSelect == undefined ? \" \" : terminosSelect.value;\r\n    values.facilityId = dataSet.facilityId;\r\n    values.requestId = dataGlobalReq ?? 0;\r\n    values.applyEscrow = applyEscrow ?? false;\r\n    values.startingAmount = currencyData.getRealValue(values?.startingAmount ?? 0);\r\n    values.term = !term ? \" \" : term.value;\r\n\r\n    props.setViewAutonomy(false);\r\n\r\n    saveNewFacility(values)\r\n      .then((result) => {\r\n        // props.onSave(values);\r\n        // props.onDismiss();\r\n        props.setViewAutonomy(true);\r\n      }).catch(err => {\r\n        console.log(err);\r\n        props.setViewAutonomy(true);\r\n      });\r\n  }\r\n\r\n  async function newFacility(data = {\r\n    \"facilityNumber\": \"0\",\r\n    \"cr\": \"0\",\r\n    \"amount\": 0,\r\n    \"debtor\": \"  \",\r\n    \"clientTypeId\": 1,\r\n    \"customer\": {\r\n      \"id\": \"469303-1-434018\"\r\n    },\r\n    \"balance\": 0,\r\n    \"purpose\": \"\",\r\n    \"sublimits\": \"\",\r\n    \"proposalRate\": 0,\r\n    \"noSubsidyRate\": 0,\r\n    \"effectiveRate\": 0,\r\n    \"feci\": false,\r\n    \"termDays\": 0,\r\n    \"termDescription\": \"\",\r\n    \"ltv\": 0,\r\n    \"finantialConditions\": \" \",\r\n    \"environmentRiskCategory\": 0,\r\n    \"covenant\": \" \",\r\n    \"environmentRiskOpinion\": \" \",\r\n    \"finantialCovenant\": \" \",\r\n    \"legalDocumentation\": \"  \",\r\n    \"otherConditions\": \" \",\r\n    \"creditRiskOpinion\": \" \",\r\n    \"provision\": \" \",\r\n    \"proposalTypeId\": \"\",\r\n    \"proposalTypeName\": \"\",\r\n    \"facilityTypeId\": \"\",\r\n    \"termType\": \"\",\r\n    \"origin\": \"MVP\",\r\n    \"applyEscrow\": false,\r\n    facilityId: 0,\r\n    \"requestId\": dataGlobalReq ?? 0,\r\n    startingAmount: 0,\r\n    term: ''\r\n  }) {\r\n\r\n    let modelTreasuryCurve = new TreasuryCurve();\r\n\r\n    await modelTreasuryCurve.initial()\r\n    setTreasuryCurveClass(modelTreasuryCurve);\r\n    setTreasuryCurveMessage(modelTreasuryCurve.treasuryCurve?.length === 0)\r\n\r\n\r\n    // nuevoFacilidadPropCred\r\n    backendServices.newFacilityPropCred(data).then(async resp => {\r\n      await backendServices.consultarFacilidades2(dataGlobalReq ?? 0).then(async resp2 => {\r\n\r\n        resp2 = (resp2.find(facilities => facilities.facilityId == Math.max(...resp2.map(arr => arr.facilityId))));\r\n        data.facilityId = resp;\r\n\r\n        setViewSeccion(!ViewSeccion);\r\n        setHistoryDetails(false)\r\n\r\n        // setapplyEscrow(locationData)\r\n\r\n        setIsActiveLoading(true);\r\n\r\n        await Promise.allSettled([\r\n          backendServices.consultarFacilidades(dataGlobalReq ?? 0),\r\n          backendServices.consultarDetalleOpinionRiesgoCredito(locationData.transactionId),\r\n          backendServices.getEnvironmentalRiskInfo(locationData.transactionId)\r\n        ]).then(response => {\r\n          const [{ value: Facilidades }, { value: DetalleOpinionRiesgoCredito }, { value: EnvironmentalRiskInfo }] = response;\r\n\r\n          data.covenant = EnvironmentalRiskInfo?.detail ?? \"\";\r\n          data.environmentRiskOpinion = EnvironmentalRiskInfo?.recommendations ?? \"\";\r\n\r\n          data.opinionRiskCredit = DetalleOpinionRiesgoCredito.length > 0 ? DetalleOpinionRiesgoCredito[0].opinion : \"\";\r\n\r\n          data.facilityIdVisible = (Facilidades?.filter($$ => $$.debtor != \"  \").length + 1) || 1;\r\n\r\n          data.facilityId = resp;\r\n          console.log(data)\r\n\r\n          setIsActiveLoading(false);\r\n\r\n          setTerm(null);\r\n\r\n          setpropuestaSet(null);\r\n          settipoFacilidadSet(null);\r\n          setcheckSubProp(false);\r\n          setsubPropuestaSet(null);\r\n\r\n          settipoPropuestaSelect(data?.proposalTypeId ?? undefined);\r\n          setsubPropuestaSelect(undefined);\r\n          settipoFacilidadSelect(undefined);\r\n\r\n          setdataSet(data)\r\n          cargarDataSelect(data)\r\n\r\n        }).catch(err => {\r\n          setIsActiveLoading(false);\r\n          console.log(err)\r\n          dataSet.facilityId = resp;\r\n          setdataSet(dataSet)\r\n\r\n          setTerm(null);\r\n          setpropuestaSet(null);\r\n          settipoFacilidadSet(null);\r\n          setcheckSubProp(false);\r\n          setsubPropuestaSet(null);\r\n\r\n          settipoPropuestaSelect(undefined);\r\n          setsubPropuestaSelect(undefined);\r\n          settipoFacilidadSelect(undefined);\r\n        });\r\n\r\n      })\r\n\r\n    });\r\n  }\r\n  function saveNewFacility(values) {\r\n    return new Promise((resolve, reject) => {\r\n      const datos = {\r\n        \"requestId\": values.requestId,\r\n        \"facilityId\": dataSet.facilityId,\r\n        \"cr\": values.cr,\r\n        \"amount\": values.amount,\r\n        \"debtor\": deudoresListSelect.value,\r\n        \"clientTypeId\": deudoresListSelect.value,\r\n        \"balance\": values.balance,\r\n        \"proposalTypeId\": values.proposalTypeId,\r\n        \"proposalTypeName\": values.proposalTypeName,\r\n        // \"facilityTypeId\": values.facilityTypeId,\r\n        \"facilityTypeId\": values.facilityTypeId,\r\n        \"purpose\": values.purpose,\r\n        \"sublimits\": values.sublimits,\r\n        \"proposalRate\": values.proposalRate,\r\n        \"noSubsidyRate\": values.noSubsidyRate,\r\n        \"effectiveRate\": values.effectiveRate,\r\n        \"feci\": values.feci,\r\n        \"termDays\": values.termDays,\r\n        \"termDescription\": values.termDescription,\r\n        \"ltv\": values.ltv,\r\n        \"finantialConditions\": values.finantialConditions,\r\n        \"environmentRiskCategory\": 0,\r\n        \"covenant\": values.covenant,\r\n        \"environmentRiskOpinion\": values.environmentRiskOpinion,\r\n        \"finantialCovenant\": values.finantialCovenant,\r\n        \"legalDocumentation\": values.legalDocumentation,\r\n        \"creditRiskOpinion\": values.creditRiskOpinion,\r\n        \"otherConditions\": values.otherConditions,\r\n        \"provision\": values.provision,\r\n        \"applyEscrow\": values.applyEscrow,\r\n        \"termType\": values.termType,\r\n        \"startingAmount\": +values.startingAmount,\r\n        \"term\": values.term,\r\n        \"origin\": \"MVP\"\r\n      }\r\n      console.log(datos)\r\n      props.setLevelAutonomy(levelAutonomy => levelAutonomy + +datos.amount)\r\n      // actualizarFacilidadPropCred\r\n      backendServices.updateFacilityPropCred(datos).then(resp => {\r\n        console.log(\"ðŸš€ ~ file: FacilidadesSeccion.js ~ line 399 ~ backendServices.updateFacilityPropCred ~ resp\", resp)\r\n        if (resp !== null && resp !== undefined) {\r\n          setViewSeccion(!ViewSeccion);\r\n          setsuccessSave_dlg(true);\r\n        } else {\r\n          seterror_dlg(false);\r\n        }\r\n        cargarFacilidades(locationData)\r\n        setIsActiveLoading(false);\r\n        resetData();\r\n        resolve();\r\n      }).catch(err => {\r\n        console.log(err)\r\n        seterror_dlg(false);\r\n        setIsActiveLoading(false)\r\n        resetData();\r\n        resolve();\r\n      })\r\n    });\r\n  }\r\n  function handleNewCommission(newItem) {\r\n    const newCommissions = [...commissions, newItem];\r\n    setCommissions(newCommissions);\r\n  }\r\n\r\n  function handleDeleteCommission(item) {\r\n    const itemIndex = commissions.indexOf(item);\r\n    if (itemIndex === -1) {\r\n      return;\r\n    }\r\n    const newCommissions = [...commissions];\r\n    newCommissions.splice(itemIndex, 1);\r\n    setCommissions(newCommissions);\r\n  }\r\n\r\n  function handleNewDisbursementTerm(newItem) {\r\n    const newDisbursementTerms = [...disbursementTerms, newItem];\r\n    setDisbursementTerms(newDisbursementTerms);\r\n  }\r\n\r\n  function handleDeleteDisbursementTerm(item) {\r\n    const itemIndex = disbursementTerms.indexOf(item);\r\n    if (itemIndex === -1) {\r\n      return;\r\n    }\r\n    const newDisbursementTerms = [...disbursementTerms];\r\n    newDisbursementTerms.splice(itemIndex, 1);\r\n    setDisbursementTerms(newDisbursementTerms);\r\n  }\r\n\r\n  function handleNewPaymentProgram(newItem) {\r\n    const newPaymentPrograms = [...paymentPrograms, newItem];\r\n    setPaymentPrograms(newPaymentPrograms);\r\n  }\r\n\r\n  function handleDeletePaymentProgram(item) {\r\n    const itemIndex = paymentPrograms.indexOf(item);\r\n    if (itemIndex === -1) {\r\n      return;\r\n    }\r\n    const newPaymentPrograms = [...paymentPrograms];\r\n    newPaymentPrograms.splice(itemIndex, 1);\r\n    setPaymentPrograms(newPaymentPrograms);\r\n  }\r\n\r\n  function handleNewDisbursementMethod(newItem) {\r\n    const newDisbursementMethods = [...disbursementMethods, newItem];\r\n    setDisbursementMethods(newDisbursementMethods);\r\n  }\r\n  function handleDeleteDisbursementMethod(item) {\r\n    const itemIndex = disbursementMethods.indexOf(item);\r\n    if (itemIndex === -1) {\r\n      return;\r\n    }\r\n    const newDisbursementMethods = [...disbursementMethods];\r\n    newDisbursementMethods.splice(itemIndex, 1);\r\n    setDisbursementMethods(newDisbursementMethods);\r\n  }\r\n  function handleNewWarrant(newItem) {\r\n    const newWarrants = [...warrants, newItem];\r\n    setWarrants(newWarrants);\r\n  }\r\n  function handleDeleteWarrant(item) {\r\n    const itemIndex = warrants.indexOf(item);\r\n    if (itemIndex === -1) {\r\n      return;\r\n    }\r\n    const newWarrants = [...warrants];\r\n    newWarrants.splice(itemIndex, 1);\r\n    setWarrants(newWarrants);\r\n  }\r\n  function handleNewSurety(newItem) {\r\n    const newSureties = [...sureties, newItem];\r\n    setSureties(newSureties);\r\n  }\r\n  function handleDeleteSurety(item) {\r\n    const itemIndex = sureties.indexOf(item);\r\n    if (itemIndex === -1) {\r\n      return;\r\n    }\r\n    const newSureties = [...sureties];\r\n    newSureties.splice(itemIndex, 1);\r\n    setSureties(newSureties);\r\n  }\r\n  // FUNCIONES PARA PROPOSTALSECTION\r\n  const api = new BackendServices();\r\n  const apiCoreServices = new CoreServices();\r\n  const [dataReturn, setdataReturn] = useState({\r\n    proposalTypeId: null,\r\n    proposalTypeName: null,\r\n    facilityTypeId: null,\r\n  });\r\n  const [tipoPropuesta, settipoPropuesta] = useState(null);\r\n  const [tipoPropuestaSelect, settipoPropuestaSelect] = useState(undefined);\r\n  const [propuestaSet, setpropuestaSet] = useState(null);\r\n  const [tipoPropuestaRequerido, settipoPropuestaRequerido] = useState(false);\r\n  const [subPropuesta, setsubPropuesta] = useState(null);\r\n  const [subPropuestaSelect, setsubPropuestaSelect] = useState(undefined);\r\n  const [subPropuestaSet, setsubPropuestaSet] = useState(null);\r\n  const [subPropuestaRequerido, setsubPropuestaRequerido] = useState(false);\r\n  const [tipoFacilidad, settipoFacilidad] = useState(null);\r\n  const [tipoFacilidadSelect, settipoFacilidadSelect] = useState(undefined);\r\n  const [deudoresListSelect, setdeudoresListSelect] = useState(undefined);\r\n  const [terminosSelect, setterminosSelect] = useState(undefined);\r\n  const [tipoFacilidadSet, settipoFacilidadSet] = useState(null);\r\n  const [deudoresList, setdeudoresList] = useState(null);\r\n  const [tipo, settipo] = useState(\"guardar\");\r\n  const [dataRows, setdataRows] = useState(null);\r\n  const [dataEdit, setdataEdit] = useState(null);\r\n  const [campoRequeridoDeudores, setcampoRequeridoDeudores] = useState(false);\r\n  const [MontoFacilidad, setMontoFacilidad] = useState(0);\r\n  const [dataGlobalReq, setdataGlobalReq] = useState(0);\r\n  let listaIdentificacion = props.identificationList;\r\n  const [tipoFacilidadRequerido, settipoFacilidadRequerido] = useState(false);\r\n  const [facilityNumber, setfacilityNumber] = useState(1);\r\n  const typeTerms = [{ label: t(\"Days\"), value: \"DÃAS\" }, { label: t(\"Months\"), value: \"MESES\" }, { label: t(\"Years\"), value: \"AÃ‘OS\" }]\r\n  const [proposalRate, setProposalRate] = useState(0);\r\n  const [rateTreasuryCurve, setRateTreasuryCurve] = useState(false);\r\n  const [rateProposalTreasuryCurve, setRateProposalTreasuryCurve] = useState({ Description: \"\", Code: \"\" });\r\n\r\n  React.useEffect(() => {\r\n    setterminosSelect(typeTerms[0])\r\n    // Read Api Service data\r\n    // initializeData();\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n\r\n    let dataSession;\r\n    if (location.data !== null && location.data !== undefined) {\r\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n        //location.data.transactionId = 0;\r\n        //checkAndCreateProcedure(location.data);\r\n        history.push(url.URL_DASHBOARD);\r\n      }\r\n      else {\r\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n        setLocationData(location.data);\r\n        dataSession = location.data;\r\n      }\r\n    }\r\n    else {\r\n      //chequeamos si tenemos guardado en session\r\n      var result = sessionStorage.getItem('locationData');\r\n      if (result !== undefined && result !== null) {\r\n        result = JSON.parse(result);\r\n        setLocationData(result);\r\n        dataSession = result;\r\n      }\r\n    }\r\n    if (props.activeTab == 3) {\r\n      const backendServicesAll = new BackendServices();\r\n      backendServicesAll.consultGeneralDataPropCred(dataSession?.transactionId ?? dataSession?.transactionId ?? 0)\r\n        .then((data) => {\r\n          console.log(\"ðŸš€ ~ file: FacilidadesSeccion.js ~ line 576 ~ .then ~ data\", data)\r\n          if (data !== undefined) {\r\n            setdataGlobalReq(data[0]?.requestId);\r\n          }\r\n          cargarFacilidades(dataSession, data[0]?.requestId)\r\n          initializeData(dataSession);\r\n        });\r\n    }\r\n\r\n    // Read Api Service data\r\n  }, [props.activeTab == 3]);\r\n  function cargarFacilidades(dataSession, requestId = dataGlobalReq) {\r\n    setIsActiveLoadingFacilities(true);\r\n    api.consultarDeudores(dataSession.transactionId)\r\n      .then((data2) => {\r\n        if (data2 !== null && data2 !== undefined) {\r\n          let jsonDeudores = [];\r\n          for (let i = 0; i < data2.length; i++) {\r\n            jsonDeudores.push({ label: data2[i][\"typePerson\"] == 2 ? data2[i][\"name\"] : (data2[i][\"name\"] + \" \" + data2[i][\"name2\"] + \" \" + data2[i][\"lastName\"] + \" \" + data2[i][\"lastName2\"]), value: data2[i][\"personId\"] })\r\n            // jsonDeudores.push({ label: data2[i][\"name\"] + \" \" + data2[i][\"name2\"] + \" \" + data2[i][\"lastName\"] + \" \" + data2[i][\"lastName2\"], value: data2[i][\"personId\"] })\r\n          }\r\n\r\n          api.retrieveProposalType()\r\n            .then((propuesta) => {\r\n              api.retrieveFacilityType()\r\n                .then((facilidad) => {\r\n                  api.consultarFacilidades(requestId).then(resp => {\r\n                    let acu = 0;\r\n                    if (resp?.filter(data => data.debtor != \"  \").length > 0) {\r\n                      resp = currencyData.orderByJSON(resp, 'facilityId', 'asc');\r\n                      setdataRows(resp.map((data, index) => {\r\n                        acu++;\r\n                        return (\r\n                          <tr key={acu}>\r\n                            <td data-label={t(\"Facility\")}>{acu}</td>\r\n                            <td data-label={t(\"Debtor\")}>{jsonDeudores.find(x => x.value === Number(data.debtor))?.label}</td>\r\n                            <td data-label={t(\"Facility Type\")}>{facilidad.find(x => x.id === data.facilityTypeId)?.description}</td>\r\n                            <td data-label={t(\"Proposal\")}>{propuesta.find(x => x.id === data.proposalTypeId)?.description}</td>\r\n                            <td data-label={t(\"Amount\")}>${currencyData.formatTable(data.amount ?? 0)}</td>\r\n                            <td data-label={t(\"Amount\") + \" \" + t(\"Rate\")}>{currencyData.formatTable(data.proposalRate ?? 0)}%</td>\r\n                            <td data-label={t(\"Actions\")} style={{ textAlign: \"right\" }}>\r\n                              <Button type=\"button\" color=\"link\" onClick={(resp) => {\r\n                                update(data, index)\r\n                              }} className=\"btn btn-link\" ><i className=\"mdi mdi-border-color mdi-24px\"></i></Button>\r\n                              <Button type=\"button\" color=\"link\" onClick={(resp) => { setdataSet(data); eliminarFacilidades(); }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n                            </td>\r\n                          </tr>)\r\n                      }\r\n                      ));\r\n                      setIsActiveLoadingFacilities(false);\r\n                    } else {\r\n                      setdataRows(\r\n                        <tr key={1}>\r\n                          <td colSpan=\"7\" style={{ textAlign: 'center' }}></td>\r\n                        </tr>);\r\n                      setIsActiveLoadingFacilities(false);\r\n                    }\r\n                  }).catch(err => {\r\n                  });\r\n                })\r\n            })\r\n        }\r\n\r\n      })\r\n      .catch((error) => {\r\n        console.error('api error: ', error);\r\n      });\r\n  }\r\n  async function update(data, index) {\r\n\r\n    let modelTreasuryCurve = new TreasuryCurve();\r\n\r\n    await modelTreasuryCurve.initial()\r\n    setTreasuryCurveClass(modelTreasuryCurve);\r\n    setTreasuryCurveMessage(modelTreasuryCurve.treasuryCurve?.length === 0)\r\n\r\n\r\n    data.facilityIdVisible = index + 1;\r\n\r\n    setdataSet(data); cargarDataSelect(data); settipo(\"editar\"); setViewSeccion(true);\r\n    changeRateProposal(data.proposalRate ?? 0, data.termType ?? 'DÃAS', modelTreasuryCurve)\r\n    dataReturn.termType = data.termType;\r\n    setdataReturn(dataReturn);\r\n    setPropotalRate(data.proposalRate);\r\n    setTotalPropotalRate(+data.proposalRate - +data.noSubsidyRate)\r\n  }\r\n\r\n\r\n  function eliminarFacilidades() {\r\n    settipo(\"eliminar\");\r\n    setconfirm_alertDelete(true);\r\n  }\r\n  React.useEffect(() => {\r\n    // Read Api Service data\r\n    settipoPropuestaRequerido(dataValidation.tipoPropuestaRequerido);\r\n    setsubPropuestaRequerido(dataValidation.subPropuestaRequerido);\r\n    settipoFacilidadRequerido(dataValidation.tipoFacilidadRequerido);\r\n  }, [dataValidation]);\r\n  function cargarDataSelect(data) {\r\n    var defaultVal = null;\r\n    setapplyEscrow(data?.applyEscrow);\r\n    console.log(termOptions, data)\r\n    try {\r\n      if (termOptions.length > 0 && data.term) {\r\n        defaultVal = termOptions.find(x => (x.value).toUpperCase() === (data.term).toUpperCase());\r\n        if (defaultVal !== undefined) {\r\n          setTerm(defaultVal);\r\n        }\r\n      }\r\n      if (tipoPropuesta.length > 0 && data.proposalTypeId !== null) {\r\n        defaultVal = tipoPropuesta.find(x => (x.value).toUpperCase() === (data.proposalTypeId).toUpperCase());\r\n        if (defaultVal !== undefined) {\r\n          settipoPropuestaSelect(defaultVal);\r\n          setpropuestaSet(defaultVal)\r\n        }\r\n      }\r\n      if (subPropuesta.length > 0 && data.proposalTypeName !== null) {\r\n        defaultVal = subPropuesta.find(x => (x.value).toUpperCase() === (data.proposalTypeName).toUpperCase());\r\n        if (defaultVal !== undefined) {\r\n          setsubPropuestaSelect(defaultVal);\r\n          setsubPropuestaSet(defaultVal)\r\n        }\r\n      }\r\n      if (tipoFacilidad.length > 0 && data.facilityTypeId !== null) {\r\n        defaultVal = tipoFacilidad.find(x => (x.value).toUpperCase() === (data.facilityTypeId).toUpperCase());\r\n        if (defaultVal !== undefined) {\r\n          settipoFacilidadSelect(defaultVal);\r\n          settipoFacilidadSet(defaultVal)\r\n        }\r\n      }\r\n      console.log(deudoresList)\r\n      if (deudoresList.length > 0 && data.debtor !== null) {\r\n        defaultVal = deudoresList.find(x => (x.value) === (data.debtor));\r\n        if (defaultVal !== undefined) {\r\n          setdeudoresListSelect(defaultVal);\r\n        }\r\n      }\r\n      if (typeTerms.length > 0 && data.termType) {\r\n        defaultVal = typeTerms.find(x => (x.value).toUpperCase() === (data.termType).toUpperCase());\r\n        if (defaultVal !== undefined) {\r\n          setterminosSelect(defaultVal);\r\n        }\r\n      }\r\n\r\n\r\n    }\r\n\r\n    catch (err) {\r\n      console.log(console.error(err))\r\n    }\r\n  }\r\n  React.useEffect(() => {\r\n    cargarDataSelect(dataSet)\r\n    // Read Api Service data\r\n    setMontoFacilidad(dataSet.amount)\r\n\r\n  }, [dataSet, ViewSeccion, subPropuesta]);\r\n\r\n  var treasuryCurveCat0;\r\n  function initializeData(dataLocation) {\r\n\r\n    // consultarDeudores\r\n    api.consultarDeudores(dataLocation.transactionId)\r\n      .then((data) => {\r\n        if (data !== null && data !== undefined) {\r\n          let json = [];\r\n          console.log(data)\r\n          for (let i = 0; i < data.length; i++) {\r\n            // json.push({ label: data[i][\"name\"] + \" \" + data[i][\"name2\"] + \" \" + data[i][\"lastName\"] + \" \" + data[i][\"lastName2\"], value: data[i][\"personId\"] })\r\n            json.push({ label: data[i][\"typePerson\"] == 2 ? data[i][\"name\"] : (data[i][\"name\"] + \" \" + data[i][\"name2\"] + \" \" + data[i][\"lastName\"] + \" \" + data[i][\"lastName2\"]), value: data[i][\"personId\"] })\r\n          }\r\n          console.log(\"initializeData\", json);\r\n          setdeudoresListSelect(json[0])\r\n          setdeudoresList(json)\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error('api error: ', error);\r\n      });\r\n    api.retrieveProposalType()\r\n      .then((response) => {\r\n        if (response === null) { return; }\r\n        let json = [];\r\n        for (let i = 0; i < response.length; i++) {\r\n          json.push({ label: response[i][\"description\"], value: response[i][\"id\"] })\r\n        }\r\n        console.log(\"retrieveProposalType\", response)\r\n        settipoPropuesta(json);\r\n      })\r\n      .catch((error) => {\r\n        console.error('api error: ', error);\r\n      });\r\n    api.retrieveFacilityType()\r\n      .then((response) => {\r\n        console.log(\"retrieveFacilityType\", response)\r\n        if (response === null) { return; }\r\n        let json = [];\r\n        for (let i = 0; i < response.length; i++) {\r\n          if (response[i][\"id\"] !== \"TDC\") {\r\n            json.push({ label: response[i][\"description\"], value: response[i][\"id\"] })\r\n          }\r\n        }\r\n        settipoFacilidad(json);\r\n        console.log(\"retrieveFacilityType\", response)\r\n      })\r\n      .catch((error) => {\r\n        console.error('api error: ', error);\r\n      });\r\n    api.retrieveSubproposalType()\r\n      .then((response) => {\r\n        if (response === null) { return; }\r\n        let json = [];\r\n        for (let i = 0; i < response.length; i++) {\r\n          json.push({ label: response[i][\"description\"], value: response[i][\"id\"] })\r\n        }\r\n        console.log(\"retrieveSubproposalType\", response)\r\n        setsubPropuesta(json);\r\n      })\r\n      .catch((error) => {\r\n        console.error('api error: ', error);\r\n      });\r\n  }\r\n  function soloNumeros(e, dato) {\r\n    var teclaPulsada = window.event ? window.event.keyCode : e.which;\r\n    var valor = document.getElementById(dato).value;\r\n    if (teclaPulsada === 45 && valor.indexOf(\"-\") === -1) {\r\n      document.getElementById(dato).value = \"-\" + valor;\r\n    }\r\n    if (teclaPulsada === 13 || (teclaPulsada === 46 && valor.indexOf(\".\") === -1)) {\r\n      return true;\r\n    }\r\n    console.log(valor);\r\n    return /\\d/.test(String.fromCharCode(teclaPulsada));\r\n\r\n  }\r\n  //   function handleChangeInputfrmSearch(e) {\r\n  //     values[e.target.name] = e.target.value;\r\n  // }\r\n\r\n\r\n  function resetData() {\r\n    let data = {\r\n      \"facilityNumber\": \"0\",\r\n      \"cr\": \"0\",\r\n      \"amount\": 0,\r\n      \"debtor\": \"  \",\r\n      \"clientTypeId\": 1,\r\n      \"customer\": {\r\n        \"id\": \"469303-1-434018\"\r\n      },\r\n      \"balance\": 0,\r\n      \"purpose\": \"\",\r\n      \"sublimits\": \"\",\r\n      \"proposalRate\": 0,\r\n      \"noSubsidyRate\": 0,\r\n      \"effectiveRate\": 0,\r\n      \"feci\": false,\r\n      \"termDays\": 0,\r\n      \"termDescription\": \"\",\r\n      \"ltv\": 0,\r\n      \"finantialConditions\": \" \",\r\n      \"environmentRiskCategory\": 0,\r\n      \"covenant\": \" \",\r\n      \"environmentRiskOpinion\": \" \",\r\n      \"finantialCovenant\": \" \",\r\n      \"legalDocumentation\": \"  \",\r\n      \"otherConditions\": \" \",\r\n      \"creditRiskOpinion\": \" \",\r\n      \"provision\": \" \",\r\n      \"proposalTypeId\": \"\",\r\n      \"proposalTypeName\": \"\",\r\n      \"facilityTypeId\": \"\",\r\n      \"termType\": \"\",\r\n      \"applyEscrow\": false,\r\n      facilityId: 0,\r\n      \"requestId\": dataGlobalReq ?? 0,\r\n      \"term\": \"\"\r\n    }\r\n    setdataSet(data);\r\n\r\n\r\n    setTerm(null);\r\n    setpropuestaSet(null);\r\n    settipoFacilidadSet(null);\r\n    setcheckSubProp(false);\r\n    setsubPropuestaSet(null);\r\n\r\n    settipoPropuestaSelect(undefined);\r\n    setsubPropuestaSelect(undefined);\r\n    settipoFacilidadSelect(undefined);\r\n\r\n    setPropotalRate(0)\r\n    setTotalPropotalRate(0)\r\n\r\n\r\n    setRateProposalTreasuryCurve({ Description: \"\", Code: \"\" })\r\n\r\n  }\r\n\r\n  function check(e) {\r\n    let tecla = (document.all) ? e.keyCode : e.which;\r\n    //Tecla de retroceso para borrar, siempre la permite\r\n    if (tecla === 45) {\r\n      e.preventDefault();\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n  function editFacilitiesT24(data) {\r\n    console.log(\"editFacilitiesT24\", data);\r\n    setIsActiveLoadingFacilities(true)\r\n    // AA19214M07G3\r\n    api.consultGeneralDataPropCred(locationData?.transactionId).then((resp2) => {\r\n      if (resp2 != undefined && data !== undefined) {\r\n        if (data.cr !== null && data.cr !== undefined && data.cr.length > 0) {\r\n          apiCoreServices.getFacilityInfo(data.cr).then(resp => {\r\n            setIsActiveLoadingFacilities(false)\r\n\r\n            console.log(\"Data facilities\", resp);\r\n            let tmpdata = {\r\n              \"facilityNumber\": \"0\",\r\n              \"cr\": \"0\",\r\n              \"amount\": 0,\r\n              // \"debtor\": datosUsuario.personId,\r\n              \"debtor\": \" \",\r\n              \"clientTypeId\": 1,\r\n              \"customer\": {\r\n                \"id\": \"469303-1-434018\"\r\n              },\r\n              \"balance\": data.balance,\r\n              \"purpose\": \"\",\r\n              \"sublimits\": \"\",\r\n              \"proposalRate\": 0,\r\n              \"noSubsidyRate\": 0,\r\n              \"effectiveRate\": 0,\r\n              \"feci\": false,\r\n              \"termDays\": 0,\r\n              \"termDescription\": \"\",\r\n              \"ltv\": 0,\r\n              \"finantialConditions\": \" \",\r\n              \"environmentRiskCategory\": 0,\r\n              \"covenant\": \" \",\r\n              \"environmentRiskOpinion\": \" \",\r\n              \"finantialCovenant\": \" \",\r\n              \"legalDocumentation\": \"  \",\r\n              \"otherConditions\": \" \",\r\n              \"creditRiskOpinion\": \" \",\r\n              \"provision\": \" \",\r\n              \"proposalTypeId\": \"MEN\",\r\n              \"proposalTypeName\": \"\",\r\n              \"facilityTypeId\": \"\",\r\n              \"termType\": \"\",\r\n              \"applyEscrow\": false,\r\n              facilityId: 0,\r\n              \"requestId\": resp2[0]?.requestId ?? 0,\r\n              startingAmount: data.amount,\r\n              term: '',\r\n              origin: \"MVP\"\r\n            }\r\n            if (resp != null || resp != undefined) {\r\n              //data.amount = resp?.AcctBal[1]?.CurAmt?.Amt ?? 0;\r\n              tmpdata.proposalRate = resp?.IntRateData?.IntRate ?? 0;\r\n              tmpdata.feci = resp?.CreditAcctData?.FeciProperty ?? false;\r\n              tmpdata.termDays = resp?.CreditAcctData?.Term?.ProposedTerm ?? \"0\";\r\n              tmpdata.termDays = Number(tmpdata.termDays.length > 1 ? tmpdata.termDays.substring(0, tmpdata.termDays.length - 1) : tmpdata.termDays);\r\n              // creamos una nueva facilidad\r\n              console.log(\"tmpdata\", tmpdata);\r\n              newFacility(tmpdata);\r\n            } else {\r\n              setHistoryDetails(true)\r\n              //newFacility(data)\r\n            }\r\n          }).catch(err => {\r\n            console.log(err)\r\n            setIsActiveLoadingFacilities(false)\r\n          });\r\n        }\r\n        else {\r\n          let tmpdata = {\r\n            \"facilityNumber\": \"0\",\r\n            \"cr\": \"0\",\r\n            \"amount\": 0,\r\n            // \"debtor\": datosUsuario.personId,\r\n            \"debtor\": \" \",\r\n            \"clientTypeId\": 1,\r\n            \"customer\": {\r\n              \"id\": \"469303-1-434018\"\r\n            },\r\n            \"balance\": data.balance,\r\n            \"purpose\": \"\",\r\n            \"sublimits\": \"\",\r\n            \"proposalRate\": 0,\r\n            \"noSubsidyRate\": 0,\r\n            \"effectiveRate\": 0,\r\n            \"feci\": false,\r\n            \"termDays\": 0,\r\n            \"termDescription\": \"\",\r\n            \"ltv\": 0,\r\n            \"finantialConditions\": \" \",\r\n            \"environmentRiskCategory\": 0,\r\n            \"covenant\": \" \",\r\n            \"environmentRiskOpinion\": \" \",\r\n            \"finantialCovenant\": \" \",\r\n            \"legalDocumentation\": \"  \",\r\n            \"otherConditions\": \" \",\r\n            \"creditRiskOpinion\": \" \",\r\n            \"provision\": \" \",\r\n            \"proposalTypeId\": \"MEN\",\r\n            \"proposalTypeName\": \"\",\r\n            \"facilityTypeId\": \"\",\r\n            \"termType\": \"\",\r\n            origin: \"MVP\",\r\n            \"applyEscrow\": false,\r\n            facilityId: 0,\r\n            \"requestId\": resp2[0]?.requestId ?? 0,\r\n            startingAmount: data.amount,\r\n            term: ''\r\n          }\r\n\r\n          /*data.amount = resp?.AcctBal[1]?.CurAmt?.Amt ?? 0;\r\n              data.proposalRate = resp?.IntRateData?.IntRate ?? 0;\r\n              data.feci = resp?.CreditAcctData?.FeciProperty ?? false;\r\n              data.requestId = resp?.AcctKey?.AcctId ?? '';\r\n              data.termDays = resp?.CreditAcctData?.Term?.ProposedTerm ?? 0;*/\r\n          // creamos una nueva facilidad\r\n          newFacility(tmpdata);\r\n\r\n        }\r\n      }\r\n\r\n    }).catch(err => {\r\n      console.log(err)\r\n      setIsActiveLoadingFacilities(false)\r\n    });\r\n\r\n  }\r\n\r\n  function changeRateProposal(proposalRate, termType, modelTreasuryCurve = treasuryCurveClass) {\r\n\r\n    let treasury = modelTreasuryCurve.showTreasuryCurve({ proposalRate, termType });\r\n    rateProposalTreasuryCurve.Description = treasury?.Description ?? 0\r\n    rateProposalTreasuryCurve.Code = treasury?.Code ?? 0\r\n    setRateProposalTreasuryCurve(rateProposalTreasuryCurve);\r\n    dataReturn.proposalRate = treasury?.Description ?? 0;\r\n    setdataReturn(dataReturn);\r\n\r\n    // setPropotalRate(treasury?.Description ?? 0)\r\n\r\n    setTotalPropotalRate(+((treasury?.Description) ?? 0) - (+currencyData.getRealPercent(document.getElementById('noSubsidyRate')?.value ?? dataSet?.noSubsidyRate)))\r\n  }\r\n  function test(x) {\r\n    dataSet.proposalRate = x;\r\n    setdataSet(dataSet);\r\n    setPropotalRate(x)\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <AvForm id=\"formFacilidades\" className=\"needs-validation\" onSubmit={handleSubmitFacilidad}>\r\n        {!ViewSeccion ?\r\n          <React.Fragment>\r\n            {datosUsuario && locationData && dataGlobalReq != 0 ?\r\n              <FacilityHistory setLevelAutonomy={props.setLevelAutonomy} requestId={dataGlobalReq} transactId={locationData.transactionId} editFacilitiesT24={editFacilitiesT24} mainDebtor={datosUsuario} partyId={datosUsuario.customerNumberT24} historyDetails={historyDetails} />\r\n              : null}\r\n            <LoadingOverlay active={isActiveLoadingFacilities} spinner text={t(\"WaitingPlease\")}>\r\n\r\n              <Card>\r\n                <h5 className=\"card-sub-title\">{t(\"ActualFacilityList\")}</h5>\r\n                <CardBody>\r\n                  <Col md=\"12\" style={{ textAlign: \"right\" }}>\r\n                    <Button className=\"btn\" color=\"success\" type=\"button\" style={{ margin: '5px' }} onClick={() => {\r\n                      newFacility();\r\n                    }} title={t(\"Add\")}><i className=\"fas fa-lg fa-plus-circle\"></i> {(\" \")}</Button>\r\n                  </Col>\r\n                  <Col md=\"12\" className=\"table-responsive styled-table-div\">\r\n                    <Table className=\"table table-striped table-hover styled-table table\" >\r\n                      <thead>\r\n                        <tr>\r\n                          <th>{t(\"Facility\")}</th>\r\n                          <th>{t(\"Debtor\")}</th>\r\n                          <th>{t(\"Facility Type\")}</th>\r\n                          <th>{t(\"Proposal\")}</th>\r\n                          <th>{t(\"ProposalRisk\")}</th>\r\n                          <th>{t(\"Rate\")}</th>\r\n                          <th></th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {dataRows}\r\n                      </tbody>\r\n                    </Table>\r\n                  </Col>\r\n                </CardBody>\r\n              </Card>\r\n            </LoadingOverlay>\r\n          </React.Fragment>\r\n          : null}\r\n        {ViewSeccion ?\r\n          <Card>\r\n            <CardBody>\r\n              <LoadingOverlay active={isActiveLoading} spinner text={t(\"WaitingPlease\")}>\r\n                <h5>{t(\"Facility\")}</h5>\r\n                <p className=\"card-title-desc\"></p>\r\n                {/* CustomerSeccion */}\r\n                <Row className=\"mb-3\">\r\n                  <Col md=\"12\">\r\n                    <h5>{t(\"General Data\")}</h5>\r\n                    <Row>\r\n                      <Col lg=\"4\">\r\n                        <AvGroup className=\"mb-3\">\r\n                          <Label htmlFor=\"facilityNumber\">{t(\"Facility\")} {t(\" \")} {t(\"Number\")}</Label>\r\n                          <AvField\r\n                            className=\"form-control\"\r\n                            name=\"facilityNumber\"\r\n                            type=\"text\"\r\n                            validate={{\r\n                              number: { value: true, errorMessage: t(\"InvalidField\") },\r\n                            }}\r\n                            value={dataSet.facilityIdVisible}\r\n                            id=\"facilityNumber\" />\r\n                        </AvGroup>\r\n                      </Col>\r\n                      <Col lg=\"4\">\r\n                        <AvGroup className=\"mb-3\">\r\n                          <Label htmlFor=\"cr\">{t(\"CR\")}</Label>\r\n                          <AvField\r\n                            className=\"form-control\"\r\n                            name=\"cr\"\r\n                            value={dataSet.cr}\r\n                            type=\"text\"\r\n                            id=\"cr\" />\r\n                        </AvGroup>\r\n                      </Col>\r\n                      <Col lg=\"4\">\r\n                        <AvGroup className=\"mb-3\">\r\n                          <Label htmlFor=\"amount\">{t(\"Amount\")}</Label>\r\n                          {/* <CurrencyInput\r\n                            className=\"form-control\"\r\n                            name=\"amount\"\r\n                            id=\"amount\"\r\n                            onChange={(event) => { setMontoFacilidad(event.value) }}\r\n                            value={dataSet.amount} /> */}\r\n                          <AvField\r\n                            className=\"form-control\"\r\n                            name=\"amount\"\r\n                            type=\"text\"\r\n                            pattern=\"^[0-9,.]*$\"\r\n                            onKeyUp={(e) => { let x = currencyData.getRealValue(e.target.value); e.target.value = currencyData.format(x); }}\r\n                            onChange={(e) => { setMontoFacilidad(e.target.value); }}\r\n                            value={currencyData.format(dataSet?.amount ?? 1)}\r\n                            id=\"amount\" />\r\n                          {+document.getElementById(\"amount\")?.value < 0 ?\r\n                            <p className=\"message-error-parrafo\">{t(\"The amount entered must be greater than or equal to $0\")}</p>\r\n                            : null}\r\n                        </AvGroup>\r\n                      </Col>\r\n                    </Row>\r\n                    <Row>\r\n                      <Col md=\"8\">\r\n                        <Label htmlFor=\"Term Type\">{t(\"Term Type\")}</Label>\r\n                        <Select noOptionsMessage={() => \"\"}\r\n                          onChange={(e) => {\r\n                            setTerm(termOptions.find(x => x.value === e.value))\r\n                          }}\r\n                          options={termOptions}\r\n                          classNamePrefix=\"select2-selection\"\r\n                          placeholder={t(\"Select\")}\r\n                          value={term}\r\n                        />\r\n                        {/* {campoRequeridoDeudores ?\r\n                          <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n                          : null} */}\r\n                      </Col>\r\n                      <Col md=\"4\">\r\n                        <AvGroup className=\"mb-3\">\r\n                          <Label htmlFor=\"Initial Amount\">{t(\"Initial Amount\")}</Label>\r\n                          <AvField\r\n                            className=\"form-control\"\r\n                            name=\"startingAmount\"\r\n                            value={currencyData.format(dataSet?.startingAmount ?? 0)}\r\n                            pattern=\"^[0-9,.-]*$\"\r\n                            onKeyUp={(e) => { let x = currencyData.getRealValue(e.target.value); e.target.value = currencyData.format(x); }}\r\n                            type=\"text\"\r\n                            id=\"startingAmount\" />\r\n                        </AvGroup>\r\n                      </Col>\r\n                    </Row>\r\n                    <Row>\r\n                      <Col md=\"8\">\r\n                        <Label htmlFor=\"amount\">{t(\"Debtors\")}</Label>\r\n                        <Select noOptionsMessage={() => \"\"}\r\n                          onChange={(e) => {\r\n                            setdeudoresListSelect(deudoresList.find(x => x.value === e.value))\r\n                          }}\r\n                          options={deudoresList}\r\n                          classNamePrefix=\"select2-selection\"\r\n                          placeholder={t(\"Select\")}\r\n                          value={deudoresListSelect}\r\n                        />\r\n                        {campoRequeridoDeudores ?\r\n                          <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n                          : null}\r\n                      </Col>\r\n                      <Col md=\"4\">\r\n                        <AvGroup className=\"mb-3\">\r\n                          <Label htmlFor=\"balance\">{t(\"Balance\")}</Label>\r\n                          <AvField\r\n                            className=\"form-control\"\r\n                            name=\"balance\"\r\n                            value={currencyData.format(dataSet?.balance ?? 0)}\r\n                            pattern=\"^[0-9,.-]*$\"\r\n                            onKeyUp={(e) => { let x = currencyData.getRealValue(e.target.value); e.target.value = currencyData.format(x); }}\r\n                            type=\"text\"\r\n                            id=\"balance\" />\r\n                        </AvGroup>\r\n                      </Col>\r\n\r\n                    </Row>\r\n                  </Col>\r\n                </Row>\r\n                {/* ProposalSection */}\r\n                <Row className=\"mb-3\">\r\n                  <Col md=\"12\">\r\n                    <h5>{t(\"Proposal\")}</h5>\r\n                    {/* <AvForm id=\"frmFacilidades\" className=\"needs-validation\" onSubmit={handleSubmitFacilidad}> */}\r\n                    <Row>\r\n                      <Col md=\"4\">\r\n                        <Label htmlFor=\"proposalType\">{t(\"Proposal Type\")}</Label>\r\n                        <Select noOptionsMessage={() => \"\"}\r\n                          onChange={(e) => {\r\n                            let facilities = tipoPropuesta.find(x => x.value === e.value)\r\n                            settipoPropuestaSelect(facilities)\r\n\r\n                            if (facilities.value === 'RES' || facilities.value === 'REF') {\r\n                              setcheckSubProp(true);\r\n                            } else {\r\n                              setcheckSubProp(false);\r\n                            }\r\n\r\n                            setpropuestaSet(e.value);\r\n                            dataReturn.proposalTypeId = e.value;\r\n                            setdataReturn(dataReturn);\r\n                          }}\r\n                          options={tipoPropuesta}\r\n                          placeholder={t(\"Select\")}\r\n                          value={tipoPropuestaSelect}\r\n                        />\r\n                        {!propuestaSet ?\r\n                          <p className=\"message-error-parrafo\">{t(\"Required\")}</p>\r\n                          : null}\r\n                      </Col>\r\n                      <Col md=\"4\">\r\n                        <Label htmlFor=\"subproposalType\">{t(\"SubProposal Type\")}</Label>\r\n                        <Select noOptionsMessage={() => \"\"}\r\n                          onChange={(e) => {\r\n                            setsubPropuestaSelect(subPropuesta.find(x => x.value === e.value))\r\n                            setsubPropuestaSet(e.value);\r\n                            dataReturn.proposalTypeName = e.value;\r\n                            setdataReturn(dataReturn);\r\n                          }}\r\n                          options={subPropuesta}\r\n                          placeholder={t(\"Select\")}\r\n                          value={subPropuestaSelect}\r\n                        />\r\n                        {/* {checkSubProp && (!subPropuestaSet ?\r\n                          <p className=\"message-error-parrafo\">{t(\"Required\")}</p>\r\n                          : null)} */}\r\n\r\n                      </Col>\r\n                      <Col md=\"4\">\r\n                        <Label htmlFor=\"facilityType\">{t(\"Facility Type\")}</Label>\r\n                        <Select noOptionsMessage={() => \"\"}\r\n                          onChange={(e) => {\r\n                            settipoFacilidadSelect(tipoFacilidad.find(x => x.value === e.value))\r\n                            settipoFacilidadSet(e.value);\r\n                            dataReturn.facilityTypeId = e.value;\r\n                            setdataReturn(dataReturn);\r\n                          }}\r\n                          options={tipoFacilidad}\r\n                          placeholder={t(\"Select\")}\r\n                          value={tipoFacilidadSelect}\r\n                        />\r\n                        {!tipoFacilidadSet ?\r\n                          <p className=\"message-error-parrafo\">{t(\"Required\")}</p>\r\n                          : null}\r\n                      </Col>\r\n                    </Row>\r\n                    <Row>\r\n                      <Col md=\"6\">\r\n                        <AvGroup className=\"mb-3\">\r\n                          <Label htmlFor=\"purpose\">{t(\"Purpose\")}</Label>\r\n                          <AvField\r\n                            className=\"form-control\"\r\n                            name=\"purpose\"\r\n                            id=\"purpose\"\r\n                            // validate={{\r\n                            //   required: { value: true, errorMessage: t(\"Required\") }\r\n                            // }}\r\n                            type=\"textarea\"\r\n                            value={dataSet.purpose}\r\n                            rows=\"4\" />\r\n                        </AvGroup>\r\n                      </Col>\r\n                      <Col md=\"6\">\r\n                        <AvGroup className=\"mb-3\">\r\n                          <Label htmlFor=\"sublimits\">{t(\"Sub Limits\")}</Label>\r\n                          <AvField\r\n                            className=\"form-control\"\r\n                            name=\"sublimits\"\r\n                            id=\"sublimits\"\r\n                            value={dataSet.sublimits}\r\n                            type=\"textarea\"\r\n                            rows=\"4\" />\r\n                        </AvGroup></Col>\r\n                    </Row>\r\n                  </Col>\r\n                </Row>\r\n                {/* InterestRateSection */}\r\n                <Row className=\"mb-3\">\r\n                  <Col md=\"12\">\r\n                    {/* <h5>{t(\"Proposed Interest Rate\")}</h5> */}\r\n                    <Row>\r\n                      <Col md=\"3\">\r\n                        <AvGroup className=\"mb-3\">\r\n                          <Label htmlFor=\"proposalRate\">{t(\"Proposed Interest Rate\")}</Label>\r\n                          <AvField\r\n                            className=\"form-control\"\r\n                            name=\"proposalRate\"\r\n                            type=\"text\"\r\n                            onKeyUp={(e) => {\r\n                              let x = currencyData.getRealPercent(e.target.value);\r\n                              test(x);\r\n                              e.target.value = currencyData.formatPercent(x, e);\r\n                              setTotalPropotalRate(x - (+currencyData.getRealPercent(document.getElementById('noSubsidyRate').value)))\r\n                            }}\r\n                            onChange={(e) => { let x = currencyData.getRealPercent(e.target.value); parseFloat(x) > 100 ? setcampoTasa(true) : setcampoTasa(false); }}\r\n                            id=\"proposalRate\"\r\n                            value={`${dataSet?.proposalRate ?? 0}%`} />\r\n                          {campoTasa ?\r\n                            <p className=\"message-error-parrafo\">{t(\"Thepercentageexceeds100%\")}</p>\r\n                            : null}\r\n                        </AvGroup>\r\n                      </Col>\r\n                      <Col md=\"3\">\r\n                        <AvGroup className=\"mb-3\">\r\n                          <Label htmlFor=\"noSubsidyRate\">{t(\"Subsidy Rate\")}</Label>\r\n                          <AvField\r\n                            className=\"form-control\"\r\n                            name=\"noSubsidyRate\"\r\n                            type=\"text\"\r\n                            id=\"noSubsidyRate\"\r\n                            value={`${currencyData.format(dataSet?.noSubsidyRate ?? 0)}%`}\r\n                            onKeyUp={(e) => {\r\n                              let x = currencyData.getRealPercent(e.target.value); e.target.value = currencyData.formatPercent(x, e);\r\n                              setTotalPropotalRate(PropotalRate - x)\r\n                            }}\r\n                            onChange={(e) => { let x = currencyData.getRealPercent(e.target.value); parseFloat(x) > 100 ? setcampoTasa2(true) : setcampoTasa2(false); }}\r\n                          />\r\n                          {campoTasa2 ?\r\n                            <p className=\"message-error-parrafo\">{t(\"Thepercentageexceeds100%\")}</p>\r\n                            : null}\r\n                        </AvGroup>\r\n                      </Col>\r\n                      <Col md=\"3\">\r\n                        <AvGroup className=\"mb-3\">\r\n                          <Label htmlFor=\"effectiveRate\">{t(\"Total Rate\")}</Label>\r\n                          <AvField\r\n                            className=\"form-control\"\r\n                            name=\"effectiveRate\"\r\n                            value={`${currencyData.format((parseFloat(TotalPropotalRate.toFixed(2))) ?? 0)}%`}\r\n                            type=\"text\"\r\n                            id=\"effectiveRate\"\r\n                            onKeyUp={(e) => { let x = currencyData.getRealPercent(e.target.value); e.target.value = currencyData.formatPercent(x, e); }}\r\n                            onChange={(e) => { let x = currencyData.getRealPercent(e.target.value); parseFloat(x) > 100 ? setcampoTasa3(true) : setcampoTasa3(false); }}\r\n                          />\r\n                          {campoTasa3 ?\r\n                            <p className=\"message-error-parrafo\">{t(\"Thepercentageexceeds100%\")}</p>\r\n                            : null}\r\n                        </AvGroup>\r\n                      </Col>\r\n                      <Col md=\"3\">\r\n                        <AvGroup className=\"mb-3\">\r\n                          <Label htmlFor=\"feci\">{t(\"FECI\")}</Label>\r\n                          <AvField id=\"feci\"\r\n                            className=\"form-control\"\r\n                            name=\"feci\"\r\n                            type=\"select\"\r\n                            value={dataSet.feci ? \"true\" : \"false\"}\r\n                            required>\r\n                            <option value=\"true\">Si</option>\r\n                            <option value=\"false\">No</option>\r\n                          </AvField>\r\n                        </AvGroup>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                </Row>\r\n\r\n                {/* Treasury Curve */}\r\n                \r\n                <Row className=\"mb-3\">\r\n                  <Col md=\"12\">\r\n                    <h5>{t(\"Minimum Rate value according to Treasury Curve\")} {rateProposalTreasuryCurve?.Description ? `${rateProposalTreasuryCurve?.Description}%` : ''}</h5>\r\n                    {treasuryCurveMessage && <div className=\"text-danger\">{t(\"For this Bank does not apply Treasury Curve\")}</div>}\r\n                    {+PropotalRate < +(rateProposalTreasuryCurve?.Description ?? 0) && <div className=\"text-danger\">{t(\"Lower Proposal Rate than Treasury Curve\")}</div>}\r\n                    <Row>\r\n                      <Col md=\"12\">\r\n                        <AvGroup check className=\"my-2\">\r\n                          <AvInput type=\"checkbox\" defaultChecked={rateTreasuryCurve} name=\"rateTreasuryCurve\" onChange={() => { setRateTreasuryCurve(!rateTreasuryCurve) }} />\r\n                          <Label htmlFor=\"rateTreasuryCurve\"> {t(\"Rate according to the price of the Treasury Curve\")}</Label>\r\n                        </AvGroup>\r\n                      </Col>\r\n                    </Row>\r\n                    {+PropotalRate < +(rateProposalTreasuryCurve?.Description ?? 0) && <>\r\n                      <Row>\r\n                        <Col md=\"12\">\r\n                          <AvGroup className=\"mb-3\">\r\n                            <Label htmlFor=\"opinion\">{t(\"Comment\")}</Label>\r\n                            <AvField\r\n                              className=\"form-control\"\r\n                              name=\"treasuryCurveComment\"\r\n                              type=\"textarea\"\r\n                              value={dataSet?.treasuryCurveComment}\r\n                              id=\"treasuryCurveComment\"\r\n                              rows=\"4\" />\r\n                          </AvGroup>\r\n                        </Col>\r\n                      </Row>\r\n                      <AttachmentFileCore attachmentFileInputModel={new AttachmentFileInputModel(locationData.transactionId, OPTs.PROCESS_PROPUESTACREDITO, OPTs.ACT_PROPUESTACREDITO)} />\r\n                    </>}\r\n\r\n                  </Col>\r\n                </Row>\r\n        */}\r\n                {/* CommissionSection */}\r\n                <Row className=\"mb-3\">\r\n                  <Col md=\"12\">\r\n                    <ComisionSeccion MontoFacilidad={MontoFacilidad} validation={dataValidation} dataSet={dataSet} items={commissions}\r\n                      onSaveItem={handleNewCommission}\r\n                      onDeleteItem={handleDeleteCommission} />\r\n                  </Col>\r\n                </Row>\r\n                {/* TermsSection */}\r\n                <h5>{t(\"Terms\")}</h5>\r\n                <Row>\r\n                  <Col md=\"4\">\r\n                    <AvGroup className=\"mb-3\">\r\n                      <Label htmlFor=\"termDays\">{t(\"Quantity\")}</Label>\r\n                      <AvField\r\n                        className=\"form-control\"\r\n                        name=\"termDays\"\r\n                        value={dataSet.termDays}\r\n                        onKeyUp={(e) => {\r\n                          setProposalRate(e.target.value)\r\n                          test(+currencyData.getRealPercent(document.getElementById('proposalRate').value));\r\n                          changeRateProposal(e.target.value, dataSet.termType || 'DÃAS')\r\n                        }}\r\n                        type=\"text\"\r\n                        validate={{\r\n                          number: { value: true, errorMessage: t(\"InvalidField\") },\r\n                        }}\r\n                        id=\"termDays\" />\r\n                    </AvGroup>\r\n                  </Col>\r\n                  <Col md=\"4\">\r\n                    <AvGroup className=\"mb-3\">\r\n                      <Label>{t(\"DaysMonthsYears\")}</Label>\r\n                      <Select noOptionsMessage={() => \"\"}\r\n                        onChange={(e) => {\r\n                          setterminosSelect(typeTerms.find(x => x.value === e.value))\r\n                          dataReturn.termType = e.value;\r\n                          setdataReturn(dataReturn);\r\n                          changeRateProposal(proposalRate, e.value)\r\n                        }}\r\n                        options={typeTerms}\r\n                        placeholder={t(\"Select\")}\r\n                        value={terminosSelect}\r\n                      />\r\n                    </AvGroup>\r\n                  </Col>\r\n\r\n                  {/* <Col md=\"4\">\r\n                    <AvGroup className=\"mb-3\">\r\n                      <Label htmlFor=\"termDays\">{t(\"Terms in Days/Month/Year\")}</Label>\r\n                      <AvField\r\n                        className=\"form-control\"\r\n                        name=\"termDays\"\r\n                        value={dataSet.deadlinesDays}\r\n                        type=\"text\"\r\n                        validate={{\r\n                          number: { value: true, errorMessage: t(\"InvalidField\") },\r\n                        }}\r\n                        id=\"termDays\" />\r\n                    </AvGroup>\r\n                  </Col> */}\r\n                  <Col md=\"12\">\r\n                    <AvGroup className=\"mb-3\">\r\n                      <Label htmlFor=\"termsDescription\">{t(\"Terms Description\")}</Label>\r\n                      <AvField\r\n                        className=\"form-control\"\r\n                        name=\"termDescription\"\r\n                        type=\"textarea\"\r\n                        id=\"termDescription\"\r\n                        value={dataSet.termDescription}\r\n                        rows=\"4\" />\r\n                    </AvGroup>\r\n                  </Col>\r\n                </Row>\r\n                {/* DisbursementSection */}\r\n                <DisbursementSection validation={dataValidation} dataSet={dataSet} disbursementTerms={disbursementTerms}\r\n                  onSaveDisbursementTerm={handleNewDisbursementTerm}\r\n                  onDeleteDisbursementTerm={handleDeleteDisbursementTerm}\r\n                  paymentPrograms={paymentPrograms}\r\n                  onSavePaymentProgram={handleNewPaymentProgram}\r\n                  onDeletePaymentProgram={handleDeletePaymentProgram}\r\n                  disbursementMethods={disbursementMethods}\r\n                  onSaveDisbursementMethod={handleNewDisbursementMethod}\r\n                  onDeleteDisbursementMethod={handleDeleteDisbursementMethod} />\r\n                {/* WarrantsSection */}\r\n                <WarrantsSection ViewSeccion={ViewSeccion} validation={dataValidation} dataSet={dataSet} warrants={warrants}\r\n                  onSaveItem={handleNewWarrant}\r\n                  onDeleteItem={handleDeleteWarrant} />\r\n                {/* LTV */}\r\n                <Row>\r\n                  <Col md=\"12\">\r\n                    <Row>\r\n                      <Col md=\"4\">\r\n                        <Label htmlFor=\"relatedPart\">{t(\"LTV\")}(%)</Label>\r\n                        <AvGroup className=\"mb-3\">\r\n                          <AvField\r\n                            className=\"form-control\"\r\n                            name=\"ltv\"\r\n                            value={`${dataSet.ltv}%`}\r\n                            type=\"text\"\r\n                            onKeyUp={(e) => { let x = currencyData.getRealPercent(e.target.value); e.target.value = currencyData.formatPercent(x, e); }}\r\n                            // onChange={(e) => { let x = currencyData.getRealPercent(e.target.value); parseFloat(x) > 100 ? setcampoTasa4(true) : setcampoTasa4(false); }}\r\n                            id=\"ltv\" />\r\n                          {campoTasa4 ?\r\n                            <p className=\"message-error-parrafo\">{t(\"Thepercentageexceeds100%\")}</p>\r\n                            : null}\r\n                        </AvGroup>\r\n                      </Col>\r\n                      <Col md=\"4\">\r\n                        <Label htmlFor=\"relatedPart\">{t(\"Escrow\")}</Label>\r\n                        <AvGroup check className=\"mb-3\">\r\n                          <Switch name=\"fd\"\r\n                            uncheckedIcon={<Offsymbol />}\r\n                            checkedIcon={<OnSymbol />}\r\n                            onColor=\"#007943\"\r\n                            id=\"check1\"\r\n                            className=\"form-label\"\r\n                            onChange={() => {\r\n                              setapplyEscrow(!applyEscrow);\r\n                            }}\r\n                            checked={applyEscrow}\r\n                          />\r\n                        </AvGroup>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                </Row>\r\n                {/* SuretiesSection */}\r\n                <SuretiesSection validation={dataValidation} dataSet={dataSet} sureties={sureties}\r\n                  onSaveItem={handleNewSurety}\r\n                  onDeleteItem={handleDeleteSurety} />\r\n                {/* FinancialConditionsSection */}\r\n                <Row className=\"mb-3\">\r\n                  <Col md=\"12\">\r\n                    <h5>{t(\"FinancialConditions\")}</h5>\r\n                    <Row>\r\n                      <Col md=\"12\">\r\n                        <AvGroup className=\"mb-3\">\r\n\r\n                          <AvField\r\n                            className=\"form-control\"\r\n                            name=\"finantialConditions\"\r\n                            type=\"textarea\"\r\n                            value={dataSet.finantialConditions}\r\n                            id=\"finantialConditions\"\r\n                            rows=\"4\" />\r\n                        </AvGroup>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                </Row>\r\n                {/* AmbientalRiskSection */}\r\n                <Row className=\"mb-3\">\r\n                  <Col md=\"12\">\r\n                    <h5>{t(\"AmbientalRisk\")}</h5>\r\n                    <Row>\r\n                      <Col md=\"6\">\r\n                        <AvGroup className=\"mb-3\">\r\n                          <Label htmlFor=\"category\">{t(\"Category\")}</Label>\r\n                          <AvField\r\n                            className=\"form-control\"\r\n                            name=\"environmentRiskCategory\"\r\n                            type=\"text\"\r\n                            value={garantiaET}\r\n                            id=\"environmentRiskCategory\" />\r\n                        </AvGroup>\r\n                      </Col>\r\n                      <Col md=\"6\">\r\n                        <AvGroup className=\"mb-3\">\r\n                          <Label htmlFor=\"covenant\">{t(\"Covenant\")}</Label>\r\n                          <AvField\r\n                            className=\"form-control\"\r\n                            name=\"covenant\"\r\n                            type=\"text\"\r\n                            value={dataSet.covenant}\r\n                            id=\"covenant\" />\r\n                        </AvGroup>\r\n                      </Col>\r\n                      <Col md=\"12\">\r\n                        <AvGroup className=\"mb-3\">\r\n                          <Label htmlFor=\"opinion\">{t(\"Opinion\")}</Label>\r\n                          <AvField\r\n                            className=\"form-control\"\r\n                            name=\"environmentRiskOpinion\"\r\n                            type=\"textarea\"\r\n                            value={dataSet?.environmentRiskOpinion}\r\n                            id=\"environmentRiskOpinion\"\r\n                            rows=\"4\" />\r\n                        </AvGroup>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                </Row>\r\n                {/* FinantialCovenantSection */}\r\n                <Row className=\"mb-3\">\r\n                  <Col md=\"12\">\r\n                    <h5>{t(\"FinantialCovenant\")}</h5>\r\n                    <Row>\r\n                      <Col md=\"12\">\r\n                        <AvGroup className=\"mb-3\">\r\n                          <AvField\r\n                            className=\"form-control\"\r\n                            name=\"finantialCovenant\"\r\n                            value={dataSet.finantialCovenant}\r\n                            type=\"textarea\"\r\n                            id=\"finantialCovenant\"\r\n                            rows=\"4\" />\r\n                        </AvGroup>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                </Row>\r\n                {/* LegalDocumentationSection */}\r\n                <Row>\r\n                  <Col>\r\n                    <h5>{t(\"Status of Legal Documentation\")}</h5>\r\n                    <Row>\r\n                      <Col md=\"12\">\r\n                        <AvGroup className=\"mb-3\">\r\n\r\n                          <AvField\r\n                            className=\"form-control\"\r\n                            name=\"legalDocumentation\"\r\n                            value={dataSet.legalDocumentation}\r\n                            type=\"textarea\"\r\n                            id=\"legalDocumentation\"\r\n                            rows=\"4\" />\r\n                        </AvGroup>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                </Row>\r\n                {/* OtherConditionsSection */}\r\n                <Row>\r\n                  <Col>\r\n                    <h5>{t(\"OtherConditions\")}</h5>\r\n                    <Row>\r\n                      <Col md=\"12\">\r\n                        <AvGroup className=\"mb-3\">\r\n                          <AvField\r\n                            className=\"form-control\"\r\n                            name=\"otherConditions\"\r\n                            value={dataSet.otherConditions}\r\n                            type=\"textarea\"\r\n                            id=\"otherConditions\"\r\n                            rows=\"4\" />\r\n                        </AvGroup>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                </Row>\r\n                {/* CreditRiskSection */}\r\n                <Row>\r\n                  <Col>\r\n                    <h5>{t(\"CreditRisk\")}</h5>\r\n                    <Row>\r\n                      <Col md=\"12\">\r\n                        <AvGroup className=\"mb-3\">\r\n                          <Label htmlFor=\"creditrisk\">{t(\"Opinion\")}</Label>\r\n                          <AvField\r\n                            className=\"form-control\"\r\n                            name=\"creditRiskOpinion\"\r\n                            type=\"textarea\"\r\n                            value={dataSet?.creditRiskOpinion ?? \"\"}\r\n                            id=\"creditRiskOpinion\"\r\n                            rows=\"4\" />\r\n                        </AvGroup>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                </Row>\r\n                {/* ProvisionSection */}\r\n                <Row>\r\n                  <Col>\r\n                    <h5>{t(\"Provision\")}</h5>\r\n                    <Row>\r\n                      <Col md=\"12\">\r\n                        <AvGroup className=\"mb-3\">\r\n\r\n                          <AvField\r\n                            className=\"form-control\"\r\n                            name=\"provision\"\r\n                            value={dataSet.provision}\r\n                            type=\"textarea\"\r\n                            id=\"provision\"\r\n                            rows=\"4\" />\r\n                        </AvGroup>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                </Row>\r\n                <Row className=\"my-2\">\r\n                  <Col xl=\"12 text-end\">\r\n                    <Button color=\"danger\"\r\n                      onClick={(e) => {\r\n                        setViewSeccion(!ViewSeccion);\r\n                        cargarFacilidades(locationData);\r\n\r\n                        resetData()\r\n\r\n                      }} style={{ margin: '5px' }}>\r\n                      <i className=\"mdi mdi-cancel mid-12px\"></i> {t(\"Cancel\")}\r\n                    </Button>\r\n                    <Button className=\"btn btn-primary\" type=\"submit\" color=\"success\" style={{ margin: '5px' }}>\r\n                      {t(\"Save\")}\r\n                    </Button>\r\n                  </Col>\r\n                </Row>\r\n              </LoadingOverlay>\r\n            </CardBody>\r\n          </Card>\r\n          : null}\r\n      </AvForm>\r\n      {successSave_dlg ? (\r\n        <SweetAlert\r\n          success\r\n          title={t(\"SuccessDialog\")}\r\n          confirmButtonText={t(\"Confirm\")}\r\n          cancelButtonText={t(\"Cancel\")}\r\n          onConfirm={() => {\r\n            setsuccessSave_dlg(false);\r\n            cargarFacilidades(locationData)\r\n          }}\r\n        >\r\n          {t(\"SuccessSaveMessage\")}\r\n        </SweetAlert>\r\n      ) : null}\r\n\r\n      {error_dlg ? (\r\n        <SweetAlert\r\n          error\r\n          title={t(\"ErrorDialog\")}\r\n          confirmButtonText={t(\"Confirm\")}\r\n          cancelButtonText={t(\"Cancel\")}\r\n          onConfirm={() => {\r\n            seterror_dlg(false)\r\n          }}\r\n        >\r\n          {error_msg}\r\n        </SweetAlert>\r\n      ) : null}\r\n      {confirm_alert ? (\r\n        <SweetAlert\r\n          title={t(\"Areyousure\")}\r\n          warning\r\n          showCancel\r\n          confirmButtonText={t(\"Yesdeleteit\")}\r\n          cancelButtonText={t(\"Cancel\")}\r\n          confirmBtnBsStyle=\"success\"\r\n          cancelBtnBsStyle=\"danger\"\r\n          onConfirm={() => {\r\n            setViewSeccion(!ViewSeccion);\r\n          }}\r\n          onCancel={() => setconfirm_alert(false)}\r\n        >\r\n          {t(\"Youwontbeabletorevertthis\")}\r\n        </SweetAlert>\r\n      ) : null}\r\n      {confirm_alertDelete ? (\r\n        <SweetAlert\r\n          title={t(\"Areyousure\")}\r\n          warning\r\n          showCancel\r\n          confirmButtonText={t(\"Yesdeleteit\")}\r\n          cancelButtonText={t(\"Cancel\")}\r\n          confirmBtnBsStyle=\"success\"\r\n          cancelBtnBsStyle=\"danger\"\r\n          onConfirm={() => {\r\n            if (tipo == \"eliminar\") {\r\n              props.setViewAutonomy(false);\r\n              backendServices.deleteFacility(dataSet?.facilityId ?? \"\", dataSet?.requestId ?? \"\").then(resp => {\r\n                if (resp.statusCode == \"500\") {\r\n                  seterror_dlg(false)\r\n                  setconfirm_alertDelete(false)\r\n                } else {\r\n                  setconfirm_alertDelete(false)\r\n                  resetData()\r\n                  setsuccessSave_dlg(true)\r\n                  // props.setLevelAutonomy(levelAutonomy => levelAutonomy - (+dataSet?.amount))\r\n                  // cargarFacilidades(locationData)\r\n                }\r\n                props.setViewAutonomy(true);\r\n              }).catch(err => {\r\n                props.setViewAutonomy(true);\r\n              })\r\n            }\r\n          }\r\n          }\r\n          onCancel={() => setconfirm_alertDelete(false)}\r\n        >\r\n          {t(\"Youwontbeabletorevertthis\")}\r\n        </SweetAlert>\r\n      ) : null}\r\n    </React.Fragment>\r\n\r\n  );\r\n});\r\nListaFacilidad.propTypes = {\r\n  items: PropTypes.array.isRequired,\r\n  editMode: PropTypes.bool,\r\n  onSaveFacility: PropTypes.func\r\n};\r\nListaFacilidad.defaultProps = {\r\n  items: [],\r\n  editMode: false\r\n};\r\nexport default ListaFacilidad;\r\n"]},"metadata":{},"sourceType":"module"}