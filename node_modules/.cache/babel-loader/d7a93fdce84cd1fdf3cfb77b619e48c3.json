{"ast":null,"code":"import _createForOfIteratorHelper from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{translationHelper}from'../../../helpers';import{Card,CardBody,Col,Row,Table}from\"reactstrap\";import{useTranslation}from'react-i18next';import{BackendServices,CoreServices,BpmServices}from\"../../../services\";import{useHistory,useLocation}from\"react-router-dom\";import HeaderSections from\"../../Common/HeaderSections\";import LoadingOverlay from\"react-loading-overlay\";import Currency from\"../../../helpers/currency\";import*as url from\"../../../helpers/url_helper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Guarantees=function Guarantees(props){var _location$data,_muebles$commercialVa2,_muebles$fastValue2,_muebles$ltv2,_Inmuebles$commercial,_Inmuebles$fastValue,_Inmuebles$ltv,_desposito$commercial,_desposito$fastValue,_desposito$ltv;var location=useLocation();var apiCore=new CoreServices();var apiBack=new BackendServices();var apiBpm=new BpmServices();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),bodyRows1=_useState2[0],setbodyRows1=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),bodyRows2=_useState4[0],setbodyRows2=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),bodyRows3=_useState6[0],setbodyRows3=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isActiveLoading=_useState8[0],setisActiveLoading=_useState8[1];var _useState9=useState((_location$data=location.data)!==null&&_location$data!==void 0?_location$data:JSON.parse(sessionStorage.getItem('locationData'))),_useState10=_slicedToArray(_useState9,2),dataLocation=_useState10[0],setdataLocation=_useState10[1];var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;function initializeData(){var jsonSet={Muebles:{},Inmuebles:{},Depositos:{}};var CustomerNumeroT24=props.customerNumberT24;// const CustomerNumeroT24=user.customerNumberT24;\nsetisActiveLoading(true);apiCore.getColaterals(CustomerNumeroT24).then(function(colaterals){var _loop=function _loop(i){apiCore.getWarrantyDetails(colaterals[i].collateralId,\"Muebles\").then(function(respgarantias){var garantias=respgarantias.Collateral;// console.log(\"Muebles\", garantias);\nif(!garantias)return;setbodyRows1(/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Muebles\"}),/*#__PURE__*/_jsx(\"td\",{children:garantias.EmisionDt?garantias.EmisionDt:\"\"}),/*#__PURE__*/_jsx(\"td\",{children:garantias.AppraisedBy?garantias.AppraisedBy:\"\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$ \",garantias.CollateralAmt.Amt?garantias.CollateralAmt.Amt:0]}),/*#__PURE__*/_jsxs(\"td\",{children:[parseFloat(colaterals[i].facilityAmt)/parseFloat(garantias.CollateralAmt.Amt?garantias.CollateralAmt.Amt:0),\"%\"]})]}));}).catch(function(err){console.log(err);});apiCore.getWarrantyDetails(colaterals[i].collateralId,\"Inmuebles\").then(function(respgarantias){var garantias=respgarantias.Collateral;// console.log(\"Inmuebles\", garantias);\nif(!garantias)return;setbodyRows2(/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Inmuebles\"}),/*#__PURE__*/_jsx(\"td\",{children:garantias.EmisionDt?garantias.EmisionDt:\"\"}),/*#__PURE__*/_jsx(\"td\",{children:garantias.AppraisedBy?garantias.AppraisedBy:\"\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$ \",garantias.CollateralAmt.Amt?garantias.CollateralAmt.Amt:0]}),/*#__PURE__*/_jsxs(\"td\",{children:[parseFloat(colaterals[i].facilityAmt)/parseFloat(garantias.CollateralAmt.Amt?garantias.CollateralAmt.Amt:0),\"%\"]})]}));});apiCore.getWarrantyDetails(colaterals[i].collateralId,\"Depositos\").then(function(respgarantias){var garantias=respgarantias.Collateral;// console.log(\"Depositos\", garantias);\nif(!garantias)return;setbodyRows3(/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Depositos\"}),/*#__PURE__*/_jsx(\"td\",{children:garantias.EmisionDt?garantias.EmisionDt:\"\"}),/*#__PURE__*/_jsx(\"td\",{children:garantias.AppraisedBy?garantias.AppraisedBy:\"\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$ \",garantias.CollateralAmt.Amt?garantias.CollateralAmt.Amt:0]}),/*#__PURE__*/_jsxs(\"td\",{children:[parseFloat(colaterals[i].facilityAmt)/parseFloat(garantias.CollateralAmt.Amt?garantias.CollateralAmt.Amt:0),\"%\"]})]}));});};for(var i=0;i<(colaterals===null||colaterals===void 0?void 0:colaterals.length);i++){_loop(i);}setisActiveLoading(false);}).catch(function(err){});// })\n}var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),locationData=_useState12[0],setLocationData=_useState12[1];var history=useHistory();var currencyData=new Currency();var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),muebles=_useState14[0],setMuebles=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),Inmuebles=_useState16[0],setInmuebles=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),desposito=_useState18[0],setDeposito=_useState18[1];React.useEffect(function(){// initializeData();\nvar dataSession;if(location.data!==null&&location.data!==undefined){if(location.data.transactionId===undefined||location.data.transactionId.length<=0){//location.data.transactionId = 0;\n//checkAndCreateProcedure(location.data);\nhistory.push(url.URL_DASHBOARD);}else{sessionStorage.setItem('locationData',JSON.stringify(location.data));setLocationData(location.data);dataSession=location.data;}}else{//chequeamos si tenemos guardado en session\nvar result=sessionStorage.getItem('locationData');if(result!==undefined&&result!==null){result=JSON.parse(result);setLocationData(result);dataSession=result;}}initializeData2(dataSession);},[]);//   [\n//     {\n//         \"Code\": \"100\",\n//         \"Description\": \"Garantia Hipotecaria Mueble\"\n//     },\n//     {\n//         \"Code\": \"200\",\n//         \"Description\": \"Garantia Hipotecaria Inmueble\"\n//     },\n//     {\n//         \"Code\": \"300\",\n//         \"Description\": \"Depositos Pignorados en el Banco\"\n//     },\n//     {\n//         \"Code\": \"400\",\n//         \"Description\": \"Depositos Pignorados en Otros Banco\"\n//     },\n//     {\n//         \"Code\": \"500\",\n//         \"Description\": \"Garantia Prendaria\"\n//     },\n//     {\n//         \"Code\": \"600\",\n//         \"Description\": \"Otras Garantias\"\n//     },\n//     {\n//         \"Code\": \"700\",\n//         \"Description\": \"SIN GARANTIAS\"\n//     }\n// ]\nfunction initializeData2(dataSession){apiBack.consultGeneralDataPropCred(dataSession.transactionId).then(function(proposal){var requestId=proposal.length===0?undefined:proposal[0].requestId;apiBack.consultarFacilidades(requestId).then(function(facilities){var _iterator=_createForOfIteratorHelper(facilities),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var facility=_step.value;apiBack.consultarGarantiaPropCred(facility.facilityId).then(function(guarantees){console.log(guarantees);var mueblesArr=guarantees.filter(function(guarantee){return guarantee.guaranteeTypeName==='100';});var inMueblesArr=guarantees.filter(function(guarantee){return guarantee.guaranteeTypeName==='200';});var depositoArr=guarantees.filter(function(guarantee){return guarantee.guaranteeTypeName==='300'||guarantee.guaranteeTypeName==='400';});setMuebles(function(muebles){var _muebles$fastValue,_muebles$ltv,_muebles$commercialVa;return{fastValue:((_muebles$fastValue=muebles===null||muebles===void 0?void 0:muebles.fastValue)!==null&&_muebles$fastValue!==void 0?_muebles$fastValue:0)+mueblesArr.reduce(function(ac,crr){return ac+crr.fastValue;},0),ltv:((_muebles$ltv=muebles===null||muebles===void 0?void 0:muebles.ltv)!==null&&_muebles$ltv!==void 0?_muebles$ltv:0)+mueblesArr.reduce(function(ac,crr){return ac+crr.ltv;},0),commercialValue:((_muebles$commercialVa=muebles===null||muebles===void 0?void 0:muebles.commercialValue)!==null&&_muebles$commercialVa!==void 0?_muebles$commercialVa:0)+mueblesArr.reduce(function(ac,crr){return ac+crr.commercialValue;},0)};});setInmuebles(function(inMuebles){var _inMuebles$fastValue,_inMuebles$ltv,_inMueblesArr$commerc;return{fastValue:((_inMuebles$fastValue=inMuebles===null||inMuebles===void 0?void 0:inMuebles.fastValue)!==null&&_inMuebles$fastValue!==void 0?_inMuebles$fastValue:0)+inMueblesArr.reduce(function(ac,crr){return ac+crr.fastValue;},0),ltv:((_inMuebles$ltv=inMuebles===null||inMuebles===void 0?void 0:inMuebles.ltv)!==null&&_inMuebles$ltv!==void 0?_inMuebles$ltv:0)+inMueblesArr.reduce(function(ac,crr){return ac+crr.ltv;},0),commercialValue:((_inMueblesArr$commerc=inMueblesArr===null||inMueblesArr===void 0?void 0:inMueblesArr.commercialValue)!==null&&_inMueblesArr$commerc!==void 0?_inMueblesArr$commerc:0)+inMueblesArr.reduce(function(ac,crr){return ac+crr.commercialValue;},0)};});setDeposito(function(deposito){var _deposito$fastValue,_deposito$ltv,_depositoArr$commerci;return{fastValue:((_deposito$fastValue=deposito===null||deposito===void 0?void 0:deposito.fastValue)!==null&&_deposito$fastValue!==void 0?_deposito$fastValue:0)+depositoArr.reduce(function(ac,crr){return ac+crr.fastValue;},0),ltv:((_deposito$ltv=deposito===null||deposito===void 0?void 0:deposito.ltv)!==null&&_deposito$ltv!==void 0?_deposito$ltv:0)+depositoArr.reduce(function(ac,crr){return ac+crr.ltv;},0),commercialValue:((_depositoArr$commerci=depositoArr===null||depositoArr===void 0?void 0:depositoArr.commercialValue)!==null&&_depositoArr$commerci!==void 0?_depositoArr$commerci:0)+depositoArr.reduce(function(ac,crr){return ac+crr.commercialValue;},0)};});}).catch(function(err){console.log(err);});}}catch(err){_iterator.e(err);}finally{_iterator.f();}}).catch(function(err){console.log(err);});}).catch(function(err){console.log(err);});}return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(LoadingOverlay,{active:isActiveLoading,spinner:true,text:t(\"WaitingPlease\"),children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"card-sub-title\",children:t(\"WarrantyDetails\")})})}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(\"div\",{style:{minHeight:\"100px\"},children:/*#__PURE__*/_jsx(Col,{className:\"table-responsive styled-table-div\",children:/*#__PURE__*/_jsxs(Table,{className:\"table table-striped table-hover styled-table table mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"Type\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Commercial Value\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"QuickValue\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"LTV\")})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:t(\"Furniture\")}),/*#__PURE__*/_jsx(\"td\",{children:currencyData.format((_muebles$commercialVa2=muebles===null||muebles===void 0?void 0:muebles.commercialValue)!==null&&_muebles$commercialVa2!==void 0?_muebles$commercialVa2:0)}),/*#__PURE__*/_jsx(\"td\",{children:currencyData.format((_muebles$fastValue2=muebles===null||muebles===void 0?void 0:muebles.fastValue)!==null&&_muebles$fastValue2!==void 0?_muebles$fastValue2:0)}),/*#__PURE__*/_jsx(\"td\",{children:currencyData.formatPercent((_muebles$ltv2=muebles===null||muebles===void 0?void 0:muebles.ltv)!==null&&_muebles$ltv2!==void 0?_muebles$ltv2:0)})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:t(\"Estate\")}),/*#__PURE__*/_jsx(\"td\",{children:currencyData.format((_Inmuebles$commercial=Inmuebles===null||Inmuebles===void 0?void 0:Inmuebles.commercialValue)!==null&&_Inmuebles$commercial!==void 0?_Inmuebles$commercial:0)}),/*#__PURE__*/_jsx(\"td\",{children:currencyData.format((_Inmuebles$fastValue=Inmuebles===null||Inmuebles===void 0?void 0:Inmuebles.fastValue)!==null&&_Inmuebles$fastValue!==void 0?_Inmuebles$fastValue:0)}),/*#__PURE__*/_jsx(\"td\",{children:currencyData.formatPercent((_Inmuebles$ltv=Inmuebles===null||Inmuebles===void 0?void 0:Inmuebles.ltv)!==null&&_Inmuebles$ltv!==void 0?_Inmuebles$ltv:0)})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:t(\"Deposits\")}),/*#__PURE__*/_jsx(\"td\",{children:currencyData.format((_desposito$commercial=desposito===null||desposito===void 0?void 0:desposito.commercialValue)!==null&&_desposito$commercial!==void 0?_desposito$commercial:0)}),/*#__PURE__*/_jsx(\"td\",{children:currencyData.format((_desposito$fastValue=desposito===null||desposito===void 0?void 0:desposito.fastValue)!==null&&_desposito$fastValue!==void 0?_desposito$fastValue:0)}),/*#__PURE__*/_jsx(\"td\",{children:currencyData.formatPercent((_desposito$ltv=desposito===null||desposito===void 0?void 0:desposito.ltv)!==null&&_desposito$ltv!==void 0?_desposito$ltv:0)})]})]})]})})})})})]})});};Guarantees.defaultProps={headers:[],data:[]};export default Guarantees;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/components/InformeFinanciero/background/Guarantees.js"],"names":["React","useEffect","useState","translationHelper","Card","CardBody","Col","Row","Table","useTranslation","BackendServices","CoreServices","BpmServices","useHistory","useLocation","HeaderSections","LoadingOverlay","Currency","url","Guarantees","props","location","apiCore","apiBack","apiBpm","bodyRows1","setbodyRows1","bodyRows2","setbodyRows2","bodyRows3","setbodyRows3","isActiveLoading","setisActiveLoading","data","JSON","parse","sessionStorage","getItem","dataLocation","setdataLocation","t","i18n","initializeData","jsonSet","Muebles","Inmuebles","Depositos","CustomerNumeroT24","customerNumberT24","getColaterals","then","colaterals","i","getWarrantyDetails","collateralId","respgarantias","garantias","Collateral","EmisionDt","AppraisedBy","CollateralAmt","Amt","parseFloat","facilityAmt","catch","err","console","log","length","locationData","setLocationData","history","currencyData","muebles","setMuebles","setInmuebles","desposito","setDeposito","dataSession","undefined","transactionId","push","URL_DASHBOARD","setItem","stringify","result","initializeData2","consultGeneralDataPropCred","proposal","requestId","consultarFacilidades","facilities","facility","consultarGarantiaPropCred","facilityId","guarantees","mueblesArr","filter","guarantee","guaranteeTypeName","inMueblesArr","depositoArr","fastValue","reduce","ac","crr","ltv","commercialValue","inMuebles","deposito","minHeight","format","formatPercent","defaultProps","headers"],"mappings":"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","sourcesContent":["\r\nimport React, { useEffect, useState } from \"react\"\r\nimport PropTypes from 'prop-types';\r\nimport { translationHelper } from '../../../helpers';\r\n\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  Col,\r\n  Row,\r\n  Table,\r\n} from \"reactstrap\"\r\nimport { useTranslation } from 'react-i18next';\r\nimport { BackendServices, CoreServices, BpmServices, } from \"../../../services\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport HeaderSections from \"../../Common/HeaderSections\";\r\nimport LoadingOverlay from \"react-loading-overlay\";\r\nimport Currency from \"../../../helpers/currency\";\r\nimport * as url from \"../../../helpers/url_helper\"\r\n\r\n\r\nconst Guarantees = (props) => {\r\n  const location = useLocation();\r\n  const apiCore = new CoreServices();\r\n  const apiBack = new BackendServices();\r\n  const apiBpm = new BpmServices();\r\n  const [bodyRows1, setbodyRows1] = useState(null);\r\n  const [bodyRows2, setbodyRows2] = useState(null);\r\n  const [bodyRows3, setbodyRows3] = useState(null);\r\n  const [isActiveLoading, setisActiveLoading] = useState(false);\r\n  const [dataLocation, setdataLocation] = useState(location.data ?? JSON.parse(sessionStorage.getItem('locationData')));\r\n  const { t, i18n } = useTranslation();\r\n  function initializeData() {\r\n    const jsonSet = {\r\n      Muebles: {},\r\n      Inmuebles: {},\r\n      Depositos: {},\r\n    }\r\n    const CustomerNumeroT24 = props.customerNumberT24;\r\n    // const CustomerNumeroT24=user.customerNumberT24;\r\n    setisActiveLoading(true);\r\n\r\n\r\n\r\n    apiCore.getColaterals(CustomerNumeroT24).then(colaterals => {\r\n      for (let i = 0; i < colaterals?.length; i++) {\r\n        apiCore.getWarrantyDetails(colaterals[i].collateralId, \"Muebles\").then(respgarantias => {\r\n          let garantias = respgarantias.Collateral;\r\n          // console.log(\"Muebles\", garantias);\r\n          if (!garantias)\r\n            return;\r\n\r\n          setbodyRows1(<tr>\r\n            <td>Muebles</td>\r\n            <td>{garantias.EmisionDt ? garantias.EmisionDt : \"\"}</td>\r\n            <td>{garantias.AppraisedBy ? garantias.AppraisedBy : \"\"}</td>\r\n            <td>$ {garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0}</td>\r\n            <td>{parseFloat(colaterals[i].facilityAmt) / parseFloat(garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0)}%</td>\r\n          </tr>);\r\n        }).catch(err => {\r\n          console.log(err);\r\n\r\n        })\r\n        apiCore.getWarrantyDetails(colaterals[i].collateralId, \"Inmuebles\").then(respgarantias => {\r\n          let garantias = respgarantias.Collateral;\r\n          // console.log(\"Inmuebles\", garantias);\r\n          if (!garantias)\r\n            return;\r\n          setbodyRows2(<tr>\r\n            <td>Inmuebles</td>\r\n            <td>{garantias.EmisionDt ? garantias.EmisionDt : \"\"}</td>\r\n            <td>{garantias.AppraisedBy ? garantias.AppraisedBy : \"\"}</td>\r\n            <td>$ {garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0}</td>\r\n            <td>{parseFloat(colaterals[i].facilityAmt) / parseFloat(garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0)}%</td>\r\n          </tr>);\r\n        })\r\n        apiCore.getWarrantyDetails(colaterals[i].collateralId, \"Depositos\").then(respgarantias => {\r\n          let garantias = respgarantias.Collateral;\r\n          // console.log(\"Depositos\", garantias);\r\n          if (!garantias)\r\n            return;\r\n          setbodyRows3(<tr>\r\n            <td>Depositos</td>\r\n            <td>{garantias.EmisionDt ? garantias.EmisionDt : \"\"}</td>\r\n            <td>{garantias.AppraisedBy ? garantias.AppraisedBy : \"\"}</td>\r\n            <td>$ {garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0}</td>\r\n            <td>{parseFloat(colaterals[i].facilityAmt) / parseFloat(garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0)}%</td>\r\n          </tr>);\r\n        })\r\n      }\r\n      setisActiveLoading(false);\r\n    }).catch(err => {\r\n    });\r\n\r\n    // })\r\n  }\r\n\r\n  const [locationData, setLocationData] = useState(null);\r\n  const history = useHistory();\r\n  const currencyData = new Currency();\r\n\r\n  const [muebles, setMuebles] = useState([])\r\n  const [Inmuebles, setInmuebles] = useState([])\r\n  const [desposito, setDeposito] = useState([])\r\n\r\n  React.useEffect(() => {\r\n    // initializeData();\r\n    let dataSession;\r\n    if (location.data !== null && location.data !== undefined) {\r\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n        //location.data.transactionId = 0;\r\n        //checkAndCreateProcedure(location.data);\r\n        history.push(url.URL_DASHBOARD);\r\n      }\r\n      else {\r\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n        setLocationData(location.data);\r\n        dataSession = location.data;\r\n      }\r\n    }\r\n    else {\r\n      //chequeamos si tenemos guardado en session\r\n      var result = sessionStorage.getItem('locationData');\r\n      if (result !== undefined && result !== null) {\r\n        result = JSON.parse(result);\r\n        setLocationData(result);\r\n        dataSession = result;\r\n      }\r\n    }\r\n    initializeData2(dataSession);\r\n  }, []);\r\n\r\n  //   [\r\n  //     {\r\n  //         \"Code\": \"100\",\r\n  //         \"Description\": \"Garantia Hipotecaria Mueble\"\r\n  //     },\r\n  //     {\r\n  //         \"Code\": \"200\",\r\n  //         \"Description\": \"Garantia Hipotecaria Inmueble\"\r\n  //     },\r\n  //     {\r\n  //         \"Code\": \"300\",\r\n  //         \"Description\": \"Depositos Pignorados en el Banco\"\r\n  //     },\r\n  //     {\r\n  //         \"Code\": \"400\",\r\n  //         \"Description\": \"Depositos Pignorados en Otros Banco\"\r\n  //     },\r\n  //     {\r\n  //         \"Code\": \"500\",\r\n  //         \"Description\": \"Garantia Prendaria\"\r\n  //     },\r\n  //     {\r\n  //         \"Code\": \"600\",\r\n  //         \"Description\": \"Otras Garantias\"\r\n  //     },\r\n  //     {\r\n  //         \"Code\": \"700\",\r\n  //         \"Description\": \"SIN GARANTIAS\"\r\n  //     }\r\n  // ]\r\n\r\n  function initializeData2(dataSession) {\r\n    apiBack.consultGeneralDataPropCred(dataSession.transactionId).then((proposal) => {\r\n      let requestId = proposal.length === 0 ? undefined : proposal[0].requestId;\r\n      apiBack.consultarFacilidades(requestId).then(facilities => {\r\n        for (let facility of facilities) {\r\n          apiBack.consultarGarantiaPropCred(facility.facilityId).then(guarantees => {\r\n            console.log(guarantees);\r\n            let mueblesArr = guarantees.filter(guarantee => guarantee.guaranteeTypeName === '100');\r\n            let inMueblesArr = guarantees.filter(guarantee => guarantee.guaranteeTypeName === '200');\r\n            let depositoArr = guarantees.filter(guarantee => guarantee.guaranteeTypeName === '300' || guarantee.guaranteeTypeName === '400');\r\n            setMuebles(muebles => ({ fastValue: (muebles?.fastValue ?? 0) + mueblesArr.reduce((ac, crr) => ac + crr.fastValue, 0), ltv: (muebles?.ltv ?? 0) + mueblesArr.reduce((ac, crr) => ac + crr.ltv, 0), commercialValue: (muebles?.commercialValue ?? 0) + mueblesArr.reduce((ac, crr) => ac + crr.commercialValue, 0) }));\r\n            setInmuebles(inMuebles => ({ fastValue: (inMuebles?.fastValue ?? 0) + inMueblesArr.reduce((ac, crr) => ac + crr.fastValue, 0), ltv: (inMuebles?.ltv ?? 0) + inMueblesArr.reduce((ac, crr) => ac + crr.ltv, 0), commercialValue: (inMueblesArr?.commercialValue ?? 0) + inMueblesArr.reduce((ac, crr) => ac + crr.commercialValue, 0) }));\r\n            setDeposito(deposito => ({ fastValue: (deposito?.fastValue ?? 0) + depositoArr.reduce((ac, crr) => ac + crr.fastValue, 0), ltv: (deposito?.ltv ?? 0) + depositoArr.reduce((ac, crr) => ac + crr.ltv, 0), commercialValue: (depositoArr?.commercialValue ?? 0) + depositoArr.reduce((ac, crr) => ac + crr.commercialValue, 0) }));\r\n          }).catch(err => { console.log(err) })\r\n        }\r\n      }).catch(err => { console.log(err) })\r\n    }).catch(err => { console.log(err) })\r\n  }\r\n  return (\r\n\r\n\r\n    <Card>\r\n      <LoadingOverlay active={isActiveLoading} spinner text={t(\"WaitingPlease\")}>\r\n        <Row>\r\n          <Col md=\"6\">\r\n            <h5 className=\"card-sub-title\">{t(\"WarrantyDetails\")}</h5>\r\n          </Col>\r\n        </Row>\r\n        <CardBody>\r\n\r\n          <Row>\r\n            <div style={{ minHeight: \"100px\" }}>\r\n              <Col className=\"table-responsive styled-table-div\">\r\n                <Table className=\"table table-striped table-hover styled-table table mb-0\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>{t(\"Type\")}</th>\r\n                      <th>{t(\"Commercial Value\")}</th>\r\n                      <th>{t(\"QuickValue\")}</th>\r\n                      <th>{t(\"LTV\")}</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {/* {bodyRows1}\r\n                    {bodyRows2}\r\n                    {bodyRows3} */}\r\n                    <tr>\r\n                      <td>{t(\"Furniture\")}</td>\r\n                      <td>{currencyData.format(muebles?.commercialValue ?? 0)}</td>\r\n                      <td>{currencyData.format(muebles?.fastValue ?? 0)}</td>\r\n                      <td>{currencyData.formatPercent(muebles?.ltv ?? 0)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>{t(\"Estate\")}</td>\r\n                      <td>{currencyData.format(Inmuebles?.commercialValue ?? 0)}</td>\r\n                      <td>{currencyData.format(Inmuebles?.fastValue ?? 0)}</td>\r\n                      <td>{currencyData.formatPercent(Inmuebles?.ltv ?? 0)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>{t(\"Deposits\")}</td>\r\n                      <td>{currencyData.format(desposito?.commercialValue ?? 0)}</td>\r\n                      <td>{currencyData.format(desposito?.fastValue ?? 0)}</td>\r\n                      <td>{currencyData.formatPercent(desposito?.ltv ?? 0)}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </Table>\r\n              </Col>\r\n            </div>\r\n          </Row>\r\n        </CardBody>\r\n      </LoadingOverlay>\r\n    </Card>\r\n  );\r\n\r\n};\r\n\r\n\r\nGuarantees.defaultProps = {\r\n  headers: [],\r\n  data: []\r\n};\r\n\r\nexport default Guarantees;\r\n"]},"metadata":{},"sourceType":"module"}