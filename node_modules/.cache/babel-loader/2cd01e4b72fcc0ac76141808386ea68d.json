{"ast":null,"code":"import _regeneratorRuntime from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";//i18n\nimport{useTranslation}from\"react-i18next\";import{useLocation,useHistory}from'react-router-dom';import*as OPTs from\"../../../helpers/options_helper\";import*as url from\"../../../helpers/url_helper\";import moment from\"moment\";import Select from\"react-select\";import{Link}from\"react-router-dom\";import{Row,Col,Card,CardBody,CardFooter,Button,Label,Table,UncontrolledAlert}from\"reactstrap\";import Alert from'react-bootstrap/Alert';import Switch from\"react-switch\";import{BackendServices,CoreServices,BpmServices}from\"../../../services\";import{AvForm,AvField,AvGroup,AvInput,AvCheckbox}from\"availity-reactstrap-validation\";import SearchClientCore from\"../../../components/Common/SearchClientCore\";import{PersonModel}from'../../../models/Common/PersonModel';import{BlacklistModel}from'../../../models/Common/BlacklistModel';import BlackListForm from\"./BlackListForm\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Offsymbol=function Offsymbol(){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100%\",fontSize:12,color:\"#fff\",paddingRight:2},children:[\" \",\"No\"]});};var OnSymbol=function OnSymbol(){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100%\",fontSize:12,color:\"#fff\",paddingRight:2},children:[\" \",\"Si\"]});};var ClientForm=function ClientForm(props){var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var _useState=useState(props.transactId),_useState2=_slicedToArray(_useState,2),transactId=_useState2[0],settransactId=_useState2[1];var _useState3=useState(props.clientSelected),_useState4=_slicedToArray(_useState3,2),selectClient=_useState4[0],setselectClient=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),identificationTypeList=_useState6[0],setidentificationTypeList=_useState6[1];var _useState7=useState(undefined),_useState8=_slicedToArray(_useState7,2),identificationTypeSelected=_useState8[0],setidentificationTypeSelected=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),personTypeList=_useState10[0],setpersonTypeList=_useState10[1];var _useState11=useState(undefined),_useState12=_slicedToArray(_useState11,2),personTypeSelected=_useState12[0],setpersonTypeSelected=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),roleList=_useState14[0],setroleList=_useState14[1];var _useState15=useState(undefined),_useState16=_slicedToArray(_useState15,2),roleSelected=_useState16[0],setroleSelected=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),countryList=_useState18[0],setcountryList=_useState18[1];var _useState19=useState(undefined),_useState20=_slicedToArray(_useState19,2),countrySelected=_useState20[0],setcountrySelected=_useState20[1];var _useState21=useState(new BackendServices()),_useState22=_slicedToArray(_useState21,2),apiServiceBackend=_useState22[0],setapiServiceBackend=_useState22[1];var _useState23=useState(new CoreServices()),_useState24=_slicedToArray(_useState23,2),apiCoreServices=_useState24[0],setCoreServices=_useState24[1];var _useState25=useState({show:false,msg:\"\",isError:false}),_useState26=_slicedToArray(_useState25,2),msgData=_useState26[0],setmsgData=_useState26[1];//Mostrar el Modal para busqueda en lista negra\nvar _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),showBlackListForm=_useState28[0],setshowBlackListForm=_useState28[1];//On Mounting (componentDidMount)\nReact.useEffect(function(){fetchData();},[]);//Caraga Inicial de datos\nfunction fetchData(){loadIdentificationTypes();loadPersonTypes();loadRoles();loadCountries();}//cargar lista de tipo de identificacion\nfunction loadIdentificationTypes(){apiServiceBackend.consultarCatalogoTipoIdentificacion().then(function(data){if(data!==null&&data!==undefined){var json=[];for(var i=0;i<data.length;i++){json.push({label:t(data[i][\"description\"]),value:data[i][\"id\"]});}setidentificationTypeList(json);setidentificationTypeSelected(selectClient!==undefined?json.find(function(x){return x.value===selectClient.idType;}):json[0]);}}).catch(function(error){});}//cargar lista de tipo de personas\nfunction loadPersonTypes(){apiServiceBackend.consultarCatalogoTipoPersona().then(function(data){if(data!==null&&data!==undefined){var json=[];for(var i=0;i<data.length;i++){json.push({label:t(data[i][\"label\"]),value:data[i][\"code\"]});}setpersonTypeList(json);setpersonTypeSelected(selectClient!==undefined?json.find(function(x){return x.value===Number(selectClient.personType);}):json[0]);}}).catch(function(error){});}//cargar lista de roles\nfunction loadRoles(){apiServiceBackend.retrieveRoleCatalog().then(function(data){if(data!==null&&data!==undefined){var json=[];for(var i=0;i<data.length;i++){json.push({label:t(data[i][\"roleDescription\"]),value:data[i][\"roleId\"],checked:false});}if(selectClient!==undefined&&selectClient.roles.length>0){selectClient.roles.map(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(item,i){var rol;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:rol=json.find(function(rolItem){return rolItem.value===item.roleId;});if(rol!==undefined&&rol!==null){rol.checked=true;}case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());}setroleList(json);}}).catch(function(error){});}//cargar lista de paises\nfunction loadCountries(){apiCoreServices.getPaisesCatalogo().then(function(data){if(data!==null&&data!==undefined){var json=[];for(var i=0;i<data.Records.length;i++){json.push({label:t(data.Records[i][\"Description\"]),value:data.Records[i][\"Code\"]});}setcountryList(json);setcountrySelected(selectClient!==undefined?json.find(function(x){return x.value===selectClient.nationality;}):json[0]);}}).catch(function(error){});}//Actualizar valores de Cliente cada vez que se actualiza un campo\nfunction handleChangeInputFormClient(e){var clientPerson=selectClient!==undefined?selectClient:new PersonModel();clientPerson.transactId=transactId;clientPerson[e.target.name]=e.target.value;setselectClient(clientPerson);//si la persona es juridica auto seleccionamos RUC\nif(clientPerson.personType===2){setidentificationTypeSelected(identificationTypeList.find(function(x){return x.value===\"RUC\";}));}}//Actualizar roles de Cliente cada vez que se actualiza un checkbox\nfunction handleChangeInputChkClient(e){var clientPerson=selectClient!==undefined?selectClient:new PersonModel();clientPerson.transactId=transactId;if(e.target.checked){//si es true lo agregamos\nclientPerson.roles.push({roleId:e.target.name});}else{//lo borramos\nclientPerson.roles=clientPerson.roles.filter(function(rol){return rol.roleId!==e.target.name;});//var index = clientPerson.roles.indexOf(e.target.name);\n//clientPerson.roles.splice(index, 1);\n}console.log(clientPerson);setselectClient(clientPerson);}//Guardar el Cliente\nfunction handleSubmitFormClient(event,errors,values){event.preventDefault();if(errors.length>0){return;}if(selectClient!==undefined&&selectClient!==null){if(selectClient.roles.length<=0){showMessage(t(\"YoumustselectatleasoneRoleforthisclient\"),true);return;}if(selectClient.blacklist.length<=0){showMessage(t(\"ThisclienthasnotbeenverifiedonWatchLists\"),true);return;}if(selectClient.idType.length<=0){showMessage(t(\"PleaseselectIdentificationType\"),true);return;}if(selectClient.nationality.length<=0){showMessage(t(\"PleaseselectNationality\"),true);return;}if(selectClient.personId<=0){//nueva persona\napiServiceBackend.nuevoOrquestadoListaPersonaSolicitud(selectClient).then(function(data){if(data!==null&&data!==undefined){//salir\nprops.onCancel();}else{showMessage(t(\"Datacouldnotbesaved\"),true);}}).catch(function(err){});}else{apiServiceBackend.actualizarOrquestadoListaPersonaSolicitud(selectClient).then(function(data){if(data!==null&&data!==undefined){//salir\nprops.onCancel();}else{showMessage(t(\"Datacouldnotbesaved\"),true);}}).catch(function(err){});}}else{showMessage(t(\"Theclientisnotvalid\"),true);}}//Retorna los campos a mostrar en pantalla segun el tipo de persona seleccionada\nfunction getClientDataFormByPersonType(personType){if(personType===undefined){return null;}switch(personType.value){case 1:{//Natural\nreturn/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"name\",children:t(\"FirstName\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"name\",type:\"text\",onChange:handleChangeInputFormClient,value:selectClient!==undefined?selectClient.name:'',errorMessage:t(\"Required Field\"),validate:{required:{value:true}}})]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"secondName\",children:t(\"SecondName\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"secondName\",type:\"text\",onChange:handleChangeInputFormClient,value:selectClient!==undefined?selectClient.secondName:''//errorMessage={t(\"Required Field\")}\n//validate={{ required: { value: true } }} \n})]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"lastName\",children:t(\"FirstLastName\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"lastName\",type:\"text\",onChange:handleChangeInputFormClient,value:selectClient!==undefined?selectClient.lastName:'',errorMessage:t(\"Required Field\"),validate:{required:{value:true}}})]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"secondSurname\",children:t(\"SecondLastName\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"secondSurname\",type:\"text\",onChange:handleChangeInputFormClient,value:selectClient!==undefined?selectClient.secondSurname:''//errorMessage={t(\"Required Field\")}\n//validate={{ required: { value: true } }} \n})]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(AvGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"birthDate\",children:t(\"DBO\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"birthDate\",type:\"date\",onChange:function onChange(e){e.target.value=moment(e.target.value).format(\"YYYY-MM-DD\");handleChangeInputFormClient(e);},value:selectClient!==undefined?selectClient.birthDate:''})]})})]});}case 2:{//Juridica\nreturn/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"name\",children:t(\"SocialReason\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"name\",type:\"text\",onChange:handleChangeInputFormClient,value:selectClient!==undefined?selectClient.name:'',errorMessage:t(\"Required Field\"),validate:{required:{value:true}}})]})});}}return null;}//Carga de Datos de Cliente de T24 Seleccionado\nfunction loadClientDataT24(dataClientT24){var clientPerson=new PersonModel();if(selectClient!==undefined){clientPerson.personId=selectClient.personId;}clientPerson.customerNumberT24=dataClientT24.id;clientPerson.clientDocumentId=dataClientT24.idnumber;clientPerson.name=dataClientT24.firstname;clientPerson.secondName=dataClientT24.secondname;clientPerson.lastName=dataClientT24.lastname;clientPerson.secondSurname=dataClientT24.secondlastname;clientPerson.personType=personTypeList.find(function(x){return x.value===Number(dataClientT24.partyType);}).value;clientPerson.idType=identificationTypeList.find(function(x){return x.value===dataClientT24.idtype;}).value;setselectClient(clientPerson);setidentificationTypeSelected(identificationTypeList.find(function(x){return x.value===clientPerson.idType;}));setpersonTypeSelected(personTypeList.find(function(x){return x.value===clientPerson.personType;}));}//mostrar mensaje \nfunction showMessage(message){var isError=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;setmsgData({show:true,msg:message,isError:isError});}//Abrir modal de verificacion en listas de vigilancias\nfunction showWatchListCheck(){var show=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;setshowBlackListForm(show);}function addWatchListResult(resultWatchList){if(selectClient!==undefined){var blacklistmdl=new BlacklistModel();blacklistmdl.backList=resultWatchList.blackList;blacklistmdl.commentsSearchDiscard=resultWatchList.comments;blacklistmdl.transactId=transactId;selectClient.blacklist.push(blacklistmdl);setselectClient(selectClient);}}//Elimina record de la lista de Incidencias de Black Lista\nfunction removeWatchListResult(index){selectClient.blacklist.splice(index,1);setselectClient(selectClient);}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(SearchClientCore,{onClientSelect:loadClientDataT24}),/*#__PURE__*/_jsx(\"h5\",{children:t(\"Client\")}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsx(AvForm,{id:\"frmClient\",className:\"needs-validation\",onSubmit:handleSubmitFormClient,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"personType\",children:t(\"PersonType\")}),/*#__PURE__*/_jsx(Select,{onChange:function onChange(e){setpersonTypeSelected(personTypeList.find(function(x){return x.value===e.value;}));handleChangeInputFormClient({target:{name:'personType',value:e.value}});},options:personTypeList,classNamePrefix:\"select2-selection\",value:personTypeSelected,name:\"personType\"})]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"customerNumberT24\",children:t(\"ClientNumber\")}),/*#__PURE__*/_jsx(AvField,{onChange:handleChangeInputFormClient,className:\"form-control\",name:\"customerNumberT24\",type:\"number\"//validate={{required: { value: true, errorMessage: t(\"Required Field\") }}}\n,value:selectClient!==undefined?selectClient.customerNumberT24:''})]})})]}),/*#__PURE__*/_jsx(Row,{children:getClientDataFormByPersonType(personTypeSelected)}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{children:t(\"IdType\")}),/*#__PURE__*/_jsx(Select,{onChange:function onChange(e){setidentificationTypeSelected(identificationTypeList.find(function(x){return x.value===e.value;}));handleChangeInputFormClient({target:{name:'idType',value:e.value}});},options:identificationTypeList,classNamePrefix:\"select2-selection\",value:identificationTypeSelected,name:\"idType\"})]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"idnumber\",children:t(\"IdNumber\")}),/*#__PURE__*/_jsx(AvField,{onChange:handleChangeInputFormClient,className:\"form-control\",name:\"clientDocumentId\",type:\"text\",validate:{required:{value:true,errorMessage:t(\"Required Field\")}},value:selectClient!==undefined?selectClient.clientDocumentId:''})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"nationality\",children:t(\"Nationality\")}),/*#__PURE__*/_jsx(Select,{onChange:function onChange(e){setcountrySelected(countryList.find(function(x){return x.value===e.value;}));handleChangeInputFormClient({target:{name:'nationality',value:e.value}});},options:countryList,classNamePrefix:\"select2-selection\",value:countrySelected,name:\"nationality\"})]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"phone\",children:t(\"PhoneNumber\")}),/*#__PURE__*/_jsx(AvField,{onChange:handleChangeInputFormClient,className:\"form-control\",name:\"phone\",type:\"number\"//validate={{required: { value: true, errorMessage: t(\"Required Field\") }}}\n,value:selectClient!==undefined?selectClient.phone:''})]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"email\",children:t(\"Email\")}),/*#__PURE__*/_jsx(AvField,{onChange:handleChangeInputFormClient,className:\"form-control\",name:\"email\",type:\"email\"//validate={{required: { value: true, errorMessage: t(\"Required Field\") }}}\n,value:selectClient!==undefined?selectClient.email:''})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Label,{className:\"form-check-label\",children:t(\"Roles\")}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2002\"}),roleList.map(function(item,index){return/*#__PURE__*/_jsx(Col,{md:\"4\",children:/*#__PURE__*/_jsxs(AvGroup,{check:true,className:\"my-2\",children:[/*#__PURE__*/_jsx(AvInput,{type:\"checkbox\",defaultChecked:item.checked,name:item.value,onChange:handleChangeInputChkClient}),/*#__PURE__*/_jsxs(Label,{htmlFor:item.value,children:[\" \",item.label]})]})});}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2002\"})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:\"6\",children:[/*#__PURE__*/_jsx(Label,{className:\"form-check-label\",children:t(\"BlackListIncidences\")}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2002\"})]}),/*#__PURE__*/_jsx(Col,{md:\"6\",style:{textAlign:\"right\"},children:/*#__PURE__*/_jsxs(Button,{color:\"success\",type:\"button\",onClick:showWatchListCheck,style:{margin:'5px'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-file-find mdi-12px\"}),\" \",t(\"Verify\")]})}),selectClient!==undefined&&selectClient.blacklist!==undefined&&selectClient.blacklist.length>0?/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(Table,{className:\"table mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"WithMatches\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Comments\")}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:selectClient.blacklist.map(function(item,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.backList?\"Si\":\"No\"}),/*#__PURE__*/_jsx(\"td\",{children:item.commentsSearchDiscard}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"#\",className:\"float-end mx-1\",title:t(\"Delete\"),onClick:function onClick(){return removeWatchListResult(index);},children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-file-remove-outline mdi-24px\"})})})]},index);})})]})})}):/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info\",style:{textAlign:\"center\"},children:t(\"NotVerified\")})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsx(Alert,{show:msgData.show,variant:msgData.isError?\"danger\":\"success\",dismissible:true,onClose:function onClose(){console.log(\"onClose\");setmsgData({show:false,msg:\"\",isError:false});},children:msgData.msg})})})]}),/*#__PURE__*/_jsxs(CardFooter,{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsxs(Button,{color:\"dark\",type:\"button\",style:{margin:'5px'},onClick:props.onCancel,children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi mdi-cancel mid-12px\"}),\" \",t(\"Cancel\")]}),/*#__PURE__*/_jsxs(Button,{color:\"success\",type:\"submit\",style:{margin:'5px'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-content-save mdi-12px\"}),\" \",t(\"Save\")]})]})]})}),showBlackListForm?/*#__PURE__*/_jsx(BlackListForm,{clientSelected:selectClient,isOpen:showBlackListForm,toggle:function toggle(){setshowBlackListForm(!showBlackListForm);},watchListResult:addWatchListResult}):null]});};export default ClientForm;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/1_Presolicitud/ClientForm.js"],"names":["React","useState","useTranslation","useLocation","useHistory","OPTs","url","moment","Select","Link","Row","Col","Card","CardBody","CardFooter","Button","Label","Table","UncontrolledAlert","Alert","Switch","BackendServices","CoreServices","BpmServices","AvForm","AvField","AvGroup","AvInput","AvCheckbox","SearchClientCore","PersonModel","BlacklistModel","BlackListForm","Offsymbol","display","justifyContent","alignItems","height","fontSize","color","paddingRight","OnSymbol","ClientForm","props","t","i18n","transactId","settransactId","clientSelected","selectClient","setselectClient","identificationTypeList","setidentificationTypeList","undefined","identificationTypeSelected","setidentificationTypeSelected","personTypeList","setpersonTypeList","personTypeSelected","setpersonTypeSelected","roleList","setroleList","roleSelected","setroleSelected","countryList","setcountryList","countrySelected","setcountrySelected","apiServiceBackend","setapiServiceBackend","apiCoreServices","setCoreServices","show","msg","isError","msgData","setmsgData","showBlackListForm","setshowBlackListForm","useEffect","fetchData","loadIdentificationTypes","loadPersonTypes","loadRoles","loadCountries","consultarCatalogoTipoIdentificacion","then","data","json","i","length","push","label","value","find","x","idType","catch","error","consultarCatalogoTipoPersona","Number","personType","retrieveRoleCatalog","checked","roles","map","item","rol","rolItem","roleId","getPaisesCatalogo","Records","nationality","handleChangeInputFormClient","e","clientPerson","target","name","handleChangeInputChkClient","filter","console","log","handleSubmitFormClient","event","errors","values","preventDefault","showMessage","blacklist","personId","nuevoOrquestadoListaPersonaSolicitud","onCancel","err","actualizarOrquestadoListaPersonaSolicitud","getClientDataFormByPersonType","required","secondName","lastName","secondSurname","format","birthDate","loadClientDataT24","dataClientT24","customerNumberT24","id","clientDocumentId","idnumber","firstname","secondname","lastname","secondlastname","partyType","idtype","message","showWatchListCheck","addWatchListResult","resultWatchList","blacklistmdl","backList","blackList","commentsSearchDiscard","comments","removeWatchListResult","index","splice","errorMessage","phone","email","textAlign","margin"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\r\nimport PropTypes from 'prop-types';\r\n//i18n\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useLocation,useHistory } from 'react-router-dom'\r\nimport * as OPTs from \"../../../helpers/options_helper\"\r\nimport * as url from \"../../../helpers/url_helper\"\r\nimport moment from \"moment\";\r\nimport Select from \"react-select\";\r\nimport { Link } from \"react-router-dom\"\r\n\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardBody,\r\n  CardFooter,\r\n  Button,\r\n  Label,\r\n  Table, \r\n  UncontrolledAlert,\r\n} from \"reactstrap\"\r\n\r\nimport Alert from 'react-bootstrap/Alert'\r\n\r\nimport Switch from \"react-switch\";\r\nimport {BackendServices,CoreServices,BpmServices,} from \"../../../services\";\r\nimport { AvForm, AvField, AvGroup,AvInput, AvCheckbox} from \"availity-reactstrap-validation\";\r\nimport SearchClientCore from \"../../../components/Common/SearchClientCore\";\r\nimport {PersonModel} from '../../../models/Common/PersonModel';\r\nimport {BlacklistModel} from '../../../models/Common/BlacklistModel';\r\nimport BlackListForm from \"./BlackListForm\"\r\n\r\n\r\nconst Offsymbol = () => {\r\n  return (\r\n      <div\r\n          style={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              height: \"100%\",\r\n              fontSize: 12,\r\n              color: \"#fff\",\r\n              paddingRight: 2,\r\n          }}\r\n      >\r\n          {\" \"}\r\n          No\r\n      </div>\r\n  );\r\n};\r\n\r\nconst OnSymbol = () => {\r\n  return (\r\n      <div\r\n          style={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              height: \"100%\",\r\n              fontSize: 12,\r\n              color: \"#fff\",\r\n              paddingRight: 2,\r\n          }}\r\n      >\r\n          {\" \"}\r\n          Si\r\n      </div>\r\n  );\r\n};\r\n\r\nconst ClientForm = props => {\r\n\r\n    const { t, i18n } = useTranslation();\r\n  \r\n    const [transactId, settransactId] = useState(props.transactId);\r\n    const [selectClient, setselectClient] = useState(props.clientSelected);\r\n\r\n    const [identificationTypeList, setidentificationTypeList] = useState([]);\r\n    const [identificationTypeSelected, setidentificationTypeSelected] = useState(undefined);\r\n\r\n    const [personTypeList, setpersonTypeList] = useState([]);\r\n    const [personTypeSelected, setpersonTypeSelected] = useState(undefined);\r\n\r\n    const [roleList, setroleList] = useState([]);\r\n    const [roleSelected, setroleSelected] = useState(undefined);\r\n\r\n    const [countryList, setcountryList] = useState([]);\r\n    const [countrySelected, setcountrySelected] = useState(undefined);\r\n      \r\n    const [apiServiceBackend, setapiServiceBackend] = useState(new BackendServices());\r\n    const [apiCoreServices, setCoreServices] = useState(new CoreServices());\r\n    \r\n    const [msgData, setmsgData] = useState({show:false,msg:\"\",isError:false});\r\n    //Mostrar el Modal para busqueda en lista negra\r\n    const [showBlackListForm, setshowBlackListForm] = useState(false);\r\n  \r\n\r\n  //On Mounting (componentDidMount)\r\n  React.useEffect(() => {    \r\n    fetchData();\r\n  }, []);\r\n\r\n  //Caraga Inicial de datos\r\n  function fetchData() {\r\n    loadIdentificationTypes();\r\n    loadPersonTypes();\r\n    loadRoles();\r\n    loadCountries();\r\n  } \r\n\r\n  //cargar lista de tipo de identificacion\r\n  function loadIdentificationTypes(){\r\n    apiServiceBackend.consultarCatalogoTipoIdentificacion()\r\n        .then((data) => {\r\n            if (data !== null && data !== undefined) {\r\n                let json = [];\r\n                for (let i = 0; i < data.length; i++) {\r\n                  json.push({ label: t(data[i][\"description\"]), value: data[i][\"id\"] })\r\n                }\r\n                setidentificationTypeList(json)\r\n                setidentificationTypeSelected(selectClient!==undefined?json.find(x => x.value === selectClient.idType):json[0]);\r\n            }          \r\n      }).catch((error) => { });    \r\n  }\r\n  //cargar lista de tipo de personas\r\n  function loadPersonTypes(){\r\n    apiServiceBackend.consultarCatalogoTipoPersona()\r\n        .then((data) => {\r\n            if (data !== null && data !== undefined) {\r\n                let json = [];\r\n                for (let i = 0; i < data.length; i++) {\r\n                  json.push({ label: t(data[i][\"label\"]), value: data[i][\"code\"] })\r\n                }\r\n                setpersonTypeList(json);                \r\n                setpersonTypeSelected(selectClient!==undefined?json.find(x => x.value === Number(selectClient.personType)):json[0]);\r\n            }          \r\n      }).catch((error) => { });    \r\n  }\r\n  //cargar lista de roles\r\n  function loadRoles(){\r\n    apiServiceBackend.retrieveRoleCatalog()\r\n        .then((data) => {\r\n          if (data !== null && data !== undefined) {\r\n            let json = [];\r\n            for (let i = 0; i < data.length; i++) {\r\n              json.push({ label: t(data[i][\"roleDescription\"]), value: data[i][\"roleId\"],checked:false })\r\n            }\r\n\r\n            if(selectClient!==undefined && selectClient.roles.length > 0){\r\n              selectClient.roles.map(async function (item, i) {\r\n                var rol = json.find((rolItem) => {\r\n                  return rolItem.value === item.roleId;\r\n                })\r\n                if (rol !== undefined && rol !== null) {\r\n                  rol.checked=true;\r\n                }\r\n              })\r\n            }\r\n\r\n            setroleList(json)\r\n        }         \r\n      }).catch((error) => { });    \r\n  }\r\n  //cargar lista de paises\r\n  function loadCountries(){\r\n    apiCoreServices.getPaisesCatalogo()\r\n        .then((data) => {\r\n          if (data !== null && data !== undefined) {\r\n            let json = [];\r\n            for (let i = 0; i < data.Records.length; i++) {\r\n              json.push({ label: t(data.Records[i][\"Description\"]), value: data.Records[i][\"Code\"] })\r\n            }\r\n            setcountryList(json);            \r\n            setcountrySelected(selectClient!==undefined?json.find(x => x.value === selectClient.nationality):json[0]);\r\n        }         \r\n      }).catch((error) => { });    \r\n  }\r\n  //Actualizar valores de Cliente cada vez que se actualiza un campo\r\n  function handleChangeInputFormClient(e) {\r\n\r\n    var clientPerson = selectClient!==undefined?selectClient:new PersonModel();\r\n    clientPerson.transactId = transactId;\r\n        \r\n    clientPerson[e.target.name] = e.target.value;\r\n    setselectClient(clientPerson);\r\n\r\n    //si la persona es juridica auto seleccionamos RUC\r\n    if(clientPerson.personType === 2){\r\n      setidentificationTypeSelected(identificationTypeList.find(x => x.value === \"RUC\"));          \r\n    }\r\n  }\r\n  //Actualizar roles de Cliente cada vez que se actualiza un checkbox\r\n  function handleChangeInputChkClient(e) {\r\n\r\n    var clientPerson = selectClient!==undefined?selectClient:new PersonModel();\r\n    clientPerson.transactId = transactId;\r\n\r\n    if(e.target.checked){ //si es true lo agregamos\r\n      clientPerson.roles.push({roleId:e.target.name})\r\n    }\r\n    else{//lo borramos\r\n\r\n      clientPerson.roles = clientPerson.roles.filter(rol=>rol.roleId !==e.target.name)\r\n      //var index = clientPerson.roles.indexOf(e.target.name);\r\n      //clientPerson.roles.splice(index, 1);\r\n    }\r\n    console.log(clientPerson);\r\n    setselectClient(clientPerson);    \r\n  }\r\n  //Guardar el Cliente\r\n  function handleSubmitFormClient(event, errors, values){\r\n    \r\n    event.preventDefault();\r\n    if (errors.length > 0) {\r\n      return;\r\n    }\r\n\r\n    if(selectClient!==undefined && selectClient!==null ){\r\n\r\n      if(selectClient.roles.length<=0){\r\n        showMessage(t(\"YoumustselectatleasoneRoleforthisclient\"),true);\r\n        return;\r\n      }\r\n      \r\n      if(selectClient.blacklist.length<=0){\r\n        showMessage(t(\"ThisclienthasnotbeenverifiedonWatchLists\"),true);\r\n        return;\r\n      }\r\n\r\n      if(selectClient.idType.length<=0){\r\n        showMessage(t(\"PleaseselectIdentificationType\"),true);\r\n        return;\r\n      }\r\n\r\n      if(selectClient.nationality.length<=0){\r\n        showMessage(t(\"PleaseselectNationality\"),true);\r\n        return;\r\n      }\r\n      \r\n      if(selectClient.personId<=0){//nueva persona\r\n        apiServiceBackend.nuevoOrquestadoListaPersonaSolicitud(selectClient)\r\n          .then((data) => {\r\n            if (data !== null && data !== undefined) {\r\n              //salir\r\n              props.onCancel();\r\n          }\r\n          else{\r\n            showMessage(t(\"Datacouldnotbesaved\"),true);\r\n          }         \r\n        }).catch((err) => { });\r\n      }\r\n      else{\r\n        apiServiceBackend.actualizarOrquestadoListaPersonaSolicitud(selectClient)\r\n          .then((data) => {\r\n            if (data !== null && data !== undefined) {\r\n              //salir\r\n              props.onCancel();\r\n          }\r\n          else{\r\n            showMessage(t(\"Datacouldnotbesaved\"),true);\r\n          }         \r\n        }).catch((err) => { });\r\n      }\r\n    }\r\n    else{\r\n      showMessage(t(\"Theclientisnotvalid\"),true);\r\n    }\r\n\r\n  }\r\n  //Retorna los campos a mostrar en pantalla segun el tipo de persona seleccionada\r\n  function getClientDataFormByPersonType(personType){\r\n    if(personType === undefined){\r\n      return null;\r\n    }\r\n\r\n    switch(personType.value){\r\n        case 1:{//Natural\r\n         return( <React.Fragment>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"name\">{t(\"FirstName\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                name=\"name\"\r\n                type=\"text\" onChange={handleChangeInputFormClient}\r\n                  value={selectClient !== undefined?selectClient.name:''}\r\n                  errorMessage={t(\"Required Field\")}\r\n                  validate={{ required: { value: true } }} \r\n                  />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"secondName\">{t(\"SecondName\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                name=\"secondName\"\r\n                type=\"text\" onChange={handleChangeInputFormClient}\r\n                value={selectClient !== undefined?selectClient.secondName:''}\r\n                //errorMessage={t(\"Required Field\")}\r\n                //validate={{ required: { value: true } }} \r\n                />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"lastName\">{t(\"FirstLastName\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                name=\"lastName\"\r\n                type=\"text\" onChange={handleChangeInputFormClient}\r\n                value={selectClient !== undefined?selectClient.lastName:''}\r\n                errorMessage={t(\"Required Field\")}\r\n                validate={{ required: { value: true } }} \r\n                />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"secondSurname\">{t(\"SecondLastName\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                name=\"secondSurname\"\r\n                type=\"text\" onChange={handleChangeInputFormClient}\r\n                value={selectClient !== undefined?selectClient.secondSurname:''}\r\n                //errorMessage={t(\"Required Field\")}\r\n                //validate={{ required: { value: true } }} \r\n                />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"6\">\r\n                <AvGroup className=\"mb-3\">\r\n                  <Label htmlFor=\"birthDate\">{t(\"DBO\")}</Label>\r\n                  <AvField\r\n                    className=\"form-control\"\r\n                    name=\"birthDate\"\r\n                    type=\"date\" onChange={(e)=>{ e.target.value = moment(e.target.value).format(\"YYYY-MM-DD\"); handleChangeInputFormClient(e)}}\r\n                    value={selectClient !== undefined?selectClient.birthDate:''}\r\n                    />\r\n                </AvGroup>\r\n              </Col>\r\n        </React.Fragment>)\r\n        } \r\n        case 2:{//Juridica\r\n          return(\r\n          <Col md=\"12\">\r\n              <div className=\"mb-3\">\r\n                <Label htmlFor=\"name\">{t(\"SocialReason\")}</Label>\r\n                <AvField\r\n                  className=\"form-control\"\r\n                  name=\"name\"\r\n                  type=\"text\" onChange={handleChangeInputFormClient}\r\n                  value={selectClient !== undefined?selectClient.name:''}\r\n                  errorMessage={t(\"Required Field\")}\r\n                  validate={{ required: { value: true } }} />\r\n              </div>\r\n            </Col>\r\n            )\r\n        } \r\n    }\r\n\r\n    return null;\r\n  }  \r\n  //Carga de Datos de Cliente de T24 Seleccionado\r\n  function loadClientDataT24(dataClientT24){    \r\n    \r\n    var clientPerson = new PersonModel();\r\n    if(selectClient!==undefined){\r\n      clientPerson.personId = selectClient.personId;\r\n    }\r\n    \r\n    clientPerson.customerNumberT24 = dataClientT24.id;\r\n    clientPerson.clientDocumentId = dataClientT24.idnumber;\r\n    clientPerson.name = dataClientT24.firstname;\r\n    clientPerson.secondName = dataClientT24.secondname;\r\n    clientPerson.lastName = dataClientT24.lastname;\r\n    clientPerson.secondSurname = dataClientT24.secondlastname;\r\n\r\n    clientPerson.personType = personTypeList.find(x => x.value === Number(dataClientT24.partyType)).value;\r\n    clientPerson.idType = identificationTypeList.find(x => x.value === dataClientT24.idtype).value;\r\n    \r\n    setselectClient(clientPerson);\r\n    setidentificationTypeSelected(identificationTypeList.find(x => x.value === clientPerson.idType));  \r\n    setpersonTypeSelected(personTypeList.find(x => x.value === clientPerson.personType));  \r\n  }\r\n  //mostrar mensaje \r\n  function showMessage(message,isError=false){   \r\n    setmsgData({show:true,msg:message,isError:isError})   \r\n  }  \r\n  //Abrir modal de verificacion en listas de vigilancias\r\n  function showWatchListCheck(show=true){\r\n    setshowBlackListForm(show);\r\n  }\r\n\r\n  function addWatchListResult(resultWatchList){\r\n    if(selectClient!==undefined){\r\n\r\n      var blacklistmdl = new BlacklistModel();\r\n      blacklistmdl.backList = resultWatchList.blackList;\r\n      blacklistmdl.commentsSearchDiscard = resultWatchList.comments;\r\n      blacklistmdl.transactId = transactId;\r\n\r\n      selectClient.blacklist.push(blacklistmdl); \r\n      setselectClient(selectClient);\r\n\r\n    }\r\n  }\r\n  //Elimina record de la lista de Incidencias de Black Lista\r\n  function removeWatchListResult(index){\r\n    selectClient.blacklist.splice(index, 1);\r\n    setselectClient(selectClient);\r\n  }\r\n\r\n  return (\r\n   \r\n    <React.Fragment>      \r\n    \r\n    <SearchClientCore onClientSelect={loadClientDataT24}/>\r\n\r\n    <h5>{t(\"Client\")}</h5>\r\n    <p className=\"card-title-desc\"></p>\r\n\r\n    <AvForm id=\"frmClient\" className=\"needs-validation\" onSubmit={handleSubmitFormClient}>\r\n        <Card>\r\n                <CardBody>\r\n                  <Row>\r\n                    <Col md=\"6\">\r\n                      <div className=\"mb-3\">\r\n                        <Label htmlFor=\"personType\">{t(\"PersonType\")}</Label>\r\n                        <Select\r\n                          onChange={(e) => { setpersonTypeSelected(personTypeList.find(x => x.value === e.value)); handleChangeInputFormClient({target: { name:'personType', value: e.value }}) }}\r\n                          options={personTypeList}\r\n                          classNamePrefix=\"select2-selection\"\r\n                          value={personTypeSelected}\r\n                          name=\"personType\"\r\n                        />\r\n                      </div>\r\n                    </Col>\r\n                    <Col md=\"6\">\r\n                      <div className=\"mb-3\">\r\n                        <Label htmlFor=\"customerNumberT24\">{t(\"ClientNumber\")}</Label>\r\n                        <AvField onChange={handleChangeInputFormClient} className=\"form-control\"\r\n                          name=\"customerNumberT24\" type=\"number\"\r\n                          //validate={{required: { value: true, errorMessage: t(\"Required Field\") }}}\r\n                          value={selectClient !== undefined?selectClient.customerNumberT24:''}\r\n                        />\r\n                      </div>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row>\r\n                    {getClientDataFormByPersonType(personTypeSelected)}                      \r\n                  </Row>\r\n                  <Row>\r\n                    <Col md=\"6\">\r\n                      <div className=\"mb-3\">\r\n                        <Label>{t(\"IdType\")}</Label>\r\n                        <Select\r\n                          onChange={(e) => { setidentificationTypeSelected(identificationTypeList.find(x => x.value === e.value)); handleChangeInputFormClient({target: { name:'idType', value: e.value }}) }}\r\n                          options={identificationTypeList}\r\n                          classNamePrefix=\"select2-selection\"\r\n                          value={identificationTypeSelected}\r\n                          name=\"idType\"\r\n                        />\r\n                      </div>\r\n                    </Col>\r\n\r\n                    <Col md=\"6\">\r\n                      <div className=\"mb-3\">\r\n                        <Label htmlFor=\"idnumber\">{t(\"IdNumber\")}</Label>\r\n                        <AvField onChange={handleChangeInputFormClient} className=\"form-control\"\r\n                          name=\"clientDocumentId\" type=\"text\"\r\n                          validate={{required: { value: true, errorMessage: t(\"Required Field\") }}}\r\n                          value={selectClient !== undefined?selectClient.clientDocumentId:''}\r\n                        />\r\n                      </div>\r\n                    </Col>\r\n                  </Row>                  \r\n                  <Row>\r\n                    <Col md=\"6\">\r\n                      <div className=\"mb-3\">\r\n                        <Label htmlFor=\"nationality\">{t(\"Nationality\")}</Label>\r\n                        <Select\r\n                          onChange={(e) => { setcountrySelected(countryList.find(x => x.value === e.value)); handleChangeInputFormClient({target: { name:'nationality', value: e.value }}) }}\r\n                          options={countryList}\r\n                          classNamePrefix=\"select2-selection\"\r\n                          value={countrySelected}\r\n                          name=\"nationality\"\r\n                        />\r\n                      </div>\r\n                    </Col> \r\n                    <Col md=\"6\">\r\n                      <div className=\"mb-3\">\r\n                        <Label htmlFor=\"phone\">{t(\"PhoneNumber\")}</Label>\r\n                        <AvField onChange={handleChangeInputFormClient} className=\"form-control\"\r\n                          name=\"phone\" type=\"number\"\r\n                          //validate={{required: { value: true, errorMessage: t(\"Required Field\") }}}\r\n                          value={selectClient !== undefined?selectClient.phone:''}\r\n                        />\r\n                      </div>\r\n                    </Col>\r\n                    <Col md=\"6\">\r\n                      <div className=\"mb-3\">\r\n                        <Label htmlFor=\"email\">{t(\"Email\")}</Label>\r\n                        <AvField onChange={handleChangeInputFormClient} className=\"form-control\"\r\n                          name=\"email\" type=\"email\"\r\n                          //validate={{required: { value: true, errorMessage: t(\"Required Field\") }}}\r\n                          value={selectClient !== undefined?selectClient.email:''}\r\n                        />\r\n                      </div>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row>\r\n                  <Label className=\"form-check-label\">{t(\"Roles\")}</Label>\r\n                  <p>&ensp;</p>\r\n                  {roleList.map((item, index) => (\r\n                  <Col md=\"4\">\r\n\r\n                    <AvGroup check className=\"my-2\">\r\n                      <AvInput type=\"checkbox\" defaultChecked={item.checked} name={item.value} onChange={handleChangeInputChkClient}/>\r\n                      <Label htmlFor={item.value}> {item.label}</Label>\r\n                    </AvGroup>\r\n\r\n                    {/*<AvGroup check className=\"mb-3\">\r\n                      <Switch name={item.value}\r\n                        uncheckedIcon={<Offsymbol />}\r\n                        checkedIcon={<OnSymbol />}\r\n                        onColor=\"#007943\"\r\n                        disabled={false}\r\n                        className=\"form-label\"\r\n                        //checked={data.dataAspectosAmbientales.natureLocationProject}\r\n                        onChange={handleChangeInputFormClient}\r\n                      />\r\n                      {'   '}\r\n                      <Label className=\"form-check-label\" htmlFor={item.value}> {item.label}</Label>\r\n                  </AvGroup>*/}\r\n                  </Col>                   \r\n                  ))}\r\n                  <p>&ensp;</p>\r\n                  </Row>    \r\n                  <Row>\r\n                    <Col md=\"6\">\r\n                      <Label className=\"form-check-label\">{t(\"BlackListIncidences\")}</Label>\r\n                      <p>&ensp;</p>\r\n                    </Col>\r\n                    <Col md=\"6\" style={{ textAlign: \"right\" }}>\r\n                      <Button color=\"success\" type=\"button\" onClick={showWatchListCheck} style={{ margin: '5px' }}><i className=\"mdi mdi-file-find mdi-12px\"></i>\r\n                        {\" \"}{t(\"Verify\")}\r\n                      </Button>\r\n                    </Col>\r\n                    {selectClient!==undefined && selectClient.blacklist!==undefined && selectClient.blacklist.length > 0?\r\n                    <Col md=\"12\">\r\n                      <div className=\"table-responsive\">\r\n                        <Table className=\"table mb-0\">\r\n                          <thead className=\"table-light\">\r\n                            <tr>\r\n                              <th>{t(\"WithMatches\")}</th>\r\n                              <th>{t(\"Comments\")}</th>\r\n                              <th></th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                          {selectClient.blacklist.map((item, index) => (\r\n                            <tr key={ index }>        \r\n                              <td>{ item.backList?\"Si\":\"No\" }</td>\r\n                              <td>{ item.commentsSearchDiscard }</td>\r\n                              <td>\r\n                                <Link to=\"#\" className=\"float-end mx-1\" title={t(\"Delete\")} onClick={()=> removeWatchListResult(index)}><i className=\"mdi mdi-file-remove-outline mdi-24px\"></i></Link>\r\n                              </td>\r\n                            </tr>            \r\n                          ))}\r\n                          </tbody>\r\n                        </Table>           \r\n                      </div>\r\n                    </Col>\r\n                    :\r\n                    <Col md=\"12\"><div className=\"alert alert-info\" style={{ textAlign: \"center\" }}>{ t(\"NotVerified\") }</div></Col>\r\n                    }\r\n                  </Row>  \r\n\r\n                  <Row>\r\n            <Col md=\"12\">            \r\n            <Alert show={msgData.show} variant={msgData.isError?\"danger\":\"success\"} dismissible onClose={() =>{ console.log(\"onClose\"); setmsgData({show:false,msg:\"\",isError:false})}}>\r\n              {msgData.msg}\r\n            </Alert>\r\n            </Col>   \r\n             </Row>    \r\n\r\n                </CardBody>\r\n                <CardFooter style={{ textAlign: \"right\" }}>\r\n                  <Button color=\"dark\" type=\"button\" style={{ margin: '5px' }} onClick={props.onCancel}>\r\n                    <i className=\"mdi mdi mdi-cancel mid-12px\"></i>{\" \"}{t(\"Cancel\")}\r\n                  </Button>\r\n                  <Button color=\"success\" type=\"submit\" style={{ margin: '5px' }}><i className=\"mdi mdi-content-save mdi-12px\"></i>\r\n                    {\" \"}{t(\"Save\")}\r\n                  </Button>\r\n                </CardFooter>\r\n              </Card>\r\n      </AvForm>\r\n\r\n{showBlackListForm?\r\n  <BlackListForm clientSelected={ selectClient } isOpen={ showBlackListForm } toggle={ () => { setshowBlackListForm(!showBlackListForm) } } watchListResult={addWatchListResult} />\r\n:null}\r\n      \r\n\r\n\r\n  </React.Fragment>\r\n\r\n       );\r\n};\r\n\r\nClientForm.propTypes = {\r\n  onCancel: PropTypes.func,\r\n  clientSelected:PropTypes.any,\r\n  transactId:PropTypes.any\r\n}\r\n\r\nexport default ClientForm;\r\n"]},"metadata":{},"sourceType":"module"}