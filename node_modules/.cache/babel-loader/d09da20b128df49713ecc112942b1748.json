{"ast":null,"code":"import React from\"react\";import{Switch,BrowserRouter as Router}from\"react-router-dom\";import{connect}from\"react-redux\";// Import Routes all\nimport{userRoutes,authRoutes}from\"./routes/allRoutes\";// Import all middleware\nimport Authmiddleware from\"./routes/middleware/Authmiddleware\";// layouts Format\nimport VerticalLayout from\"./components/VerticalLayout/\";import HorizontalLayout from\"./components/HorizontalLayout/\";import NonAuthLayout from\"./components/NonAuthLayout\";// Import scss\nimport\"./assets/scss/theme.scss\";import\"./assets/scss/custom.scss\";import fakeBackend from\"./helpers/AuthType/fakeBackend\";import packageJson from\"../package.json\";// Activating fake backend\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";fakeBackend();var App=function App(props){//On Mounting (componentDidMount)\nReact.useEffect(function(){CheckCaching();},[]);//Check Version para borrar la caché y actualizar cambios realizados en nueva version\nfunction CheckCaching(){var version=localStorage.getItem('version');if(version){if(version!==packageJson.version){if('caches'in window){caches.keys().then(function(names){// Delete all the cache files\nnames.forEach(function(name){caches.delete(name);});});}localStorage.clear();localStorage.setItem('version',packageJson.version);// Makes sure the page reloads. Changes are only visible after you refresh.\nwindow.location.reload(true);}}else{localStorage.clear();localStorage.setItem('version',packageJson.version);window.location.reload(true);}console.log(\"version\",version);};function getLayout(){var layoutCls=VerticalLayout;switch(props.layout.layoutType){case\"horizontal\":layoutCls=HorizontalLayout;break;default:layoutCls=VerticalLayout;break;}return layoutCls;}var Layout=getLayout();return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Switch,{children:[authRoutes.map(function(route,idx){return/*#__PURE__*/_jsx(Authmiddleware,{path:route.path,layout:NonAuthLayout,component:route.component,isAuthProtected:false},idx);}),userRoutes.map(function(route,idx){return/*#__PURE__*/_jsx(Authmiddleware,{path:route.path,layout:Layout,component:route.component,isAuthProtected:true,exact:true},idx);})]})})});};var mapStateToProps=function mapStateToProps(state){return{layout:state.Layout};};export default connect(mapStateToProps,null)(App);","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/App.js"],"names":["React","Switch","BrowserRouter","Router","connect","userRoutes","authRoutes","Authmiddleware","VerticalLayout","HorizontalLayout","NonAuthLayout","fakeBackend","packageJson","App","props","useEffect","CheckCaching","version","localStorage","getItem","window","caches","keys","then","names","forEach","name","delete","clear","setItem","location","reload","console","log","getLayout","layoutCls","layout","layoutType","Layout","map","route","idx","path","component","mapStateToProps","state"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types'\r\nimport React from \"react\"\r\n\r\nimport { Switch, BrowserRouter as Router } from \"react-router-dom\"\r\nimport { connect } from \"react-redux\"\r\n\r\n// Import Routes all\r\nimport { userRoutes, authRoutes } from \"./routes/allRoutes\"\r\n\r\n// Import all middleware\r\nimport Authmiddleware from \"./routes/middleware/Authmiddleware\"\r\n\r\n// layouts Format\r\nimport VerticalLayout from \"./components/VerticalLayout/\"\r\nimport HorizontalLayout from \"./components/HorizontalLayout/\"\r\nimport NonAuthLayout from \"./components/NonAuthLayout\"\r\n\r\n// Import scss\r\nimport \"./assets/scss/theme.scss\"\r\nimport \"./assets/scss/custom.scss\"\r\n\r\n\r\nimport fakeBackend from \"./helpers/AuthType/fakeBackend\"\r\n\r\nimport packageJson from \"../package.json\";\r\n\r\n// Activating fake backend\r\nfakeBackend()\r\n\r\nconst App = props => {\r\n  //On Mounting (componentDidMount)\r\n  React.useEffect(() => {\r\n    CheckCaching();\r\n  }, []);\r\n\r\n  //Check Version para borrar la caché y actualizar cambios realizados en nueva version\r\n  function CheckCaching() {\r\n    let version = localStorage.getItem('version');\r\n    if (version) {\r\n      if (version !== packageJson.version) {\r\n        if ('caches' in window) {\r\n          caches.keys().then((names) => {\r\n            // Delete all the cache files\r\n            names.forEach(name => {\r\n              caches.delete(name);\r\n            })\r\n          });\r\n        }\r\n\r\n        localStorage.clear();\r\n        localStorage.setItem('version', packageJson.version);\r\n\r\n        // Makes sure the page reloads. Changes are only visible after you refresh.\r\n        window.location.reload(true);\r\n      }\r\n    }\r\n    else {\r\n      localStorage.clear();\r\n      localStorage.setItem('version', packageJson.version);\r\n      window.location.reload(true);\r\n    }\r\n    console.log(\"version\", version);\r\n  };\r\n\r\n\r\n  function getLayout() {\r\n    let layoutCls = VerticalLayout\r\n\r\n    switch (props.layout.layoutType) {\r\n      case \"horizontal\":\r\n        layoutCls = HorizontalLayout\r\n        break\r\n      default:\r\n        layoutCls = VerticalLayout\r\n        break\r\n    }\r\n    return layoutCls\r\n  }\r\n\r\n  const Layout = getLayout();\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Router>\r\n\r\n        <Switch>\r\n          {authRoutes.map((route, idx) => (\r\n            <Authmiddleware\r\n              path={route.path}\r\n              layout={NonAuthLayout}\r\n              component={route.component}\r\n              key={idx}\r\n              isAuthProtected={false}\r\n            />\r\n          ))}\r\n\r\n          {userRoutes.map((route, idx) => (\r\n            <Authmiddleware\r\n              path={route.path}\r\n              layout={Layout}\r\n              component={route.component}\r\n              key={idx}\r\n              isAuthProtected={true}\r\n              exact\r\n            />\r\n          ))}\r\n        </Switch>\r\n\r\n      </Router>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nApp.propTypes = {\r\n  layout: PropTypes.any\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    layout: state.Layout,\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(App)"]},"metadata":{},"sourceType":"module"}