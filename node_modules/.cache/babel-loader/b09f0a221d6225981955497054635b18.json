{"ast":null,"code":"import _regeneratorRuntime from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{withTranslation}from\"react-i18next\";import{Link}from\"react-router-dom\";import{Table,Card,CardBody,Pagination,PaginationItem,PaginationLink,CardFooter,Button,Row,Col}from\"reactstrap\";import{useLocation,useHistory}from'react-router-dom';import{BackendServices,CoreServices,BpmServices}from\"../../../../services\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ResultadosBusqueda=function ResultadosBusqueda(props){var location=useLocation();var _useState=useState(location.data),_useState2=_slicedToArray(_useState,2),dataLocation=_useState2[0],setData=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),JSONCompare=_useState4[0],setJSONCompare=_useState4[1];var _useState5=useState({rotary:true,commercialLoan:true,multipleRotary:false,rotaryNumber:false,overdraft:false,transfer:false,bail:false,trust:false,agroPawn:false,naturalBail:false,legalBail:false,crossedLegalBail:false,crossedNaturalBail:false,promiseLetter:false,privateRecord:false,trustRecord:false,loanGuarantees:false,fiduciaryLine:false,prefinanced:false}),_useState6=_slicedToArray(_useState5,2),DataServer=_useState6[0],setDataServer=_useState6[1];var apiServiceBackend=new BackendServices();React.useEffect(function(){console.log(props);LoadDocLegal();setJSONCompare(props.JSONCompare);},[]);function LoadDocLegal(){apiServiceBackend.consultarDocumentacionLegal(dataLocation.transactionId).then(function(data){data&&setDataServer(data);});}function SenData(_x){return _SenData.apply(this,arguments);}function _SenData(){_SenData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var Datos;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:Datos=_objectSpread({transactId:dataLocation.transactionId},DataServer);Datos[data.name]=data.checked;!DataServer&&apiServiceBackend.nuevoDocumentacionLegal(Datos);DataServer&&apiServiceBackend.actualizarDocumentacionLegal(Datos);setDataServer(Datos);case 5:case\"end\":return _context.stop();}}},_callee);}));return _SenData.apply(this,arguments);}var dataRows=props.results.map(function(data,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:DataServer[JSONCompare[index]],name:JSONCompare[index],onChange:function onChange(e){SenData(e.target);}})}),/*#__PURE__*/_jsx(\"td\",{children:data.comment})]},data.id);});return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{lg:\"12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(Table,{className:\"table mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\"}),/*#__PURE__*/_jsx(\"tbody\",{children:dataRows})]})})})})});};export default withTranslation()(ResultadosBusqueda);","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/11_DocumentacionLegal/PantallaDetalle/ResultadosBusqueda.js"],"names":["React","useEffect","useState","withTranslation","Link","Table","Card","CardBody","Pagination","PaginationItem","PaginationLink","CardFooter","Button","Row","Col","useLocation","useHistory","BackendServices","CoreServices","BpmServices","ResultadosBusqueda","props","location","data","dataLocation","setData","JSONCompare","setJSONCompare","rotary","commercialLoan","multipleRotary","rotaryNumber","overdraft","transfer","bail","trust","agroPawn","naturalBail","legalBail","crossedLegalBail","crossedNaturalBail","promiseLetter","privateRecord","trustRecord","loanGuarantees","fiduciaryLine","prefinanced","DataServer","setDataServer","apiServiceBackend","console","log","LoadDocLegal","consultarDocumentacionLegal","transactionId","then","SenData","Datos","transactId","name","checked","nuevoDocumentacionLegal","actualizarDocumentacionLegal","dataRows","results","map","index","e","target","comment","id"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport React, { useEffect, useState } from \"react\"\r\nimport { withTranslation } from \"react-i18next\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\nimport {\r\n  Table,\r\n  Card,\r\n  CardBody,\r\n  Pagination,\r\n  PaginationItem,\r\n  PaginationLink,\r\n  CardFooter,\r\n  Button,\r\n  Row,\r\n  Col,\r\n} from \"reactstrap\"\r\nimport { useLocation, useHistory } from 'react-router-dom'\r\nimport { BackendServices, CoreServices, BpmServices, } from \"../../../../services\";\r\n\r\nconst ResultadosBusqueda = (props) => {\r\n\r\n  const location = useLocation()\r\n  const [dataLocation, setData] = useState(location.data);\r\n  const [JSONCompare, setJSONCompare] = useState(null);\r\n\r\n  const [DataServer, setDataServer] = useState({\r\n    rotary: true,\r\n    commercialLoan: true,\r\n    multipleRotary: false,\r\n    rotaryNumber: false,\r\n    overdraft: false,\r\n    transfer: false,\r\n    bail: false,\r\n    trust: false,\r\n    agroPawn: false,\r\n    naturalBail: false,\r\n    legalBail: false,\r\n    crossedLegalBail: false,\r\n    crossedNaturalBail: false,\r\n    promiseLetter: false,\r\n    privateRecord: false,\r\n    trustRecord: false,\r\n    loanGuarantees: false,\r\n    fiduciaryLine: false,\r\n    prefinanced: false,\r\n  });\r\n\r\n\r\n\r\n  const apiServiceBackend = new BackendServices();\r\n\r\n  React.useEffect(() => {\r\n    console.log(props);\r\n    LoadDocLegal();\r\n    setJSONCompare(props.JSONCompare);\r\n  }, []);\r\n\r\n  function LoadDocLegal() {\r\n\r\n    apiServiceBackend.consultarDocumentacionLegal(dataLocation.transactionId).then(data => {\r\n      data && setDataServer(data);\r\n    })\r\n  }\r\n\r\n  async function SenData(data) {\r\n\r\n    let Datos = {\r\n      transactId: dataLocation.transactionId,\r\n      ...DataServer\r\n    };\r\n\r\n    Datos[data.name] = data.checked;\r\n\r\n    !DataServer && apiServiceBackend.nuevoDocumentacionLegal(Datos);\r\n\r\n    DataServer && apiServiceBackend.actualizarDocumentacionLegal(Datos);\r\n\r\n    setDataServer(Datos);\r\n\r\n  }\r\n\r\n  const dataRows = props.results.map((data, index) => (\r\n    <tr key={data.id}>\r\n      <th scope=\"row\"><input type=\"checkbox\" checked={DataServer[JSONCompare[index]]} name={JSONCompare[index]} onChange={(e) => { SenData(e.target) }} /></th>\r\n      <td>{data.comment}</td>\r\n    </tr>)\r\n  );\r\n\r\n  return (\r\n\r\n    <React.Fragment>\r\n      {/* <Row>\r\n        <Col lg=\"12\" style={{ textAlign: \"right\" }}>\r\n          <Button id=\"btnSave\" color=\"success\" type=\"submit\" style={{ margin: '5px' }}>\r\n            {props.t(\"generate\")}\r\n          </Button>\r\n        </Col>\r\n      </Row> */}\r\n      <Row>\r\n        <Col lg=\"12\">\r\n          <div className=\"table-responsive\">\r\n            <Table className=\"table mb-0\">\r\n              <thead className=\"table-light\">\r\n                {/* <tr>\r\n\r\n                  <th colSpan={2}> <h4 className=\"card-title\">{props.t(\"LegalDocumentation\")}</h4>\r\n                  </th>\r\n\r\n\r\n                </tr> */}\r\n              </thead>\r\n              <tbody>\r\n                {dataRows}\r\n              </tbody>\r\n            </Table>\r\n\r\n          </div>\r\n        </Col>\r\n        {/* <Col lg=\"12\">\r\n          <Pagination aria-label=\"Page navigation example\"\r\n            listClassName=\"justify-content-end\">\r\n            <PaginationItem disabled>\r\n              <PaginationLink>\r\n                <i className=\"mdi mdi-chevron-left\" />\r\n              </PaginationLink>\r\n            </PaginationItem>\r\n            <PaginationItem>\r\n              <PaginationLink href=\"#\">1</PaginationLink>\r\n            </PaginationItem>\r\n            <PaginationItem active>\r\n              <PaginationLink>\r\n                2<span className=\"sr-only\">(current)</span>\r\n              </PaginationLink>\r\n            </PaginationItem>\r\n            <PaginationItem>\r\n              <PaginationLink href=\"#\">3</PaginationLink>\r\n            </PaginationItem>\r\n            <PaginationItem>\r\n              <PaginationLink href=\"#\">\r\n                <i className=\"mdi mdi-chevron-right\" />\r\n              </PaginationLink>\r\n            </PaginationItem>\r\n          </Pagination>\r\n        </Col> */}\r\n      </Row>\r\n    </React.Fragment>\r\n\r\n  );\r\n}\r\n\r\nResultadosBusqueda.propTypes = {\r\n  results: PropTypes.array.isRequired, //Resultado de la busqueda\r\n}\r\n\r\nexport default (withTranslation()(ResultadosBusqueda));\r\n"]},"metadata":{},"sourceType":"module"}