{"ast":null,"code":"import _regeneratorRuntime from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{withTranslation}from\"react-i18next\";import{Link}from\"react-router-dom\";import{Table,Card,CardBody,Pagination,PaginationItem,PaginationLink,CardFooter,Button,Row,Col}from\"reactstrap\";import ApiServicesDetalleDocumentacion from'../../../../services/DocumentacionLegal/ApiServicesDetalleDocumentacion';import{BpmServices,BackendServices}from\"../../../../services\";import{useLocation,useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ResultadosBusqueda=function ResultadosBusqueda(props){var apiServiceBackend=new BackendServices();var location=useLocation();/**\r\n   * All useState\r\n   */var _useState=useState(null),_useState2=_slicedToArray(_useState,2),dataRows=_useState2[0],setdataRows=_useState2[1];/**\r\n   * End All useSate\r\n   */var jsonCond=['rotary','commercialLoan','multipleRotary','rotaryNumber','overdraft','transfer','bail','trust','agroPawn','naturalBail','legalBail','crossedLegalBail','crossedNaturalBail','promiseLetter','privateRecord','trustRecord','loanGuarantees','fiduciaryLine','prefinance'];React.useEffect(function(){searchData();},[props.results]);function searchData(){apiServiceBackend.consultarDocumentacionLegal(location.data.transactionId).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var docLegal;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:delete data.status;delete data.transactId;delete data.legalDocumentationId;data=Object.entries(data).filter(function(_ref2){var _ref3=_slicedToArray(_ref2,2),key=_ref3[0],value=_ref3[1];return value;}).map(function(_ref4){var _ref5=_slicedToArray(_ref4,2),key=_ref5[0],value=_ref5[1];return key;});_context.next=6;return props.results.map(function($$,index){if(data.some(function($$){return $$===jsonCond[index];}))return _objectSpread(_objectSpread({},$$),{},{legal:jsonCond[index]});}).filter(Boolean);case 6:docLegal=_context.sent;setdataRows(docLegal.map(function(data){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.comment}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(Button,{color:\"link\",className:\"btn btn-link\",title:props.t(\"View\"),children:[\" \",/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-file-search-outline mdi-24px\"}),\"  \"]})})]},data.id);}));case 8:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());}return/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{lg:\"12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(Table,{className:\"table mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"th\",{colSpan:2,children:[\" \",/*#__PURE__*/_jsx(\"h4\",{className:\"card-title\",children:props.t(\"LegalDocumentation\")})]})})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataRows})]})})}),/*#__PURE__*/_jsx(Col,{lg:\"12\"})]});};export default withTranslation()(ResultadosBusqueda);","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/12_Abogado/PantallaDetalle/ResultadosBusqueda.js"],"names":["React","useEffect","useState","withTranslation","Link","Table","Card","CardBody","Pagination","PaginationItem","PaginationLink","CardFooter","Button","Row","Col","ApiServicesDetalleDocumentacion","BpmServices","BackendServices","useLocation","useHistory","ResultadosBusqueda","props","apiServiceBackend","location","dataRows","setdataRows","jsonCond","searchData","results","consultarDocumentacionLegal","data","transactionId","then","status","transactId","legalDocumentationId","Object","entries","filter","key","value","map","$$","index","some","legal","Boolean","docLegal","comment","t","id"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport React, { useEffect, useState } from \"react\"\r\n\r\nimport { withTranslation } from \"react-i18next\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\nimport {\r\n  Table,\r\n  Card,\r\n  CardBody,\r\n  Pagination,\r\n  PaginationItem,\r\n  PaginationLink,\r\n  CardFooter,\r\n  Button,\r\n  Row,\r\n  Col,\r\n} from \"reactstrap\"\r\nimport ApiServicesDetalleDocumentacion from '../../../../services/DocumentacionLegal/ApiServicesDetalleDocumentacion';\r\nimport { BpmServices, BackendServices } from \"../../../../services\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\n\r\n\r\nconst ResultadosBusqueda = (props) => {\r\n\r\n  const apiServiceBackend = new BackendServices();\r\n  const location = useLocation()\r\n\r\n  /**\r\n   * All useState\r\n   */\r\n  const [dataRows, setdataRows] = useState(null);\r\n\r\n  /**\r\n   * End All useSate\r\n   */\r\n\r\n  const jsonCond = [\r\n    'rotary',\r\n    'commercialLoan',\r\n    'multipleRotary',\r\n    'rotaryNumber',\r\n    'overdraft',\r\n    'transfer',\r\n    'bail',\r\n    'trust',\r\n    'agroPawn',\r\n    'naturalBail',\r\n    'legalBail',\r\n    'crossedLegalBail',\r\n    'crossedNaturalBail',\r\n    'promiseLetter',\r\n    'privateRecord',\r\n    'trustRecord',\r\n    'loanGuarantees',\r\n    'fiduciaryLine',\r\n    'prefinance',\r\n  ]\r\n\r\n  React.useEffect(() => {\r\n    searchData();\r\n  }, [props.results]);\r\n\r\n  function searchData() {\r\n    apiServiceBackend.consultarDocumentacionLegal(location.data.transactionId).then(async data => {\r\n      delete data.status;\r\n      delete data.transactId;\r\n      delete data.legalDocumentationId;\r\n      data = Object.entries(data).filter(([key, value]) => value).map(([key, value]) => key);\r\n      let docLegal = await props.results.map(($$, index) => {\r\n        if (data.some($$ => $$ === jsonCond[index]))\r\n          return { ...$$, legal: jsonCond[index] }\r\n      }).filter(Boolean);\r\n      setdataRows(docLegal.map((data) => (\r\n        <tr key={data.id}>\r\n\r\n          <td>{data.comment}</td>\r\n          <td>\r\n            <Button color=\"link\" className=\"btn btn-link\" title={props.t(\"View\")}> <i className=\"mdi mdi-file-search-outline mdi-24px\"></i>  </Button>\r\n          </td>\r\n\r\n        </tr>)\r\n      ));\r\n    });\r\n  }\r\n\r\n\r\n  return (\r\n\r\n    <Row>\r\n      <Col lg=\"12\">\r\n        <div className=\"table-responsive\">\r\n          <Table className=\"table mb-0\">\r\n            <thead className=\"table-light\">\r\n              <tr>\r\n\r\n                <th colSpan={2}> <h4 className=\"card-title\">{props.t(\"LegalDocumentation\")}</h4>\r\n                </th>\r\n\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {dataRows}\r\n            </tbody>\r\n          </Table>\r\n\r\n        </div>\r\n      </Col>\r\n      <Col lg=\"12\">\r\n\r\n      </Col>\r\n    </Row>\r\n\r\n\r\n  );\r\n}\r\n\r\nResultadosBusqueda.propTypes = {\r\n  results: PropTypes.array.isRequired, //Resultado de la busqueda\r\n}\r\n\r\nexport default (withTranslation()(ResultadosBusqueda));\r\n"]},"metadata":{},"sourceType":"module"}