{"ast":null,"code":"var _jsxFileName = \"D:\\\\_PROJECTS\\\\_SOAINT\\\\JBPM\\\\App\\\\banescocreditoscomerciales\\\\src\\\\pages\\\\Dashboard\\\\modal\\\\GeneralesEmpresaIGRPreview.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { BackendServices } from \"../../../services\";\nimport { Row, Col, Label, Card, CardBody, CardHeader, Table } from \"reactstrap\";\nimport { translationHelpers } from \"../../../helpers\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport * as url from \"../../../helpers/url_helper\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst GeneralesEmpresaIGRPreview = props => {\n  _s();\n\n  var _data$economicGroup, _data$economicGroup2, _data$economicGroup3, _data$economicActivit, _data$economicActivit2, _data$economicActivit3, _data$bank, _data$bank2, _data$bank3, _data$subeconomicActi, _data$subeconomicActi2, _data$subeconomicActi3;\n\n  const MODEL = {\n    transactId: 0,\n    economicGroup: {\n      code: \"\",\n      name: \"\"\n    },\n    economicActivity: {\n      code: \"\",\n      name: \"\"\n    },\n    subeconomicActivity: {\n      code: \"\",\n      name: \"\"\n    },\n    bank: {\n      code: \"\",\n      name: \"\"\n    },\n    status: false,\n    identificationType: null,\n    customerDocumentId: null,\n    customerNumberT24: null,\n    firstName: null,\n    secondName: null,\n    firstLastName: null,\n    secondLastName: null\n  };\n  const [data, setData] = useState(MODEL);\n  const [datosDeudores, setDatosDeudores] = useState(null);\n  const api = new BackendServices();\n  const [t] = translationHelpers('translation');\n  const location = useLocation();\n  const history = useHistory();\n  const [locationData, setLocationData] = useState(null);\n  useEffect(() => {\n    if (location.data !== null && location.data !== undefined) {\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\n        //location.data.transactionId = 0;\n        //checkAndCreateProcedure(location.data);\n        history.push(url.URL_DASHBOARD);\n      } else {\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\n        setLocationData(location.data);\n      }\n    } else {\n      //chequeamos si tenemos guardado en session\n      var result = sessionStorage.getItem('locationData');\n\n      if (result !== undefined && result !== null) {\n        result = JSON.parse(result);\n        setLocationData(result);\n      }\n    }\n\n    initializeData();\n  }, []);\n\n  function initializeData() {\n    console.log(props);\n    api.consultGeneralDataIGR(props.transactId).then(resp => {\n      if (resp !== undefined) {\n        data.transactId = props.transactId;\n        data.economicGroup.code = resp.economicGroup.code;\n        data.economicGroup.name = resp.economicGroup.name;\n        data.economicActivity.code = resp.economicActivity.code;\n        data.economicActivity.name = resp.economicActivity.name;\n        data.subeconomicActivity.code = resp.subeconomicActivity.code;\n        data.subeconomicActivity.name = resp.subeconomicActivity.name;\n        data.bank.code = resp.bank.code;\n        data.bank.name = resp.bank.name;\n        setData(data);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n    api.consultarCatalogoTipoPersonaDescripcion(\"\").then(resp2 => {\n      if (resp2 !== undefined) {\n        // consultarDeudores\n        api.consultarDeudores(props.transactId).then(resp => {\n          if (resp === undefined) return;\n\n          if (resp.length > 0) {\n            setDatosDeudores(resp.map(data => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: resp2.find(x => x.code === Number(data.typePerson)).label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: Number(data.typePerson) === 2 ? data.name : data.name + \" \" + data.name2 + \" \" + data.lastName + \" \" + data.lastName2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: data.idType\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: data.clientDocId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 33\n              }, this)]\n            }, data.personId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 29\n            }, this)));\n          } else {\n            setDatosDeudores( /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"4\",\n                style: {\n                  textAlign: 'center'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 33\n              }, this)\n            }, 1, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this));\n          }\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n      className: \"d-flex justify-content-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"card-title\",\n        children: t(\"General Data\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this), (props === null || props === void 0 ? void 0 : props.previewProposal) && /*#__PURE__*/_jsxDEV(Link, {\n        style: {\n          margin: '5px',\n          border: \"1px\",\n          backgroundColor: \"#1C8464\",\n          color: \"#fff\"\n        },\n        className: \"btn\",\n        color: \"success\",\n        type: \"button\",\n        to: {\n          pathname: '/creditocomercial/previsualizarPropCred/' + btoa(locationData === null || locationData === void 0 ? void 0 : locationData.transactionId)\n        },\n        target: \"_blank\",\n        children: [\" \", \" \", t(\"ConsultCreditProposal\"), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"mdi mdi-eye mdi-12px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 53\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 44\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-responsive styled-table-div\",\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          className: \"table table-striped table-hover styled-table table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: t(\"PersonType\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: t(\"FullName\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: t(\"IdentificationType\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: t(\"IdentificationNumber\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: datosDeudores\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          xl: \"2\",\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            htmlFor: \"clientNumber\",\n            children: t(\"Economic Group\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xl: \"4\",\n          children: /*#__PURE__*/_jsxDEV(Label, {\n            htmlFor: \"clientNumber\",\n            children: ((_data$economicGroup = data.economicGroup) === null || _data$economicGroup === void 0 ? void 0 : _data$economicGroup.name) === \"\" || ((_data$economicGroup2 = data.economicGroup) === null || _data$economicGroup2 === void 0 ? void 0 : _data$economicGroup2.name) == null ? t(\"NoData\") : (_data$economicGroup3 = data.economicGroup) === null || _data$economicGroup3 === void 0 ? void 0 : _data$economicGroup3.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xl: \"2\",\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            htmlFor: \"clientNumber\",\n            children: t(\"Economic Activity\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xl: \"4\",\n          children: /*#__PURE__*/_jsxDEV(Label, {\n            htmlFor: \"clientNumber\",\n            children: ((_data$economicActivit = data.economicActivity) === null || _data$economicActivit === void 0 ? void 0 : _data$economicActivit.name) === \"\" || ((_data$economicActivit2 = data.economicActivity) === null || _data$economicActivit2 === void 0 ? void 0 : _data$economicActivit2.name) == null ? t(\"NoData\") : (_data$economicActivit3 = data.economicActivity) === null || _data$economicActivit3 === void 0 ? void 0 : _data$economicActivit3.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          xl: \"2\",\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            htmlFor: \"clientNumber\",\n            children: t(\"Banking\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xl: \"4\",\n          children: /*#__PURE__*/_jsxDEV(Label, {\n            htmlFor: \"clientNumber\",\n            children: ((_data$bank = data.bank) === null || _data$bank === void 0 ? void 0 : _data$bank.name) === \"\" || ((_data$bank2 = data.bank) === null || _data$bank2 === void 0 ? void 0 : _data$bank2.name) == null ? t(\"NoData\") : (_data$bank3 = data.bank) === null || _data$bank3 === void 0 ? void 0 : _data$bank3.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xl: \"2\",\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            htmlFor: \"clientNumber\",\n            children: [\"Sub\", t(\"Economic Activity\")]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xl: \"4\",\n          children: /*#__PURE__*/_jsxDEV(Label, {\n            htmlFor: \"clientNumber\",\n            children: ((_data$subeconomicActi = data.subeconomicActivity) === null || _data$subeconomicActi === void 0 ? void 0 : _data$subeconomicActi.name) === \"\" || ((_data$subeconomicActi2 = data.subeconomicActivity) === null || _data$subeconomicActi2 === void 0 ? void 0 : _data$subeconomicActi2.name) == null ? t(\"NoData\") : (_data$subeconomicActi3 = data.subeconomicActivity) === null || _data$subeconomicActi3 === void 0 ? void 0 : _data$subeconomicActi3.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 9\n  }, this);\n};\n\n_s(GeneralesEmpresaIGRPreview, \"zcB3uv5DB2umhbCyepMAW6tTq0k=\", false, function () {\n  return [useLocation, useHistory];\n});\n\n_c = GeneralesEmpresaIGRPreview;\nexport default GeneralesEmpresaIGRPreview;\n\nvar _c;\n\n$RefreshReg$(_c, \"GeneralesEmpresaIGRPreview\");","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/Dashboard/modal/GeneralesEmpresaIGRPreview.js"],"names":["React","useEffect","useState","BackendServices","Row","Col","Label","Card","CardBody","CardHeader","Table","translationHelpers","Link","useHistory","useLocation","url","GeneralesEmpresaIGRPreview","props","MODEL","transactId","economicGroup","code","name","economicActivity","subeconomicActivity","bank","status","identificationType","customerDocumentId","customerNumberT24","firstName","secondName","firstLastName","secondLastName","data","setData","datosDeudores","setDatosDeudores","api","t","location","history","locationData","setLocationData","undefined","transactionId","length","push","URL_DASHBOARD","sessionStorage","setItem","JSON","stringify","result","getItem","parse","initializeData","console","log","consultGeneralDataIGR","then","resp","catch","err","consultarCatalogoTipoPersonaDescripcion","resp2","consultarDeudores","map","find","x","Number","typePerson","label","name2","lastName","lastName2","idType","clientDocId","personId","textAlign","previewProposal","margin","border","backgroundColor","color","pathname","btoa"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,eAAT,QAAgC,mBAAhC;AAEA,SACIC,GADJ,EAEIC,GAFJ,EAGIC,KAHJ,EAIIC,IAJJ,EAKIC,QALJ,EAMIC,UANJ,EAOIC,KAPJ,QAQO,YARP;AASA,SAASC,kBAAT,QAAmC,kBAAnC;AACA,SAASC,IAAT,EAAeC,UAAf,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,OAAO,KAAKC,GAAZ,MAAqB,6BAArB;;;AAEA,MAAMC,0BAA0B,GAAIC,KAAD,IAAW;AAAA;;AAAA;;AAE1C,QAAMC,KAAK,GAAG;AACVC,IAAAA,UAAU,EAAE,CADF;AAEVC,IAAAA,aAAa,EAAE;AACXC,MAAAA,IAAI,EAAE,EADK;AAEXC,MAAAA,IAAI,EAAE;AAFK,KAFL;AAMVC,IAAAA,gBAAgB,EAAE;AACdF,MAAAA,IAAI,EAAE,EADQ;AAEdC,MAAAA,IAAI,EAAE;AAFQ,KANR;AAUVE,IAAAA,mBAAmB,EAAE;AACjBH,MAAAA,IAAI,EAAE,EADW;AAEjBC,MAAAA,IAAI,EAAE;AAFW,KAVX;AAcVG,IAAAA,IAAI,EAAE;AACFJ,MAAAA,IAAI,EAAE,EADJ;AAEFC,MAAAA,IAAI,EAAE;AAFJ,KAdI;AAkBVI,IAAAA,MAAM,EAAE,KAlBE;AAmBVC,IAAAA,kBAAkB,EAAE,IAnBV;AAoBVC,IAAAA,kBAAkB,EAAE,IApBV;AAqBVC,IAAAA,iBAAiB,EAAE,IArBT;AAsBVC,IAAAA,SAAS,EAAE,IAtBD;AAuBVC,IAAAA,UAAU,EAAE,IAvBF;AAwBVC,IAAAA,aAAa,EAAE,IAxBL;AAyBVC,IAAAA,cAAc,EAAE;AAzBN,GAAd;AA4BA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBjC,QAAQ,CAACgB,KAAD,CAAhC;AACA,QAAM,CAACkB,aAAD,EAAgBC,gBAAhB,IAAoCnC,QAAQ,CAAC,IAAD,CAAlD;AAEA,QAAMoC,GAAG,GAAG,IAAInC,eAAJ,EAAZ;AACA,QAAM,CAACoC,CAAD,IAAM5B,kBAAkB,CAAC,aAAD,CAA9B;AAEA,QAAM6B,QAAQ,GAAG1B,WAAW,EAA5B;AACA,QAAM2B,OAAO,GAAG5B,UAAU,EAA1B;AAEA,QAAM,CAAC6B,YAAD,EAAeC,eAAf,IAAkCzC,QAAQ,CAAC,IAAD,CAAhD;AAEAD,EAAAA,SAAS,CAAC,MAAM;AAEZ,QAAIuC,QAAQ,CAACN,IAAT,KAAkB,IAAlB,IAA0BM,QAAQ,CAACN,IAAT,KAAkBU,SAAhD,EAA2D;AACvD,UAAIJ,QAAQ,CAACN,IAAT,CAAcW,aAAd,KAAgCD,SAAhC,IAA6CJ,QAAQ,CAACN,IAAT,CAAcW,aAAd,CAA4BC,MAA5B,IAAsC,CAAvF,EAA0F;AACtF;AACA;AACAL,QAAAA,OAAO,CAACM,IAAR,CAAahC,GAAG,CAACiC,aAAjB;AACH,OAJD,MAKK;AACDC,QAAAA,cAAc,CAACC,OAAf,CAAuB,cAAvB,EAAuCC,IAAI,CAACC,SAAL,CAAeZ,QAAQ,CAACN,IAAxB,CAAvC;AACAS,QAAAA,eAAe,CAACH,QAAQ,CAACN,IAAV,CAAf;AACH;AACJ,KAVD,MAWK;AACD;AACA,UAAImB,MAAM,GAAGJ,cAAc,CAACK,OAAf,CAAuB,cAAvB,CAAb;;AACA,UAAID,MAAM,KAAKT,SAAX,IAAwBS,MAAM,KAAK,IAAvC,EAA6C;AACzCA,QAAAA,MAAM,GAAGF,IAAI,CAACI,KAAL,CAAWF,MAAX,CAAT;AACAV,QAAAA,eAAe,CAACU,MAAD,CAAf;AACH;AACJ;;AAGDG,IAAAA,cAAc;AACjB,GAxBQ,EAwBN,EAxBM,CAAT;;AA2BA,WAASA,cAAT,GAA0B;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAYzC,KAAZ;AACAqB,IAAAA,GAAG,CAACqB,qBAAJ,CAA0B1C,KAAK,CAACE,UAAhC,EAA4CyC,IAA5C,CAAiDC,IAAI,IAAI;AACrD,UAAIA,IAAI,KAAKjB,SAAb,EAAwB;AACpBV,QAAAA,IAAI,CAACf,UAAL,GAAkBF,KAAK,CAACE,UAAxB;AACAe,QAAAA,IAAI,CAACd,aAAL,CAAmBC,IAAnB,GAA0BwC,IAAI,CAACzC,aAAL,CAAmBC,IAA7C;AACAa,QAAAA,IAAI,CAACd,aAAL,CAAmBE,IAAnB,GAA0BuC,IAAI,CAACzC,aAAL,CAAmBE,IAA7C;AACAY,QAAAA,IAAI,CAACX,gBAAL,CAAsBF,IAAtB,GAA6BwC,IAAI,CAACtC,gBAAL,CAAsBF,IAAnD;AACAa,QAAAA,IAAI,CAACX,gBAAL,CAAsBD,IAAtB,GAA6BuC,IAAI,CAACtC,gBAAL,CAAsBD,IAAnD;AACAY,QAAAA,IAAI,CAACV,mBAAL,CAAyBH,IAAzB,GAAgCwC,IAAI,CAACrC,mBAAL,CAAyBH,IAAzD;AACAa,QAAAA,IAAI,CAACV,mBAAL,CAAyBF,IAAzB,GAAgCuC,IAAI,CAACrC,mBAAL,CAAyBF,IAAzD;AACAY,QAAAA,IAAI,CAACT,IAAL,CAAUJ,IAAV,GAAiBwC,IAAI,CAACpC,IAAL,CAAUJ,IAA3B;AACAa,QAAAA,IAAI,CAACT,IAAL,CAAUH,IAAV,GAAiBuC,IAAI,CAACpC,IAAL,CAAUH,IAA3B;AACAa,QAAAA,OAAO,CAACD,IAAD,CAAP;AACH;AACJ,KAbD,EAaG4B,KAbH,CAaUC,GAAD,IAAS;AACdN,MAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACH,KAfD;AAiBAzB,IAAAA,GAAG,CAAC0B,uCAAJ,CAA4C,EAA5C,EAAgDJ,IAAhD,CAAqDK,KAAK,IAAI;AAC1D,UAAIA,KAAK,KAAKrB,SAAd,EAAyB;AACrB;AACAN,QAAAA,GAAG,CAAC4B,iBAAJ,CAAsBjD,KAAK,CAACE,UAA5B,EAAwCyC,IAAxC,CAA6CC,IAAI,IAAI;AACjD,cAAIA,IAAI,KAAKjB,SAAb,EAAwB;;AACxB,cAAIiB,IAAI,CAACf,MAAL,GAAc,CAAlB,EAAqB;AACjBT,YAAAA,gBAAgB,CAACwB,IAAI,CAACM,GAAL,CAAUjC,IAAD,iBACtB;AAAA,sCACI;AAAA,0BAAK+B,KAAK,CAACG,IAAN,CAAWC,CAAC,IAAIA,CAAC,CAAChD,IAAF,KAAWiD,MAAM,CAACpC,IAAI,CAACqC,UAAN,CAAjC,EAAoDC;AAAzD;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAA,0BAAKF,MAAM,CAACpC,IAAI,CAACqC,UAAN,CAAN,KAA4B,CAA5B,GAAgCrC,IAAI,CAACZ,IAArC,GAA4CY,IAAI,CAACZ,IAAL,GAAY,GAAZ,GAAkBY,IAAI,CAACuC,KAAvB,GAA+B,GAA/B,GAAqCvC,IAAI,CAACwC,QAA1C,GAAqD,GAArD,GAA2DxC,IAAI,CAACyC;AAAjH;AAAA;AAAA;AAAA;AAAA,sBAFJ,eAGI;AAAA,0BAAKzC,IAAI,CAAC0C;AAAV;AAAA;AAAA;AAAA;AAAA,sBAHJ,eAII;AAAA,0BAAK1C,IAAI,CAAC2C;AAAV;AAAA;AAAA;AAAA;AAAA,sBAJJ;AAAA,eAAS3C,IAAI,CAAC4C,QAAd;AAAA;AAAA;AAAA;AAAA,oBADa,CAAD,CAAhB;AAOH,WARD,MAQO;AACHzC,YAAAA,gBAAgB,eACZ;AAAA,qCACI;AAAI,gBAAA,OAAO,EAAC,GAAZ;AAAgB,gBAAA,KAAK,EAAE;AAAE0C,kBAAAA,SAAS,EAAE;AAAb;AAAvB;AAAA;AAAA;AAAA;AAAA;AADJ,eAAS,CAAT;AAAA;AAAA;AAAA;AAAA,oBADY,CAAhB;AAKH;AAEJ,SAlBD,EAkBGjB,KAlBH,CAkBUC,GAAD,IAAS;AACdN,UAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACH,SApBD;AAqBH;AACJ,KAzBD;AA0BH;;AAED,sBACI,QAAC,IAAD;AAAA,4BACI,QAAC,UAAD;AAAY,MAAA,SAAS,EAAC,gCAAtB;AAAA,8BACI;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA,kBAA4BxB,CAAC,CAAC,cAAD;AAA7B;AAAA;AAAA;AAAA;AAAA,cADJ,EAEK,CAAAtB,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAE+D,eAAP,kBAA0B,QAAC,IAAD;AACvB,QAAA,KAAK,EAAE;AAAEC,UAAAA,MAAM,EAAE,KAAV;AAAiBC,UAAAA,MAAM,EAAE,KAAzB;AAAgCC,UAAAA,eAAe,EAAE,SAAjD;AAA4DC,UAAAA,KAAK,EAAE;AAAnE,SADgB;AAEvB,QAAA,SAAS,EAAC,KAFa;AAGvB,QAAA,KAAK,EAAC,SAHiB;AAIvB,QAAA,IAAI,EAAC,QAJkB;AAKvB,QAAA,EAAE,EAAE;AACAC,UAAAA,QAAQ,EAAE,6CAA6CC,IAAI,CAAC5C,YAAD,aAACA,YAAD,uBAACA,YAAY,CAAEG,aAAf;AAD3D,SALmB;AAQvB,QAAA,MAAM,EAAC,QARgB;AAAA,mBASzB,GATyB,OASnBN,CAAC,CAAC,uBAAD,CATkB,oBASS;AAAG,UAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,gBATT;AAAA;AAAA;AAAA;AAAA;AAAA,cAF/B;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAcI,QAAC,QAAD;AAAA,8BAEI;AAAK,QAAA,SAAS,EAAC,mCAAf;AAAA,+BACI,QAAC,KAAD;AAAO,UAAA,SAAS,EAAC,oDAAjB;AAAA,kCACI;AAAA,mCACI;AAAA,sCACI;AAAA,uCAAI;AAAA,4BAASA,CAAC,CAAC,YAAD;AAAV;AAAA;AAAA;AAAA;AAAA;AAAJ;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAA,uCAAI;AAAA,4BAASA,CAAC,CAAC,UAAD;AAAV;AAAA;AAAA;AAAA;AAAA;AAAJ;AAAA;AAAA;AAAA;AAAA,sBAFJ,eAGI;AAAA,uCAAI;AAAA,4BAASA,CAAC,CAAC,oBAAD;AAAV;AAAA;AAAA;AAAA;AAAA;AAAJ;AAAA;AAAA;AAAA;AAAA,sBAHJ,eAII;AAAA,uCAAI;AAAA,4BAASA,CAAC,CAAC,sBAAD;AAAV;AAAA;AAAA;AAAA;AAAA;AAAJ;AAAA;AAAA;AAAA;AAAA,sBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eASI;AAAA,sBACKH;AADL;AAAA;AAAA;AAAA;AAAA,kBATJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAFJ,eAkBI,QAAC,GAAD;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA,gCACI,QAAC,GAAD;AAAK,UAAA,EAAE,EAAC,GAAR;AAAA,iCACI;AAAQ,YAAA,OAAO,EAAC,cAAhB;AAAA,sBAAgCG,CAAC,CAAC,gBAAD;AAAjC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII,QAAC,GAAD;AAAK,UAAA,EAAE,EAAC,GAAR;AAAA,iCACI,QAAC,KAAD;AAAO,YAAA,OAAO,EAAC,cAAf;AAAA,sBAA+B,wBAAAL,IAAI,CAACd,aAAL,4EAAoBE,IAApB,MAA6B,EAA7B,IAAmC,yBAAAY,IAAI,CAACd,aAAL,8EAAoBE,IAApB,KAA4B,IAA/D,GAAsEiB,CAAC,CAAC,QAAD,CAAvE,2BAAoFL,IAAI,CAACd,aAAzF,yDAAoF,qBAAoBE;AAAvI;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAJJ,eAOI,QAAC,GAAD;AAAK,UAAA,EAAE,EAAC,GAAR;AAAA,iCACI;AAAQ,YAAA,OAAO,EAAC,cAAhB;AAAA,sBAAgCiB,CAAC,CAAC,mBAAD;AAAjC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAPJ,eAUI,QAAC,GAAD;AAAK,UAAA,EAAE,EAAC,GAAR;AAAA,iCACI,QAAC,KAAD;AAAO,YAAA,OAAO,EAAC,cAAf;AAAA,sBAA+B,0BAAAL,IAAI,CAACX,gBAAL,gFAAuBD,IAAvB,MAAgC,EAAhC,IAAsC,2BAAAY,IAAI,CAACX,gBAAL,kFAAuBD,IAAvB,KAA+B,IAArE,GAA4EiB,CAAC,CAAC,QAAD,CAA7E,6BAA0FL,IAAI,CAACX,gBAA/F,2DAA0F,uBAAuBD;AAAhJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAVJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAlBJ,eAgCI,QAAC,GAAD;AAAA,gCACI,QAAC,GAAD;AAAK,UAAA,EAAE,EAAC,GAAR;AAAA,iCACI;AAAQ,YAAA,OAAO,EAAC,cAAhB;AAAA,sBAAgCiB,CAAC,CAAC,SAAD;AAAjC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII,QAAC,GAAD;AAAK,UAAA,EAAE,EAAC,GAAR;AAAA,iCACI,QAAC,KAAD;AAAO,YAAA,OAAO,EAAC,cAAf;AAAA,sBAA+B,eAAAL,IAAI,CAACT,IAAL,0DAAWH,IAAX,MAAoB,EAApB,IAA0B,gBAAAY,IAAI,CAACT,IAAL,4DAAWH,IAAX,KAAmB,IAA7C,GAAoDiB,CAAC,CAAC,QAAD,CAArD,kBAAkEL,IAAI,CAACT,IAAvE,gDAAkE,YAAWH;AAA5G;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAJJ,eAOI,QAAC,GAAD;AAAK,UAAA,EAAE,EAAC,GAAR;AAAA,iCACI;AAAQ,YAAA,OAAO,EAAC,cAAhB;AAAA,8BAAmCiB,CAAC,CAAC,mBAAD,CAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAPJ,eAUI,QAAC,GAAD;AAAK,UAAA,EAAE,EAAC,GAAR;AAAA,iCACI,QAAC,KAAD;AAAO,YAAA,OAAO,EAAC,cAAf;AAAA,sBAA+B,0BAAAL,IAAI,CAACV,mBAAL,gFAA0BF,IAA1B,MAAmC,EAAnC,IAAyC,2BAAAY,IAAI,CAACV,mBAAL,kFAA0BF,IAA1B,KAAkC,IAA3E,GAAkFiB,CAAC,CAAC,QAAD,CAAnF,6BAAgGL,IAAI,CAACV,mBAArG,2DAAgG,uBAA0BF;AAAzJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAVJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAhCJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAdJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAgEH,CAnLD;;GAAMN,0B;UAoCeF,W,EACDD,U;;;KArCdG,0B;AAqLN,eAAeA,0BAAf","sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { BackendServices } from \"../../../services\";\r\n\r\nimport {\r\n    Row,\r\n    Col,\r\n    Label,\r\n    Card,\r\n    CardBody,\r\n    CardHeader,\r\n    Table,\r\n} from \"reactstrap\"\r\nimport { translationHelpers } from \"../../../helpers\";\r\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\r\nimport * as url from \"../../../helpers/url_helper\"\r\n\r\nconst GeneralesEmpresaIGRPreview = (props) => {\r\n\r\n    const MODEL = {\r\n        transactId: 0,\r\n        economicGroup: {\r\n            code: \"\",\r\n            name: \"\"\r\n        },\r\n        economicActivity: {\r\n            code: \"\",\r\n            name: \"\"\r\n        },\r\n        subeconomicActivity: {\r\n            code: \"\",\r\n            name: \"\"\r\n        },\r\n        bank: {\r\n            code: \"\",\r\n            name: \"\"\r\n        },\r\n        status: false,\r\n        identificationType: null,\r\n        customerDocumentId: null,\r\n        customerNumberT24: null,\r\n        firstName: null,\r\n        secondName: null,\r\n        firstLastName: null,\r\n        secondLastName: null\r\n    }\r\n\r\n    const [data, setData] = useState(MODEL)\r\n    const [datosDeudores, setDatosDeudores] = useState(null)\r\n\r\n    const api = new BackendServices();\r\n    const [t] = translationHelpers('translation');\r\n\r\n    const location = useLocation()\r\n    const history = useHistory();\r\n\r\n    const [locationData, setLocationData] = useState(null);\r\n\r\n    useEffect(() => {\r\n\r\n        if (location.data !== null && location.data !== undefined) {\r\n            if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n                //location.data.transactionId = 0;\r\n                //checkAndCreateProcedure(location.data);\r\n                history.push(url.URL_DASHBOARD);\r\n            }\r\n            else {\r\n                sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n                setLocationData(location.data);\r\n            }\r\n        }\r\n        else {\r\n            //chequeamos si tenemos guardado en session\r\n            var result = sessionStorage.getItem('locationData');\r\n            if (result !== undefined && result !== null) {\r\n                result = JSON.parse(result);\r\n                setLocationData(result);\r\n            }\r\n        }\r\n\r\n\r\n        initializeData()\r\n    }, [])\r\n\r\n\r\n    function initializeData() {\r\n        console.log(props);\r\n        api.consultGeneralDataIGR(props.transactId).then(resp => {\r\n            if (resp !== undefined) {\r\n                data.transactId = props.transactId;\r\n                data.economicGroup.code = resp.economicGroup.code;\r\n                data.economicGroup.name = resp.economicGroup.name;\r\n                data.economicActivity.code = resp.economicActivity.code;\r\n                data.economicActivity.name = resp.economicActivity.name;\r\n                data.subeconomicActivity.code = resp.subeconomicActivity.code;\r\n                data.subeconomicActivity.name = resp.subeconomicActivity.name;\r\n                data.bank.code = resp.bank.code;\r\n                data.bank.name = resp.bank.name;\r\n                setData(data);\r\n            }\r\n        }).catch((err) => {\r\n            console.log(err);\r\n        });\r\n\r\n        api.consultarCatalogoTipoPersonaDescripcion(\"\").then(resp2 => {\r\n            if (resp2 !== undefined) {\r\n                // consultarDeudores\r\n                api.consultarDeudores(props.transactId).then(resp => {\r\n                    if (resp === undefined) return;\r\n                    if (resp.length > 0) {\r\n                        setDatosDeudores(resp.map((data) => (\r\n                            <tr key={data.personId}>\r\n                                <td>{resp2.find(x => x.code === Number(data.typePerson)).label}</td>\r\n                                <td>{Number(data.typePerson) === 2 ? data.name : data.name + \" \" + data.name2 + \" \" + data.lastName + \" \" + data.lastName2}</td>\r\n                                <td>{data.idType}</td>\r\n                                <td>{data.clientDocId}</td>\r\n                            </tr>)))\r\n                    } else {\r\n                        setDatosDeudores(\r\n                            <tr key={1}>\r\n                                <td colSpan=\"4\" style={{ textAlign: 'center' }}></td>\r\n                            </tr>);\r\n\r\n                    }\r\n\r\n                }).catch((err) => {\r\n                    console.log(err);\r\n                });\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Card>\r\n            <CardHeader className=\"d-flex justify-content-between\">\r\n                <h5 className=\"card-title\">{t(\"General Data\")}</h5>\r\n                {props?.previewProposal && <Link\r\n                    style={{ margin: '5px', border: \"1px\", backgroundColor: \"#1C8464\", color: \"#fff\" }}\r\n                    className=\"btn\"\r\n                    color=\"success\"\r\n                    type=\"button\"\r\n                    to={{\r\n                        pathname: '/creditocomercial/previsualizarPropCred/' + btoa(locationData?.transactionId),\r\n                    }}\r\n                    target=\"_blank\"\r\n                >{\" \"} {t(\"ConsultCreditProposal\")} <i className=\"mdi mdi-eye mdi-12px\"></i></Link>}\r\n            </CardHeader>\r\n            <CardBody>\r\n\r\n                <div className=\"table-responsive styled-table-div\">\r\n                    <Table className=\"table table-striped table-hover styled-table table\">\r\n                        <thead >\r\n                            <tr>\r\n                                <th><strong>{t(\"PersonType\")}</strong></th>\r\n                                <th><strong>{t(\"FullName\")}</strong></th>\r\n                                <th><strong>{t(\"IdentificationType\")}</strong></th>\r\n                                <th><strong>{t(\"IdentificationNumber\")}</strong></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {datosDeudores}\r\n                        </tbody>\r\n                    </Table>\r\n                </div>\r\n\r\n                <Row className=\"mt-4\">\r\n                    <Col xl=\"2\">\r\n                        <strong htmlFor=\"clientNumber\">{t(\"Economic Group\")}</strong>\r\n                    </Col>\r\n                    <Col xl=\"4\">\r\n                        <Label htmlFor=\"clientNumber\">{data.economicGroup?.name === \"\" || data.economicGroup?.name == null ? t(\"NoData\") : data.economicGroup?.name}</Label>\r\n                    </Col>\r\n                    <Col xl=\"2\">\r\n                        <strong htmlFor=\"clientNumber\">{t(\"Economic Activity\")}</strong>\r\n                    </Col>\r\n                    <Col xl=\"4\">\r\n                        <Label htmlFor=\"clientNumber\">{data.economicActivity?.name === \"\" || data.economicActivity?.name == null ? t(\"NoData\") : data.economicActivity?.name}</Label>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col xl=\"2\">\r\n                        <strong htmlFor=\"clientNumber\">{t(\"Banking\")}</strong>\r\n                    </Col>\r\n                    <Col xl=\"4\">\r\n                        <Label htmlFor=\"clientNumber\">{data.bank?.name === \"\" || data.bank?.name == null ? t(\"NoData\") : data.bank?.name}</Label>\r\n                    </Col>\r\n                    <Col xl=\"2\">\r\n                        <strong htmlFor=\"clientNumber\">Sub{t(\"Economic Activity\")}</strong>\r\n                    </Col>\r\n                    <Col xl=\"4\">\r\n                        <Label htmlFor=\"clientNumber\">{data.subeconomicActivity?.name === \"\" || data.subeconomicActivity?.name == null ? t(\"NoData\") : data.subeconomicActivity?.name}</Label>\r\n                    </Col>\r\n                </Row>\r\n            </CardBody>\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport default GeneralesEmpresaIGRPreview;"]},"metadata":{},"sourceType":"module"}