{"ast":null,"code":"import _regeneratorRuntime from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import{useTranslation}from'react-i18next';import{Card,Row,Col,Form,Container,Button}from\"react-bootstrap\";import Select from'react-select';import{AvForm,AvField}from'availity-reactstrap-validation';import LoadingOverlay from\"react-loading-overlay\";import FormContainerQuoter from'./FormContainerQuoter';import FormQuoterTypeNatural from'./FormQuoterTypeNatural';import FormDataQuoter from'./FormDataQuoter';import FormCommonFields from'./FormCommonFields';import TableResultQuoter from'./TableResultQuoter';import quoterCompuesto from\"./dummy/quoterCompuesto\";import{BackendServices,CoreServices}from\"../../../services\";import Currency from'../../../helpers/currency';import checkNumber from'../../../helpers/checkNumber';import{useFormQuoter}from'./Hooks/useFormQuoter';import{FormData}from'./FormData';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var currencyValidation=new Currency();var services=new BackendServices();var validationsForm=function validationsForm(form){};var FormQuoterScreen=function FormQuoterScreen(props){var dataPrefillClient=props.dataPrefillClient;var initialForm={// // common fields\n// personType: \"Natural\",\n// idType: \"\",\n// idnumber: \"\",\n// // client data\n// firstname: \"\",\n// name: \"\",\n// secondname: \"\",\n// firstlastname: \"\",\n// secondlastname: \"\",\n// birthDate: \"\",\n// nationality: \"\",\n// phoneNumber: \"\",\n// email: \"\",\n// // quoter data\nloanType:\"compuesto\",amountDebt:0,anualRate:0,effectiveRate:0,paymentPeriod:1,definedPayment:\"No\",customerDefinedPayment:0,term:0,feciPercentage:\"No\",feciRate:0,gracePeriodType:\"NA\",gracePeriod:0// banking: \"\",\n// legalExpenses: 0,\n// financialTrust: 0,\n};// hooks\nvar _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;// custom hooks\nvar _useState=useState(initialForm),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),disableSelect=_useState4[0],setDisableSelect=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),disableDefinedFee=_useState6[0],setDisableDefinedFee=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),disableTerm=_useState8[0],setDisableTerm=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),disableSelectSpecialFee=_useState10[0],setDisableSelectSpecialFee=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),disableSelectGracePeriod=_useState12[0],setDisableSelectGracePeriod=_useState12[1];var _useState13=useState(\"Natural\"),_useState14=_slicedToArray(_useState13,2),typePerson=_useState14[0],setTypePerson=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),paymentPlan=_useState16[0],setPaymentPlan=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),loader=_useState18[0],setLoader=_useState18[1];var _useFormQuoter=useFormQuoter(),response=_useFormQuoter.response,loading=_useFormQuoter.loading;// handlers\nvar handleChange=function handleChange(evt,propertyName){var name=(evt===null||evt===void 0?void 0:evt.target)?evt.target.name:propertyName.name;var value=(evt===null||evt===void 0?void 0:evt.target)?evt.target.value:evt.value;if(propertyName===null||propertyName===void 0?void 0:propertyName.name){console.info(\"Here\");handleSelect(propertyName.name,value);}setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},name,value)));};var handleSelect=function handleSelect(propertyName,value){switch(propertyName){case'feciPercentage':var disableFeci=value==\"Si\"?false:true;setDisableSelect(disableFeci);return;case'personType':var type=value==\"Natural\"?\"Natural\":\"Juridica\";setTypePerson(type);return;case'definedPayment':var definedFee=value==\"Si\"?false:true;setDisableDefinedFee(definedFee);setDisableTerm(!definedFee);return;case'specialFee':var disableSpecialFee=value==\"Si\"?false:true;setDisableSelectSpecialFee(disableSpecialFee);return;case'gracePeriodType':var disableGracePeriod=value==\"p\"?false:true;setDisableSelectGracePeriod(disableGracePeriod);return;default:break;}};var hdlOnKeyUpRealNumber=function hdlOnKeyUpRealNumber(e){var input=currencyValidation.getRealValue(e.target.value);e.target.value=currencyValidation.format(input);console.info(\"real number:\",input);};var hdlOnKeyUpPercentageNumber=function hdlOnKeyUpPercentageNumber(e){var input=currencyValidation.getRealPercent(e.target.value);e.target.value=currencyValidation.formatPercent(input);console.info(\"percentage number:\",input);};var handleFormSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.group(\"Handle form submit!\");console.log(\"data submitted\",form);console.groupEnd();setLoader(true);_context.next=6;return services.getQuoterPaymentPlan(form.loanType,form.amountDebt,form.anualRate,form.feciRate,form.term,form.paymentPeriod,form.gracePeriod,form.gracePeriodType,form.customerDefinedPayment).then(function(resp){setLoader(false);console.info(\"response service\",resp);// setPaymentPlan(dataPaymentPlan.payments)\n// setPaymentPlan(dataPaymentPlan.payments)\nsetPaymentPlan(resp.payments);// setForm(initialForm)\n// console.info(\"data payment plan\", dataPaymentPlan.payments)    \n});case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleFormSubmit(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FormData// form={form}\n,{onChange:handleChange,loader:loading}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsxs(Button,{variant:\"danger\",style:{margin:'5px 0px'},type:\"button\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi mdi-cancel mid-12px\"}),\" \",t(\"Cancel\")]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline-secondary\",type:\"button\",style:{margin:'5px',color:\"black\"},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-printer mdi-12px\"}),\" \",t(\"Print\")]}),/*#__PURE__*/_jsxs(Button,{variant:\"success\",type:\"submit\",style:{margin:'5px'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-content-save mdi-12px\"}),\" \",t(\"Save\")]})]})]});};export default FormQuoterScreen;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/20_Cotizador/FormQuoterScreen.js"],"names":["useEffect","useState","useTranslation","Card","Row","Col","Form","Container","Button","Select","AvForm","AvField","LoadingOverlay","FormContainerQuoter","FormQuoterTypeNatural","FormDataQuoter","FormCommonFields","TableResultQuoter","quoterCompuesto","BackendServices","CoreServices","Currency","checkNumber","useFormQuoter","FormData","currencyValidation","services","validationsForm","form","FormQuoterScreen","props","dataPrefillClient","initialForm","loanType","amountDebt","anualRate","effectiveRate","paymentPeriod","definedPayment","customerDefinedPayment","term","feciPercentage","feciRate","gracePeriodType","gracePeriod","t","i18n","setForm","disableSelect","setDisableSelect","disableDefinedFee","setDisableDefinedFee","disableTerm","setDisableTerm","disableSelectSpecialFee","setDisableSelectSpecialFee","disableSelectGracePeriod","setDisableSelectGracePeriod","typePerson","setTypePerson","paymentPlan","setPaymentPlan","loader","setLoader","response","loading","handleChange","evt","propertyName","name","target","value","console","info","handleSelect","disableFeci","type","definedFee","disableSpecialFee","disableGracePeriod","hdlOnKeyUpRealNumber","e","input","getRealValue","format","hdlOnKeyUpPercentageNumber","getRealPercent","formatPercent","handleFormSubmit","group","log","groupEnd","getQuoterPaymentPlan","then","resp","payments","textAlign","margin","color"],"mappings":"y2BAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,cAAT,KAA+B,eAA/B,CACA,OACIC,IADJ,CAEIC,GAFJ,CAGIC,GAHJ,CAIIC,IAJJ,CAKIC,SALJ,CAMIC,MANJ,KAOO,iBAPP,CAQA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,OAASC,MAAT,CAAiBC,OAAjB,KAAgC,gCAAhC,CACA,MAAOC,CAAAA,cAAP,KAA2B,uBAA3B,CAEA,MAAOC,CAAAA,mBAAP,KAAgC,uBAAhC,CACA,MAAOC,CAAAA,qBAAP,KAAkC,yBAAlC,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oBAA7B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,CACA,MAAOC,CAAAA,eAAP,KAA4B,yBAA5B,CACA,OAASC,eAAT,CAA0BC,YAA1B,KAA8C,mBAA9C,CACA,MAAOC,CAAAA,QAAP,KAAqB,2BAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,8BAAxB,CACA,OAASC,aAAT,KAA8B,uBAA9B,CACA,OAASC,QAAT,KAAyB,YAAzB,C,6IAEA,GAAMC,CAAAA,kBAAkB,CAAG,GAAIJ,CAAAA,QAAJ,EAA3B,CACA,GAAMK,CAAAA,QAAQ,CAAG,GAAIP,CAAAA,eAAJ,EAAjB,CAEA,GAAMQ,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,IAAD,CAAU,CAAG,CAArC,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,KAAD,CAAW,CAChC,GAAQC,CAAAA,iBAAR,CAA8BD,KAA9B,CAAQC,iBAAR,CACA,GAAMC,CAAAA,WAAW,CAAG,CAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,QAAQ,CAAE,WAhBM,CAiBhBC,UAAU,CAAE,CAjBI,CAkBhBC,SAAS,CAAE,CAlBK,CAmBhBC,aAAa,CAAE,CAnBC,CAoBhBC,aAAa,CAAE,CApBC,CAqBhBC,cAAc,CAAE,IArBA,CAsBhBC,sBAAsB,CAAE,CAtBR,CAuBhBC,IAAI,CAAE,CAvBU,CAwBhBC,cAAc,CAAE,IAxBA,CAyBhBC,QAAQ,CAAE,CAzBM,CA0BhBC,eAAe,CAAE,IA1BD,CA2BhBC,WAAW,CAAE,CACb;AACA;AACA;AA9BgB,CAApB,CAgCA;AACA,oBAAoB1C,cAAc,EAAlC,CAAQ2C,CAAR,iBAAQA,CAAR,CAAWC,IAAX,iBAAWA,IAAX,CACA;AACA,cAAwB7C,QAAQ,CAAC+B,WAAD,CAAhC,wCAAOJ,IAAP,eAAamB,OAAb,eACA,eAA0C9C,QAAQ,CAAC,IAAD,CAAlD,yCAAO+C,aAAP,eAAsBC,gBAAtB,eACA,eAAkDhD,QAAQ,CAAC,IAAD,CAA1D,yCAAOiD,iBAAP,eAA0BC,oBAA1B,eACA,eAAsClD,QAAQ,CAAC,KAAD,CAA9C,yCAAOmD,WAAP,eAAoBC,cAApB,eACA,eAA8DpD,QAAQ,CAAC,IAAD,CAAtE,0CAAOqD,uBAAP,gBAAgCC,0BAAhC,gBACA,gBAAgEtD,QAAQ,CAAC,IAAD,CAAxE,2CAAOuD,wBAAP,gBAAiCC,2BAAjC,gBACA,gBAAoCxD,QAAQ,CAAC,SAAD,CAA5C,2CAAOyD,UAAP,gBAAmBC,aAAnB,gBACA,gBAAsC1D,QAAQ,CAAC,EAAD,CAA9C,2CAAO2D,WAAP,gBAAoBC,cAApB,gBACA,gBAA4B5D,QAAQ,CAAC,KAAD,CAApC,2CAAO6D,MAAP,gBAAeC,SAAf,gBACA,mBAGIxC,aAAa,EAHjB,CACIyC,QADJ,gBACIA,QADJ,CAEIC,OAFJ,gBAEIA,OAFJ,CAKA;AACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,GAAD,CAAMC,YAAN,CAAuB,CAExC,GAAMC,CAAAA,IAAI,CAAG,CAAAF,GAAG,OAAH,EAAAA,GAAG,SAAH,QAAAA,GAAG,CAAEG,MAAL,EACPH,GAAG,CAACG,MAAJ,CAAWD,IADJ,CAEPD,YAAY,CAACC,IAFnB,CAIA,GAAME,CAAAA,KAAK,CAAG,CAAAJ,GAAG,OAAH,EAAAA,GAAG,SAAH,QAAAA,GAAG,CAAEG,MAAL,EACRH,GAAG,CAACG,MAAJ,CAAWC,KADH,CAERJ,GAAG,CAACI,KAFV,CAIA,GAAIH,YAAJ,SAAIA,YAAJ,iBAAIA,YAAY,CAAEC,IAAlB,CAAwB,CACpBG,OAAO,CAACC,IAAR,CAAa,MAAb,EACAC,YAAY,CAACN,YAAY,CAACC,IAAd,CAAoBE,KAApB,CAAZ,CACH,CAEDxB,OAAO,gCACAnB,IADA,wBAEFyC,IAFE,CAEKE,KAFL,GAAP,CAKH,CApBD,CAsBA,GAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACN,YAAD,CAAeG,KAAf,CAAyB,CAC1C,OAAQH,YAAR,EACI,IAAK,gBAAL,CACI,GAAMO,CAAAA,WAAW,CAAGJ,KAAK,EAAI,IAAT,CACd,KADc,CAEd,IAFN,CAGAtB,gBAAgB,CAAC0B,WAAD,CAAhB,CACA,OACJ,IAAK,YAAL,CACI,GAAMC,CAAAA,IAAI,CAAGL,KAAK,EAAI,SAAT,CACP,SADO,CAEP,UAFN,CAGAZ,aAAa,CAACiB,IAAD,CAAb,CACA,OACJ,IAAK,gBAAL,CACI,GAAMC,CAAAA,UAAU,CAAGN,KAAK,EAAI,IAAT,CACb,KADa,CAEb,IAFN,CAGApB,oBAAoB,CAAC0B,UAAD,CAApB,CACAxB,cAAc,CAAC,CAACwB,UAAF,CAAd,CACA,OACJ,IAAK,YAAL,CACI,GAAMC,CAAAA,iBAAiB,CAAGP,KAAK,EAAI,IAAT,CACpB,KADoB,CAEpB,IAFN,CAGAhB,0BAA0B,CAACuB,iBAAD,CAA1B,CACA,OACJ,IAAK,iBAAL,CACI,GAAMC,CAAAA,kBAAkB,CAAGR,KAAK,EAAI,GAAT,CACrB,KADqB,CAErB,IAFN,CAGAd,2BAA2B,CAACsB,kBAAD,CAA3B,CACA,OACJ,QACI,MAjCR,CAmCH,CApCD,CAsCA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,CAAD,CAAO,CAChC,GAAIC,CAAAA,KAAK,CAAGzD,kBAAkB,CAAC0D,YAAnB,CAAgCF,CAAC,CAACX,MAAF,CAASC,KAAzC,CAAZ,CACAU,CAAC,CAACX,MAAF,CAASC,KAAT,CAAiB9C,kBAAkB,CAAC2D,MAAnB,CAA0BF,KAA1B,CAAjB,CACAV,OAAO,CAACC,IAAR,CAAa,cAAb,CAA6BS,KAA7B,EACH,CAJD,CAMA,GAAMG,CAAAA,0BAA0B,CAAG,QAA7BA,CAAAA,0BAA6B,CAACJ,CAAD,CAAO,CACtC,GAAIC,CAAAA,KAAK,CAAGzD,kBAAkB,CAAC6D,cAAnB,CAAkCL,CAAC,CAACX,MAAF,CAASC,KAA3C,CAAZ,CACAU,CAAC,CAACX,MAAF,CAASC,KAAT,CAAiB9C,kBAAkB,CAAC8D,aAAnB,CAAiCL,KAAjC,CAAjB,CACAV,OAAO,CAACC,IAAR,CAAa,oBAAb,CAAmCS,KAAnC,EACH,CAJD,CAMA,GAAMM,CAAAA,gBAAgB,0FAAG,mIACrBhB,OAAO,CAACiB,KAAR,CAAc,qBAAd,EACAjB,OAAO,CAACkB,GAAR,CAAY,gBAAZ,CAA8B9D,IAA9B,EACA4C,OAAO,CAACmB,QAAR,GAEA5B,SAAS,CAAC,IAAD,CAAT,CALqB,sBAMfrC,CAAAA,QAAQ,CAACkE,oBAAT,CACFhE,IAAI,CAACK,QADH,CAEFL,IAAI,CAACM,UAFH,CAGFN,IAAI,CAACO,SAHH,CAIFP,IAAI,CAACc,QAJH,CAKFd,IAAI,CAACY,IALH,CAMFZ,IAAI,CAACS,aANH,CAOFT,IAAI,CAACgB,WAPH,CAQFhB,IAAI,CAACe,eARH,CASFf,IAAI,CAACW,sBATH,EAWDsD,IAXC,CAWI,SAAAC,IAAI,CAAI,CACV/B,SAAS,CAAC,KAAD,CAAT,CACAS,OAAO,CAACC,IAAR,CAAa,kBAAb,CAAiCqB,IAAjC,EACA;AAAA;AACAjC,cAAc,CAACiC,IAAI,CAACC,QAAN,CAAd,CACA;AACA;AACH,CAlBC,CANe,uDAAH,kBAAhBP,CAAAA,gBAAgB,0CAAtB,CA4BA,mBACI,wCAiDI,KAAC,QACG;AADJ,EAEI,QAAQ,CAAEtB,YAFd,CAGI,MAAM,CAAED,OAHZ,EAjDJ,cAyDI,aAAK,KAAK,CAAE,CAAE+B,SAAS,CAAE,OAAb,CAAZ,wBACI,MAAC,MAAD,EAAQ,OAAO,CAAC,QAAhB,CAAyB,KAAK,CAAE,CAAEC,MAAM,CAAE,SAAV,CAAhC,CAAuD,IAAI,CAAC,QAA5D,wBACI,UAAG,SAAS,CAAC,6BAAb,EADJ,CACoD,GADpD,CACyDpD,CAAC,CAAC,QAAD,CAD1D,GADJ,cAII,MAAC,MAAD,EAAQ,OAAO,CAAC,mBAAhB,CAAoC,IAAI,CAAC,QAAzC,CAAkD,KAAK,CAAE,CAAEoD,MAAM,CAAE,KAAV,CAAiBC,KAAK,CAAE,OAAxB,CAAzD,wBAA4F,UAAG,SAAS,CAAC,0BAAb,EAA5F,CACK,GADL,CACUrD,CAAC,CAAC,OAAD,CADX,GAJJ,cAOI,MAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,IAAI,CAAC,QAA/B,CAAwC,KAAK,CAAE,CAAEoD,MAAM,CAAE,KAAV,CAA/C,wBAAkE,UAAG,SAAS,CAAC,+BAAb,EAAlE,CACK,GADL,CACUpD,CAAC,CAAC,MAAD,CADX,GAPJ,GAzDJ,GADJ,CAwEH,CAhOD,CAkOA,cAAehB,CAAAA,gBAAf","sourcesContent":["import { useEffect, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport {\r\n    Card,\r\n    Row,\r\n    Col,\r\n    Form,\r\n    Container,\r\n    Button\r\n} from \"react-bootstrap\";\r\nimport Select from 'react-select'\r\nimport { AvForm, AvField } from 'availity-reactstrap-validation';\r\nimport LoadingOverlay from \"react-loading-overlay\";\r\n\r\nimport FormContainerQuoter from './FormContainerQuoter'\r\nimport FormQuoterTypeNatural from './FormQuoterTypeNatural';\r\nimport FormDataQuoter from './FormDataQuoter';\r\nimport FormCommonFields from './FormCommonFields';\r\nimport TableResultQuoter from './TableResultQuoter';\r\nimport quoterCompuesto from \"./dummy/quoterCompuesto\";\r\nimport { BackendServices, CoreServices } from \"../../../services\";\r\nimport Currency from '../../../helpers/currency';\r\nimport checkNumber from '../../../helpers/checkNumber'\r\nimport { useFormQuoter } from './Hooks/useFormQuoter';\r\nimport { FormData } from './FormData';\r\n\r\nconst currencyValidation = new Currency()\r\nconst services = new BackendServices()\r\n\r\nconst validationsForm = (form) => { }\r\n\r\nconst FormQuoterScreen = (props) => {\r\n    const { dataPrefillClient } = props\r\n    const initialForm = {\r\n        // // common fields\r\n        // personType: \"Natural\",\r\n        // idType: \"\",\r\n        // idnumber: \"\",\r\n        // // client data\r\n        // firstname: \"\",\r\n        // name: \"\",\r\n        // secondname: \"\",\r\n        // firstlastname: \"\",\r\n        // secondlastname: \"\",\r\n        // birthDate: \"\",\r\n        // nationality: \"\",\r\n        // phoneNumber: \"\",\r\n        // email: \"\",\r\n        // // quoter data\r\n        loanType: \"compuesto\",\r\n        amountDebt: 0,\r\n        anualRate: 0,\r\n        effectiveRate: 0,\r\n        paymentPeriod: 1,\r\n        definedPayment: \"No\",\r\n        customerDefinedPayment: 0,\r\n        term: 0,\r\n        feciPercentage: \"No\",\r\n        feciRate: 0,\r\n        gracePeriodType: \"NA\",\r\n        gracePeriod: 0,\r\n        // banking: \"\",\r\n        // legalExpenses: 0,\r\n        // financialTrust: 0,\r\n    }\r\n    // hooks\r\n    const { t, i18n } = useTranslation();\r\n    // custom hooks\r\n    const [form, setForm] = useState(initialForm)\r\n    const [disableSelect, setDisableSelect] = useState(true)\r\n    const [disableDefinedFee, setDisableDefinedFee] = useState(true)\r\n    const [disableTerm, setDisableTerm] = useState(false)\r\n    const [disableSelectSpecialFee, setDisableSelectSpecialFee] = useState(true)\r\n    const [disableSelectGracePeriod, setDisableSelectGracePeriod] = useState(true)\r\n    const [typePerson, setTypePerson] = useState(\"Natural\")\r\n    const [paymentPlan, setPaymentPlan] = useState([])\r\n    const [loader, setLoader] = useState(false)\r\n    const {\r\n        response,\r\n        loading,\r\n    } = useFormQuoter()\r\n\r\n    // handlers\r\n    const handleChange = (evt, propertyName) => {\r\n\r\n        const name = evt?.target\r\n            ? evt.target.name\r\n            : propertyName.name\r\n\r\n        const value = evt?.target\r\n            ? evt.target.value\r\n            : evt.value\r\n\r\n        if (propertyName?.name) {\r\n            console.info(\"Here\")\r\n            handleSelect(propertyName.name, value)\r\n        }\r\n\r\n        setForm({\r\n            ...form,\r\n            [name]: value\r\n        })\r\n\r\n    }\r\n\r\n    const handleSelect = (propertyName, value) => {\r\n        switch (propertyName) {\r\n            case 'feciPercentage':\r\n                const disableFeci = value == \"Si\"\r\n                    ? false\r\n                    : true\r\n                setDisableSelect(disableFeci)\r\n                return\r\n            case 'personType':\r\n                const type = value == \"Natural\"\r\n                    ? \"Natural\"\r\n                    : \"Juridica\"\r\n                setTypePerson(type)\r\n                return\r\n            case 'definedPayment':\r\n                const definedFee = value == \"Si\"\r\n                    ? false\r\n                    : true\r\n                setDisableDefinedFee(definedFee)\r\n                setDisableTerm(!definedFee)\r\n                return\r\n            case 'specialFee':\r\n                const disableSpecialFee = value == \"Si\"\r\n                    ? false\r\n                    : true\r\n                setDisableSelectSpecialFee(disableSpecialFee)\r\n                return\r\n            case 'gracePeriodType':\r\n                const disableGracePeriod = value == \"p\"\r\n                    ? false\r\n                    : true\r\n                setDisableSelectGracePeriod(disableGracePeriod)\r\n                return\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const hdlOnKeyUpRealNumber = (e) => {\r\n        let input = currencyValidation.getRealValue(e.target.value)\r\n        e.target.value = currencyValidation.format(input)\r\n        console.info(\"real number:\", input)\r\n    }\r\n\r\n    const hdlOnKeyUpPercentageNumber = (e) => {\r\n        let input = currencyValidation.getRealPercent(e.target.value)\r\n        e.target.value = currencyValidation.formatPercent(input)\r\n        console.info(\"percentage number:\", input)\r\n    }\r\n\r\n    const handleFormSubmit = async () => {\r\n        console.group(\"Handle form submit!\")\r\n        console.log(\"data submitted\", form)\r\n        console.groupEnd()\r\n\r\n        setLoader(true)\r\n        await services.getQuoterPaymentPlan(\r\n            form.loanType,\r\n            form.amountDebt,\r\n            form.anualRate,\r\n            form.feciRate,\r\n            form.term,\r\n            form.paymentPeriod,\r\n            form.gracePeriod,\r\n            form.gracePeriodType,\r\n            form.customerDefinedPayment\r\n        )\r\n            .then(resp => {\r\n                setLoader(false)\r\n                console.info(\"response service\", resp)\r\n                // setPaymentPlan(dataPaymentPlan.payments)\r\n                setPaymentPlan(resp.payments)\r\n                // setForm(initialForm)\r\n                // console.info(\"data payment plan\", dataPaymentPlan.payments)    \r\n            })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {/* <FormContainerQuoter>\r\n                <Card>\r\n                    <Card.Body>\r\n                        <Card.Title>\r\n                            {t(\"ClientData\")}\r\n                        </Card.Title>\r\n                        <Row>\r\n                            <FormCommonFields\r\n                                form={form}\r\n                                typePerson={typePerson}\r\n                                dataPrefillClient={dataPrefillClient}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </Row>\r\n                        <Row>\r\n                            <FormDataQuoter\r\n                                onChange={handleChange}\r\n                                hdlOnKeyUpRealNumber={hdlOnKeyUpRealNumber}\r\n                                hdlOnKeyUpPercentageNumber={hdlOnKeyUpPercentageNumber}\r\n                                form={form}\r\n                                disableSelect={disableSelect}\r\n                                disableDefinedFee={disableDefinedFee}\r\n                                disableTerm={disableTerm}\r\n                                disableSelectSpecialFee={disableSelectSpecialFee}\r\n                                disableGracePeriod={disableSelectGracePeriod}\r\n                            />\r\n                        </Row>\r\n                        <Row >\r\n                            <Col className='d-grid mt-5'>\r\n                                <Button\r\n                                    size='lg'\r\n                                    className='float-end'\r\n                                    type='submit'\r\n                                // onClick={handleFormSubmit}\r\n                                >\r\n                                    {t(\"Calculate\")}\r\n                                </Button>\r\n                            </Col>\r\n                        </Row>\r\n                        <LoadingOverlay\r\n                            active={loader}\r\n                            spinner={true}\r\n                            text={t(\"Calculating payment plan\")}\r\n                        >\r\n                        </LoadingOverlay>\r\n                    </Card.Body>\r\n                </Card>\r\n            </FormContainerQuoter> */}\r\n            <FormData\r\n                // form={form}\r\n                onChange={handleChange}\r\n                loader={loading}\r\n            />\r\n            {/* <TableResultQuoter\r\n                paymentPlan={paymentPlan}\r\n            /> */}\r\n            <div style={{ textAlign: \"right\" }}>\r\n                <Button variant=\"danger\" style={{ margin: '5px 0px' }} type=\"button\">\r\n                    <i className=\"mdi mdi mdi-cancel mid-12px\"></i>{\" \"}{t(\"Cancel\")}\r\n                </Button>\r\n                <Button variant=\"outline-secondary\" type=\"button\" style={{ margin: '5px', color: \"black\" }}><i className=\"mdi mdi-printer mdi-12px\"></i>\r\n                    {\" \"}{t(\"Print\")}\r\n                </Button>\r\n                <Button variant=\"success\" type=\"submit\" style={{ margin: '5px' }}><i className=\"mdi mdi-content-save mdi-12px\"></i>\r\n                    {\" \"}{t(\"Save\")}\r\n                </Button>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default FormQuoterScreen"]},"metadata":{},"sourceType":"module"}