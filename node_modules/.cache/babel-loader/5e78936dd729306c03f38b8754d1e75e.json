{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{translationHelpers}from\"../../../helpers\";import{useLocation,useHistory}from'react-router-dom';import*as url from\"../../../helpers/url_helper\";import{withTranslation}from\"react-i18next\";import{Row,Col,Button}from\"reactstrap\";import{Link}from\"react-router-dom\";//Import Breadcrumb\nimport Breadcrumbs from\"../../../components/Common/Breadcrumb\";import{GeneralSection}from\"../../../components/PropuestaCreditoComercial\";import Analisis from\"./riesgoCredito/Analisis\";import FormConclusiones from\"./riesgoCredito/Conclusiones\";import AvForm from\"availity-reactstrap-validation/lib/AvForm\";import{BpmServices}from\"../../../services\";import SweetAlert from\"react-bootstrap-sweetalert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var RiesgoCreditoDetalle=function RiesgoCreditoDetalle(props){var history=useHistory();var location=useLocation();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),successSave_dlg=_useState2[0],setsuccessSave_dlg=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error_dlg=_useState4[0],seterror_dlg=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error_msg=_useState6[0],seterror_msg=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),proposal=_useState8[0],setProposal=_useState8[1];var _translationHelpers=translationHelpers('navigation','commercial_credit','common'),_translationHelpers2=_slicedToArray(_translationHelpers,3),n=_translationHelpers2[0],t=_translationHelpers2[1],c=_translationHelpers2[2];useEffect(function(){fetchProposal();},[]);function fetchProposal(){setProposal({proposal:{id:1010,revisionType:'Bimensual',preapproved:false,minSib:'Provision',relatedPart:false,approvalLevel:'Nivel',flowType:'Normal',applicationDate:'24-sep-2021',lastApplicationDate:'24-sep-2021',nextRevisionDate:'24-sep-2021',expirationDate:'24-sep-2021'},client:{number:'3223213'},economicGroup:{number:'32132006176',name:'Grupo Tova SA',business:'Actividad seleccionada'},risk:{countryClass:'Panamá',classification:'Medio',countryRisk:'Nicaragua'},accountExecutive:{name:'Elibeth'},responsibleUnit:{name:'Unidad'}});}function handleSubmit(event,errors,values){event.preventDefault();if(errors.length>0){return;}console.log('submit',values);}function handleReturn(){/* ---------------------------------------------------------------------------------------------- */ /*                                      Avanzamos el proceso                                      */ /* ---------------------------------------------------------------------------------------------- */var api=new BpmServices();var taskId=\"\";api.completedStatusTask(taskId).then(function(resp){if(resp!==undefined){setsuccessSave_dlg(true);}else{//Mensaje ERROR\nseterror_msg(props.t(\"ErrorSaveMessage\"));seterror_dlg(true);}}).catch(function(err){console.log(err);});}function handleClose(){/* ---------------------------------------------------------------------------------------------- */ /*                    Cerramos el proceso y retornamos a la bandeja de entrada                    */ /* ---------------------------------------------------------------------------------------------- */var api=new BpmServices();// let instanceId = location.data.instanceId\nvar instanceId=0;api.abortProcess(instanceId).then(function(data){if(data!==undefined){history.push(url.URL_DASHBOARD);}else{//Mensaje ERROR\nseterror_msg(props.t(\"TheProcessCouldNotFinish\"));seterror_dlg(true);}});}return/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(Breadcrumbs,{title:n(\"Commercial Credit\"),breadcrumbItem:n(\"Credit Risk\")}),proposal&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xl:\"12\",children:/*#__PURE__*/_jsx(GeneralSection,{proposal:proposal})})}),/*#__PURE__*/_jsxs(AvForm,{className:\"needs-validation\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xl:\"12\",children:/*#__PURE__*/_jsx(Analisis,{})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xl:\"12\",children:/*#__PURE__*/_jsx(FormConclusiones,{})})}),/*#__PURE__*/_jsx(Row,{className:\"my-2\",children:/*#__PURE__*/_jsxs(Col,{xl:\"12 text-end\",children:[/*#__PURE__*/_jsxs(Button,{id:\"btnReturn\",color:\"dark\",type:\"button\",style:{margin:'5px'},onClick:handleClose,children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-arrow-left-bold-circle-outline mid-12px\"}),\" \",\" \",c(\"Close\")]}),/*#__PURE__*/_jsxs(Button,{id:\"btnSave\",color:\"success\",type:\"submit\",style:{margin:'5px'},onClick:handleReturn,children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-content-save mdi-12px\"}),\" \",\" \",c(\"Save\")]})]})})]}),successSave_dlg?/*#__PURE__*/_jsx(SweetAlert,{success:true,title:props.t(\"SuccessDialog\"),onConfirm:function onConfirm(){setsuccessSave_dlg(false);history.push(url.URL_DASHBOARD);},children:props.t(\"SuccessSaveMessage\")}):null,error_dlg?/*#__PURE__*/_jsx(SweetAlert,{error:true,title:props.t(\"ErrorDialog\"),onConfirm:function onConfirm(){seterror_dlg(false);},children:error_msg}):null]})]});};export default withTranslation()(RiesgoCreditoDetalle);","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/17_RiesgoCredito/RiesgoCreditoDetalle.js"],"names":["React","useEffect","useState","translationHelpers","useLocation","useHistory","url","withTranslation","Row","Col","Button","Link","Breadcrumbs","GeneralSection","Analisis","FormConclusiones","AvForm","BpmServices","SweetAlert","RiesgoCreditoDetalle","props","history","location","successSave_dlg","setsuccessSave_dlg","error_dlg","seterror_dlg","error_msg","seterror_msg","proposal","setProposal","n","t","c","fetchProposal","id","revisionType","preapproved","minSib","relatedPart","approvalLevel","flowType","applicationDate","lastApplicationDate","nextRevisionDate","expirationDate","client","number","economicGroup","name","business","risk","countryClass","classification","countryRisk","accountExecutive","responsibleUnit","handleSubmit","event","errors","values","preventDefault","length","console","log","handleReturn","api","taskId","completedStatusTask","then","resp","undefined","catch","err","handleClose","instanceId","abortProcess","data","push","URL_DASHBOARD","margin"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { translationHelpers } from \"../../../helpers\"\r\nimport { useLocation, useHistory } from 'react-router-dom'\r\nimport * as url from \"../../../helpers/url_helper\"\r\nimport { withTranslation } from \"react-i18next\"\r\nimport {\r\n  Row,\r\n  Col,\r\n  Button\r\n} from \"reactstrap\"\r\n\r\nimport { Link } from \"react-router-dom\"\r\n\r\n//Import Breadcrumb\r\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\"\r\nimport { GeneralSection } from \"../../../components/PropuestaCreditoComercial\"\r\nimport Analisis from \"./riesgoCredito/Analisis\"\r\nimport FormConclusiones from \"./riesgoCredito/Conclusiones\"\r\nimport AvForm from \"availity-reactstrap-validation/lib/AvForm\"\r\nimport { BpmServices } from \"../../../services\"\r\nimport SweetAlert from \"react-bootstrap-sweetalert\"\r\n\r\n\r\n\r\nconst RiesgoCreditoDetalle = (props) => {\r\n\r\n  const history = useHistory();\r\n  const location = useLocation()\r\n  const [successSave_dlg, setsuccessSave_dlg] = useState(false);\r\n  const [error_dlg, seterror_dlg] = useState(false);\r\n  const [error_msg, seterror_msg] = useState(\"\");\r\n  const [proposal, setProposal] = useState(null);\r\n\r\n  const [n, t, c] = translationHelpers('navigation', 'commercial_credit', 'common');\r\n\r\n  useEffect(() => {\r\n    fetchProposal();\r\n  }, []);\r\n\r\n  function fetchProposal() {\r\n    setProposal({\r\n      proposal: {\r\n        id: 1010,\r\n        revisionType: 'Bimensual',\r\n        preapproved: false,\r\n        minSib: 'Provision',\r\n        relatedPart: false,\r\n        approvalLevel: 'Nivel',\r\n        flowType: 'Normal',\r\n        applicationDate: '24-sep-2021',\r\n        lastApplicationDate: '24-sep-2021',\r\n        nextRevisionDate: '24-sep-2021',\r\n        expirationDate: '24-sep-2021'\r\n      },\r\n      client: {\r\n        number: '3223213',\r\n      },\r\n      economicGroup: {\r\n        number: '32132006176',\r\n        name: 'Grupo Tova SA',\r\n        business: 'Actividad seleccionada'\r\n      },\r\n      risk: {\r\n        countryClass: 'Panamá',\r\n        classification: 'Medio',\r\n        countryRisk: 'Nicaragua'\r\n      },\r\n      accountExecutive: {\r\n        name: 'Elibeth'\r\n      },\r\n      responsibleUnit: {\r\n        name: 'Unidad'\r\n      }\r\n    });\r\n  }\r\n\r\n  function handleSubmit(event, errors, values) {\r\n    event.preventDefault();\r\n    if (errors.length > 0) {\r\n      return;\r\n    }\r\n    console.log('submit', values);\r\n  }\r\n\r\n  function handleReturn() {\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                                      Avanzamos el proceso                                      */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    const api = new BpmServices();\r\n    let taskId = \"\";\r\n    api.completedStatusTask(taskId).then(resp => {\r\n      if (resp !== undefined) {\r\n        setsuccessSave_dlg(true);\r\n      }\r\n      else {\r\n        //Mensaje ERROR\r\n        seterror_msg(props.t(\"ErrorSaveMessage\"))\r\n        seterror_dlg(true)\r\n      }\r\n    }).catch(err => {\r\n      console.log(err);\r\n    })\r\n  }\r\n\r\n  function handleClose() {\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                    Cerramos el proceso y retornamos a la bandeja de entrada                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    const api = new BpmServices();\r\n    // let instanceId = location.data.instanceId\r\n    let instanceId = 0\r\n    api.abortProcess(instanceId).then((data) => {\r\n      if (data !== undefined) {\r\n        history.push(url.URL_DASHBOARD);\r\n      }\r\n      else {\r\n        //Mensaje ERROR\r\n        seterror_msg(props.t(\"TheProcessCouldNotFinish\"))\r\n        seterror_dlg(true)\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  return (\r\n\r\n    <div className=\"page-content\">\r\n\r\n      <Breadcrumbs title={n(\"Commercial Credit\")} breadcrumbItem={n(\"Credit Risk\")} />\r\n\r\n      {proposal && (\r\n        <>\r\n          <Row>\r\n            <Col xl=\"12\">\r\n              <GeneralSection proposal={proposal} />\r\n            </Col>\r\n          </Row>\r\n\r\n          <AvForm className=\"needs-validation\" onSubmit={handleSubmit}>\r\n\r\n            <Row>\r\n              <Col xl=\"12\">\r\n                <Analisis />\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col xl=\"12\">\r\n                <FormConclusiones />\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row className=\"my-2\">\r\n              <Col xl=\"12 text-end\">\r\n                <Button id=\"btnReturn\" color=\"dark\" type=\"button\" style={{ margin: '5px' }} onClick={handleClose}>\r\n                  <i className=\"mdi mdi-arrow-left-bold-circle-outline mid-12px\"></i>\r\n                  {\" \"} {c(\"Close\")}\r\n                </Button>\r\n                <Button id=\"btnSave\" color=\"success\" type=\"submit\" style={{ margin: '5px' }} onClick={handleReturn}>\r\n                  <i className=\"mdi mdi-content-save mdi-12px\"></i>\r\n                  {\" \"} {c(\"Save\")}\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n\r\n          </AvForm>\r\n          {successSave_dlg ? (\r\n            <SweetAlert\r\n              success\r\n              title={props.t(\"SuccessDialog\")}\r\n              onConfirm={() => {\r\n                setsuccessSave_dlg(false)\r\n\r\n                history.push(url.URL_DASHBOARD);\r\n              }}\r\n            >\r\n              {props.t(\"SuccessSaveMessage\")}\r\n            </SweetAlert>\r\n          ) : null}\r\n\r\n          {error_dlg ? (\r\n            <SweetAlert\r\n              error\r\n              title={props.t(\"ErrorDialog\")}\r\n              onConfirm={() => {\r\n                seterror_dlg(false)\r\n              }}\r\n            >\r\n              {error_msg}\r\n            </SweetAlert>\r\n          ) : null}\r\n        </>\r\n      )}\r\n\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\n\r\nexport default (withTranslation()(RiesgoCreditoDetalle));\r\n"]},"metadata":{},"sourceType":"module"}