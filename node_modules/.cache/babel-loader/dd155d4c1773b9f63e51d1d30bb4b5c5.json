{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{formatCurrency,translationHelpers}from'../../../../helpers';import{Table,Card,CardBody,Col}from\"reactstrap\";import React,{useEffect,useState}from\"react\";import{BackendServices,CoreServices,BpmServices}from\"../../../../services\";import{useTranslation}from'react-i18next';import{useLocation,useHistory}from'react-router-dom';import*as url from\"../../../../helpers/url_helper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ExposicionCorporativaClientes=function ExposicionCorporativaClientes(props){var location=useLocation();var history=useHistory();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),locationData=_useState2[0],setLocationData=_useState2[1];var coreServices=new CoreServices();var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),dataRows=_React$useState2[0],setdataRows=_React$useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),CorporateExposure=_useState4[0],setCorporateExposure=_useState4[1];var _React$useState3=React.useState(props.customerNumberT24),_React$useState4=_slicedToArray(_React$useState3,2),customerNumberT24=_React$useState4[0],setcustomerNumberT24=_React$useState4[1];useEffect(function(){var dataSession;if(location.data!==null&&location.data!==undefined){if(location.data.transactionId===undefined||location.data.transactionId.length<=0){//location.data.transactionId = 0;\n//checkAndCreateProcedure(location.data);\nhistory.push(url.URL_DASHBOARD);}else{sessionStorage.setItem('locationData',JSON.stringify(location.data));setLocationData(location.data);dataSession=location.data;}}else{//chequeamos si tenemos guardado en session\nvar result=sessionStorage.getItem('locationData');if(result!==undefined&&result!==null){result=JSON.parse(result);setLocationData(result);dataSession=result;}}getCoporateExhibitionClient(dataSession);},[]);function getCoporateExhibitionClient(dataSession){// getCorporateExhibitionByClients\nvar backendServices=new BackendServices();backendServices.consultPrincipalDebtor(dataSession.transactionId).then(function(data){if(data!==undefined){coreServices.getCorporateExhibitionByClients(data.customerNumberT24).then(function(resp){if(resp===undefined){return;}setCorporateExposure(resp.length>0?resp:null);setdataRows(resp.map(function(item,index){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",width:\"30%\",children:item.clinteId}),/*#__PURE__*/_jsx(\"th\",{scope:\"row\",className:\"text-end\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"row\",className:\"text-end\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"row\",className:\"text-end\"})]},'row-'+index),item.data.map(function(item2,index2){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"Type\"),scope:\"row\",width:\"30%\"}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"ApprovedRisk\"),scope:\"row\",className:\"text-start\",children:formatCurrency('$',item2.approvalRisk,0)}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"ProposedRisk\"),scope:\"row\",className:\"text-start\",children:formatCurrency('$',item2.variationRisk,0)}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"Variation\"),scope:\"row\",className:\"text-start\",children:formatCurrency('$',item2.proposalRisk,0)})]},'subrow-'+index2);})]});}));});}});}return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:props.title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsx(Col,{md:\"12\",className:\"table-responsive styled-table-div\",children:/*#__PURE__*/_jsxs(Table,{className:\"table table-striped table-hover styled-table table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-right\",children:t(\"type\")}),/*#__PURE__*/_jsx(\"th\",{className:\"table-right\",children:t(\"ApprovedRisk\")}),/*#__PURE__*/_jsx(\"th\",{className:\"table-right\",children:t(\"ProposedRisk\")}),/*#__PURE__*/_jsx(\"th\",{className:\"table-right\",children:t(\"Variation\")})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[dataRows,/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",width:\"30%\",children:t(\"Total\")}),/*#__PURE__*/_jsx(\"th\",{scope:\"row\",className:\"table-right\",children:formatCurrency('$',CorporateExposure===null||CorporateExposure===void 0?void 0:CorporateExposure.reduce(function(acu,crr){var _acu$data$reduce,_acu$data,_crr$data;var data1=(_acu$data$reduce=(_acu$data=acu.data)===null||_acu$data===void 0?void 0:_acu$data.reduce(function(acu2,crr2){var _acu2$approvalRisk;return((_acu2$approvalRisk=acu2.approvalRisk)!==null&&_acu2$approvalRisk!==void 0?_acu2$approvalRisk:acu2)+crr2.approvalRisk;}))!==null&&_acu$data$reduce!==void 0?_acu$data$reduce:acu;var data2=(_crr$data=crr.data)===null||_crr$data===void 0?void 0:_crr$data.reduce(function(acu2,crr2){var _acu2$approvalRisk2;return((_acu2$approvalRisk2=acu2.approvalRisk)!==null&&_acu2$approvalRisk2!==void 0?_acu2$approvalRisk2:acu2)+crr2.approvalRisk;});return data1+data2;}),0)}),/*#__PURE__*/_jsx(\"th\",{scope:\"row\",className:\"table-right\",children:formatCurrency('$',CorporateExposure===null||CorporateExposure===void 0?void 0:CorporateExposure.reduce(function(acu,crr){var _acu$data$reduce2,_acu$data2,_crr$data2;var data1=(_acu$data$reduce2=(_acu$data2=acu.data)===null||_acu$data2===void 0?void 0:_acu$data2.reduce(function(acu2,crr2){var _acu2$variationRisk;return((_acu2$variationRisk=acu2.variationRisk)!==null&&_acu2$variationRisk!==void 0?_acu2$variationRisk:acu2)+crr2.variationRisk;}))!==null&&_acu$data$reduce2!==void 0?_acu$data$reduce2:acu;var data2=(_crr$data2=crr.data)===null||_crr$data2===void 0?void 0:_crr$data2.reduce(function(acu2,crr2){var _acu2$variationRisk2;return((_acu2$variationRisk2=acu2.variationRisk)!==null&&_acu2$variationRisk2!==void 0?_acu2$variationRisk2:acu2)+crr2.variationRisk;});return data1+data2;}),0)}),/*#__PURE__*/_jsx(\"th\",{scope:\"row\",className:\"table-right\",children:formatCurrency('$',CorporateExposure===null||CorporateExposure===void 0?void 0:CorporateExposure.reduce(function(acu,crr){var _acu$data$reduce3,_acu$data3,_crr$data3;var data1=(_acu$data$reduce3=(_acu$data3=acu.data)===null||_acu$data3===void 0?void 0:_acu$data3.reduce(function(acu2,crr2){var _acu2$proposalRisk;return((_acu2$proposalRisk=acu2.proposalRisk)!==null&&_acu2$proposalRisk!==void 0?_acu2$proposalRisk:acu2)+crr2.proposalRisk;}))!==null&&_acu$data$reduce3!==void 0?_acu$data$reduce3:acu;var data2=(_crr$data3=crr.data)===null||_crr$data3===void 0?void 0:_crr$data3.reduce(function(acu2,crr2){var _acu2$proposalRisk2;return((_acu2$proposalRisk2=acu2.proposalRisk)!==null&&_acu2$proposalRisk2!==void 0?_acu2$proposalRisk2:acu2)+crr2.proposalRisk;});return data1+data2;}),0)})]})]})]})})]})})});};export default ExposicionCorporativaClientes;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/5_PropuestaCredito/Secciones/ExposicionCorporativaCliente.js"],"names":["formatCurrency","translationHelpers","Table","Card","CardBody","Col","React","useEffect","useState","BackendServices","CoreServices","BpmServices","useTranslation","useLocation","useHistory","url","ExposicionCorporativaClientes","props","location","history","locationData","setLocationData","coreServices","t","i18n","dataRows","setdataRows","CorporateExposure","setCorporateExposure","customerNumberT24","setcustomerNumberT24","dataSession","data","undefined","transactionId","length","push","URL_DASHBOARD","sessionStorage","setItem","JSON","stringify","result","getItem","parse","getCoporateExhibitionClient","backendServices","consultPrincipalDebtor","then","getCorporateExhibitionByClients","resp","map","item","index","clinteId","item2","index2","approvalRisk","variationRisk","proposalRisk","title","reduce","acu","crr","data1","acu2","crr2","data2"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { formatCurrency, translationHelpers } from '../../../../helpers';\r\nimport {\r\n  Table,\r\n  Card,\r\n  CardBody,\r\n  Col,\r\n} from \"reactstrap\"\r\nimport React, { useEffect, useState } from \"react\"\r\nimport { BackendServices, CoreServices, BpmServices, } from \"../../../../services\";\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useLocation, useHistory } from 'react-router-dom';\r\nimport * as url from \"../../../../helpers/url_helper\"\r\n\r\nconst ExposicionCorporativaClientes = (props) => {\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const [locationData, setLocationData] = useState(null);\r\n  const coreServices = new CoreServices();\r\n  const { t, i18n } = useTranslation();\r\n  const [dataRows, setdataRows] = React.useState(null);\r\n  const [CorporateExposure, setCorporateExposure] = useState(null);\r\n  const [customerNumberT24, setcustomerNumberT24] = React.useState(props.customerNumberT24);\r\n  useEffect(() => {\r\n\r\n    let dataSession;\r\n    if (location.data !== null && location.data !== undefined) {\r\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n        //location.data.transactionId = 0;\r\n        //checkAndCreateProcedure(location.data);\r\n        history.push(url.URL_DASHBOARD);\r\n      }\r\n      else {\r\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n        setLocationData(location.data);\r\n        dataSession = location.data;\r\n      }\r\n    }\r\n    else {\r\n      //chequeamos si tenemos guardado en session\r\n      var result = sessionStorage.getItem('locationData');\r\n      if (result !== undefined && result !== null) {\r\n        result = JSON.parse(result);\r\n        setLocationData(result);\r\n        dataSession = result;\r\n      }\r\n    }\r\n\r\n\r\n    getCoporateExhibitionClient(dataSession);\r\n  }, []);\r\n  function getCoporateExhibitionClient(dataSession) {\r\n    // getCorporateExhibitionByClients\r\n    const backendServices = new BackendServices();\r\n    backendServices.consultPrincipalDebtor(dataSession.transactionId)\r\n      .then((data) => {\r\n        if (data !== undefined) {\r\n          coreServices.getCorporateExhibitionByClients(data.customerNumberT24).then(resp => {\r\n            if (resp === undefined) {\r\n              return;\r\n            }\r\n            setCorporateExposure(resp.length > 0 ? resp : null);\r\n            setdataRows(resp.map((item, index) => (\r\n              <>\r\n                <tr key={'row-' + index}>\r\n                  <th scope=\"row\" width=\"30%\">{item.clinteId}</th>\r\n                  <th scope=\"row\" className=\"text-end\"></th>\r\n                  <th scope=\"row\" className=\"text-end\"></th>\r\n                  <th scope=\"row\" className=\"text-end\"></th>\r\n                </tr>\r\n                {item.data.map((item2, index2) => (\r\n                  <tr key={'subrow-' + index2}>\r\n                    <td data-label={t(\"Type\")} scope=\"row\" width=\"30%\"></td>\r\n                    <td data-label={t(\"ApprovedRisk\")} scope=\"row\" className=\"text-start\">{formatCurrency('$', item2.approvalRisk, 0)}</td>\r\n                    <td data-label={t(\"ProposedRisk\")} scope=\"row\" className=\"text-start\">{formatCurrency('$', item2.variationRisk, 0)}</td>\r\n                    <td data-label={t(\"Variation\")} scope=\"row\" className=\"text-start\">{formatCurrency('$', item2.proposalRisk, 0)}</td>\r\n                  </tr>\r\n                ))}\r\n              </>\r\n            )\r\n            ));\r\n          });\r\n        }\r\n      });\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <Card>\r\n        <CardBody>\r\n          <h5 className=\"card-title\">{props.title}</h5>\r\n          <p className=\"card-title-desc\">\r\n          </p>\r\n          <Col md=\"12\" className=\"table-responsive styled-table-div\">\r\n            <Table className=\"table table-striped table-hover styled-table table\" >\r\n              <thead>\r\n                <tr>\r\n                  <th className=\"table-right\">{t(\"type\")}</th>\r\n                  <th className=\"table-right\">{t(\"ApprovedRisk\")}</th>\r\n                  <th className=\"table-right\">{t(\"ProposedRisk\")}</th>\r\n                  <th className=\"table-right\">{t(\"Variation\")}</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {dataRows}\r\n                <tr>\r\n                  <th scope=\"row\" width=\"30%\">{t(\"Total\")}</th>\r\n                  <th scope=\"row\" className=\"table-right\">{formatCurrency('$', CorporateExposure?.reduce((acu, crr) => {\r\n                    let data1 = (acu.data?.reduce((acu2, crr2) => ((acu2.approvalRisk ?? acu2) + crr2.approvalRisk)) ?? acu);\r\n                    let data2 = crr.data?.reduce((acu2, crr2) => ((acu2.approvalRisk ?? acu2) + crr2.approvalRisk));\r\n                    return (data1 + data2)\r\n                  }), 0)}</th>\r\n                  <th scope=\"row\" className=\"table-right\">{formatCurrency('$', CorporateExposure?.reduce((acu, crr) => {\r\n                    let data1 = (acu.data?.reduce((acu2, crr2) => ((acu2.variationRisk ?? acu2) + crr2.variationRisk)) ?? acu);\r\n                    let data2 = crr.data?.reduce((acu2, crr2) => ((acu2.variationRisk ?? acu2) + crr2.variationRisk));\r\n                    return (data1 + data2)\r\n                  }), 0)}</th>\r\n                  <th scope=\"row\" className=\"table-right\">{formatCurrency('$', CorporateExposure?.reduce((acu, crr) => {\r\n                    let data1 = (acu.data?.reduce((acu2, crr2) => ((acu2.proposalRisk ?? acu2) + crr2.proposalRisk)) ?? acu);\r\n                    let data2 = crr.data?.reduce((acu2, crr2) => ((acu2.proposalRisk ?? acu2) + crr2.proposalRisk));\r\n                    return (data1 + data2)\r\n                  }), 0)}</th>\r\n                </tr>\r\n              </tbody>\r\n            </Table>\r\n          </Col>\r\n        </CardBody>\r\n      </Card>\r\n    </React.Fragment>\r\n  );\r\n};\r\nExposicionCorporativaClientes.propTypes = {\r\n  title: PropTypes.string,\r\n  customerNumberT24: PropTypes.string,\r\n};\r\nexport default ExposicionCorporativaClientes;\r\n"]},"metadata":{},"sourceType":"module"}