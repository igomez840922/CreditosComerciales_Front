{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{translationHelper}from'../../helpers';import{Table,Card,CardBody,Row,Col}from\"reactstrap\";import BackgroundList from'./background/BackgroundList';import FacilityDetails from'./background/FacilityDetails';import AttachmentList from'../Attachments/AttachmentList';import RestructuringDetails from'./background/RestructuringDetails';import Guarantees from'./background/Guarantees';import HeaderSections from'../Common/HeaderSections';import React,{useEffect,useState}from\"react\";import{useLocation,useHistory}from'react-router-dom';import*as url from\"../../helpers/url_helper\";import{AttachmentFileInputModel}from\"../../models/Common/AttachmentFileInputModel\";import*as OPTs from\"../../helpers/options_helper\";import AttachmentFileCore from'../Common/AttachmentFileCore';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Background=function Background(props){var _location$data;var t=translationHelper('financial_report');var history=useHistory();var location=useLocation();var _useState=useState((_location$data=location.data)!==null&&_location$data!==void 0?_location$data:JSON.parse(sessionStorage.getItem('locationData'))),_useState2=_slicedToArray(_useState,2),locationData=_useState2[0],setLocationData=_useState2[1];var dataSession;useEffect(function(){if(location.data!==null&&location.data!==undefined){if(location.data.transactionId===undefined||location.data.transactionId.length<=0){//location.data.transactionId = 0;\n//checkAndCreateProcedure(location.data);\nhistory.push(url.URL_DASHBOARD);}else{sessionStorage.setItem('locationData',JSON.stringify(location.data));dataSession=location.data;setLocationData(location.data);}}else{//chequeamos si tenemos guardado en session\nvar result=sessionStorage.getItem('locationData');if(result!==undefined&&result!==null){result=JSON.parse(result);dataSession=result;setLocationData(result);}}},[]);function handleNewAttachment(attachment){}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Col,{lg:\"12\",children:/*#__PURE__*/_jsx(FacilityDetails,{preview:props.preview,items:props.facilities})})}),/*#__PURE__*/_jsx(Row,{className:\"\",children:/*#__PURE__*/_jsx(Col,{lg:\"12\",children:/*#__PURE__*/_jsx(AttachmentFileCore,{preview:props.preview,attachmentFileInputModel:new AttachmentFileInputModel(locationData.transactionId,OPTs.PROCESS_INFORMEFINANCIERO,OPTs.ACT_INFORMEFINANCIERO_4)})})})]});};Background.defaultProps={items:{},facilities:[],restructuring:{headers:[],data:[]},guarantees:{headers:[],data:[]}};export default Background;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/components/InformeFinanciero/Background.js"],"names":["translationHelper","Table","Card","CardBody","Row","Col","BackgroundList","FacilityDetails","AttachmentList","RestructuringDetails","Guarantees","HeaderSections","React","useEffect","useState","useLocation","useHistory","url","AttachmentFileInputModel","OPTs","AttachmentFileCore","Background","props","t","history","location","data","JSON","parse","sessionStorage","getItem","locationData","setLocationData","dataSession","undefined","transactionId","length","push","URL_DASHBOARD","setItem","stringify","result","handleNewAttachment","attachment","preview","facilities","PROCESS_INFORMEFINANCIERO","ACT_INFORMEFINANCIERO_4","defaultProps","items","restructuring","headers","guarantees"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { translationHelper } from '../../helpers';\r\n\r\nimport {\r\n  Table,\r\n  Card,\r\n  CardBody,\r\n  Row,\r\n  Col,\r\n} from \"reactstrap\"\r\n\r\n\r\nimport BackgroundList from './background/BackgroundList';\r\nimport FacilityDetails from './background/FacilityDetails';\r\nimport AttachmentList from '../Attachments/AttachmentList';\r\nimport RestructuringDetails from './background/RestructuringDetails';\r\nimport Guarantees from './background/Guarantees';\r\nimport HeaderSections from '../Common/HeaderSections';\r\nimport React, { useEffect, useState } from \"react\"\r\nimport { useLocation, useHistory } from 'react-router-dom'\r\nimport * as url from \"../../helpers/url_helper\"\r\nimport { AttachmentFileInputModel } from \"../../models/Common/AttachmentFileInputModel\"\r\nimport * as OPTs from \"../../helpers/options_helper\"\r\nimport AttachmentFileCore from '../Common/AttachmentFileCore';\r\n\r\nconst Background = (props) => {\r\n\r\n  const t = translationHelper('financial_report');\r\n\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  const [locationData, setLocationData] = useState(location.data ?? JSON.parse(sessionStorage.getItem('locationData')));\r\n\r\n\r\n  let dataSession;\r\n  useEffect(() => {\r\n    if (location.data !== null && location.data !== undefined) {\r\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n        //location.data.transactionId = 0;\r\n        //checkAndCreateProcedure(location.data);\r\n        history.push(url.URL_DASHBOARD);\r\n      }\r\n      else {\r\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n        dataSession = location.data\r\n        setLocationData(location.data);\r\n      }\r\n    }\r\n    else {\r\n      //chequeamos si tenemos guardado en session\r\n      var result = sessionStorage.getItem('locationData');\r\n      if (result !== undefined && result !== null) {\r\n        result = JSON.parse(result);\r\n        dataSession = result\r\n        setLocationData(result);\r\n      }\r\n    }\r\n\r\n  }, []);\r\n\r\n\r\n  function handleNewAttachment(attachment) {\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      {/* <HeaderSections title=\"Background.Title\" t={t}></HeaderSections>\r\n      <Row className=\"mb-4\">\r\n        <Col lg=\"12\">\r\n          <BackgroundList items={props.items} />\r\n        </Col>\r\n      </Row> */}\r\n\r\n      <Row className=\"mb-4\">\r\n        <Col lg=\"12\">\r\n          <FacilityDetails preview={props.preview} items={props.facilities} />\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* <Row className=\"mb-4\">\r\n          <Col lg=\"12\">\r\n            <RestructuringDetails headers={ props.restructuring.headers } data={ props.restructuring.data } />\r\n          </Col>\r\n        </Row> */}\r\n      {/* \r\n        <Row className=\"mb-4\">\r\n          <Col lg=\"12\">\r\n            <Guarantees headers={ props.guarantees.headers } data={ props.guarantees.data } />\r\n          </Col>\r\n        </Row> */}\r\n\r\n      <Row className=\"\">\r\n        <Col lg=\"12\">\r\n          {/* <AttachmentList preview={props.preview} editMode={true} attachments={props.attachments} onAttach={handleNewAttachment} /> */}\r\n          <AttachmentFileCore preview={props.preview} attachmentFileInputModel={new AttachmentFileInputModel(locationData.transactionId, OPTs.PROCESS_INFORMEFINANCIERO, OPTs.ACT_INFORMEFINANCIERO_4)} />\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nBackground.propTypes = {\r\n  items: PropTypes.object,\r\n  facilities: PropTypes.array,\r\n  restructuring: PropTypes.object,\r\n  guarantees: PropTypes.object\r\n};\r\n\r\nBackground.defaultProps = {\r\n  items: {},\r\n  facilities: [],\r\n  restructuring: {\r\n    headers: [],\r\n    data: []\r\n  },\r\n  guarantees: {\r\n    headers: [],\r\n    data: []\r\n  }\r\n};\r\n\r\nexport default Background;\r\n"]},"metadata":{},"sourceType":"module"}