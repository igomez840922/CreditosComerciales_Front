{"ast":null,"code":"var _jsxFileName = \"D:\\\\_PROJECTS\\\\_SOAINT\\\\JBPM\\\\App\\\\banescocreditoscomerciales\\\\src\\\\pages\\\\CommercialCredit\\\\16_RiesgoAmbiental\\\\riesgoAmbiental\\\\FormDetalles.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useImperativeHandle, forwardRef, useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { translationHelpers } from '../../../../helpers';\nimport RiesgoAmbientalContext from '../RiesgoAmbientalContext';\nimport { Card, CardBody, Row, Col, Button, Label } from \"reactstrap\";\nimport Switch from \"react-switch\";\nimport { AvForm, AvField, AvGroup, AvInput } from \"availity-reactstrap-validation\";\nimport { BackendServices, CoreServices } from \"../../../../services\";\nimport { useTranslation } from 'react-i18next';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Offsymbol = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      height: \"100%\",\n      fontSize: 12,\n      color: \"#fff\",\n      paddingRight: 2\n    },\n    children: [\" \", \"No\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n};\n\n_c = Offsymbol;\n\nconst OnSymbol = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      height: \"100%\",\n      fontSize: 12,\n      color: \"#fff\",\n      paddingRight: 2\n    },\n    children: [\" \", \"Si\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n\n_c2 = OnSymbol;\nconst FormDetalles = /*#__PURE__*/forwardRef(_c3 = _s((props, ref) => {\n  _s();\n\n  React.useImperativeHandle(ref, () => ({\n    validateForm: () => {\n      const form = document.getElementById('frmDetalleAmbiental');\n      form.requestSubmit();\n    },\n    getFormValidation: () => {\n      return formValid;\n    },\n    dataReturn\n  }));\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  const [displayCovenantDetails, setDisplayCovenantDetails] = useState(true);\n  const [formValid, setFormValid] = useState(false);\n  const [isUpdatingRecord, setUpdatingRecord] = useState(false);\n  const [environmentCovenant, setEnvironemntCovenant] = useState(false);\n  const [detail, setDetail] = useState('');\n  const [compliance, setCompliance] = useState('');\n  const [detected, setDetected] = useState('');\n  const [term, setTerm] = useState('');\n  const [recommendations, setRecommendations] = useState('');\n  const [conclusions, setConclusions] = useState('');\n  const [dataReturn, setdataReturn] = useState('');\n  const [locationData, setLocationData] = useState(props.locationData); //Servicios\n\n  const [backendServices, setbackendServices] = useState(new BackendServices()); //const [bpmServices, setbpmServices] = useState(new BpmServices());\n  //const [coreServices, setcoreServices] = useState(new CoreServices());\n\n  useEffect(() => {\n    // load data        \n    backendServices.getEnvironmentalRiskInfo(locationData.transactionId).then(info => {\n      if (info.transactId) {\n        setUpdatingRecord(true);\n        setEnvironemntCovenant(info.environmentCovenant);\n        setDetail(info.detail);\n        setCompliance(info.compliance);\n        setDetected(info.detected);\n        setTerm(info.term);\n        setRecommendations(info.recommendations);\n        setConclusions(info.conclusions);\n      }\n    }).catch(error => {\n      console.log('error fetch detalles', error);\n    });\n  }, []);\n\n  function handleCovenantChange(event) {\n    setDisplayCovenantDetails(event.target.value === 'Si' ? true : false);\n  }\n\n  function handleSubmit(event, errors, values) {\n    values.environmentCovenant = environmentCovenant;\n    event.preventDefault();\n\n    if (errors.length > 0) {\n      setFormValid(false);\n      return;\n    }\n\n    setdataReturn(values);\n    event.preventDefault();\n    const isValid = errors.length === 0;\n    setFormValid(isValid);\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"card-sub-title\",\n        children: t(\"OtherDetails\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n        children: /*#__PURE__*/_jsxDEV(AvForm, {\n          id: \"frmDetalleAmbiental\",\n          className: \"needs-validation\",\n          onSubmit: handleSubmit,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: /*#__PURE__*/_jsxDEV(CardBody, {\n              children: [/*#__PURE__*/_jsxDEV(Row, {\n                className: \"my-3\",\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  md: \"12\",\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    className: \"form-check-label\",\n                    htmlFor: \"isProjectLocatedProtectedNaturalArea\",\n                    children: [\" \", t(\"Covenants Ambientales\")]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(AvGroup, {\n                    check: true,\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Switch, {\n                      name: \"isProjectLocatedProtectedNaturalArea\",\n                      uncheckedIcon: /*#__PURE__*/_jsxDEV(Offsymbol, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 142,\n                        columnNumber: 34\n                      }, this),\n                      checkedIcon: /*#__PURE__*/_jsxDEV(OnSymbol, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 143,\n                        columnNumber: 32\n                      }, this),\n                      onColor: \"#007943\",\n                      id: \"check1\",\n                      className: \"form-label\",\n                      onChange: () => {\n                        setEnvironemntCovenant(!environmentCovenant);\n                      },\n                      checked: environmentCovenant\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 141,\n                      columnNumber: 17\n                    }, this), '   ']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 15\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 15\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 13\n              }, this), environmentCovenant && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Row, {\n                  className: \"my-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: \"4\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"detail\",\n                        children: t(\"Detalle\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 175,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"detail\",\n                        type: \"text\",\n                        id: \"detail\",\n                        value: detail\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 176,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"4\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"compliance\",\n                        children: t(\"Cumplimiento\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 185,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"compliance\",\n                        type: \"text\",\n                        id: \"compliance\",\n                        value: compliance\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 186,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 184,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"4\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"term\",\n                        children: t(\"Plazo\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 195,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"term\",\n                        type: \"text\",\n                        id: \"term\",\n                        value: term\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 196,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 194,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  className: \"my-3\",\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"12\",\n                    children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"detected\",\n                        children: t(\"Situacion Detectada\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 208,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        className: \"form-control\",\n                        name: \"detected\",\n                        type: \"textarea\",\n                        id: \"detected\",\n                        value: detected,\n                        rows: \"7\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 209,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 207,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true), /*#__PURE__*/_jsxDEV(Row, {\n                className: \"my-3\",\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  md: \"12\",\n                  children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      htmlFor: \"recommendations\",\n                      children: t(\"Recomendaciones\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 224,\n                      columnNumber: 19\n                    }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                      className: \"form-control\",\n                      name: \"recommendations\",\n                      type: \"textarea\",\n                      id: \"recommendations\",\n                      value: recommendations,\n                      rows: \"7\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 225,\n                      columnNumber: 19\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 15\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                className: \"my-3\",\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  md: \"12\",\n                  children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      htmlFor: \"conclusions\",\n                      children: t(\"Conclusiones\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 19\n                    }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                      className: \"form-control\",\n                      name: \"conclusions\",\n                      type: \"textarea\",\n                      id: \"conclusions\",\n                      value: conclusions,\n                      rows: \"7\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 239,\n                      columnNumber: 19\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 15\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n}, \"D4edhm4pucY8mQIpFSnCDOiL2B0=\", false, function () {\n  return [React.useImperativeHandle, useTranslation];\n}));\n_c4 = FormDetalles;\nFormDetalles.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  locationData: PropTypes.any\n};\nexport default FormDetalles;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Offsymbol\");\n$RefreshReg$(_c2, \"OnSymbol\");\n$RefreshReg$(_c3, \"FormDetalles$forwardRef\");\n$RefreshReg$(_c4, \"FormDetalles\");","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/16_RiesgoAmbiental/riesgoAmbiental/FormDetalles.js"],"names":["React","useState","useImperativeHandle","forwardRef","useContext","useEffect","PropTypes","translationHelpers","RiesgoAmbientalContext","Card","CardBody","Row","Col","Button","Label","Switch","AvForm","AvField","AvGroup","AvInput","BackendServices","CoreServices","useTranslation","Offsymbol","display","justifyContent","alignItems","height","fontSize","color","paddingRight","OnSymbol","FormDetalles","props","ref","validateForm","form","document","getElementById","requestSubmit","getFormValidation","formValid","dataReturn","t","i18n","displayCovenantDetails","setDisplayCovenantDetails","setFormValid","isUpdatingRecord","setUpdatingRecord","environmentCovenant","setEnvironemntCovenant","detail","setDetail","compliance","setCompliance","detected","setDetected","term","setTerm","recommendations","setRecommendations","conclusions","setConclusions","setdataReturn","locationData","setLocationData","backendServices","setbackendServices","getEnvironmentalRiskInfo","transactionId","then","info","transactId","catch","error","console","log","handleCovenantChange","event","target","value","handleSubmit","errors","values","preventDefault","length","isValid","propTypes","onSubmit","func","isRequired","any"],"mappings":"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","sourcesContent":["import React, { useState, useImperativeHandle, forwardRef, useContext, useEffect } from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport { translationHelpers } from '../../../../helpers';\r\nimport RiesgoAmbientalContext from '../RiesgoAmbientalContext';\r\n\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Label\r\n} from \"reactstrap\"\r\nimport Switch from \"react-switch\";\r\n\r\nimport { AvForm, AvField, AvGroup, AvInput } from \"availity-reactstrap-validation\"\r\nimport { BackendServices, CoreServices } from \"../../../../services\"\r\nimport { useTranslation } from 'react-i18next'\r\nconst Offsymbol = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: \"100%\",\r\n        fontSize: 12,\r\n        color: \"#fff\",\r\n        paddingRight: 2,\r\n      }}\r\n    >\r\n      {\" \"}\r\n      No\r\n    </div>\r\n  );\r\n};\r\n\r\nconst OnSymbol = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: \"100%\",\r\n        fontSize: 12,\r\n        color: \"#fff\",\r\n        paddingRight: 2,\r\n      }}\r\n    >\r\n      {\" \"}\r\n      Si\r\n    </div>\r\n  );\r\n};\r\nconst FormDetalles = forwardRef((props, ref) => {\r\n\r\n  React.useImperativeHandle(ref, () => ({\r\n    validateForm: () => {\r\n      const form = document.getElementById('frmDetalleAmbiental');\r\n      form.requestSubmit();\r\n    },\r\n    getFormValidation: () => {\r\n      return formValid;\r\n    }, dataReturn\r\n  }))\r\n  const { t, i18n } = useTranslation();\r\n\r\n  const [displayCovenantDetails, setDisplayCovenantDetails] = useState(true);\r\n  const [formValid, setFormValid] = useState(false);\r\n  const [isUpdatingRecord, setUpdatingRecord] = useState(false);\r\n  const [environmentCovenant, setEnvironemntCovenant] = useState(false);\r\n  const [detail, setDetail] = useState('');\r\n  const [compliance, setCompliance] = useState('');\r\n  const [detected, setDetected] = useState('');\r\n  const [term, setTerm] = useState('');\r\n  const [recommendations, setRecommendations] = useState('');\r\n  const [conclusions, setConclusions] = useState('');\r\n  const [dataReturn, setdataReturn] = useState('');\r\n  const [locationData, setLocationData] = useState(props.locationData);\r\n\r\n  //Servicios\r\n  const [backendServices, setbackendServices] = useState(new BackendServices());\r\n  //const [bpmServices, setbpmServices] = useState(new BpmServices());\r\n  //const [coreServices, setcoreServices] = useState(new CoreServices());\r\n\r\n  useEffect(() => {\r\n    // load data        \r\n    backendServices.getEnvironmentalRiskInfo(locationData.transactionId)\r\n      .then((info) => {\r\n\r\n        if (info.transactId) {\r\n          setUpdatingRecord(true);\r\n          setEnvironemntCovenant(info.environmentCovenant);\r\n          setDetail(info.detail);\r\n          setCompliance(info.compliance);\r\n          setDetected(info.detected);\r\n          setTerm(info.term);\r\n          setRecommendations(info.recommendations);\r\n          setConclusions(info.conclusions);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log('error fetch detalles', error);\r\n      })\r\n  }, []);\r\n\r\n  function handleCovenantChange(event) {\r\n    setDisplayCovenantDetails(event.target.value === 'Si'?true:false);\r\n  }\r\n\r\n  function handleSubmit(event, errors, values) {\r\n    values.environmentCovenant=environmentCovenant;\r\n    event.preventDefault();\r\n    if (errors.length > 0) {\r\n      setFormValid(false);\r\n      return;\r\n    }\r\n    setdataReturn(values)\r\n    event.preventDefault();\r\n    const isValid = errors.length === 0;\r\n    setFormValid(isValid);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n\r\n      <Card>\r\n      <h5 className=\"card-sub-title\">{t(\"OtherDetails\")}</h5>\r\n      \r\n        <CardBody>\r\n        <AvForm id=\"frmDetalleAmbiental\" className=\"needs-validation\" onSubmit={handleSubmit}>\r\n        <Card>\r\n          <CardBody>\r\n\r\n            <Row className=\"my-3\">\r\n              <Col md=\"12\">\r\n                <Label className=\"form-check-label\" htmlFor=\"isProjectLocatedProtectedNaturalArea\"> {t(\"Covenants Ambientales\")}</Label>\r\n              <AvGroup check className=\"mb-3\">\r\n                <Switch name=\"isProjectLocatedProtectedNaturalArea\"\r\n                  uncheckedIcon={<Offsymbol />}\r\n                  checkedIcon={<OnSymbol />}\r\n                  onColor=\"#007943\"\r\n                  id=\"check1\"\r\n                  className=\"form-label\"\r\n                  onChange={() => {\r\n                    setEnvironemntCovenant(!environmentCovenant);\r\n                  }}\r\n                  checked={environmentCovenant}\r\n                />\r\n                {'   '}\r\n              </AvGroup>\r\n                {/* <AvGroup>\r\n                  <Label htmlFor=\"environmentCovenant\">{t(\"Covenants Ambientales\")}</Label>\r\n                  <AvField\r\n                    className=\"form-control\"\r\n                    name=\"environmentCovenant\"\r\n                    type=\"select\"\r\n                    id=\"environmentCovenant\"\r\n                    value={environmentCovenant}\r\n                    onChange={handleCovenantChange}>\r\n                    <option value={true}>{t(\"Yes\")}</option>\r\n                    <option value={false}>{t(\"No\")}</option>\r\n                  </AvField>\r\n                </AvGroup> */}\r\n              </Col>\r\n            </Row>\r\n\r\n            {environmentCovenant && (\r\n              <>\r\n                <Row className=\"my-3\">\r\n                  <Col md=\"4\">\r\n                    <AvGroup>\r\n                      <Label htmlFor=\"detail\">{t(\"Detalle\")}</Label>\r\n                      <AvField className=\"form-control\"\r\n                        name=\"detail\"\r\n                        type=\"text\"\r\n                        id=\"detail\"\r\n                        value={detail} />\r\n                    </AvGroup>\r\n                  </Col>\r\n                  <Col md=\"4\">\r\n                    <AvGroup>\r\n                      <Label htmlFor=\"compliance\">{t(\"Cumplimiento\")}</Label>\r\n                      <AvField className=\"form-control\"\r\n                        name=\"compliance\"\r\n                        type=\"text\"\r\n                        id=\"compliance\"\r\n                        value={compliance} />\r\n                    </AvGroup>\r\n                  </Col>\r\n                  <Col md=\"4\">\r\n                    <AvGroup>\r\n                      <Label htmlFor=\"term\">{t(\"Plazo\")}</Label>\r\n                      <AvField className=\"form-control\"\r\n                        name=\"term\"\r\n                        type=\"text\"\r\n                        id=\"term\"\r\n                        value={term} />\r\n                    </AvGroup>\r\n                  </Col>\r\n                </Row>\r\n\r\n                <Row className=\"my-3\">\r\n                  <Col md=\"12\">\r\n                    <AvGroup>\r\n                      <Label htmlFor=\"detected\">{t(\"Situacion Detectada\")}</Label>\r\n                      <AvField className=\"form-control\"\r\n                        name=\"detected\"\r\n                        type=\"textarea\"\r\n                        id=\"detected\"\r\n                        value={detected}\r\n                        rows=\"7\" />\r\n                    </AvGroup>\r\n                  </Col>\r\n                </Row>\r\n              </>\r\n            )}\r\n\r\n            <Row className=\"my-3\">\r\n              <Col md=\"12\">\r\n                <AvGroup>\r\n                  <Label htmlFor=\"recommendations\">{t(\"Recomendaciones\")}</Label>\r\n                  <AvField className=\"form-control\"\r\n                    name=\"recommendations\"\r\n                    type=\"textarea\"\r\n                    id=\"recommendations\"\r\n                    value={recommendations}\r\n                    rows=\"7\" />\r\n                </AvGroup>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row className=\"my-3\">\r\n              <Col md=\"12\">\r\n                <AvGroup>\r\n                  <Label htmlFor=\"conclusions\">{t(\"Conclusiones\")}</Label>\r\n                  <AvField className=\"form-control\"\r\n                    name=\"conclusions\"\r\n                    type=\"textarea\"\r\n                    id=\"conclusions\"\r\n                    value={conclusions}\r\n                    rows=\"7\" />\r\n                </AvGroup>\r\n              </Col>\r\n            </Row>\r\n\r\n          </CardBody>\r\n\r\n        </Card>\r\n      </AvForm>\r\n\r\n        </CardBody>\r\n      </Card>\r\n\r\n     \r\n    </React.Fragment>\r\n  );\r\n});\r\n\r\n\r\nFormDetalles.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n  locationData: PropTypes.any,\r\n};\r\n\r\nexport default FormDetalles;\r\n"]},"metadata":{},"sourceType":"module"}