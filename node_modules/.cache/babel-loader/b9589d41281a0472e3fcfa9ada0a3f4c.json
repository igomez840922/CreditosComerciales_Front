{"ast":null,"code":"import _regeneratorRuntime from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{withTranslation}from\"react-i18next\";import{Row,Col,Button,Label,Input,Modal,Card,CardBody,CardFooter}from\"reactstrap\";import{AvForm,AvField}from\"availity-reactstrap-validation\";import{BackendServices,CoreServices}from\"../../../../services\";import SweetAlert from\"react-bootstrap-sweetalert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ModalAdvanceOptions=function ModalAdvanceOptions(props){var apiServiceBackend=new BackendServices();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),successSave_dlg=_useState2[0],setsuccessSave_dlg=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error_dlg=_useState4[0],seterror_dlg=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error_msg=_useState6[0],seterror_msg=_useState6[1];// Submitimos formulario para busqueda de clientes\nfunction handleSubmit(_x,_x2,_x3){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event,errors,values){var DataG,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(!(errors.length>0)){_context.next=3;break;}return _context.abrupt(\"return\");case 3:DataG=props.DataGeneral;response=true;_context.next=7;return apiServiceBackend.guardarSeccionServiciosFiduciario(DataG).then(function(resp){resp.statusCode!=200&&(response=false);});case 7:DataG.description=DataG.descriptionOtherServiciosFiduciario;DataG.others=DataG.othersOtherServiciosFiduciario;_context.next=11;return apiServiceBackend.guardarSeccionOtrosServiciosFiduciario(DataG).then(function(resp){resp.statusCode!=200&&(response=false);});case 11:response&&setsuccessSave_dlg(true);!response&&seterror_dlg(true);!response&&seterror_msg(props.t(\"TheProcessCouldNotFinish\"));//props.onSubmit(values);\ncase 14:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(Modal,{size:\"xl\",isOpen:props.isOpen,toggle:props.toggle,centered:true,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title mt-0\",children:props.t(\"Continue\")}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:props.toggle,className:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsxs(AvForm,{id:\"frmSearch\",className:\"needs-validation\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"companyHistoryDescription\",children:props.t(\"Description\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"modalAdvanceOptionDescription\",type:\"textarea\",id:\"modalAdvanceOptionDescription\",rows:7,validate:{required:{value:true,errorMessage:props.t(\"Required Field\")}}})]})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsxs(Button,{color:\"negative\",type:\"submit\",style:{margin:\"5px\"},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi mdi-cancel mid-12px\"}),\" \",props.t(\"Rechazar\")]}),/*#__PURE__*/_jsxs(Button,{color:\"success\",type:\"submit\",style:{margin:\"5px\"},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-arrow-right-bold-circle-outline mid-12px\"}),\" \",props.t(\"Guardar\")]}),/*#__PURE__*/_jsxs(Button,{color:\"success\",type:\"submit\",style:{margin:\"5px\"},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-arrow-right-bold-circle-outline mid-12px\"}),\" \",props.t(\"GenerateDocument\")]})]})]}),successSave_dlg?/*#__PURE__*/_jsx(SweetAlert,{success:true,title:props.t(\"SuccessDialog\"),confirmButtonText:props.t(\"Confirm\"),cancelButtonText:props.t(\"Cancel\"),onConfirm:function onConfirm(){setsuccessSave_dlg(false);props.toggle();},children:props.t(\"SuccessSaveMessage\")}):null,error_dlg?/*#__PURE__*/_jsx(SweetAlert,{error:true,title:props.t(\"ErrorDialog\"),confirmButtonText:props.t(\"Confirm\"),cancelButtonText:props.t(\"Cancel\"),onConfirm:function onConfirm(){seterror_dlg(false);props.toggle();},children:error_msg}):null]});};export default withTranslation()(ModalAdvanceOptions);","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/10_Fideicomiso/Relacionfiduciaria/ModalAdvanceOptions.js"],"names":["React","useState","withTranslation","Row","Col","Button","Label","Input","Modal","Card","CardBody","CardFooter","AvForm","AvField","BackendServices","CoreServices","SweetAlert","ModalAdvanceOptions","props","apiServiceBackend","successSave_dlg","setsuccessSave_dlg","error_dlg","seterror_dlg","error_msg","seterror_msg","handleSubmit","event","errors","values","preventDefault","length","DataG","DataGeneral","response","guardarSeccionServiciosFiduciario","then","resp","statusCode","description","descriptionOtherServiciosFiduciario","others","othersOtherServiciosFiduciario","guardarSeccionOtrosServiciosFiduciario","t","isOpen","toggle","required","value","errorMessage","margin"],"mappings":"0gBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,eAAT,KAAgC,eAAhC,CAGA,OACEC,GADF,CAEEC,GAFF,CAGEC,MAHF,CAIEC,KAJF,CAKEC,KALF,CAMEC,KANF,CAOEC,IAPF,CAQEC,QARF,CASEC,UATF,KAUO,YAVP,CAYA,OAASC,MAAT,CAAiBC,OAAjB,KAAgC,gCAAhC,CACA,OAASC,eAAT,CAA0BC,YAA1B,KAA8C,sBAA9C,CAEA,MAAOC,CAAAA,UAAP,KAAuB,4BAAvB,C,wFAEA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,KAAD,CAAW,CAErC,GAAMC,CAAAA,iBAAiB,CAAG,GAAIL,CAAAA,eAAJ,EAA1B,CAEA,cAA8Cb,QAAQ,CAAC,KAAD,CAAtD,wCAAOmB,eAAP,eAAwBC,kBAAxB,eACA,eAAkCpB,QAAQ,CAAC,KAAD,CAA1C,yCAAOqB,SAAP,eAAkBC,YAAlB,eACA,eAAkCtB,QAAQ,CAAC,EAAD,CAA1C,yCAAOuB,SAAP,eAAkBC,YAAlB,eAGA;AATqC,QAUtBC,CAAAA,YAVsB,wJAUrC,iBAA4BC,KAA5B,CAAmCC,MAAnC,CAA2CC,MAA3C,qIACEF,KAAK,CAACG,cAAN,GADF,KAEMF,MAAM,CAACG,MAAP,CAAgB,CAFtB,kEAMMC,KANN,CAMcd,KAAK,CAACe,WANpB,CAOMC,QAPN,CAOiB,IAPjB,uBAQQf,CAAAA,iBAAiB,CAACgB,iCAAlB,CAAoDH,KAApD,EAA2DI,IAA3D,CAAgE,SAAAC,IAAI,CAAI,CAC5EA,IAAI,CAACC,UAAL,EAAmB,GAAnB,GAA2BJ,QAAQ,CAAG,KAAtC,EACD,CAFK,CARR,QAYEF,KAAK,CAACO,WAAN,CAAoBP,KAAK,CAACQ,mCAA1B,CACAR,KAAK,CAACS,MAAN,CAAeT,KAAK,CAACU,8BAArB,CAbF,uBAeQvB,CAAAA,iBAAiB,CAACwB,sCAAlB,CAAyDX,KAAzD,EAAgEI,IAAhE,CAAqE,SAAAC,IAAI,CAAI,CACjFA,IAAI,CAACC,UAAL,EAAmB,GAAnB,GAA2BJ,QAAQ,CAAG,KAAtC,EACD,CAFK,CAfR,SAmBEA,QAAQ,EAAIb,kBAAkB,CAAC,IAAD,CAA9B,CACA,CAACa,QAAD,EAAaX,YAAY,CAAC,IAAD,CAAzB,CACA,CAACW,QAAD,EAAaT,YAAY,CAACP,KAAK,CAAC0B,CAAN,CAAQ,0BAAR,CAAD,CAAzB,CAEA;AAvBF,uDAVqC,+CAoCrC,mBACE,MAAC,KAAD,EACE,IAAI,CAAC,IADP,CAEE,MAAM,CAAE1B,KAAK,CAAC2B,MAFhB,CAGE,MAAM,CAAE3B,KAAK,CAAC4B,MAHhB,CAIE,QAAQ,CAAE,IAJZ,wBAME,aAAK,SAAS,CAAC,cAAf,wBACE,WAAI,SAAS,CAAC,kBAAd,UAAkC5B,KAAK,CAAC0B,CAAN,CAAQ,UAAR,CAAlC,EADF,cAEE,eACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAE1B,KAAK,CAAC4B,MAFjB,CAGE,SAAS,CAAC,OAHZ,CAIE,eAAa,OAJf,CAKE,aAAW,OALb,uBAOE,aAAM,cAAY,MAAlB,kBAPF,EAFF,GANF,cAmBE,MAAC,MAAD,EACE,EAAE,CAAC,WADL,CAEE,SAAS,CAAC,kBAFZ,CAGE,QAAQ,CAAEpB,YAHZ,wBAKE,YAAK,SAAS,CAAC,YAAf,uBACE,KAAC,GAAD,wBACE,KAAC,GAAD,EAAK,EAAE,CAAC,IAAR,uBACE,aAAK,SAAS,CAAC,MAAf,wBACE,KAAC,KAAD,EAAO,OAAO,CAAC,2BAAf,UACGR,KAAK,CAAC0B,CAAN,CAAQ,aAAR,CADH,EADF,cAIE,KAAC,OAAD,EACE,SAAS,CAAC,cADZ,CAEE,IAAI,CAAC,+BAFP,CAGE,IAAI,CAAC,UAHP,CAIE,EAAE,CAAC,+BAJL,CAKE,IAAI,CAAE,CALR,CAME,QAAQ,CAAE,CACRG,QAAQ,CAAE,CACRC,KAAK,CAAE,IADC,CAERC,YAAY,CAAE/B,KAAK,CAAC0B,CAAN,CAAQ,gBAAR,CAFN,CADF,CANZ,EAJF,GADF,EADF,EADF,EALF,cA6BE,aAAK,SAAS,CAAC,cAAf,wBACE,MAAC,MAAD,EAAQ,KAAK,CAAC,UAAd,CAAyB,IAAI,CAAC,QAA9B,CAAuC,KAAK,CAAE,CAAEM,MAAM,CAAE,KAAV,CAA9C,wBACE,UAAG,SAAS,CAAC,6BAAb,EADF,CACkD,GADlD,CAEGhC,KAAK,CAAC0B,CAAN,CAAQ,UAAR,CAFH,GADF,cAME,MAAC,MAAD,EAAQ,KAAK,CAAC,SAAd,CAAwB,IAAI,CAAC,QAA7B,CAAsC,KAAK,CAAE,CAAEM,MAAM,CAAE,KAAV,CAA7C,wBACE,UAAG,SAAS,CAAC,kDAAb,EADF,CACuE,GADvE,CAEGhC,KAAK,CAAC0B,CAAN,CAAQ,SAAR,CAFH,GANF,cAWE,MAAC,MAAD,EAAQ,KAAK,CAAC,SAAd,CAAwB,IAAI,CAAC,QAA7B,CAAsC,KAAK,CAAE,CAAEM,MAAM,CAAE,KAAV,CAA7C,wBACE,UAAG,SAAS,CAAC,kDAAb,EADF,CACuE,GADvE,CAEGhC,KAAK,CAAC0B,CAAN,CAAQ,kBAAR,CAFH,GAXF,GA7BF,GAnBF,CAiEGxB,eAAe,cACd,KAAC,UAAD,EACE,OAAO,KADT,CAEE,KAAK,CAAEF,KAAK,CAAC0B,CAAN,CAAQ,eAAR,CAFT,CAGE,iBAAiB,CAAG1B,KAAK,CAAC0B,CAAN,CAAQ,SAAR,CAHtB,CAIE,gBAAgB,CAAG1B,KAAK,CAAC0B,CAAN,CAAQ,QAAR,CAJrB,CAKE,SAAS,CAAE,oBAAM,CACfvB,kBAAkB,CAAC,KAAD,CAAlB,CACAH,KAAK,CAAC4B,MAAN,GAED,CATH,UAWG5B,KAAK,CAAC0B,CAAN,CAAQ,oBAAR,CAXH,EADc,CAcZ,IA/EN,CAiFGtB,SAAS,cACR,KAAC,UAAD,EACE,KAAK,KADP,CAEE,KAAK,CAAEJ,KAAK,CAAC0B,CAAN,CAAQ,aAAR,CAFT,CAGE,iBAAiB,CAAG1B,KAAK,CAAC0B,CAAN,CAAQ,SAAR,CAHtB,CAIE,gBAAgB,CAAG1B,KAAK,CAAC0B,CAAN,CAAQ,QAAR,CAJrB,CAKE,SAAS,CAAE,oBAAM,CACfrB,YAAY,CAAC,KAAD,CAAZ,CACAL,KAAK,CAAC4B,MAAN,GAED,CATH,UAWGtB,SAXH,EADQ,CAcN,IA/FN,GADF,CAmGD,CAvID,CA+IA,cAAetB,CAAAA,eAAe,GAAGe,mBAAH,CAA9B","sourcesContent":["import React, { useState } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport {\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Label,\r\n  Input,\r\n  Modal,\r\n  Card,\r\n  CardBody,\r\n  CardFooter,\r\n} from \"reactstrap\";\r\n\r\nimport { AvForm, AvField } from \"availity-reactstrap-validation\";\r\nimport { BackendServices, CoreServices } from \"../../../../services\";\r\n\r\nimport SweetAlert from \"react-bootstrap-sweetalert\";\r\n\r\nconst ModalAdvanceOptions = (props) => {\r\n\r\n  const apiServiceBackend = new BackendServices();\r\n\r\n  const [successSave_dlg, setsuccessSave_dlg] = useState(false);\r\n  const [error_dlg, seterror_dlg] = useState(false);\r\n  const [error_msg, seterror_msg] = useState(\"\");\r\n\r\n\r\n  // Submitimos formulario para busqueda de clientes\r\n  async function handleSubmit(event, errors, values) {\r\n    event.preventDefault();\r\n    if (errors.length > 0) {\r\n      return;\r\n    }\r\n\r\n    let DataG = props.DataGeneral;\r\n    let response = true;\r\n    await apiServiceBackend.guardarSeccionServiciosFiduciario(DataG).then(resp => {\r\n      resp.statusCode != 200 && (response = false);\r\n    });\r\n\r\n    DataG.description = DataG.descriptionOtherServiciosFiduciario\r\n    DataG.others = DataG.othersOtherServiciosFiduciario\r\n\r\n    await apiServiceBackend.guardarSeccionOtrosServiciosFiduciario(DataG).then(resp => {\r\n      resp.statusCode != 200 && (response = false);\r\n    });\r\n\r\n    response && setsuccessSave_dlg(true);\r\n    !response && seterror_dlg(true);\r\n    !response && seterror_msg(props.t(\"TheProcessCouldNotFinish\"))\r\n\r\n    //props.onSubmit(values);\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      size=\"xl\"\r\n      isOpen={props.isOpen}\r\n      toggle={props.toggle}\r\n      centered={true}\r\n    >\r\n      <div className=\"modal-header\">\r\n        <h5 className=\"modal-title mt-0\">{props.t(\"Continue\")}</h5>\r\n        <button\r\n          type=\"button\"\r\n          onClick={props.toggle}\r\n          className=\"close\"\r\n          data-dismiss=\"modal\"\r\n          aria-label=\"Close\"\r\n        >\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n\r\n      <AvForm\r\n        id=\"frmSearch\"\r\n        className=\"needs-validation\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <div className=\"modal-body\">\r\n          <Row>\r\n            <Col md=\"12\">\r\n              <div className=\"mb-3\">\r\n                <Label htmlFor=\"companyHistoryDescription\">\r\n                  {props.t(\"Description\")}\r\n                </Label>\r\n                <AvField\r\n                  className=\"form-control\"\r\n                  name=\"modalAdvanceOptionDescription\"\r\n                  type=\"textarea\"\r\n                  id=\"modalAdvanceOptionDescription\"\r\n                  rows={7}\r\n                  validate={{\r\n                    required: {\r\n                      value: true,\r\n                      errorMessage: props.t(\"Required Field\"),\r\n                    },\r\n                  }}\r\n                />\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <div className=\"modal-footer\">\r\n          <Button color=\"negative\" type=\"submit\" style={{ margin: \"5px\" }}>\r\n            <i className=\"mdi mdi mdi-cancel mid-12px\"></i>{\" \"}\r\n            {props.t(\"Rechazar\")}\r\n          </Button>\r\n\r\n          <Button color=\"success\" type=\"submit\" style={{ margin: \"5px\" }}>\r\n            <i className=\"mdi mdi-arrow-right-bold-circle-outline mid-12px\"></i>{\" \"}\r\n            {props.t(\"Guardar\")}\r\n          </Button>\r\n\r\n          <Button color=\"success\" type=\"submit\" style={{ margin: \"5px\" }}>\r\n            <i className=\"mdi mdi-arrow-right-bold-circle-outline mid-12px\"></i>{\" \"}\r\n            {props.t(\"GenerateDocument\")}\r\n          </Button>\r\n        </div>\r\n      </AvForm>\r\n      {successSave_dlg ? (\r\n        <SweetAlert\r\n          success\r\n          title={props.t(\"SuccessDialog\")}\r\n          confirmButtonText= {props.t(\"Confirm\")}\r\n          cancelButtonText= {props.t(\"Cancel\")}          \r\n          onConfirm={() => {\r\n            setsuccessSave_dlg(false)\r\n            props.toggle();\r\n\r\n          }}\r\n        >\r\n          {props.t(\"SuccessSaveMessage\")}\r\n        </SweetAlert>\r\n      ) : null}\r\n\r\n      {error_dlg ? (\r\n        <SweetAlert\r\n          error\r\n          title={props.t(\"ErrorDialog\")}\r\n          confirmButtonText= {props.t(\"Confirm\")}\r\n          cancelButtonText= {props.t(\"Cancel\")}          \r\n          onConfirm={() => {\r\n            seterror_dlg(false)\r\n            props.toggle();\r\n\r\n          }}\r\n        >\r\n          {error_msg}\r\n        </SweetAlert>\r\n      ) : null}\r\n    </Modal>\r\n  );\r\n};\r\n\r\nModalAdvanceOptions.propTypes = {\r\n  isOpen: PropTypes.bool,\r\n  toggle: PropTypes.func,\r\n  onSaveProcess: PropTypes.func,\r\n};\r\n\r\nexport default withTranslation()(ModalAdvanceOptions);\r\n"]},"metadata":{},"sourceType":"module"}