{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from\"react\";import Select from\"react-select\";import{Row,Col,Label}from\"reactstrap\";import moment from\"moment\";import{AvForm,AvGroup,AvField,AvFeedback}from\"availity-reactstrap-validation\";import{BackendServices,CoreServices}from\"../../../../services\";import Switch from\"react-switch\";import{useLocation,useHistory}from\"react-router-dom\";import{translationHelpers}from\"../../../../helpers\";import{useTranslation}from\"react-i18next/\";import*as url from\"../../../../helpers/url_helper\";import Currency from\"../../../../helpers/currency\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Offsymbol=function Offsymbol(){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100%\",fontSize:12,color:\"#fff\",paddingRight:2},children:[\" \",\"No\"]});};var OnSymbol=function OnSymbol(){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100%\",fontSize:12,color:\"#fff\",paddingRight:2},children:[\" \",\"Si\"]});};var DatosGeneralesPropuesta=/*#__PURE__*/React.forwardRef(function(props,ref){var currencyData=new Currency();var location=useLocation();var history=useHistory();var _useState=useState(location.data),_useState2=_slicedToArray(_useState,2),locationData=_useState2[0],setLocationData=_useState2[1];var _useState3=useState(location.data),_useState4=_slicedToArray(_useState3,2),context=_useState4[0],setcontext=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),formValid=_useState6[0],setFormValid=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),gruposEconomicos=_useState8[0],setGruposEconomicos=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),actividadEmpresa=_useState10[0],setActividadEmpresa=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),actividadEmpresaSet=_useState12[0],setActividadEmpresaSet=_useState12[1];var _useState13=useState(undefined),_useState14=_slicedToArray(_useState13,2),actividadEmpresaSelect=_useState14[0],setActividadEmpresaSelect=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),paises=_useState16[0],setPais=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),paisesRiesgo=_useState18[0],setPaisRiesgo=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),listaRevisionSet=_useState20[0],setlistaRevisionSet=_useState20[1];var _useState21=useState(null),_useState22=_slicedToArray(_useState21,2),listaRevision=_useState22[0],setlistaRevision=_useState22[1];var _useState23=useState(null),_useState24=_slicedToArray(_useState23,2),datosIGR=_useState24[0],setdatosIGR=_useState24[1];var _useState25=useState(null),_useState26=_slicedToArray(_useState25,2),datosAmbientales=_useState26[0],setdatosAmbientales=_useState26[1];var _useState27=useState(undefined),_useState28=_slicedToArray(_useState27,2),listaRevisionSelect=_useState28[0],setlistaRevisionSelect=_useState28[1];var _useState29=useState(null),_useState30=_slicedToArray(_useState29,2),listaRevisionRequerido=_useState30[0],setlistaRevisionRequerido=_useState30[1];var _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),preapprovalSwitch=_useState32[0],setpreapprovalSwitch=_useState32[1];var _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),relatedPartSwitch=_useState34[0],setrelatedPartSwitch=_useState34[1];var _useState35=useState(''),_useState36=_slicedToArray(_useState35,2),transactId=_useState36[0],setTransactId=_useState36[1];var _useState37=useState(''),_useState38=_slicedToArray(_useState37,2),customerNumber=_useState38[0],setCustomerNumber=_useState38[1];var _useState39=useState(''),_useState40=_slicedToArray(_useState39,2),revisionType=_useState40[0],setRevisionType=_useState40[1];var _useState41=useState(false),_useState42=_slicedToArray(_useState41,2),preapproval=_useState42[0],setPreapproval=_useState42[1];var _useState43=useState(undefined),_useState44=_slicedToArray(_useState43,2),economicGroupSelect=_useState44[0],seteconomicGroupSelect=_useState44[1];var _useState45=useState(null),_useState46=_slicedToArray(_useState45,2),economicGroup=_useState46[0],setEconomicGroup=_useState46[1];var _useState47=useState(null),_useState48=_slicedToArray(_useState47,2),country=_useState48[0],setCountry=_useState48[1];var _useState49=useState(undefined),_useState50=_slicedToArray(_useState49,2),countrySelect=_useState50[0],setCountrySelect=_useState50[1];var _useState51=useState(''),_useState52=_slicedToArray(_useState51,2),activityCompany=_useState52[0],setActivityCompany=_useState52[1];var _useState53=useState(''),_useState54=_slicedToArray(_useState53,2),riskClassification=_useState54[0],setRiskClassification=_useState54[1];var _useState55=useState(''),_useState56=_slicedToArray(_useState55,2),minimumProvisionSIB=_useState56[0],setMinimunProvisionSIB=_useState56[1];var _useState57=useState(false),_useState58=_slicedToArray(_useState57,2),relatedPart=_useState58[0],setRelatedPart=_useState58[1];var _useState59=useState(''),_useState60=_slicedToArray(_useState59,2),accountExecutive=_useState60[0],setAccountExecutive=_useState60[1];var _useState61=useState(''),_useState62=_slicedToArray(_useState61,2),approvalLevel=_useState62[0],setApprovalLevel=_useState62[1];var _useState63=useState(''),_useState64=_slicedToArray(_useState63,2),responsibleUnit=_useState64[0],setResponsibleUnit=_useState64[1];var _useState65=useState(null),_useState66=_slicedToArray(_useState65,2),countryRisk=_useState66[0],setCountryRisk=_useState66[1];var _useState67=useState(null),_useState68=_slicedToArray(_useState67,2),dataReturn=_useState68[0],setdataReturn=_useState68[1];var _useState69=useState(undefined),_useState70=_slicedToArray(_useState69,2),countryRiskSelect=_useState70[0],setCountryRiskSelect=_useState70[1];var _useState71=useState(null),_useState72=_slicedToArray(_useState71,2),datosDeudorPrincipal=_useState72[0],setdatosDeudorPrincipal=_useState72[1];var _useState73=useState(''),_useState74=_slicedToArray(_useState73,2),requestDate=_useState74[0],setRequestDate=_useState74[1];var _useState75=useState(''),_useState76=_slicedToArray(_useState75,2),lastRequestDate=_useState76[0],setLastRequestDate=_useState76[1];var _useState77=useState(''),_useState78=_slicedToArray(_useState77,2),proposedExpirationDate=_useState78[0],setProposedExpirationDate=_useState78[1];var _useState79=useState(''),_useState80=_slicedToArray(_useState79,2),nextRevisionDate=_useState80[0],setNextRevisionDate=_useState80[1];var _useState81=useState(''),_useState82=_slicedToArray(_useState81,2),dataRequest=_useState82[0],setdataRequest=_useState82[1];var _useState83=useState(''),_useState84=_slicedToArray(_useState83,2),flow=_useState84[0],setFlow=_useState84[1];//const [t, c] = translationHelpers('commercial_credit', 'common');    \nvar _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;React.useImperativeHandle(ref,function(){return{validateForm:function validateForm(){var form=document.getElementById('frmDatosGeneralesPropuesta');form.requestSubmit();},getFormValidation:function getFormValidation(){return formValid;},dataReturn:dataReturn};});useEffect(function(){var dataSession;if(location.data!==null&&location.data!==undefined){if(location.data.transactionId===undefined||location.data.transactionId.length<=0){//location.data.transactionId = 0;\n//checkAndCreateProcedure(location.data);\nhistory.push(url.URL_DASHBOARD);}else{sessionStorage.setItem('locationData',JSON.stringify(location.data));setLocationData(location.data);dataSession=location.data;}}else{//chequeamos si tenemos guardado en session\nvar result=sessionStorage.getItem('locationData');if(result!==undefined&&result!==null){result=JSON.parse(result);setLocationData(result);dataSession=result;}}updateDefaults(dataSession);loadListCountry();loadListGroupEconomic();loadActivityEconomic();loadDataRisk();},[]);useEffect(function(){var _ref,_location$data$transa,_location$data;var backendServices=new BackendServices();backendServices.consultGeneralDataPropCred((_ref=(_location$data$transa=location===null||location===void 0?void 0:(_location$data=location.data)===null||_location$data===void 0?void 0:_location$data.transactionId)!==null&&_location$data$transa!==void 0?_location$data$transa:locationData===null||locationData===void 0?void 0:locationData.transactionId)!==null&&_ref!==void 0?_ref:0).then(function(data){if(data!==undefined){setdataRequest(data[0].requestId);}});},[props]);useEffect(function(){var dataSession;if(location.data!==null&&location.data!==undefined){if(location.data.transactionId===undefined||location.data.transactionId.length<=0){//location.data.transactionId = 0;\n//checkAndCreateProcedure(location.data);\nhistory.push(url.URL_DASHBOARD);}else{sessionStorage.setItem('locationData',JSON.stringify(location.data));setLocationData(location.data);dataSession=location.data;}}else{//chequeamos si tenemos guardado en session\nvar result=sessionStorage.getItem('locationData');if(result!==undefined&&result!==null){result=JSON.parse(result);setLocationData(result);dataSession=result;}}if((gruposEconomicos===null||gruposEconomicos===void 0?void 0:gruposEconomicos.length)>0&&(actividadEmpresa===null||actividadEmpresa===void 0?void 0:actividadEmpresa.length)>0)loadDataGeneral(dataSession);},[gruposEconomicos,actividadEmpresa]);useEffect(function(){var dataSession;if(location.data!==null&&location.data!==undefined){if(location.data.transactionId===undefined||location.data.transactionId.length<=0){//location.data.transactionId = 0;\n//checkAndCreateProcedure(location.data);\nhistory.push(url.URL_DASHBOARD);}else{sessionStorage.setItem('locationData',JSON.stringify(location.data));setLocationData(location.data);dataSession=location.data;}}else{//chequeamos si tenemos guardado en session\nvar result=sessionStorage.getItem('locationData');if(result!==undefined&&result!==null){result=JSON.parse(result);setLocationData(result);dataSession=result;}}updateDefaults(dataSession);},[props.values,paises,gruposEconomicos,actividadEmpresa]);function updateDefaults(context){var _props$values$transac;setTransactId((_props$values$transac=props.values.transactId)!==null&&_props$values$transac!==void 0?_props$values$transac:context.transactionId);setCustomerNumber(props.values.customerNumber||context.customerId);setRevisionType(props.values.revisionType||'Bimensual');setPreapproval(props.values.preapproval||false);setMinimunProvisionSIB(props.values.minimumProvisionSIB||'');setRelatedPart(props.values.relatedPart||false);setAccountExecutive(props.values.accountExecutive||'');setApprovalLevel(props.values.approvalLevel||'');setResponsibleUnit(props.values.responsibleUnit||'');setRequestDate(props.values.requestDate||'');setLastRequestDate(props.values.lastRequestDate||'');setNextRevisionDate(props.values.nextRevisionDate||'');setProposedExpirationDate(props.values.proposedExpirationDate||'');setFlow(props.values.flow||'');// loadDataGeneral(context);\nsetrelatedPartSwitch(props.values.relatedPart);setpreapprovalSwitch(props.values.preapproval);try{var defaultVal=null;if(listaRevision.length>0&&props.values.revision!==null&&listaRevisionSelect===undefined){defaultVal=listaRevision.find(function(x){return x.label===props.values.revision;});if(defaultVal!==undefined){setlistaRevisionSelect(defaultVal);setlistaRevisionSet(defaultVal);}}if(paises.length>0&&props.values.country!==null&&countrySelect===undefined){defaultVal=paises.find(function(x){return x.label===props.values.country;});if(defaultVal!==undefined){setCountrySelect(defaultVal);}}if(paises.length>0&&props.values.countryRisk!==null&&countryRiskSelect===undefined){defaultVal=paises.find(function(x){return x.label===props.values.countryRisk;});if(defaultVal!==undefined){setCountryRiskSelect(defaultVal);}}}catch(err){}}// cargarListaPaises\nfunction loadListCountry(){var api=new CoreServices();// getPaisesCatalogo\napi.getPaisesCatalogo().then(function(response){if(response===null){return;}var json=response.Records?response.Records.map(function(item){return{label:item[\"Description\"],value:item[\"Code\"]};}):[];setPais(json);setPaisRiesgo(json);}).catch(function(err){console.log(err);});}// cargarActividadEconomica\nfunction loadActivityEconomic(){var api=new CoreServices();// getActividadEconomicaCatalogo\napi.getActividadEconomicaCatalogo().then(function(response){if(response===null){return;}var json=[];for(var i=0;i<response.Records.length;i++){json.push({label:response.Records[i][\"Description\"],value:response.Records[i][\"Code\"]});}setActividadEmpresa(json);});}// cargarListaGrupoEconomico\nfunction loadListGroupEconomic(){var api=new CoreServices();// getGrupoEconomicoCatalogo\napi.getGrupoEconomicoCatalogo().then(function(response){if(response===null){return;}var json=[];for(var i=0;i<response.Records.length;i++){json.push({label:response.Records[i][\"Description\"],value:response.Records[i][\"Code\"]});}setGruposEconomicos(json);});}// cargarListaRevision\nfunction loadDataRisk(){var api=new BackendServices();api.retrieveRevisionType().then(function(response){if(response===null){return;}var json=[];for(var i=0;i<response.length;i++){json.push({label:response[i][\"description\"],value:response[i][\"id\"]});}setlistaRevision(json);});}// Cargar datos generales\nfunction loadDataGeneral(locationData){var apiBack=new BackendServices();// consultarDeudorPrincipal\napiBack.consultPrincipalDebtor(locationData.transactionId).then(function(resp){if(resp!=undefined){setdatosDeudorPrincipal(resp);}});apiBack.consultGeneralDataIGR(locationData.transactionId).then(function(resp){setdatosIGR(resp);try{var defaultVal=null;// seteconomicGroupSelect(undefined);\nconsole.log(gruposEconomicos.length>0,resp.economicGroup!==null,economicGroupSelect===undefined,economicGroupSelect);if(gruposEconomicos.length>0&&resp.economicGroup!==null&&economicGroupSelect===undefined){defaultVal=gruposEconomicos.find(function(x){return x.label===resp.economicGroup.name;});if(defaultVal!==undefined){seteconomicGroupSelect(defaultVal);}}setActividadEmpresaSet(resp.economicActivity);if(actividadEmpresa.length>0&&resp.economicActivity!==null&&actividadEmpresaSelect===undefined){defaultVal=actividadEmpresa.find(function(x){return x.label===resp.economicActivity.name;});if(defaultVal!==undefined){setActividadEmpresaSelect(defaultVal);}}}catch(err){}}).catch(function(error){console.log(error);});apiBack.consultEnvironmentalAspectsIGR(locationData.transactionId).then(function(resp){setdatosAmbientales(resp.environmentalAspectsDTO);}).catch(function(error){});}function handleSubmit(event,errors,values){event.preventDefault();// if (event.target.id !== 'DatosGeneralesPropuesta') {\n//     return;\n// }\nvalues.minimumProvisionSIB=Number(currencyData.getRealValue(values.minimumProvisionSIB));var data=Object.assign({country:countrySelect!=undefined?countrySelect.label:'',countryRisk:countryRiskSelect!=undefined?countryRiskSelect.label:'',economicGroupName:economicGroupSelect!=undefined?economicGroupSelect.label:'',activityCompany:actividadEmpresaSelect!=undefined?actividadEmpresaSelect.label:'',revision:listaRevisionSet?listaRevisionSet.label:'',preapproval:preapprovalSwitch,relatedPart:relatedPartSwitch,transactId:Number(locationData.transactionId),approvalLevel:\"\",requestId:props.dataGlobal!=null?props.dataGlobal.requestId:\"\"},values);setdataReturn(data);setFormValid(true);// props.saveDataCreditProposal(true,props.activeTab);\n}function handleDropdownChange(name,event){switch(name){case'country':setCountry(event);break;case'countryRisk':setCountryRisk(event);break;case'economicGroupName':setEconomicGroup(event);break;case'activityCompany':setActivityCompany(event);break;default:}}return/*#__PURE__*/_jsxs(AvForm,{id:\"frmDatosGeneralesPropuesta\",className:\"needs-validation\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h5\",{children:props.title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"transactId\",children:t(\"RequestNumber\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"requestId\",type:\"text\",id:\"requestId\",value:dataRequest,readOnly:true})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"customerNumber\",children:t(\"Customer ID\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"customerNumber\",min:0,type:\"number\",readOnly:true,id:\"customerNumber\",value:datosDeudorPrincipal!=null&&datosDeudorPrincipal!=\"\"&&datosDeudorPrincipal!=undefined?datosDeudorPrincipal.customerNumberT24:\"0\"})]})}),/*#__PURE__*/_jsxs(Col,{md:\"4\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"revisionType\",children:t(\"Revision Type\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},onChange:function onChange(e){setlistaRevisionSelect(listaRevision.find(function(x){return x.label===e.label;}));setlistaRevisionSet(e);},options:listaRevision,id:\"revision\",classNamePrefix:\"select2-selection\",placeholder:t(\"Select\"),value:listaRevisionSelect})]})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:\"2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"preapproval\",children:t(\"Pre Approved\")}),/*#__PURE__*/_jsx(AvGroup,{check:true,className:\"mb-3\",children:/*#__PURE__*/_jsx(Switch,{name:\"preapproval\",uncheckedIcon:/*#__PURE__*/_jsx(Offsymbol,{}),checkedIcon:/*#__PURE__*/_jsx(OnSymbol,{}),onColor:\"#007943\",className:\"form-label\",onChange:function onChange(){setpreapprovalSwitch(!preapprovalSwitch);},checked:preapprovalSwitch})})]}),/*#__PURE__*/_jsxs(Col,{md:\"2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"relatedPart\",children:t(\"Related Part\")}),/*#__PURE__*/_jsx(AvGroup,{check:true,className:\"mb-3\",children:/*#__PURE__*/_jsx(Switch,{name:\"relatedPart\",uncheckedIcon:/*#__PURE__*/_jsx(Offsymbol,{}),checkedIcon:/*#__PURE__*/_jsx(OnSymbol,{}),onColor:\"#007943\",className:\"form-label\",onChange:function onChange(){setrelatedPartSwitch(!relatedPartSwitch);},checked:relatedPartSwitch})})]})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:\"6\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"economicGroupName\",children:t(\"Economic Group Name\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},id:\"economicGroupName\",name:\"economicGroupName\",onChange:function onChange(e){seteconomicGroupSelect(gruposEconomicos.find(function(x){return x.label===e.label;}));handleDropdownChange('economicGroupName',e);},options:gruposEconomicos,classNamePrefix:\"select2-selection\",isDisabled:true,value:economicGroupSelect})]}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"economicGroupNumber\",children:t(\"Economic Group Number\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"economicGroupNumber\",type:\"text\",disabled:true,id:\"economicGroupNumber\",value:economicGroupSelect!=undefined?economicGroupSelect.value:''})]})}),/*#__PURE__*/_jsxs(Col,{md:\"6\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"country\",children:t(\"Country Class\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},id:\"country\",name:\"country\",onChange:function onChange(e){setCountrySelect(paises.find(function(x){return x.label===e.label;}));handleDropdownChange('country',e);},placeholder:t(\"Select\"),options:paises,classNamePrefix:\"select2-selection\",value:countrySelect})]}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"riskClassification\",children:t(\"Risk Assesment\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"riskClassification\",type:\"text\",readOnly:true,id:\"riskClassification\",value:datosAmbientales!=null?datosAmbientales.riskPreClassification:\"1\"})]})}),/*#__PURE__*/_jsxs(Col,{md:\"6\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"activityCompany\",children:t(\"Company Activity\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},name:\"activityCompany\",onChange:function onChange(e){setActividadEmpresaSelect(actividadEmpresa.find(function(x){return x.label===e.label;}));setActividadEmpresaSet(e);},placeholder:t(\"Selectcompanyactivity\"),options:actividadEmpresa,classNamePrefix:\"select2-selection\",value:actividadEmpresaSelect,isDisabled:true})]}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"minimumProvisionSIB\",children:t(\"SIB Minimum Provision\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"minimumProvisionSIB\",type:\"text\",id:\"minimumProvisionSIB\",pattern:\"^[0-9,.]*$\",onKeyUp:function onKeyUp(e){var x=currencyData.getRealValue(e.target.value);e.target.value=currencyData.format(x);},value:currencyData.format(minimumProvisionSIB!==null&&minimumProvisionSIB!==void 0?minimumProvisionSIB:0)})]})}),/*#__PURE__*/_jsx(Col,{md:\"9\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"accountExecutive\",children:t(\"Account Executive\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"accountExecutive\",type:\"text\",id:\"accountExecutive\",value:accountExecutive,validate:{required:{value:true,errorMessage:t(\"Validation.Required\")}}})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"flow\",children:t(\"Flow Type\")}),/*#__PURE__*/_jsxs(AvField,{className:\"form-control\",name:\"flow\",type:\"select\",id:\"flow\",value:flow,children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Normal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"Urgente\"})]})]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"responsibleUnit\",children:t(\"Responsible Unit\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"responsibleUnit\",type:\"text\",id:\"responsibleUnit\",value:responsibleUnit,validate:{required:{value:true,errorMessage:t(\"Validation.Required\")}}})]})}),/*#__PURE__*/_jsxs(Col,{md:\"6\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"countryRisk\",children:t(\"Country Risk\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},required:true,onChange:function onChange(e){setCountryRiskSelect(paises.find(function(x){return x.label===e.label;}));handleDropdownChange('countryRisk',e);},defaultValue:paisesRiesgo.label,placeholder:t(\"Selectacountry\"),options:paisesRiesgo,classNamePrefix:\"select2-selection\",value:countryRiskSelect})]})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"requestDate\",children:t(\"Application Date\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"requestDate\",type:\"date\",id:\"requestDate\",value:requestDate==\"\"||requestDate==null?moment().format(\"YYYY-MM-DD\"):requestDate})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"lastRequestDate\",children:t(\"Last Application Date\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"lastRequestDate\",type:\"date\",id:\"lastRequestDate\",value:lastRequestDate==\"\"||lastRequestDate==null?moment().format(\"YYYY-MM-DD\"):lastRequestDate})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"nextRevisionDate\",children:t(\"Next Revision Date\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"nextRevisionDate\",type:\"date\",id:\"nextRevisionDate\",value:nextRevisionDate!==null&&nextRevisionDate!==void 0?nextRevisionDate:moment().add(1,'years').format('YYYY-MM-DD'),onChange:function onChange(e){console.log(props);},validate:{required:{value:true,errorMessage:t(\"Validation.Required\")}}})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"proposedExpirationDate\",children:t(\"Expiration Date\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"proposedExpirationDate\",type:\"date\",id:\"proposedExpirationDate\",value:proposedExpirationDate==\"\"||proposedExpirationDate==null?moment().add(6,\"M\").format(\"YYYY-MM-DD\"):proposedExpirationDate})]})})]})]});});DatosGeneralesPropuesta.defaultProps={values:{}};export default DatosGeneralesPropuesta;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/5_PropuestaCredito/Secciones/DatosGenerales.js"],"names":["React","useState","useEffect","useContext","Select","Row","Col","Label","moment","AvForm","AvGroup","AvField","AvFeedback","BackendServices","CoreServices","Switch","useLocation","useHistory","translationHelpers","useTranslation","url","Currency","Offsymbol","display","justifyContent","alignItems","height","fontSize","color","paddingRight","OnSymbol","DatosGeneralesPropuesta","forwardRef","props","ref","currencyData","location","history","data","locationData","setLocationData","context","setcontext","formValid","setFormValid","gruposEconomicos","setGruposEconomicos","actividadEmpresa","setActividadEmpresa","actividadEmpresaSet","setActividadEmpresaSet","undefined","actividadEmpresaSelect","setActividadEmpresaSelect","paises","setPais","paisesRiesgo","setPaisRiesgo","listaRevisionSet","setlistaRevisionSet","listaRevision","setlistaRevision","datosIGR","setdatosIGR","datosAmbientales","setdatosAmbientales","listaRevisionSelect","setlistaRevisionSelect","listaRevisionRequerido","setlistaRevisionRequerido","preapprovalSwitch","setpreapprovalSwitch","relatedPartSwitch","setrelatedPartSwitch","transactId","setTransactId","customerNumber","setCustomerNumber","revisionType","setRevisionType","preapproval","setPreapproval","economicGroupSelect","seteconomicGroupSelect","economicGroup","setEconomicGroup","country","setCountry","countrySelect","setCountrySelect","activityCompany","setActivityCompany","riskClassification","setRiskClassification","minimumProvisionSIB","setMinimunProvisionSIB","relatedPart","setRelatedPart","accountExecutive","setAccountExecutive","approvalLevel","setApprovalLevel","responsibleUnit","setResponsibleUnit","countryRisk","setCountryRisk","dataReturn","setdataReturn","countryRiskSelect","setCountryRiskSelect","datosDeudorPrincipal","setdatosDeudorPrincipal","requestDate","setRequestDate","lastRequestDate","setLastRequestDate","proposedExpirationDate","setProposedExpirationDate","nextRevisionDate","setNextRevisionDate","dataRequest","setdataRequest","flow","setFlow","t","i18n","useImperativeHandle","validateForm","form","document","getElementById","requestSubmit","getFormValidation","dataSession","transactionId","length","push","URL_DASHBOARD","sessionStorage","setItem","JSON","stringify","result","getItem","parse","updateDefaults","loadListCountry","loadListGroupEconomic","loadActivityEconomic","loadDataRisk","backendServices","consultGeneralDataPropCred","then","requestId","loadDataGeneral","values","customerId","defaultVal","revision","find","x","label","err","api","getPaisesCatalogo","response","json","Records","map","item","value","catch","console","log","getActividadEconomicaCatalogo","i","getGrupoEconomicoCatalogo","retrieveRevisionType","apiBack","consultPrincipalDebtor","resp","consultGeneralDataIGR","name","economicActivity","error","consultEnvironmentalAspectsIGR","environmentalAspectsDTO","handleSubmit","event","errors","preventDefault","Number","getRealValue","Object","assign","economicGroupName","dataGlobal","handleDropdownChange","title","customerNumberT24","e","riskPreClassification","target","format","required","errorMessage","add","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { PropTypes } from 'prop-types';\r\nimport Select from \"react-select\";\r\nimport {\r\n    Row,\r\n    Col,\r\n    Label,\r\n} from \"reactstrap\"\r\nimport moment from \"moment\";\r\nimport { AvForm, AvGroup, AvField, AvFeedback } from \"availity-reactstrap-validation\"\r\nimport { BackendServices, CoreServices } from \"../../../../services\";\r\nimport Switch from \"react-switch\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport { translationHelpers } from \"../../../../helpers\";\r\n\r\nimport { useTranslation } from \"react-i18next/\";\r\nimport * as url from \"../../../../helpers/url_helper\"\r\nimport Currency from \"../../../../helpers/currency\";\r\n\r\nconst Offsymbol = () => {\r\n    return (\r\n        <div\r\n            style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                height: \"100%\",\r\n                fontSize: 12,\r\n                color: \"#fff\",\r\n                paddingRight: 2,\r\n            }}\r\n        >\r\n            {\" \"}\r\n            No\r\n        </div>\r\n    );\r\n};\r\nconst OnSymbol = () => {\r\n    return (\r\n        <div\r\n            style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                height: \"100%\",\r\n                fontSize: 12,\r\n                color: \"#fff\",\r\n                paddingRight: 2,\r\n            }}\r\n        >\r\n            {\" \"}\r\n            Si\r\n        </div>\r\n    );\r\n};\r\nconst DatosGeneralesPropuesta = React.forwardRef((props, ref) => {\r\n    const currencyData = new Currency();\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n    const [locationData, setLocationData] = useState(location.data);\r\n    const [context, setcontext] = useState(location.data);\r\n    const [formValid, setFormValid] = useState(false);\r\n    const [gruposEconomicos, setGruposEconomicos] = useState([]);\r\n    const [actividadEmpresa, setActividadEmpresa] = useState([]);\r\n    const [actividadEmpresaSet, setActividadEmpresaSet] = useState(null);\r\n    const [actividadEmpresaSelect, setActividadEmpresaSelect] = useState(undefined);\r\n    const [paises, setPais] = useState([]);\r\n    const [paisesRiesgo, setPaisRiesgo] = useState([]);\r\n    const [listaRevisionSet, setlistaRevisionSet] = useState(null);\r\n    const [listaRevision, setlistaRevision] = useState(null);\r\n    const [datosIGR, setdatosIGR] = useState(null);\r\n    const [datosAmbientales, setdatosAmbientales] = useState(null);\r\n    const [listaRevisionSelect, setlistaRevisionSelect] = useState(undefined);\r\n    const [listaRevisionRequerido, setlistaRevisionRequerido] = useState(null);\r\n    const [preapprovalSwitch, setpreapprovalSwitch] = useState(false);\r\n    const [relatedPartSwitch, setrelatedPartSwitch] = useState(false);\r\n    const [transactId, setTransactId] = useState('');\r\n    const [customerNumber, setCustomerNumber] = useState('');\r\n    const [revisionType, setRevisionType] = useState('');\r\n    const [preapproval, setPreapproval] = useState(false);\r\n    const [economicGroupSelect, seteconomicGroupSelect] = useState(undefined);\r\n    const [economicGroup, setEconomicGroup] = useState(null);\r\n    const [country, setCountry] = useState(null);\r\n    const [countrySelect, setCountrySelect] = useState(undefined);\r\n    const [activityCompany, setActivityCompany] = useState('');\r\n    const [riskClassification, setRiskClassification] = useState('');\r\n    const [minimumProvisionSIB, setMinimunProvisionSIB] = useState('');\r\n    const [relatedPart, setRelatedPart] = useState(false);\r\n    const [accountExecutive, setAccountExecutive] = useState('');\r\n    const [approvalLevel, setApprovalLevel] = useState('');\r\n    const [responsibleUnit, setResponsibleUnit] = useState('');\r\n    const [countryRisk, setCountryRisk] = useState(null);\r\n    const [dataReturn, setdataReturn] = useState(null);\r\n    const [countryRiskSelect, setCountryRiskSelect] = useState(undefined);\r\n    const [datosDeudorPrincipal, setdatosDeudorPrincipal] = useState(null);\r\n    const [requestDate, setRequestDate] = useState('');\r\n    const [lastRequestDate, setLastRequestDate] = useState('');\r\n    const [proposedExpirationDate, setProposedExpirationDate] = useState('');\r\n    const [nextRevisionDate, setNextRevisionDate] = useState('');\r\n    const [dataRequest, setdataRequest] = useState('');\r\n    const [flow, setFlow] = useState('');\r\n    //const [t, c] = translationHelpers('commercial_credit', 'common');    \r\n    const { t, i18n } = useTranslation();\r\n\r\n    React.useImperativeHandle(ref, () => ({\r\n        validateForm: () => {\r\n            const form = document.getElementById('frmDatosGeneralesPropuesta');\r\n            form.requestSubmit();\r\n        },\r\n        getFormValidation: () => {\r\n            return formValid;\r\n        },\r\n        dataReturn\r\n    }));\r\n    useEffect(() => {\r\n        let dataSession;\r\n        if (location.data !== null && location.data !== undefined) {\r\n            if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n                //location.data.transactionId = 0;\r\n                //checkAndCreateProcedure(location.data);\r\n                history.push(url.URL_DASHBOARD);\r\n            }\r\n            else {\r\n                sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n                setLocationData(location.data);\r\n                dataSession = location.data;\r\n            }\r\n        }\r\n        else {\r\n            //chequeamos si tenemos guardado en session\r\n            var result = sessionStorage.getItem('locationData');\r\n            if (result !== undefined && result !== null) {\r\n                result = JSON.parse(result);\r\n                setLocationData(result);\r\n                dataSession = result;\r\n            }\r\n        }\r\n\r\n\r\n        updateDefaults(dataSession);\r\n        loadListCountry();\r\n        loadListGroupEconomic();\r\n        loadActivityEconomic();\r\n        loadDataRisk();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const backendServices = new BackendServices();\r\n        backendServices.consultGeneralDataPropCred(location?.data?.transactionId ?? locationData?.transactionId ?? 0)\r\n            .then((data) => {\r\n                if (data !== undefined) {\r\n                    setdataRequest(data[0].requestId);\r\n                }\r\n            });\r\n    }, [props]);\r\n\r\n\r\n    useEffect(() => {\r\n        let dataSession;\r\n        if (location.data !== null && location.data !== undefined) {\r\n            if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n                //location.data.transactionId = 0;\r\n                //checkAndCreateProcedure(location.data);\r\n                history.push(url.URL_DASHBOARD);\r\n            }\r\n            else {\r\n                sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n                setLocationData(location.data);\r\n                dataSession = location.data;\r\n            }\r\n        }\r\n        else {\r\n            //chequeamos si tenemos guardado en session\r\n            var result = sessionStorage.getItem('locationData');\r\n            if (result !== undefined && result !== null) {\r\n                result = JSON.parse(result);\r\n                setLocationData(result);\r\n                dataSession = result;\r\n            }\r\n        }\r\n\r\n        if (gruposEconomicos?.length > 0 && actividadEmpresa?.length > 0)\r\n            loadDataGeneral(dataSession);\r\n\r\n    }, [gruposEconomicos, actividadEmpresa]);\r\n\r\n    useEffect(() => {\r\n\r\n        let dataSession;\r\n        if (location.data !== null && location.data !== undefined) {\r\n            if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n                //location.data.transactionId = 0;\r\n                //checkAndCreateProcedure(location.data);\r\n                history.push(url.URL_DASHBOARD);\r\n            }\r\n            else {\r\n                sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n                setLocationData(location.data);\r\n                dataSession = location.data;\r\n            }\r\n        }\r\n        else {\r\n            //chequeamos si tenemos guardado en session\r\n            var result = sessionStorage.getItem('locationData');\r\n            if (result !== undefined && result !== null) {\r\n                result = JSON.parse(result);\r\n                setLocationData(result);\r\n                dataSession = result;\r\n            }\r\n        }\r\n\r\n        updateDefaults(dataSession);\r\n    }, [props.values, paises, gruposEconomicos, actividadEmpresa]);\r\n\r\n    function updateDefaults(context) {\r\n        setTransactId(props.values.transactId ?? context.transactionId);\r\n        setCustomerNumber(props.values.customerNumber || context.customerId);\r\n        setRevisionType(props.values.revisionType || 'Bimensual');\r\n        setPreapproval(props.values.preapproval || false);\r\n        setMinimunProvisionSIB(props.values.minimumProvisionSIB || '');\r\n        setRelatedPart(props.values.relatedPart || false);\r\n        setAccountExecutive(props.values.accountExecutive || '');\r\n        setApprovalLevel(props.values.approvalLevel || '');\r\n        setResponsibleUnit(props.values.responsibleUnit || '');\r\n        setRequestDate(props.values.requestDate || '');\r\n        setLastRequestDate(props.values.lastRequestDate || '');\r\n        setNextRevisionDate(props.values.nextRevisionDate || '');\r\n        setProposedExpirationDate(props.values.proposedExpirationDate || '');\r\n        setFlow(props.values.flow || '');\r\n        // loadDataGeneral(context);\r\n        setrelatedPartSwitch(props.values.relatedPart)\r\n        setpreapprovalSwitch(props.values.preapproval)\r\n        try {\r\n            var defaultVal = null;\r\n            if (listaRevision.length > 0 && props.values.revision !== null && listaRevisionSelect === undefined) {\r\n                defaultVal = listaRevision.find(x => x.label === props.values.revision);\r\n                if (defaultVal !== undefined) {\r\n                    setlistaRevisionSelect(defaultVal);\r\n                    setlistaRevisionSet(defaultVal)\r\n                }\r\n            }\r\n            if (paises.length > 0 && props.values.country !== null && countrySelect === undefined) {\r\n                defaultVal = paises.find(x => x.label === props.values.country);\r\n                if (defaultVal !== undefined) {\r\n                    setCountrySelect(defaultVal);\r\n                }\r\n            }\r\n            if (paises.length > 0 && props.values.countryRisk !== null && countryRiskSelect === undefined) {\r\n                defaultVal = paises.find(x => x.label === props.values.countryRisk);\r\n                if (defaultVal !== undefined) {\r\n                    setCountryRiskSelect(defaultVal);\r\n                }\r\n            }\r\n        }\r\n        catch (err) { }\r\n    }\r\n    // cargarListaPaises\r\n    function loadListCountry() {\r\n        const api = new CoreServices();\r\n        // getPaisesCatalogo\r\n        api.getPaisesCatalogo().then(response => {\r\n            if (response === null) { return; }\r\n            const json = response.Records ? response.Records.map(item => ({\r\n                label: item[\"Description\"],\r\n                value: item[\"Code\"]\r\n            })) : [];\r\n            setPais(json);\r\n            setPaisRiesgo(json);\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n    // cargarActividadEconomica\r\n    function loadActivityEconomic() {\r\n        const api = new CoreServices();\r\n        // getActividadEconomicaCatalogo\r\n        api.getActividadEconomicaCatalogo()\r\n            .then(response => {\r\n                if (response === null) { return; }\r\n                let json = [];\r\n                for (let i = 0; i < response.Records.length; i++) {\r\n                    json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n                }\r\n                setActividadEmpresa(json);\r\n            });\r\n    }\r\n    // cargarListaGrupoEconomico\r\n    function loadListGroupEconomic() {\r\n        const api = new CoreServices();\r\n        // getGrupoEconomicoCatalogo\r\n        api.getGrupoEconomicoCatalogo()\r\n            .then(response => {\r\n                if (response === null) { return; }\r\n                let json = [];\r\n                for (let i = 0; i < response.Records.length; i++) {\r\n                    json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n                }\r\n                setGruposEconomicos(json);\r\n            });\r\n    }\r\n    // cargarListaRevision\r\n    function loadDataRisk() {\r\n        const api = new BackendServices();\r\n        api.retrieveRevisionType()\r\n            .then(response => {\r\n                if (response === null) { return; }\r\n                let json = [];\r\n                for (let i = 0; i < response.length; i++) {\r\n                    json.push({ label: response[i][\"description\"], value: response[i][\"id\"] })\r\n                }\r\n                setlistaRevision(json);\r\n            });\r\n    }\r\n    // Cargar datos generales\r\n    function loadDataGeneral(locationData) {\r\n\r\n        const apiBack = new BackendServices();\r\n        // consultarDeudorPrincipal\r\n        apiBack.consultPrincipalDebtor(locationData.transactionId).then(resp => {\r\n            if (resp != undefined) {\r\n                setdatosDeudorPrincipal(resp);\r\n            }\r\n        })\r\n        apiBack.consultGeneralDataIGR(locationData.transactionId).then(resp => {\r\n            setdatosIGR(resp);\r\n            try {\r\n                var defaultVal = null;\r\n                // seteconomicGroupSelect(undefined);\r\n\r\n                console.log(gruposEconomicos.length > 0, resp.economicGroup !== null, economicGroupSelect === undefined, economicGroupSelect);\r\n                if (gruposEconomicos.length > 0 && resp.economicGroup !== null && economicGroupSelect === undefined) {\r\n                    defaultVal = gruposEconomicos.find(x => x.label === resp.economicGroup.name);\r\n                    if (defaultVal !== undefined) {\r\n                        seteconomicGroupSelect(defaultVal);\r\n                    }\r\n                }\r\n\r\n                setActividadEmpresaSet(resp.economicActivity);\r\n                if (actividadEmpresa.length > 0 && resp.economicActivity !== null && actividadEmpresaSelect === undefined) {\r\n                    defaultVal = actividadEmpresa.find(x => x.label === resp.economicActivity.name);\r\n                    if (defaultVal !== undefined) {\r\n                        setActividadEmpresaSelect(defaultVal);\r\n                    }\r\n                }\r\n\r\n            }\r\n            catch (err) { }\r\n        }).catch((error) => {\r\n            console.log(error);\r\n        });\r\n        apiBack.consultEnvironmentalAspectsIGR(locationData.transactionId).then(resp => {\r\n            setdatosAmbientales(resp.environmentalAspectsDTO)\r\n        }).catch((error) => {\r\n\r\n        });\r\n    }\r\n    function handleSubmit(event, errors, values) {\r\n        event.preventDefault();\r\n        // if (event.target.id !== 'DatosGeneralesPropuesta') {\r\n        //     return;\r\n        // }\r\n        values.minimumProvisionSIB = Number(currencyData.getRealValue(values.minimumProvisionSIB))\r\n        const data = Object.assign({\r\n            country: countrySelect != undefined ? countrySelect.label : '',\r\n            countryRisk: countryRiskSelect != undefined ? countryRiskSelect.label : '',\r\n            economicGroupName: economicGroupSelect != undefined ? economicGroupSelect.label : '',\r\n            activityCompany: actividadEmpresaSelect != undefined ? actividadEmpresaSelect.label : '',\r\n            revision: listaRevisionSet ? listaRevisionSet.label : '',\r\n            preapproval: preapprovalSwitch,\r\n            relatedPart: relatedPartSwitch,\r\n            transactId: Number(locationData.transactionId),\r\n            approvalLevel: \"\",\r\n            requestId: props.dataGlobal != null ? props.dataGlobal.requestId : \"\"\r\n        }, values);\r\n        setdataReturn(data)\r\n        setFormValid(true);\r\n        // props.saveDataCreditProposal(true,props.activeTab);\r\n\r\n    }\r\n    function handleDropdownChange(name, event) {\r\n        switch (name) {\r\n            case 'country':\r\n                setCountry(event);\r\n                break;\r\n            case 'countryRisk':\r\n                setCountryRisk(event);\r\n                break;\r\n            case 'economicGroupName':\r\n                setEconomicGroup(event);\r\n                break;\r\n            case 'activityCompany':\r\n                setActivityCompany(event);\r\n                break;\r\n            default:\r\n        }\r\n    }\r\n    return (\r\n        <AvForm id=\"frmDatosGeneralesPropuesta\" className=\"needs-validation\" onSubmit={handleSubmit}>\r\n            <h5>{props.title}</h5>\r\n            <p className=\"card-title-desc\"></p>\r\n            <Row>\r\n                <Col md=\"3\">\r\n                    <AvGroup>\r\n                        <Label htmlFor=\"transactId\">{t(\"RequestNumber\")}</Label>\r\n                        <AvField\r\n                            className=\"form-control\"\r\n                            name=\"requestId\"\r\n                            type=\"text\"\r\n                            id=\"requestId\"\r\n                            value={dataRequest}\r\n                            readOnly />\r\n                    </AvGroup>\r\n                </Col>\r\n                <Col md=\"3\">\r\n                    <AvGroup>\r\n                        <Label htmlFor=\"customerNumber\">{t(\"Customer ID\")}</Label>\r\n                        <AvField\r\n                            className=\"form-control\"\r\n                            name=\"customerNumber\"\r\n                            min={0}\r\n                            type=\"number\"\r\n                            readOnly\r\n                            id=\"customerNumber\"\r\n                            value={datosDeudorPrincipal != null && datosDeudorPrincipal != \"\" && datosDeudorPrincipal != undefined ? datosDeudorPrincipal.customerNumberT24 : \"0\"}\r\n                        />\r\n                    </AvGroup>\r\n                </Col>\r\n                <Col md=\"4\">\r\n                    <Label htmlFor=\"revisionType\">{t(\"Revision Type\")}</Label>\r\n                    <Select noOptionsMessage={() => \"\"}\r\n                        onChange={(e) => { setlistaRevisionSelect(listaRevision.find(x => x.label === e.label)); setlistaRevisionSet(e); }}\r\n                        options={listaRevision}\r\n                        id=\"revision\"\r\n                        classNamePrefix=\"select2-selection\"\r\n                        placeholder={t(\"Select\")}\r\n                        value={listaRevisionSelect}\r\n                    />\r\n                </Col>\r\n\r\n            </Row>\r\n            <Row>\r\n                <Col md=\"2\">\r\n                    <Label htmlFor=\"preapproval\">{t(\"Pre Approved\")}</Label>\r\n                    <AvGroup check className=\"mb-3\">\r\n                        <Switch name=\"preapproval\"\r\n                            uncheckedIcon={<Offsymbol />}\r\n                            checkedIcon={<OnSymbol />}\r\n                            onColor=\"#007943\"\r\n                            className=\"form-label\"\r\n                            onChange={() => {\r\n                                setpreapprovalSwitch(!preapprovalSwitch)\r\n                            }}\r\n                            checked={preapprovalSwitch}\r\n                        />\r\n                    </AvGroup>\r\n                </Col>\r\n                <Col md=\"2\">\r\n                    <Label htmlFor=\"relatedPart\">{t(\"Related Part\")}</Label>\r\n                    <AvGroup check className=\"mb-3\">\r\n                        <Switch name=\"relatedPart\"\r\n                            uncheckedIcon={<Offsymbol />}\r\n                            checkedIcon={<OnSymbol />}\r\n                            onColor=\"#007943\"\r\n                            className=\"form-label\"\r\n                            onChange={() => {\r\n                                setrelatedPartSwitch(!relatedPartSwitch)\r\n                            }}\r\n                            checked={relatedPartSwitch}\r\n                        />\r\n                    </AvGroup>\r\n                </Col>\r\n            </Row>\r\n            <Row>\r\n                <Col md=\"6\">\r\n                    <Label htmlFor=\"economicGroupName\">{t(\"Economic Group Name\")}</Label>\r\n                    <Select noOptionsMessage={() => \"\"}\r\n                        id=\"economicGroupName\"\r\n                        name=\"economicGroupName\"\r\n                        onChange={(e) => { seteconomicGroupSelect(gruposEconomicos.find(x => x.label === e.label)); handleDropdownChange('economicGroupName', e); }}\r\n                        options={gruposEconomicos}\r\n                        classNamePrefix=\"select2-selection\"\r\n                        isDisabled={true}\r\n                        value={economicGroupSelect} />\r\n                </Col>\r\n                <Col md=\"6\">\r\n                    <AvGroup>\r\n                        <Label htmlFor=\"economicGroupNumber\">{t(\"Economic Group Number\")}</Label>\r\n                        <AvField\r\n                            className=\"form-control\"\r\n                            name=\"economicGroupNumber\"\r\n                            type=\"text\"\r\n                            disabled={true}\r\n                            id=\"economicGroupNumber\"\r\n                            value={economicGroupSelect != undefined ? economicGroupSelect.value : ''}\r\n\r\n                        />\r\n                    </AvGroup>\r\n                </Col>\r\n                <Col md=\"6\">\r\n                    <Label htmlFor=\"country\">{t(\"Country Class\")}</Label>\r\n                    <Select noOptionsMessage={() => \"\"}\r\n                        id=\"country\"\r\n                        name=\"country\"\r\n                        onChange={(e) => { setCountrySelect(paises.find(x => x.label === e.label)); handleDropdownChange('country', e) }}\r\n                        placeholder={t(\"Select\")}\r\n                        options={paises}\r\n                        classNamePrefix=\"select2-selection\"\r\n                        value={countrySelect}\r\n                    />\r\n                </Col>\r\n                <Col md=\"6\">\r\n                    <AvGroup>\r\n                        <Label htmlFor=\"riskClassification\">{t(\"Risk Assesment\")}</Label>\r\n                        <AvField\r\n                            className=\"form-control\"\r\n                            name=\"riskClassification\"\r\n                            type=\"text\"\r\n                            readOnly\r\n                            id=\"riskClassification\"\r\n                            value={datosAmbientales != null ? datosAmbientales.riskPreClassification : \"1\"}\r\n                        />\r\n                    </AvGroup>\r\n                </Col>\r\n                <Col md=\"6\">\r\n                    <Label htmlFor=\"activityCompany\">{t(\"Company Activity\")}</Label>\r\n                    <Select noOptionsMessage={() => \"\"}\r\n                        name=\"activityCompany\"\r\n                        onChange={(e) => { setActividadEmpresaSelect(actividadEmpresa.find(x => x.label === e.label)); setActividadEmpresaSet(e); }}\r\n                        placeholder={t(\"Selectcompanyactivity\")}\r\n                        options={actividadEmpresa}\r\n                        classNamePrefix=\"select2-selection\"\r\n                        value={actividadEmpresaSelect}\r\n                        isDisabled={true} />\r\n                </Col>\r\n                <Col md=\"6\">\r\n                    <AvGroup>\r\n                        <Label htmlFor=\"minimumProvisionSIB\">{t(\"SIB Minimum Provision\")}</Label>\r\n                        <AvField\r\n                            className=\"form-control\"\r\n                            name=\"minimumProvisionSIB\"\r\n                            type=\"text\"\r\n                            id=\"minimumProvisionSIB\"\r\n                            pattern=\"^[0-9,.]*$\"\r\n                            onKeyUp={(e) => { let x = currencyData.getRealValue(e.target.value); e.target.value = currencyData.format(x); }}\r\n                            value={currencyData.format(minimumProvisionSIB ?? 0)} />\r\n                    </AvGroup>\r\n                </Col>\r\n                {/* <Col md=\"3\">\r\n                    <AvGroup>\r\n                        <Label htmlFor=\"approvalLevel\">{t(\"Approval Level\")}</Label>\r\n                        <AvField\r\n                            className=\"form-control\"\r\n                            name=\"approvalLevel\"\r\n                            type=\"select\"\r\n                            id=\"approvalLevel\"\r\n                            value={approvalLevel}>\r\n                            <option value=\"1\">Nivel 1</option>\r\n                            <option value=\"2\">Nivel 2</option>\r\n                            <option value=\"3\">Nivel 3</option>\r\n                        </AvField>\r\n                    </AvGroup>\r\n                </Col> */}\r\n\r\n                <Col md=\"9\">\r\n                    <AvGroup>\r\n                        <Label htmlFor=\"accountExecutive\">{t(\"Account Executive\")}</Label>\r\n                        <AvField\r\n                            className=\"form-control\"\r\n                            name=\"accountExecutive\"\r\n                            type=\"text\"\r\n                            id=\"accountExecutive\"\r\n                            value={accountExecutive}\r\n                            validate={{\r\n                                required: { value: true, errorMessage: t(\"Validation.Required\") }\r\n                            }} />\r\n                    </AvGroup>\r\n                </Col>\r\n                <Col md=\"3\">\r\n                    <AvGroup>\r\n                        <Label htmlFor=\"flow\">{t(\"Flow Type\")}</Label>\r\n                        <AvField\r\n                            className=\"form-control\"\r\n                            name=\"flow\"\r\n                            type=\"select\"\r\n                            id=\"flow\"\r\n                            value={flow}>\r\n                            <option value=\"1\">Normal</option>\r\n                            <option value=\"2\">Urgente</option>\r\n                        </AvField>\r\n                    </AvGroup>\r\n                </Col>\r\n                <Col md=\"6\">\r\n                    <AvGroup>\r\n                        <Label htmlFor=\"responsibleUnit\">{t(\"Responsible Unit\")}</Label>\r\n                        <AvField\r\n                            className=\"form-control\"\r\n                            name=\"responsibleUnit\"\r\n                            type=\"text\"\r\n                            id=\"responsibleUnit\"\r\n                            value={responsibleUnit}\r\n                            validate={{\r\n                                required: { value: true, errorMessage: t(\"Validation.Required\") }\r\n                            }} />\r\n                    </AvGroup>\r\n                </Col>\r\n                <Col md=\"6\">\r\n                    <Label htmlFor=\"countryRisk\">{t(\"Country Risk\")}</Label>\r\n                    <Select noOptionsMessage={() => \"\"} required\r\n                        onChange={(e) => { setCountryRiskSelect(paises.find(x => x.label === e.label)); handleDropdownChange('countryRisk', e) }}\r\n                        defaultValue={paisesRiesgo.label}\r\n                        placeholder={t(\"Selectacountry\")}\r\n                        options={paisesRiesgo}\r\n                        classNamePrefix=\"select2-selection\"\r\n                        value={countryRiskSelect} />\r\n                </Col>\r\n\r\n            </Row>\r\n            <Row>\r\n                <Col md=\"3\">\r\n                    <AvGroup>\r\n                        <Label htmlFor=\"requestDate\">{t(\"Application Date\")}</Label>\r\n                        <AvField\r\n                            className=\"form-control\"\r\n                            name=\"requestDate\"\r\n                            type=\"date\"\r\n                            id=\"requestDate\"\r\n                            value={requestDate == \"\" || requestDate == null ? moment().format(\"YYYY-MM-DD\") : requestDate}\r\n                        />\r\n                    </AvGroup>\r\n                </Col>\r\n                <Col md=\"3\">\r\n                    <AvGroup>\r\n                        <Label htmlFor=\"lastRequestDate\">{t(\"Last Application Date\")}</Label>\r\n                        <AvField\r\n                            className=\"form-control\"\r\n                            name=\"lastRequestDate\"\r\n                            type=\"date\"\r\n                            id=\"lastRequestDate\"\r\n                            value={lastRequestDate == \"\" || lastRequestDate == null ? moment().format(\"YYYY-MM-DD\") : lastRequestDate}\r\n                        />\r\n                    </AvGroup>\r\n                </Col>\r\n                <Col md=\"3\">\r\n                    <AvGroup>\r\n                        <Label htmlFor=\"nextRevisionDate\">{t(\"Next Revision Date\")}</Label>\r\n                        <AvField\r\n                            className=\"form-control\"\r\n                            name=\"nextRevisionDate\"\r\n                            type=\"date\"\r\n                            id=\"nextRevisionDate\"\r\n                            value={nextRevisionDate ?? moment().add(1, 'years').format('YYYY-MM-DD')}\r\n                            onChange={(e) => { console.log(props); }}\r\n                            validate={{\r\n                                required: { value: true, errorMessage: t(\"Validation.Required\") }\r\n                            }} />\r\n                    </AvGroup>\r\n                </Col>\r\n                <Col md=\"3\">\r\n                    <AvGroup>\r\n                        <Label htmlFor=\"proposedExpirationDate\">{t(\"Expiration Date\")}</Label>\r\n                        <AvField\r\n                            className=\"form-control\"\r\n                            name=\"proposedExpirationDate\"\r\n                            type=\"date\"\r\n                            id=\"proposedExpirationDate\"\r\n                            value={proposedExpirationDate == \"\" || proposedExpirationDate == null ? moment().add(6, \"M\").format(\"YYYY-MM-DD\") : proposedExpirationDate}\r\n                        />\r\n                    </AvGroup>\r\n                </Col>\r\n            </Row>\r\n        </AvForm>\r\n    );\r\n});\r\n\r\nDatosGeneralesPropuesta.propTypes = {\r\n    values: PropTypes.object\r\n};\r\n\r\nDatosGeneralesPropuesta.defaultProps = {\r\n    values: {}\r\n};\r\n\r\n\r\nexport default DatosGeneralesPropuesta;\r\n"]},"metadata":{},"sourceType":"module"}