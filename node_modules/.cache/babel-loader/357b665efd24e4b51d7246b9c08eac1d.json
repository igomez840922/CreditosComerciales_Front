{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Row,Col,Card,CardBody,CardHeader,Button,Label,Table}from\"reactstrap\";import{AvForm,AvField}from\"availity-reactstrap-validation\";//i18n\nimport{withTranslation}from\"react-i18next\";import{useLocation}from\"react-router-dom\";import{BackendServices}from\"../../../../services\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Fideicomiso=function Fideicomiso(props){var location=useLocation();var apiBack=new BackendServices();var _useState=useState(location.data),_useState2=_slicedToArray(_useState,2),dataLocation=_useState2[0],setData=_useState2[1];var _useState3=useState({name:\"\",number:0}),_useState4=_slicedToArray(_useState3,2),dataTrust=_useState4[0],setdataTrust=_useState4[1];React.useEffect(function(){// Read Api Service data\ninitializeData();},[]);function initializeData(){apiBack.consultarNumeroFideicomiso(dataLocation.transactionId).then(function(resp){if(resp==undefined){apiBack.nuevoNumeroFideicomiso({\"transactId\":Number(dataLocation.transactionId),\"conclusions\":\" \"}).then(function(response){var trustName=resp[0].trustName.split(' ');trustName.splice(trustName.length-1,1);trustName=trustName.join(' ');setdataTrust({name:trustName,number:resp[0].trustNumber});});}else{var trustName=resp[0].trustName.split(' ');trustName.splice(trustName.length-1,1);trustName=trustName.join(' ');setdataTrust({name:trustName,number:resp[0].trustNumber});}});}function handleSubmit(event,errors,values){event.preventDefaulprops.t();if(errors.length>0){return;}}return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{lg:\"12\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"card-title\",children:props.t(\"Escrow\")}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsx(AvForm,{id:\"frmSearch\",className:\"needs-validation\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"fideicomisoName\",children:props.t(\"Escrowname\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"fideicomisoName\",type:\"text\",readOnly:true,id:\"fideicomisoName\",value:dataTrust.name})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"fideicomisoNumber\",children:props.t(\"Escrownumber\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"fideicomisoNumber\",type:\"number\",readOnly:true,id:\"fideicomisoNumber\",value:dataTrust.number})]})})]})})]})})});};export default withTranslation()(Fideicomiso);","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/10_Fideicomiso/AsignarNumeroFideicomiso/Fideicomiso.js"],"names":["React","useState","Row","Col","Card","CardBody","CardHeader","Button","Label","Table","AvForm","AvField","withTranslation","useLocation","BackendServices","Fideicomiso","props","location","apiBack","data","dataLocation","setData","name","number","dataTrust","setdataTrust","useEffect","initializeData","consultarNumeroFideicomiso","transactionId","then","resp","undefined","nuevoNumeroFideicomiso","Number","response","trustName","split","splice","length","join","trustNumber","handleSubmit","event","errors","values","preventDefaulprops","t"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  Button,\r\n  Label,\r\n  Table\r\n} from \"reactstrap\"\r\nimport { AvForm, AvField } from \"availity-reactstrap-validation\"\r\n//i18n\r\nimport { withTranslation } from \"react-i18next\"\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { BackendServices } from \"../../../../services\";\r\nconst Fideicomiso = (props) => {\r\n  const location = useLocation()\r\n  const apiBack = new BackendServices();\r\n  const [dataLocation, setData] = useState(location.data);\r\n  const [dataTrust, setdataTrust] = useState({name:\"\",number:0});\r\n  React.useEffect(() => {\r\n    // Read Api Service data\r\n    initializeData();\r\n  }, []);\r\n  function initializeData() {\r\n    apiBack.consultarNumeroFideicomiso(dataLocation.transactionId).then(resp => {\r\n      if (resp == undefined) {\r\n        apiBack.nuevoNumeroFideicomiso({\r\n          \"transactId\": Number(dataLocation.transactionId),\r\n          \"conclusions\": \" \"\r\n        }).then(response => {\r\n          let trustName = resp[0].trustName.split(' ');\r\n          trustName.splice(trustName.length - 1, 1);\r\n          trustName=trustName.join(' '); \r\n          setdataTrust({name:trustName,number:resp[0].trustNumber})\r\n        })\r\n      } else {\r\n        let trustName = resp[0].trustName.split(' ');\r\n        trustName.splice(trustName.length - 1, 1);\r\n        trustName=trustName.join(' '); \r\n        setdataTrust({name:trustName,number:resp[0].trustNumber})\r\n        \r\n      }\r\n    })\r\n  }\r\n  function handleSubmit(event, errors, values) {\r\n    event.preventDefaulprops.t();\r\n    if (errors.length > 0) {\r\n      return;\r\n    }\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <Row>\r\n        <Col lg=\"12\">\r\n          <p className=\"card-title-desc\"></p>\r\n          <h4 className=\"card-title\">{props.t(\"Escrow\")}</h4>\r\n          <p className=\"card-title-desc\"></p>\r\n          <AvForm id=\"frmSearch\" className=\"needs-validation\" onSubmit={handleSubmit}>\r\n            <Row>\r\n              <Col md=\"6\">\r\n                <div className=\"mb-3\">\r\n                  <Label htmlFor=\"fideicomisoName\">{props.t(\"Escrowname\")}</Label>\r\n                  <AvField\r\n                    className=\"form-control\"\r\n                    name=\"fideicomisoName\"\r\n                    type=\"text\"\r\n                    readOnly={true}\r\n                    id=\"fideicomisoName\" value={dataTrust.name} />\r\n                </div>\r\n              </Col>\r\n              <Col md=\"3\">\r\n                <div className=\"mb-3\">\r\n                  <Label htmlFor=\"fideicomisoNumber\">{props.t(\"Escrownumber\")}</Label>\r\n                  <AvField\r\n                    className=\"form-control\"\r\n                    name=\"fideicomisoNumber\"\r\n                    type=\"number\"\r\n                    readOnly={true}\r\n                    id=\"fideicomisoNumber\" value={dataTrust.number} />\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n          </AvForm>\r\n        </Col>\r\n      </Row>\r\n    </React.Fragment>\r\n  );\r\n}\r\nexport default (withTranslation()(Fideicomiso))\r\n"]},"metadata":{},"sourceType":"module"}