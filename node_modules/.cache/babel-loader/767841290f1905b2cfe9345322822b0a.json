{"ast":null,"code":"import _regeneratorRuntime from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useTranslation}from\"react-i18next\";import moment from\"moment\";import Select from\"react-select\";import{Row,Col,Card,CardBody,CardFooter,Button,Label,Table}from\"reactstrap\";import Alert from'react-bootstrap/Alert';import{BackendServices,CoreServices,BpmServices}from\"../../../services\";import{AvForm,AvField,AvGroup,AvInput,AvCheckbox}from\"availity-reactstrap-validation\";import{PersonModel}from'../../../models/Common/PersonModel';import{BlackListHistoryModel}from'../../../models/Common/BlackListHistoryModel';import BlackListForm from\"./BlackListForm\";import{Link}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Offsymbol=function Offsymbol(){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100%\",fontSize:12,color:\"#fff\",paddingRight:2},children:[\" \",\"No\"]});};var OnSymbol=function OnSymbol(){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100%\",fontSize:12,color:\"#fff\",paddingRight:2},children:[\" \",\"Si\"]});};var ClientForm=function ClientForm(props){var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var _useState=useState(props.transactId),_useState2=_slicedToArray(_useState,2),transactId=_useState2[0],settransactId=_useState2[1];var _useState3=useState(props.clientSelected),_useState4=_slicedToArray(_useState3,2),selectClient=_useState4[0],setselectClient=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),identificationTypeList=_useState6[0],setidentificationTypeList=_useState6[1];var _useState7=useState(undefined),_useState8=_slicedToArray(_useState7,2),identificationTypeSelected=_useState8[0],setidentificationTypeSelected=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),personTypeList=_useState10[0],setpersonTypeList=_useState10[1];var _useState11=useState(undefined),_useState12=_slicedToArray(_useState11,2),personTypeSelected=_useState12[0],setpersonTypeSelected=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),roleList=_useState14[0],setroleList=_useState14[1];var _useState15=useState(undefined),_useState16=_slicedToArray(_useState15,2),roleSelected=_useState16[0],setroleSelected=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),countryList=_useState18[0],setcountryList=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),campoRequeridoCountry=_useState20[0],setcampoRequeridoCountry=_useState20[1];var _useState21=useState(undefined),_useState22=_slicedToArray(_useState21,2),countrySelected=_useState22[0],setcountrySelected=_useState22[1];var _useState23=useState(new BackendServices()),_useState24=_slicedToArray(_useState23,2),apiServiceBackend=_useState24[0],setapiServiceBackend=_useState24[1];var _useState25=useState(new CoreServices()),_useState26=_slicedToArray(_useState25,2),apiCoreServices=_useState26[0],setCoreServices=_useState26[1];var _useState27=useState({show:false,msg:\"\",isError:false}),_useState28=_slicedToArray(_useState27,2),msgData=_useState28[0],setmsgData=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),showBlackListForm=_useState30[0],setshowBlackListForm=_useState30[1];//On Mounting (componentDidMount)\nReact.useEffect(function(){console.log(\"useEffect\",transactId);fetchData();},[]);function fetchData(){loadIdentificationTypes();loadPersonTypes();loadRoles();loadCountries();}//cargar lista de tipo de identificacion\nfunction loadIdentificationTypes(){// consultarCatalogoTipoIdentificacion\napiServiceBackend.consultarCatalogoTipoIdentificacion().then(function(data){if(data!==null&&data!==undefined){var json=[];for(var i=0;i<data.length;i++){json.push({label:t(data[i][\"description\"]),value:data[i][\"id\"]});}setidentificationTypeList(json);setidentificationTypeSelected(selectClient!==undefined?json.find(function(x){return x.value===selectClient.idType;}):json[0]);}}).catch(function(error){});}//cargar lista de tipo de personas\nfunction loadPersonTypes(){// consultarCatalogoTipoPersona\napiServiceBackend.consultarCatalogoTipoPersona().then(function(data){if(data!==null&&data!==undefined){var json=[];for(var i=0;i<data.length;i++){json.push({label:t(data[i][\"label\"]),value:data[i][\"code\"]});}setpersonTypeList(json);setpersonTypeSelected(selectClient!==undefined?json.find(function(x){return x.value===Number(selectClient.personType);}):json[0]);}}).catch(function(error){});}//cargar lista de roles\nfunction loadRoles(){apiServiceBackend.retrieveRoleCatalog().then(function(data){if(data!==null&&data!==undefined){var json=[];for(var i=0;i<data.length;i++){json.push({label:t(data[i][\"roleDescription\"]),value:data[i][\"roleId\"],checked:false});}if(selectClient!==undefined&&selectClient.roles.length>0){selectClient.roles.map(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(item,i){var rol;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:rol=json.find(function(rolItem){return rolItem.value===item.roleId;});if(rol!==undefined&&rol!==null){rol.checked=true;}case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());}setroleList(json);}}).catch(function(error){});}//cargar lista de paises\nfunction loadCountries(){apiCoreServices.getPaisesCatalogo().then(function(data){if(data!==null&&data!==undefined){var json=[];for(var i=0;i<data.Records.length;i++){json.push({label:t(data.Records[i][\"Description\"]),value:data.Records[i][\"Code\"]});}// console.log(\"loadCountries\", selectClient);\nsetcountryList(json);setcountrySelected(json.find(function(x){return x.value===selectClient.nationality;}));// setcountrySelected(selectClient !== undefined ? json.find(x => x.value === selectClient.nationality) : json[0]);\n}}).catch(function(error){});}//Actualizar valores de Cliente cada vez que se actualiza un campo\nfunction handleChangeInputFormClient(e){var clientPerson=selectClient!==undefined?selectClient:new PersonModel();clientPerson.transactId=transactId;clientPerson[e.target.name]=e.target.value;setselectClient(clientPerson);//si la persona es juridica auto seleccionamos RUC\nif(clientPerson.personType===2){setidentificationTypeSelected(identificationTypeList.find(function(x){return x.value===\"RUC\";}));}}//Actualizar roles de Cliente cada vez que se actualiza un checkbox\nfunction handleChangeInputChkClient(e){var clientPerson=selectClient!==undefined?selectClient:new PersonModel();clientPerson.transactId=transactId;if(e.target.checked){//si es true lo agregamos\nclientPerson.roles.push({roleId:e.target.name});}else{//lo borramos\nclientPerson.roles=clientPerson.roles.filter(function(rol){return rol.roleId!==e.target.name;});}setselectClient(clientPerson);}//Guardar el Cliente\nfunction handleSubmitFormClient(_x3,_x4,_x5){return _handleSubmitFormClient.apply(this,arguments);}//Retorna los campos a mostrar en pantalla segun el tipo de persona seleccionada\nfunction _handleSubmitFormClient(){_handleSubmitFormClient=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event,errors,values){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();if(!(errors.length>0)){_context2.next=3;break;}return _context2.abrupt(\"return\");case 3:if(!(selectClient!==undefined&&selectClient!==null)){_context2.next=25;break;}if(!(countrySelected==undefined)){_context2.next=9;break;}setcampoRequeridoCountry(true);return _context2.abrupt(\"return\");case 9:setcampoRequeridoCountry(false);case 10:if(!(selectClient.roles.length<=0)){_context2.next=13;break;}showMessage(t(\"YoumustselectatleasoneRoleforthisclient\"),true);return _context2.abrupt(\"return\");case 13:if(!(selectClient.blacklist.length<=0)){_context2.next=16;break;}showMessage(t(\"ThisclienthasnotbeenverifiedonWatchLists\"),true);return _context2.abrupt(\"return\");case 16:if(!(selectClient.idType.length<=0)){_context2.next=19;break;}showMessage(t(\"PleaseselectIdentificationType\"),true);return _context2.abrupt(\"return\");case 19:if(!(selectClient.nationality.length<=0)){_context2.next=22;break;}showMessage(t(\"PleaseselectNationality\"),true);return _context2.abrupt(\"return\");case 22:if(selectClient.personId<=0){//nueva persona\napiServiceBackend.nuevoOrquestadoListaPersonaSolicitud(selectClient).then(function(data){if(data!==null&&data!==undefined){//salir\nprops.onCancel();props.checkDebtorShareholders();}else{showMessage(t(\"Datacouldnotbesaved\"),true);}}).catch(function(error){});}else{apiServiceBackend.actualizarOrquestadoListaPersonaSolicitud(selectClient).then(function(data){if(data!==null&&data!==undefined){//salir\nprops.onCancel();}else{showMessage(t(\"Datacouldnotbesaved\"),true);}}).catch(function(err){});}_context2.next=26;break;case 25:showMessage(t(\"Theclientisnotvalid\"),true);case 26:case\"end\":return _context2.stop();}}},_callee2);}));return _handleSubmitFormClient.apply(this,arguments);}function getClientDataFormByPersonType(personType){if(personType===undefined){return null;}switch(personType.value){case 1:{//Natural\nreturn/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"name\",children:t(\"FirstName\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"name\",type:\"text\",onChange:handleChangeInputFormClient,value:selectClient!==undefined?selectClient.name:'',errorMessage:t(\"Required Field\"),validate:{required:{value:true}}})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"secondName\",children:t(\"SecondName\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"secondName\",type:\"text\",onChange:handleChangeInputFormClient,value:selectClient!==undefined?selectClient.secondName:''})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"lastName\",children:t(\"FirstLastName\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"lastName\",type:\"text\",onChange:handleChangeInputFormClient,value:selectClient!==undefined?selectClient.lastName:'',errorMessage:t(\"Required Field\"),validate:{required:{value:true}}})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"secondSurname\",children:t(\"SecondLastName\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"secondSurname\",type:\"text\",onChange:handleChangeInputFormClient,value:selectClient!==undefined?selectClient.secondSurname:''})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"birthDate\",children:t(\"DBO\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"birthDate\",errorMessage:t(\"This client is not of legal age\"),max:moment().subtract(18,'years'),type:\"date\",onChange:function onChange(e){e.target.value=moment(e.target.value).format(\"YYYY-MM-DD\");handleChangeInputFormClient(e);},value:selectClient!==undefined?selectClient.birthDate:''})]})})]});}case 2:{//Juridica\nreturn/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"name\",children:t(\"SocialReason\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"name\",type:\"text\",onChange:handleChangeInputFormClient,value:selectClient!==undefined?selectClient.name:'',errorMessage:t(\"Required Field\"),validate:{required:{value:true}}})]})});}}return null;}//Carga de Datos de Cliente de T24 Seleccionado\nfunction loadClientDataT24(dataClientT24){var clientPerson=new PersonModel();if(selectClient!==undefined){clientPerson.personId=selectClient.personId;}clientPerson.customerNumberT24=dataClientT24.id;clientPerson.clientDocumentId=dataClientT24.idnumber;clientPerson.name=dataClientT24.firstname;clientPerson.secondName=dataClientT24.secondname;clientPerson.lastName=dataClientT24.lastname;clientPerson.secondSurname=dataClientT24.secondlastname;clientPerson.personType=personTypeList.find(function(x){return x.value===Number(dataClientT24.partyType);}).value;clientPerson.idType=identificationTypeList.find(function(x){return x.value===dataClientT24.idtype;}).value;setselectClient(clientPerson);setidentificationTypeSelected(identificationTypeList.find(function(x){return x.value===clientPerson.idType;}));setpersonTypeSelected(personTypeList.find(function(x){return x.value===clientPerson.personType;}));}//mostrar mensaje \nfunction showMessage(message){var isError=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;setmsgData({show:true,msg:message,isError:isError});}//Abrir modal de verificacion en listas de vigilancias\nfunction showWatchListCheck(){var show=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;setshowBlackListForm(show);}function addWatchListResult(resultWatchList){if(selectClient!==undefined){var blacklistmdl=new BlackListHistoryModel();//new BlacklistModel();\nblacklistmdl.blackList=resultWatchList.blackList;blacklistmdl.comment=resultWatchList.comments;blacklistmdl.transactId=transactId;selectClient.blacklist.push(blacklistmdl);setselectClient(selectClient);}}//Elimina record de la lista de Incidencias de Black Lista\nreturn/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsx(AvForm,{id:\"frmClient\",className:\"needs-validation\",onSubmit:handleSubmitFormClient,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h5\",{class:\"card-sub-title\",children:t(\"ClientData\")}),/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"personType\",children:t(\"PersonType\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},onChange:function onChange(e){setpersonTypeSelected(personTypeList.find(function(x){return x.value===e.value;}));handleChangeInputFormClient({target:{name:'personType',value:e.value}});},options:personTypeList,classNamePrefix:\"select2-selection\",value:personTypeSelected,name:\"personType\"})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"customerNumberT24\",children:t(\"ClientNumber\")}),/*#__PURE__*/_jsx(AvField,{onChange:handleChangeInputFormClient,className:\"form-control\",name:\"customerNumberT24\",type:\"number\",disabled:selectClient!==undefined?selectClient.isNew:true,value:selectClient!==undefined?selectClient.customerNumberT24:''})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[getClientDataFormByPersonType(personTypeSelected),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{children:t(\"IdType\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},onChange:function onChange(e){setidentificationTypeSelected(identificationTypeList.find(function(x){return x.value===e.value;}));handleChangeInputFormClient({target:{name:'idType',value:e.value}});},options:identificationTypeList,classNamePrefix:\"select2-selection\",value:identificationTypeSelected,name:\"idType\"})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"idnumber\",children:t(\"IdNumber\")}),/*#__PURE__*/_jsx(AvField,{onChange:handleChangeInputFormClient,className:\"form-control\",name:\"clientDocumentId\",type:\"text\",validate:{required:{value:true,errorMessage:t(\"Required Field\")}},value:selectClient!==undefined?selectClient.clientDocumentId:''})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"nationality\",children:t(\"Nationality\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},onChange:function onChange(e){setcountrySelected(countryList.find(function(x){return x.value===e.value;}));handleChangeInputFormClient({target:{name:'nationality',value:e.value}});},options:countryList,classNamePrefix:\"select2-selection\",value:countrySelected,name:\"nationality\"}),campoRequeridoCountry?/*#__PURE__*/_jsx(\"p\",{className:\"message-error-parrafo\",children:t(\"Required Field\")}):null]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"phone\",children:t(\"PhoneNumber\")}),/*#__PURE__*/_jsx(AvField,{onChange:handleChangeInputFormClient,className:\"form-control\",name:\"phone\",type:\"text\",validate:{number:{value:true,errorMessage:t(\"InvalidField\")}},value:selectClient!==undefined?selectClient.phone:''})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"email\",children:t(\"Email\")}),/*#__PURE__*/_jsx(AvField,{onChange:handleChangeInputFormClient,className:\"form-control\",name:\"email\",type:\"email\",value:selectClient!==undefined?selectClient.email:''})]})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:12,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h5\",{class:\"card-sub-title\",children:t(\"Roles\")}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(Row,{children:roleList.map(function(item,index){return/*#__PURE__*/_jsx(Col,{md:\"4\",children:/*#__PURE__*/_jsxs(AvGroup,{check:true,className:\"my-2\",children:[/*#__PURE__*/_jsx(AvInput,{type:\"checkbox\",defaultChecked:item.checked,name:item.value,onChange:handleChangeInputChkClient}),/*#__PURE__*/_jsxs(Label,{htmlFor:item.value,children:[\" \",item.label]})]})});})})})]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:12,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsx(\"h5\",{class:\"card-sub-title\",children:t(\"BlackListIncidences\")})}),/*#__PURE__*/_jsx(Col,{md:6,style:{textAlign:\"right\"},children:/*#__PURE__*/_jsxs(Button,{className:\"btn\",color:\"success\",type:\"button\",style:{margin:'5px'},onClick:showWatchListCheck,title:t(\"Add\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lg fa-plus-circle\"}),\" \",\" \"]})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive styled-table-div\",children:/*#__PURE__*/_jsxs(Table,{className:\"table table-striped table-hover styled-table table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"WithMatches\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Observations\")})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:selectClient!==undefined&&selectClient.blacklist!==undefined&&selectClient.blacklist.length>0?selectClient.blacklist.map(function(item,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.blackList?\"Si\":\"No\"}),/*#__PURE__*/_jsx(\"td\",{children:item.comment})]},index);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:7,children:/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info\",style:{textAlign:\"center\"},children:t(\"NotVerified\")})})})})]})})})})]})})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsx(Alert,{show:msgData.show,variant:msgData.isError?\"danger\":\"success\",dismissible:true,onClose:function onClose(){console.log(\"onClose\");setmsgData({show:false,msg:\"\",isError:false});},children:msgData.msg})})})]}),/*#__PURE__*/_jsxs(CardFooter,{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsxs(Button,{color:\"danger\",type:\"button\",style:{margin:'5px'},onClick:props.onCancel,children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi mdi-cancel mid-12px\"}),\" \",t(\"Cancel\")]}),/*#__PURE__*/_jsxs(Button,{color:\"success\",type:\"submit\",style:{margin:'5px'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-content-save mdi-12px\"}),\" \",t(\"Save\")]})]})]})}),showBlackListForm?/*#__PURE__*/_jsx(BlackListForm,{clientSelected:selectClient,isOpen:showBlackListForm,toggle:function toggle(){setshowBlackListForm(!showBlackListForm);},watchListResult:addWatchListResult}):null]});};export default ClientForm;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/1_Presolicitud/ClientForm.js"],"names":["React","useState","useTranslation","moment","Select","Row","Col","Card","CardBody","CardFooter","Button","Label","Table","Alert","BackendServices","CoreServices","BpmServices","AvForm","AvField","AvGroup","AvInput","AvCheckbox","PersonModel","BlackListHistoryModel","BlackListForm","Link","Offsymbol","display","justifyContent","alignItems","height","fontSize","color","paddingRight","OnSymbol","ClientForm","props","t","i18n","transactId","settransactId","clientSelected","selectClient","setselectClient","identificationTypeList","setidentificationTypeList","undefined","identificationTypeSelected","setidentificationTypeSelected","personTypeList","setpersonTypeList","personTypeSelected","setpersonTypeSelected","roleList","setroleList","roleSelected","setroleSelected","countryList","setcountryList","campoRequeridoCountry","setcampoRequeridoCountry","countrySelected","setcountrySelected","apiServiceBackend","setapiServiceBackend","apiCoreServices","setCoreServices","show","msg","isError","msgData","setmsgData","showBlackListForm","setshowBlackListForm","useEffect","console","log","fetchData","loadIdentificationTypes","loadPersonTypes","loadRoles","loadCountries","consultarCatalogoTipoIdentificacion","then","data","json","i","length","push","label","value","find","x","idType","catch","error","consultarCatalogoTipoPersona","Number","personType","retrieveRoleCatalog","checked","roles","map","item","rol","rolItem","roleId","getPaisesCatalogo","Records","nationality","handleChangeInputFormClient","e","clientPerson","target","name","handleChangeInputChkClient","filter","handleSubmitFormClient","event","errors","values","preventDefault","showMessage","blacklist","personId","nuevoOrquestadoListaPersonaSolicitud","onCancel","checkDebtorShareholders","actualizarOrquestadoListaPersonaSolicitud","err","getClientDataFormByPersonType","required","secondName","lastName","secondSurname","subtract","format","birthDate","loadClientDataT24","dataClientT24","customerNumberT24","id","clientDocumentId","idnumber","firstname","secondname","lastname","secondlastname","partyType","idtype","message","showWatchListCheck","addWatchListResult","resultWatchList","blacklistmdl","blackList","comment","comments","isNew","errorMessage","number","phone","email","index","textAlign","margin"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\r\nimport PropTypes from 'prop-types';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport moment from \"moment\";\r\nimport Select from \"react-select\";\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardBody,\r\n  CardFooter,\r\n  Button,\r\n  Label,\r\n  Table,\r\n} from \"reactstrap\"\r\n\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport { BackendServices, CoreServices, BpmServices, } from \"../../../services\";\r\nimport { AvForm, AvField, AvGroup, AvInput, AvCheckbox } from \"availity-reactstrap-validation\";\r\nimport { PersonModel } from '../../../models/Common/PersonModel';\r\nimport { BlackListHistoryModel } from '../../../models/Common/BlackListHistoryModel';\r\nimport BlackListForm from \"./BlackListForm\"\r\n\r\nimport { Link } from \"react-router-dom\"\r\n\r\nconst Offsymbol = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: \"100%\",\r\n        fontSize: 12,\r\n        color: \"#fff\",\r\n        paddingRight: 2,\r\n      }}\r\n    >\r\n      {\" \"}\r\n      No\r\n    </div>\r\n  );\r\n};\r\n\r\nconst OnSymbol = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: \"100%\",\r\n        fontSize: 12,\r\n        color: \"#fff\",\r\n        paddingRight: 2,\r\n      }}\r\n    >\r\n      {\" \"}\r\n      Si\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ClientForm = props => {\r\n  const { t, i18n } = useTranslation();\r\n  const [transactId, settransactId] = useState(props.transactId);\r\n  const [selectClient, setselectClient] = useState(props.clientSelected);\r\n  const [identificationTypeList, setidentificationTypeList] = useState([]);\r\n  const [identificationTypeSelected, setidentificationTypeSelected] = useState(undefined);\r\n  const [personTypeList, setpersonTypeList] = useState([]);\r\n  const [personTypeSelected, setpersonTypeSelected] = useState(undefined);\r\n  const [roleList, setroleList] = useState([]);\r\n  const [roleSelected, setroleSelected] = useState(undefined);\r\n  const [countryList, setcountryList] = useState([]);\r\n  const [campoRequeridoCountry, setcampoRequeridoCountry] = useState(false);\r\n  const [countrySelected, setcountrySelected] = useState(undefined);\r\n  const [apiServiceBackend, setapiServiceBackend] = useState(new BackendServices());\r\n  const [apiCoreServices, setCoreServices] = useState(new CoreServices());\r\n  const [msgData, setmsgData] = useState({ show: false, msg: \"\", isError: false });\r\n  const [showBlackListForm, setshowBlackListForm] = useState(false);\r\n  //On Mounting (componentDidMount)\r\n  React.useEffect(() => {\r\n    console.log(\"useEffect\", transactId)\r\n    fetchData();\r\n  }, []);\r\n  function fetchData() {\r\n    loadIdentificationTypes();\r\n    loadPersonTypes();\r\n    loadRoles();\r\n    loadCountries();\r\n  }\r\n  //cargar lista de tipo de identificacion\r\n  function loadIdentificationTypes() {\r\n    // consultarCatalogoTipoIdentificacion\r\n    apiServiceBackend.consultarCatalogoTipoIdentificacion()\r\n      .then((data) => {\r\n        if (data !== null && data !== undefined) {\r\n          let json = [];\r\n          for (let i = 0; i < data.length; i++) {\r\n            json.push({ label: t(data[i][\"description\"]), value: data[i][\"id\"] })\r\n          }\r\n          setidentificationTypeList(json)\r\n          setidentificationTypeSelected(selectClient !== undefined ? json.find(x => x.value === selectClient.idType) : json[0]);\r\n        }\r\n      }).catch((error) => { });\r\n  }\r\n  //cargar lista de tipo de personas\r\n  function loadPersonTypes() {\r\n    // consultarCatalogoTipoPersona\r\n    apiServiceBackend.consultarCatalogoTipoPersona()\r\n      .then((data) => {\r\n        if (data !== null && data !== undefined) {\r\n          let json = [];\r\n          for (let i = 0; i < data.length; i++) {\r\n            json.push({ label: t(data[i][\"label\"]), value: data[i][\"code\"] })\r\n          }\r\n          setpersonTypeList(json);\r\n          setpersonTypeSelected(selectClient !== undefined ? json.find(x => x.value === Number(selectClient.personType)) : json[0]);\r\n        }\r\n      }).catch((error) => { });\r\n  }\r\n  //cargar lista de roles\r\n  function loadRoles() {\r\n    apiServiceBackend.retrieveRoleCatalog()\r\n      .then((data) => {\r\n        if (data !== null && data !== undefined) {\r\n          let json = [];\r\n          for (let i = 0; i < data.length; i++) {\r\n            json.push({ label: t(data[i][\"roleDescription\"]), value: data[i][\"roleId\"], checked: false })\r\n          }\r\n          if (selectClient !== undefined && selectClient.roles.length > 0) {\r\n            selectClient.roles.map(async function (item, i) {\r\n              var rol = json.find((rolItem) => {\r\n                return rolItem.value === item.roleId;\r\n              })\r\n              if (rol !== undefined && rol !== null) {\r\n                rol.checked = true;\r\n              }\r\n            })\r\n          }\r\n          setroleList(json)\r\n        }\r\n      }).catch((error) => { });\r\n  }\r\n  //cargar lista de paises\r\n  function loadCountries() {\r\n    apiCoreServices.getPaisesCatalogo()\r\n      .then((data) => {\r\n        if (data !== null && data !== undefined) {\r\n          let json = [];\r\n          for (let i = 0; i < data.Records.length; i++) {\r\n            json.push({ label: t(data.Records[i][\"Description\"]), value: data.Records[i][\"Code\"] })\r\n          }\r\n          // console.log(\"loadCountries\", selectClient);\r\n          setcountryList(json);\r\n          setcountrySelected(json.find(x => x.value === selectClient.nationality));\r\n          // setcountrySelected(selectClient !== undefined ? json.find(x => x.value === selectClient.nationality) : json[0]);\r\n        }\r\n      }).catch((error) => { });\r\n  }\r\n  //Actualizar valores de Cliente cada vez que se actualiza un campo\r\n  function handleChangeInputFormClient(e) {\r\n    var clientPerson = selectClient !== undefined ? selectClient : new PersonModel();\r\n    clientPerson.transactId = transactId;\r\n    clientPerson[e.target.name] = e.target.value;\r\n    setselectClient(clientPerson);\r\n    //si la persona es juridica auto seleccionamos RUC\r\n    if (clientPerson.personType === 2) {\r\n      setidentificationTypeSelected(identificationTypeList.find(x => x.value === \"RUC\"));\r\n    }\r\n  }\r\n  //Actualizar roles de Cliente cada vez que se actualiza un checkbox\r\n  function handleChangeInputChkClient(e) {\r\n    var clientPerson = selectClient !== undefined ? selectClient : new PersonModel();\r\n    clientPerson.transactId = transactId;\r\n    if (e.target.checked) { //si es true lo agregamos\r\n      clientPerson.roles.push({ roleId: e.target.name })\r\n    }\r\n    else {//lo borramos\r\n      clientPerson.roles = clientPerson.roles.filter(rol => rol.roleId !== e.target.name)\r\n    }\r\n    setselectClient(clientPerson);\r\n  }\r\n  //Guardar el Cliente\r\n  async function handleSubmitFormClient(event, errors, values) {\r\n    event.preventDefault();\r\n    if (errors.length > 0) {\r\n      return;\r\n    }\r\n    if (selectClient !== undefined && selectClient !== null) {\r\n      if (countrySelected == undefined) {\r\n        setcampoRequeridoCountry(true);\r\n        return;\r\n      } else {\r\n        setcampoRequeridoCountry(false)\r\n      }\r\n      if (selectClient.roles.length <= 0) {\r\n        showMessage(t(\"YoumustselectatleasoneRoleforthisclient\"), true);\r\n        return;\r\n      }\r\n      if (selectClient.blacklist.length <= 0) {\r\n        showMessage(t(\"ThisclienthasnotbeenverifiedonWatchLists\"), true);\r\n        return;\r\n      }\r\n      if (selectClient.idType.length <= 0) {\r\n        showMessage(t(\"PleaseselectIdentificationType\"), true);\r\n        return;\r\n      }\r\n      if (selectClient.nationality.length <= 0) {\r\n        showMessage(t(\"PleaseselectNationality\"), true);\r\n        return;\r\n      }\r\n\r\n      if (selectClient.personId <= 0) {//nueva persona\r\n        apiServiceBackend.nuevoOrquestadoListaPersonaSolicitud(selectClient).then((data) => {\r\n          if (data !== null && data !== undefined) {\r\n            //salir\r\n            props.onCancel();\r\n\r\n            props.checkDebtorShareholders();\r\n          }\r\n          else {\r\n            showMessage(t(\"Datacouldnotbesaved\"), true);\r\n          }\r\n        }).catch((error) => { });\r\n      }\r\n      else {\r\n        apiServiceBackend.actualizarOrquestadoListaPersonaSolicitud(selectClient)\r\n          .then((data) => {\r\n            if (data !== null && data !== undefined) {\r\n              //salir\r\n              props.onCancel();\r\n            }\r\n            else {\r\n              showMessage(t(\"Datacouldnotbesaved\"), true);\r\n            }\r\n          }).catch((err) => { });\r\n      }\r\n    }\r\n    else {\r\n      showMessage(t(\"Theclientisnotvalid\"), true);\r\n    }\r\n  }\r\n  //Retorna los campos a mostrar en pantalla segun el tipo de persona seleccionada\r\n  function getClientDataFormByPersonType(personType) {\r\n    if (personType === undefined) {\r\n      return null;\r\n    }\r\n    switch (personType.value) {\r\n      case 1: {//Natural\r\n        return (<React.Fragment>\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"name\">{t(\"FirstName\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                name=\"name\"\r\n                type=\"text\" onChange={handleChangeInputFormClient}\r\n                value={selectClient !== undefined ? selectClient.name : ''}\r\n                errorMessage={t(\"Required Field\")}\r\n                validate={{ required: { value: true } }}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"secondName\">{t(\"SecondName\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                name=\"secondName\"\r\n                type=\"text\" onChange={handleChangeInputFormClient}\r\n                value={selectClient !== undefined ? selectClient.secondName : ''}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"lastName\">{t(\"FirstLastName\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                name=\"lastName\"\r\n                type=\"text\" onChange={handleChangeInputFormClient}\r\n                value={selectClient !== undefined ? selectClient.lastName : ''}\r\n                errorMessage={t(\"Required Field\")}\r\n                validate={{ required: { value: true } }}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"3\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"secondSurname\">{t(\"SecondLastName\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                name=\"secondSurname\"\r\n                type=\"text\" onChange={handleChangeInputFormClient}\r\n                value={selectClient !== undefined ? selectClient.secondSurname : ''}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"3\">\r\n            <AvGroup className=\"mb-3\">\r\n              <Label htmlFor=\"birthDate\">{t(\"DBO\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                name=\"birthDate\"\r\n                errorMessage={t(\"This client is not of legal age\")}\r\n                max={moment().subtract(18, 'years')}\r\n                type=\"date\" onChange={(e) => { e.target.value = moment(e.target.value).format(\"YYYY-MM-DD\"); handleChangeInputFormClient(e) }}\r\n                value={selectClient !== undefined ? selectClient.birthDate : ''}\r\n              />\r\n            </AvGroup>\r\n          </Col>\r\n        </React.Fragment>)\r\n      }\r\n      case 2: {//Juridica\r\n        return (\r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"name\">{t(\"SocialReason\")}</Label>\r\n              <AvField\r\n                className=\"form-control\"\r\n                name=\"name\"\r\n                type=\"text\" onChange={handleChangeInputFormClient}\r\n                value={selectClient !== undefined ? selectClient.name : ''}\r\n                errorMessage={t(\"Required Field\")}\r\n                validate={{ required: { value: true } }} />\r\n            </div>\r\n          </Col>\r\n        )\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n  //Carga de Datos de Cliente de T24 Seleccionado\r\n  function loadClientDataT24(dataClientT24) {\r\n    var clientPerson = new PersonModel();\r\n    if (selectClient !== undefined) {\r\n      clientPerson.personId = selectClient.personId;\r\n    }\r\n    clientPerson.customerNumberT24 = dataClientT24.id;\r\n    clientPerson.clientDocumentId = dataClientT24.idnumber;\r\n    clientPerson.name = dataClientT24.firstname;\r\n    clientPerson.secondName = dataClientT24.secondname;\r\n    clientPerson.lastName = dataClientT24.lastname;\r\n    clientPerson.secondSurname = dataClientT24.secondlastname;\r\n    clientPerson.personType = personTypeList.find(x => x.value === Number(dataClientT24.partyType)).value;\r\n    clientPerson.idType = identificationTypeList.find(x => x.value === dataClientT24.idtype).value;\r\n    setselectClient(clientPerson);\r\n    setidentificationTypeSelected(identificationTypeList.find(x => x.value === clientPerson.idType));\r\n    setpersonTypeSelected(personTypeList.find(x => x.value === clientPerson.personType));\r\n  }\r\n  //mostrar mensaje \r\n  function showMessage(message, isError = false) {\r\n    setmsgData({ show: true, msg: message, isError: isError })\r\n  }\r\n  //Abrir modal de verificacion en listas de vigilancias\r\n  function showWatchListCheck(show = true) {\r\n    setshowBlackListForm(show);\r\n  }\r\n  function addWatchListResult(resultWatchList) {\r\n    if (selectClient !== undefined) {\r\n      var blacklistmdl = new BlackListHistoryModel(); //new BlacklistModel();\r\n      blacklistmdl.blackList = resultWatchList.blackList;\r\n      blacklistmdl.comment = resultWatchList.comments;\r\n      blacklistmdl.transactId = transactId;\r\n      selectClient.blacklist.push(blacklistmdl);\r\n      setselectClient(selectClient);\r\n    }\r\n  }\r\n\r\n  //Elimina record de la lista de Incidencias de Black Lista\r\n  return (\r\n    <React.Fragment>\r\n      <p className=\"card-title-desc\"></p>\r\n      <AvForm id=\"frmClient\" className=\"needs-validation\" onSubmit={handleSubmitFormClient}>\r\n        <Card>\r\n          <h5 class=\"card-sub-title\">{t(\"ClientData\")}</h5>\r\n          <CardBody>\r\n            <Row>\r\n              <Col md=\"3\">\r\n                <div className=\"mb-3\">\r\n                  <Label htmlFor=\"personType\">{t(\"PersonType\")}</Label>\r\n                  <Select noOptionsMessage={() => \"\"} \r\n                    onChange={(e) => { setpersonTypeSelected(personTypeList.find(x => x.value === e.value)); handleChangeInputFormClient({ target: { name: 'personType', value: e.value } }) }}\r\n                    options={personTypeList}\r\n                    classNamePrefix=\"select2-selection\"\r\n                    value={personTypeSelected}\r\n                    name=\"personType\"\r\n                  />\r\n                </div>\r\n              </Col>\r\n              <Col md=\"3\">\r\n                <div className=\"mb-3\">\r\n                  <Label htmlFor=\"customerNumberT24\">{t(\"ClientNumber\")}</Label>\r\n                  <AvField onChange={handleChangeInputFormClient} className=\"form-control\"\r\n                    name=\"customerNumberT24\" type=\"number\" disabled={selectClient !== undefined ? selectClient.isNew : true}\r\n                    value={selectClient !== undefined ? selectClient.customerNumberT24 : ''}\r\n                  />\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              {getClientDataFormByPersonType(personTypeSelected)}\r\n\r\n              <Col md=\"3\">\r\n                <div className=\"mb-3\">\r\n                  <Label>{t(\"IdType\")}</Label>\r\n                  <Select noOptionsMessage={() => \"\"} \r\n                    onChange={(e) => { setidentificationTypeSelected(identificationTypeList.find(x => x.value === e.value)); handleChangeInputFormClient({ target: { name: 'idType', value: e.value } }) }}\r\n                    options={identificationTypeList}\r\n                    classNamePrefix=\"select2-selection\"\r\n                    value={identificationTypeSelected}\r\n                    name=\"idType\"\r\n                  />\r\n                </div>\r\n              </Col>\r\n              <Col md=\"3\">\r\n                <div className=\"mb-3\">\r\n                  <Label htmlFor=\"idnumber\">{t(\"IdNumber\")}</Label>\r\n                  <AvField onChange={handleChangeInputFormClient} className=\"form-control\"\r\n                    name=\"clientDocumentId\" type=\"text\"\r\n                    validate={{ required: { value: true, errorMessage: t(\"Required Field\") } }}\r\n                    value={selectClient !== undefined ? selectClient.clientDocumentId : ''}\r\n                  />\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col md=\"3\">\r\n                <div className=\"mb-3\">\r\n                  <Label htmlFor=\"nationality\">{t(\"Nationality\")}</Label>\r\n                  <Select noOptionsMessage={() => \"\"} \r\n                    onChange={(e) => { setcountrySelected(countryList.find(x => x.value === e.value)); handleChangeInputFormClient({ target: { name: 'nationality', value: e.value } }) }}\r\n                    options={countryList}\r\n                    classNamePrefix=\"select2-selection\"\r\n                    value={countrySelected}\r\n                    name=\"nationality\"\r\n                  />\r\n                  {campoRequeridoCountry ?\r\n                    <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n                    : null}\r\n                </div>\r\n              </Col>\r\n              <Col md=\"3\">\r\n                <div className=\"mb-3\">\r\n                  <Label htmlFor=\"phone\">{t(\"PhoneNumber\")}</Label>\r\n                  <AvField onChange={handleChangeInputFormClient} className=\"form-control\"\r\n                    name=\"phone\"\r\n                    type=\"text\"\r\n                    validate={{\r\n                      number: { value: true, errorMessage: t(\"InvalidField\") },\r\n                    }}\r\n                    value={selectClient !== undefined ? selectClient.phone : ''}\r\n                  />\r\n                </div>\r\n              </Col>\r\n              <Col md=\"3\">\r\n                <div className=\"mb-3\">\r\n                  <Label htmlFor=\"email\">{t(\"Email\")}</Label>\r\n                  <AvField onChange={handleChangeInputFormClient} className=\"form-control\"\r\n                    name=\"email\" type=\"email\"\r\n                    value={selectClient !== undefined ? selectClient.email : ''}\r\n                  />\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col xs={12}>\r\n                <Card>\r\n                  <h5 class=\"card-sub-title\">{t(\"Roles\")}</h5>\r\n                  <CardBody>\r\n                    <Row>\r\n                      {roleList.map((item, index) => (\r\n                        <Col md=\"4\">\r\n                          <AvGroup check className=\"my-2\">\r\n                            <AvInput type=\"checkbox\" defaultChecked={item.checked} name={item.value} onChange={handleChangeInputChkClient} />\r\n                            <Label htmlFor={item.value}> {item.label}</Label>\r\n                          </AvGroup>\r\n                        </Col>\r\n                      ))}\r\n                    </Row>\r\n                  </CardBody>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n\r\n\r\n            <Row>\r\n              <Col xs={12}>\r\n                <Card>\r\n                  <CardBody>\r\n                  <Row>\r\n                    <Col md=\"6\">\r\n                      <h5 class=\"card-sub-title\">{t(\"BlackListIncidences\")}</h5>\r\n                    </Col>\r\n                    <Col md={6} style={{ textAlign: \"right\", }}>\r\n                    <Button className=\"btn\" color=\"success\" type=\"button\" style={{ margin: '5px' }} onClick={showWatchListCheck} title={t(\"Add\")}><i className=\"fas fa-lg fa-plus-circle\"></i> {(\" \")}</Button>\r\n                 </Col>\r\n                  </Row>\r\n                    <Row>\r\n                        <Col md=\"12\">\r\n                          <div className=\"table-responsive styled-table-div\">\r\n                            <Table className=\"table table-striped table-hover styled-table table\">\r\n                              <thead>\r\n                                <tr>\r\n                                  <th>{t(\"WithMatches\")}</th>\r\n                                  <th>{t(\"Observations\")}</th>\r\n                                </tr>\r\n                              </thead>\r\n                              <tbody>\r\n                                {selectClient !== undefined && selectClient.blacklist !== undefined && selectClient.blacklist.length > 0? \r\n                                selectClient.blacklist.map((item, index) => (\r\n                                  <tr key={index}>\r\n                                    <td>{item.blackList ? \"Si\" : \"No\"}</td>\r\n                                    <td>{item.comment}</td>\r\n                                  </tr>\r\n                                )):\r\n                                <tr>\r\n                                <td colSpan={7}>\r\n                                <div className=\"alert alert-info\" style={{ textAlign: \"center\" }}>{t(\"NotVerified\")}</div> \r\n                                </td>\r\n                              </tr>\r\n                          \r\n                                }\r\n                              </tbody>\r\n                            </Table>\r\n                          </div>\r\n                        </Col>\r\n                    </Row>\r\n                  </CardBody>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col md=\"12\">\r\n                <Alert show={msgData.show} variant={msgData.isError ? \"danger\" : \"success\"} dismissible onClose={() => { console.log(\"onClose\"); setmsgData({ show: false, msg: \"\", isError: false }) }}>\r\n                  {msgData.msg}\r\n                </Alert>\r\n              </Col>\r\n            </Row>\r\n          </CardBody>\r\n          <CardFooter style={{ textAlign: \"right\" }}>\r\n            <Button color=\"danger\" type=\"button\" style={{ margin: '5px' }} onClick={props.onCancel}>\r\n              <i className=\"mdi mdi mdi-cancel mid-12px\"></i>{\" \"}{t(\"Cancel\")}\r\n            </Button>\r\n            <Button color=\"success\" type=\"submit\" style={{ margin: '5px' }}><i className=\"mdi mdi-content-save mdi-12px\"></i>\r\n              {\" \"}{t(\"Save\")}\r\n            </Button>\r\n          </CardFooter>\r\n        </Card>\r\n      </AvForm>\r\n      {showBlackListForm ?\r\n        <BlackListForm clientSelected={selectClient} isOpen={showBlackListForm} toggle={() => { setshowBlackListForm(!showBlackListForm) }} watchListResult={addWatchListResult} />\r\n        : null}\r\n    </React.Fragment>\r\n  );\r\n};\r\nClientForm.propTypes = {\r\n  onCancel: PropTypes.func,\r\n  clientSelected: PropTypes.any,\r\n  transactId: PropTypes.any,\r\n  checkDebtorShareholders: PropTypes.func\r\n}\r\nexport default ClientForm;"]},"metadata":{},"sourceType":"module"}