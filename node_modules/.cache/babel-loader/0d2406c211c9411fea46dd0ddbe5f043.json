{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";//Gestionar Log de los Procesos\nimport React,{useState}from\"react\";import{Link}from\"react-router-dom\";import functionshelper from\"../../helpers/functions_helper\";import{Table,Card,CardBody,Alert,UncontrolledAlert,Pagination,PaginationItem,PaginationLink,CardFooter,Button,Row,Col}from\"reactstrap\";//i18n\nimport{withTranslation}from\"react-i18next\";//Import SweetAlert\nimport SweetAlert from\"react-bootstrap-sweetalert\";import ModalNewLog from\"./ModalNewLog\";import{BackendServices}from\"../../services/index\";import HeaderSections from\"../../components/Common/HeaderSections\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LogProcess=function LogProcess(props){//Data que recibimos en el location\nvar _useState=useState(props.locationData),_useState2=_slicedToArray(_useState,2),locationData=_useState2[0],setLocationData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),dataList=_useState4[0],setDataList=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),displayNewLogModal=_useState6[0],setDisplayNewLogModal=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),success_dlg=_useState8[0],setsuccess_dlg=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),success_msg=_useState10[0],setsuccess_msg=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),error_dlg=_useState12[0],seterror_dlg=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),error_msg=_useState14[0],seterror_msg=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),showErro=_useState16[0],setshowErro=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),errorMsg=_useState18[0],seterrorMsg=_useState18[1];//On Mounting (componentDidMount) if selectedData has changes\nReact.useEffect(function(){if(props.locationData!==undefined&&props.locationData!==null){setLocationData(props.locationData);searchData(props.locationData);}},[props.locationData]);//nuevo log\nfunction toggleDisplayNewLogModal(){setDisplayNewLogModal(!displayNewLogModal);removeBodyCss();}function removeBodyCss(){document.body.classList.add(\"no_padding\");}//buscamos las Propuestas de Credito\nfunction searchData(data){var parameters={responsible:data.customerName,instanceNumber:data.instanceId,transactId:data.transactionId};var api=new BackendServices();api.getHistorical(parameters).then(function(resp){if(resp.status==200){var dataRows=resp.result.map(function(dt,idx){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:dt.date}),/*#__PURE__*/_jsx(\"td\",{children:dt.observations}),/*#__PURE__*/_jsx(\"td\",{children:functionshelper.getProcessName(dt.processId)}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{children:dt.responsible}),/*#__PURE__*/_jsx(\"td\",{})]},idx);});setDataList(dataRows);}else{console.log(\"searchLogs\",resp);setshowErro(false);seterrorMsg(props.t('ErrorCode')+\": \"+resp.status+\"  \"+props.t('ErrorMsg')+\": \"+resp.error.error);setshowErro(true);}}).catch(function(err){console.log(err);});}function _onSaveLogProcess(observations){/* ---------------------------------------------------------------------------------------------- */ /*              Le pasamos los valores al servicio de guardar bitacora                            */ /* ---------------------------------------------------------------------------------------------- */var data={\"instanceId\":locationData.instanceId,\"transactId\":locationData.transactionId,\"clientId\":locationData.customerId,\"observations\":observations,\"responsible\":locationData.customerName,//hay que poner el usuario login\n\"processId\":locationData.processId,\"activityId\":locationData.activityId,\"status\":true};var api=new BackendServices();api.saveHistorical(data).then(function(resp){if(resp!==undefined){searchData(locationData);setsuccess_msg(props.t(\"SuccessSaveMessage\"));setsuccess_dlg(true);}else{setshowErro(false);seterrorMsg(props.t(\"ErrorSaveMessage\"));setshowErro(true);}}).catch(function(err){console.log(err);});}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(CardBody,{children:[showErro?/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{lg:\"12\",children:/*#__PURE__*/_jsx(UncontrolledAlert,{color:\"danger\",role:\"alert\",dismissible:true,onClose:function onClose(){console.log(\"error\");setshowErro(false);},children:errorMsg})})}):null,/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{lg:\"12\",children:[/*#__PURE__*/_jsx(HeaderSections,{title:\"Binnacle\",t:props.t}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(Table,{className:\"table mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:props.t(\"Date\")}),/*#__PURE__*/_jsx(\"th\",{children:props.t(\"Comment\")}),/*#__PURE__*/_jsx(\"th\",{children:props.t(\"Process\")}),/*#__PURE__*/_jsx(\"th\",{children:props.t(\"Activity\")}),/*#__PURE__*/_jsx(\"th\",{children:props.t(\"User\")}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(Link,{to:\"#\",className:\"float-end\",onClick:function onClick(){toggleDisplayNewLogModal();},title:props.t(\"Add\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-plus-box-multiple-outline mdi-24px\"}),\" \"]})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataList})]})})]})})]}),/*#__PURE__*/_jsx(ModalNewLog,{onSaveLogProcess:function onSaveLogProcess(observations){_onSaveLogProcess(observations);},isOpen:displayNewLogModal,toggle:function toggle(){toggleDisplayNewLogModal();}}),success_dlg?/*#__PURE__*/_jsx(SweetAlert,{success:true,title:props.t(\"SuccessDialog\"),onConfirm:function onConfirm(){setsuccess_dlg(false);},children:success_msg}):null,error_dlg?/*#__PURE__*/_jsx(SweetAlert,{error:true,title:props.t(\"ErrorDialog\"),onConfirm:function onConfirm(){seterror_dlg(false);},children:error_msg}):null]});};export default withTranslation()(LogProcess);","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/components/LogProcess/index.js"],"names":["React","useState","Link","functionshelper","Table","Card","CardBody","Alert","UncontrolledAlert","Pagination","PaginationItem","PaginationLink","CardFooter","Button","Row","Col","withTranslation","SweetAlert","ModalNewLog","BackendServices","HeaderSections","LogProcess","props","locationData","setLocationData","dataList","setDataList","displayNewLogModal","setDisplayNewLogModal","success_dlg","setsuccess_dlg","success_msg","setsuccess_msg","error_dlg","seterror_dlg","error_msg","seterror_msg","showErro","setshowErro","errorMsg","seterrorMsg","useEffect","undefined","searchData","toggleDisplayNewLogModal","removeBodyCss","document","body","classList","add","data","parameters","responsible","customerName","instanceNumber","instanceId","transactId","transactionId","api","getHistorical","then","resp","status","dataRows","result","map","dt","idx","date","observations","getProcessName","processId","console","log","t","error","catch","err","onSaveLogProcess","customerId","activityId","saveHistorical"],"mappings":"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","sourcesContent":["//Gestionar Log de los Procesos\r\nimport React, { useState } from \"react\"\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from \"react-router-dom\"\r\nimport functionshelper from \"../../helpers/functions_helper\"\r\n\r\nimport {\r\n  Table,\r\n  Card,\r\n  CardBody,\r\n  Alert,\r\n  UncontrolledAlert,\r\n  Pagination,\r\n  PaginationItem,\r\n  PaginationLink,\r\n  CardFooter,\r\n  Button,\r\n  Row,\r\n  Col,\r\n} from \"reactstrap\"\r\n\r\n//i18n\r\nimport { withTranslation } from \"react-i18next\"\r\n//Import SweetAlert\r\nimport SweetAlert from \"react-bootstrap-sweetalert\"\r\n\r\nimport ModalNewLog from \"./ModalNewLog\"\r\nimport { BackendServices } from \"../../services/index\";\r\n\r\nimport HeaderSections from \"../../components/Common/HeaderSections\";\r\n\r\nconst LogProcess = props => {\r\n\r\n  //Data que recibimos en el location\r\n  const [locationData, setLocationData] = useState(props.locationData);\r\n\r\n  const [dataList, setDataList] = useState([]);\r\n  const [displayNewLogModal, setDisplayNewLogModal] = useState(false);\r\n\r\n  const [success_dlg, setsuccess_dlg] = useState(false);\r\n  const [success_msg, setsuccess_msg] = useState(\"\");\r\n  const [error_dlg, seterror_dlg] = useState(false);\r\n  const [error_msg, seterror_msg] = useState(\"\");\r\n\r\n  const [showErro, setshowErro] = useState(false);\r\n  const [errorMsg, seterrorMsg] = useState(\"\");\r\n\r\n  //On Mounting (componentDidMount) if selectedData has changes\r\n  React.useEffect(() => {\r\n    if (props.locationData !== undefined && props.locationData !== null) {\r\n      setLocationData(props.locationData)\r\n      searchData(props.locationData);\r\n    }\r\n  }, [props.locationData]);\r\n\r\n  //nuevo log\r\n  function toggleDisplayNewLogModal() {\r\n    setDisplayNewLogModal(!displayNewLogModal);\r\n    removeBodyCss()\r\n  }\r\n\r\n  function removeBodyCss() {\r\n    document.body.classList.add(\"no_padding\")\r\n  }\r\n\r\n  //buscamos las Propuestas de Credito\r\n  function searchData(data) {\r\n\r\n    var parameters = { responsible: data.customerName, instanceNumber: data.instanceId, transactId: data.transactionId }\r\n    const api = new BackendServices();\r\n    api.getHistorical(parameters)\r\n      .then(resp => {\r\n\r\n        if (resp.status == 200) {\r\n          const dataRows = resp.result.map((dt, idx) => (\r\n            <tr key={idx}>\r\n              <th scope=\"row\">{dt.date}</th>\r\n              <td>{dt.observations}</td>\r\n              <td>{functionshelper.getProcessName(dt.processId)}</td>\r\n              <td></td>\r\n              <td>{dt.responsible}</td>\r\n              <td></td>\r\n            </tr>)\r\n          );\r\n          setDataList(dataRows);\r\n        }\r\n        else {\r\n          console.log(\"searchLogs\", resp)\r\n\r\n          setshowErro(false);\r\n          seterrorMsg(props.t('ErrorCode') + \": \" + resp.status + \"  \" + props.t('ErrorMsg') + \": \" + resp.error.error);\r\n          setshowErro(true)\r\n        }\r\n      }).catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function onSaveLogProcess(observations) {\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*              Le pasamos los valores al servicio de guardar bitacora                            */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    let data = {\r\n      \"instanceId\": locationData.instanceId,\r\n      \"transactId\": locationData.transactionId,\r\n      \"clientId\": locationData.customerId,\r\n      \"observations\": observations,\r\n      \"responsible\": locationData.customerName, //hay que poner el usuario login\r\n      \"processId\": locationData.processId,\r\n      \"activityId\": locationData.activityId,\r\n      \"status\": true\r\n    }\r\n    const api = new BackendServices();\r\n    api.saveHistorical(data)\r\n      .then(resp => {\r\n        if (resp !== undefined) {\r\n          searchData(locationData);\r\n\r\n          setsuccess_msg(props.t(\"SuccessSaveMessage\"))\r\n          setsuccess_dlg(true)\r\n        }\r\n        else {\r\n          setshowErro(false);\r\n          seterrorMsg(props.t(\"ErrorSaveMessage\"));\r\n          setshowErro(true);\r\n        }\r\n      }).catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  return (\r\n\r\n    <React.Fragment>\r\n        <CardBody>\r\n\r\n          {showErro ? (\r\n            <Row>\r\n              <Col lg=\"12\">\r\n                <UncontrolledAlert color=\"danger\" role=\"alert\" dismissible onClose={() => { console.log(\"error\"); setshowErro(false) }}>\r\n                  {errorMsg}\r\n                </UncontrolledAlert>\r\n              </Col>\r\n            </Row>\r\n          ) : null}\r\n\r\n          <Row>\r\n            <Col lg=\"12\">\r\n              {/*<h4 className=\"card-title\">{props.t(\"Binnacle\")}</h4>*/}\r\n              <HeaderSections title=\"Binnacle\" t={props.t}></HeaderSections>\r\n              <div className=\"table-responsive\">\r\n                <Table className=\"table mb-0\">\r\n                  <thead className=\"table-light\">\r\n                    <tr>\r\n                      <th>{props.t(\"Date\")}</th>\r\n                      <th>{props.t(\"Comment\")}</th>\r\n                      <th>{props.t(\"Process\")}</th>\r\n                      <th>{props.t(\"Activity\")}</th>\r\n                      <th>{props.t(\"User\")}</th>\r\n                      <th>\r\n                        <Link to=\"#\" className=\"float-end\" onClick={() => { toggleDisplayNewLogModal() }} title={props.t(\"Add\")}><i className=\"mdi mdi-plus-box-multiple-outline mdi-24px\"></i>{\" \"}</Link>\r\n                      </th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {dataList}\r\n                  </tbody>\r\n                </Table>\r\n\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </CardBody>\r\n      \r\n\r\n      <ModalNewLog onSaveLogProcess={(observations) => { onSaveLogProcess(observations) }} isOpen={displayNewLogModal} toggle={() => { toggleDisplayNewLogModal() }} />\r\n\r\n\r\n      {success_dlg ? (\r\n        <SweetAlert\r\n          success\r\n          title={props.t(\"SuccessDialog\")}\r\n          onConfirm={() => {\r\n            setsuccess_dlg(false)\r\n\r\n          }}\r\n        >\r\n          {success_msg}\r\n        </SweetAlert>\r\n      ) : null}\r\n\r\n      {error_dlg ? (\r\n        <SweetAlert\r\n          error\r\n          title={props.t(\"ErrorDialog\")}\r\n          onConfirm={() => {\r\n            seterror_dlg(false)\r\n          }}\r\n        >\r\n          {error_msg}\r\n        </SweetAlert>\r\n      ) : null}\r\n\r\n\r\n    </React.Fragment>\r\n\r\n  );\r\n}\r\n\r\nLogProcess.propTypes = {\r\n  locationData: PropTypes.any,\r\n};\r\n\r\nexport default (withTranslation()(LogProcess))\r\n"]},"metadata":{},"sourceType":"module"}