{"ast":null,"code":"import _regeneratorRuntime from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useLocation,useHistory}from'react-router-dom';import*as opt from\"../../../helpers/options_helper\";import*as url from\"../../../helpers/url_helper\";import{Row,Col,Card,CardBody,Label,CardFooter,Button,Table,CardHeader}from\"reactstrap\";import Alert from'react-bootstrap/Alert';import{AvForm,AvField}from\"availity-reactstrap-validation\";import{Link}from\"react-router-dom\";import Breadcrumbs from\"../../../components/Common/Breadcrumb\";import{useTranslation}from\"react-i18next\";import LoadingOverlay from'react-loading-overlay';import ClientForm from\"../1_Presolicitud/ClientForm\";import SweetAlert from\"react-bootstrap-sweetalert\";import AttachmentFileCore from\"../../../components/Common/AttachmentFileCore\";import ModalEndProcess from\"../../../components/EndProcess/ModalEndProcess\";import{PersonModel}from'../../../models/Common/PersonModel';import{InfoBpmModel}from'../../../models/Common/InfoBpmModel';import{BackendServices,CoreServices,BpmServices}from\"../../../services\";import{LogProcessModel}from'../../../models/Common/LogProcessModel';import LogProcess from\"../../../components/LogProcess/index\";import ModalBitacora from\"../../../components/Common/ModalBitacora\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Compliance=function Compliance(props){var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var history=useHistory();var location=useLocation();//Data que recibimos en el location\nvar _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),locationData=_useState2[0],setLocationData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isActiveLoading=_useState4[0],setIsActiveLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),openNewClient=_useState6[0],setopenNewClient=_useState6[1];//Datos de la Tabla de Clientes\nvar _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),dataClientList=_useState8[0],setdataClientList=_useState8[1];//Cliente seleccionado\nvar _useState9=useState(undefined),_useState10=_slicedToArray(_useState9,2),selectedClient=_useState10[0],setselectedClient=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),identificationTypeList=_useState12[0],setidentificationTypeList=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),personTypeList=_useState14[0],setpersonTypeList=_useState14[1];//mostrar el modal para la opci√≥n de finalizar proceso\nvar _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),displayModalEndProcess=_useState16[0],setdisplayModalEndProcess=_useState16[1];var _useState17=useState({show:false,msg:\"\",isError:false}),_useState18=_slicedToArray(_useState17,2),msgData=_useState18[0],setmsgData=_useState18[1];//Servicios\nvar _useState19=useState(new BackendServices()),_useState20=_slicedToArray(_useState19,2),backendServices=_useState20[0],setbackendServices=_useState20[1];var _useState21=useState(new BpmServices()),_useState22=_slicedToArray(_useState21,2),bpmServices=_useState22[0],setbpmServices=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),displayModalBitacora=_useState24[0],setdisplayModalBitacora=_useState24[1];var _useState25=useState(null),_useState26=_slicedToArray(_useState25,2),optionSelected=_useState26[0],setoptionSelected=_useState26[1];var _useState27=useState(null),_useState28=_slicedToArray(_useState27,2),mainDebtor=_useState28[0],setmainDebtor=_useState28[1];//On Mounting (componentDidMount)\nReact.useEffect(function(){if(location.data!==null&&location.data!==undefined){if(location.data.transactionId===undefined||location.data.transactionId.length<=0){//location.data.transactionId = 0;\n//checkAndCreateProcedure(location.data);\nhistory.push(url.URL_DASHBOARD);}else{sessionStorage.setItem('locationData',JSON.stringify(location.data));setLocationData(location.data);fetchData(location.data);}}else{//chequeamos si tenemos guardado en session\nvar result=sessionStorage.getItem('locationData');if(result!==undefined&&result!==null){result=JSON.parse(result);setLocationData(result);fetchData(result);}}},[]);//Caraga Inicial de datos\nfunction fetchData(locationData){//chequear si la tarea no ha sido iniciada\nbpmServices.checkAndStartTask(locationData).then(function(iniresult){if(iniresult===false){history.push(url.URL_DASHBOARD);}});loadIdentificationTypes();loadPersonTypes();getProcessClients(locationData.transactionId);loadMainDebtor(locationData.transactionId);}//cargar lista de tipo de identificacion\nfunction loadIdentificationTypes(){backendServices.consultarCatalogoTipoIdentificacion().then(function(data){if(data!==null&&data!==undefined){var json=[];for(var i=0;i<data.length;i++){json.push({label:t(data[i][\"description\"]),value:data[i][\"id\"]});}setidentificationTypeList(json);}}).catch(function(error){});}//cargar lista de tipo de personas\nfunction loadPersonTypes(){backendServices.consultarCatalogoTipoPersona().then(function(data){if(data!==null&&data!==undefined){var json=[];for(var i=0;i<data.length;i++){json.push({label:t(data[i][\"label\"]),value:data[i][\"code\"]});}setpersonTypeList(json);}}).catch(function(error){});}//cargar deudor principal\nfunction loadMainDebtor(_x){return _loadMainDebtor.apply(this,arguments);}//se buscan todos los clientes de este proceso \nfunction _loadMainDebtor(){_loadMainDebtor=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(transactionId){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return backendServices.consultPrincipalDebtor(transactionId);case 2:result=_context.sent;if(result!==undefined&&result!==null){setmainDebtor(result);}case 4:case\"end\":return _context.stop();}}},_callee);}));return _loadMainDebtor.apply(this,arguments);}function getProcessClients(transactionId){backendServices.consultarOrquestadoListaPersonaSolicitud(transactionId).then(function(data){if(data!==null&&data!==undefined){setdataClientList(data);if(data.length<=0){setselectedClient(new PersonModel());onOpenNewClient();}}}).catch(function(error){});}//Abrir formulario Persona\nfunction onOpenNewClient(){var show=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;setopenNewClient(show);}//Editar Persona\nfunction onEditClient(dataClient){setselectedClient(dataClient);onOpenNewClient();}//Eliminar Persona\nfunction onDeleteClient(dataClient){//eliminarOrquestadoListaPersonaSolicitud\nbackendServices.eliminarOrquestadoListaPersonaSolicitud(dataClient).then(function(data){getProcessClients(dataClient.transactId);}).catch(function(error){});}//retorna el Tipo de Persona\nfunction getPersnoType(pType){return personTypeList.find(function(x){return x.value===pType;});}//retorna el Tipo de identificacion\nfunction getIdentificationType(idType){return identificationTypeList.find(function(x){return x.value===idType;});}//mostrar mensaje \nfunction showMessage(message){var isError=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;setmsgData({show:true,msg:message,isError:isError});}////////// PARTE ES LA FINAL DEL PROCESO ///////\n//Modal Para mostrar Comentario de Fin de Proceso\nfunction showModalBitacora(){var show=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;setdisplayModalBitacora(show);}//Salvando el Proceso y le pasamos una opcion: 1-Finalizar Proceso, 2- Salvarlo, 3- A Cumplimmineto, 4- Avanzar a IGR\nfunction onSaveProcess(_x2){return _onSaveProcess.apply(this,arguments);}function _onSaveProcess(){_onSaveProcess=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(option){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.t0=option;_context2.next=_context2.t0===opt.PROCESS_LISTAEXCLUSION?3:_context2.t0===opt.PROCESS_CUMPLIMIENTO?11:18;break;case 3:if(!(mainDebtor!==null&&mainDebtor!==undefined)){_context2.next=7;break;}saveJBPMProcess(option);_context2.next=10;break;case 7://Mensaje ERROR\nshowMessage(t(\"Youmustselectatleastonedebtor\"),true);_context2.next=10;return loadMainDebtor(locationData.transactionId);case 10:return _context2.abrupt(\"break\",20);case 11:if(!(dataClientList.length>0)){_context2.next=16;break;}saveJBPMProcess(option);return _context2.abrupt(\"break\",20);case 16:showMessage(t(\"Youmustenteratleastoneclient\"),true);return _context2.abrupt(\"return\");case 18:saveJBPMProcess(option);return _context2.abrupt(\"break\",20);case 20:case\"end\":return _context2.stop();}}},_callee2);}));return _onSaveProcess.apply(this,arguments);}function saveJBPMProcess(_x3){return _saveJBPMProcess.apply(this,arguments);}function _saveJBPMProcess(){_saveJBPMProcess=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(option){var maindebtor,infoBpmModel,values;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(\"saveJBPMProcess\",option);_context3.next=3;return backendServices.consultPrincipalDebtor(locationData.transactionId);case 3:maindebtor=_context3.sent;infoBpmModel=new InfoBpmModel(locationData.instanceId,locationData.transactionId,opt.PROCESS_CUMPLIMIENTO,opt.ACT_NONE,maindebtor===null||maindebtor===void 0?void 0:maindebtor.personId);infoBpmModel.personName=maindebtor!==undefined?maindebtor.name+\" \"+maindebtor.name2+\" \"+maindebtor.lastName+\" \"+maindebtor.lastName2:\"\";_context3.t0=option;_context3.next=_context3.t0===opt.PROCESS_CANCELPROCESS?9:_context3.t0===opt.PROCESS_CUMPLIMIENTO?11:_context3.t0===opt.PROCESS_REFUSED?16:_context3.t0===opt.PROCESS_LISTAEXCLUSION?21:26;break;case 9:bpmServices.abortProcess(infoBpmModel.instanceId).then(function(data){if(data!==undefined){history.push(url.URL_DASHBOARD);}else{//Mensaje ERROR\nshowMessage(t(\"TheProcessCouldNotFinish\"),true);}});return _context3.abrupt(\"break\",26);case 11:infoBpmModel.processId=opt.PROCESS_CUMPLIMIENTO;infoBpmModel.activityId=opt.ACT_NONE;values={\"info\":JSON.stringify(infoBpmModel),\"processId\":opt.PROCESS_CUMPLIMIENTO.toString(),\"activityId\":opt.ACT_NONE.toString(),\"transactionId\":locationData.transactionId};bpmServices.updatevariables(infoBpmModel.instanceId,values).then(function(data){if(data!==undefined){history.push(url.URL_DASHBOARD);}else{//Mensaje ERROR\nshowMessage(t(\"ErrorSaveMessage\"),true);}});return _context3.abrupt(\"break\",26);case 16:infoBpmModel.processId=opt.PROCESS_REFUSED;infoBpmModel.activityId=opt.ACT_NONE;values={\"info\":JSON.stringify(infoBpmModel),\"processId\":opt.PROCESS_REFUSED.toString(),\"activityId\":opt.ACT_NONE.toString(),\"transactionId\":locationData.transactionId,\"customerId\":\"\",\"applicationNumber\":\"\",\"procedureNumber\":\"\",\"decision\":\"no\"};bpmServices.completedStatusTask(locationData.taskId,values).then(function(data){if(data!==undefined){history.push(url.URL_DASHBOARD);}else{//Mensaje ERROR\nshowMessage(t(\"ErrorSaveMessage\"),true);}});return _context3.abrupt(\"break\",26);case 21:infoBpmModel.processId=opt.PROCESS_LISTAEXCLUSION;infoBpmModel.activityId=opt.ACT_NONE;values={\"info\":JSON.stringify(infoBpmModel),\"processId\":opt.PROCESS_LISTAEXCLUSION.toString(),\"activityId\":opt.ACT_NONE.toString(),\"transactionId\":locationData.transactionId,\"customerId\":\"\",\"applicationNumber\":\"\",\"procedureNumber\":\"\",\"decision\":\"si\"};bpmServices.completedStatusTask(locationData.taskId,values).then(function(data){if(data!==undefined){history.push(url.URL_DASHBOARD);}else{//Mensaje ERROR\nshowMessage(t(\"ErrorSaveMessage\"),true);}});return _context3.abrupt(\"break\",26);case 26:case\"end\":return _context3.stop();}}},_callee3);}));return _saveJBPMProcess.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(Breadcrumbs,{title:t(\"CommercialCredit\"),breadcrumbItem:t(\"Compliance\")}),/*#__PURE__*/_jsx(LoadingOverlay,{active:isActiveLoading,spinner:true,text:t(\"WaitingPlease\"),children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"card-title\",children:t(\"Compliance\")}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\",children:t(\"This form is official and must be filled out correctly\")})]}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{sm:12,style:{textAlign:\"right\"},children:/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",style:{textAlign:\"right\"},children:[t(\"Tramit\"),\":\",\" \",\"#\",locationData===null||locationData===void 0?void 0:locationData.transactionId]})})})})]})}),openNewClient?/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(ClientForm,{transactId:locationData.transactionId,clientSelected:selectedClient,onCancel:function onCancel(){onOpenNewClient(false);getProcessClients(locationData.transactionId);}})}):/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"card-sub-title\",children:t(\"ParticipantsList\")})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(Table,{className:\"table mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"PersonType\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"FullName\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"IdentificationType\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"IdentificationNumber\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Roles\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"WatchList\")})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataClientList.length>0?dataClientList.map(function(item,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:getPersnoType(Number(item.personType)).label}),/*#__PURE__*/_jsx(\"td\",{children:Number(item.personType)>1?item.name:item.name+\" \"+item.secondName+\" \"+item.lastName+\" \"+item.secondSurname}),/*#__PURE__*/_jsx(\"td\",{children:getIdentificationType(item.idType).label}),/*#__PURE__*/_jsx(\"td\",{children:item.clientDocumentId}),/*#__PURE__*/_jsx(\"td\",{children:item.roles!==undefined?item.roles.map(function(rol,index){return rol.roleDescription+\" - \";}):null}),/*#__PURE__*/_jsx(\"td\",{children:item.blacklist!==undefined&&item.blacklist.length>0?item.blacklist[item.blacklist.length-1].blackList===true?\"Aplica\":\"No Aplica\":\"No Aplica\"})]});}):/*#__PURE__*/_jsx(\"td\",{colspan:\"7\",children:/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info\",style:{textAlign:\"center\"},children:t(\"NoData\")})})})]})})})})]}),!openNewClient?/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(CardFooter,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsx(Alert,{show:msgData.show,variant:msgData.isError?\"danger\":\"success\",dismissible:true,onClose:function onClose(){console.log(\"onClose\");setmsgData({show:false,msg:\"\",isError:false});},children:msgData.msg})})}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"3\",style:{textAlign:\"left\"},children:/*#__PURE__*/_jsxs(Button,{color:\"danger\",type:\"button\",style:{margin:'5px'},onClick:function onClick(){setoptionSelected(opt.PROCESS_CANCELPROCESS);showModalBitacora();},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-cancel mid-12px\"}),\" \",t(\"Cancel\")]})}),/*#__PURE__*/_jsxs(Col,{md:\"9\",style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsxs(Button,{color:\"danger\",type:\"button\",style:{margin:'5px'},onClick:function onClick(){setoptionSelected(opt.PROCESS_REFUSED);showModalBitacora();},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-cancel mid-12px\"}),\" \",t(\"NotRecommend\")]}),/*#__PURE__*/_jsxs(Button,{color:\"primary\",type:\"button\",style:{margin:'5px'},onClick:function onClick(){onSaveProcess(opt.PROCESS_CUMPLIMIENTO);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-content-save-outline mid-12px\"}),\" \",t(\"Exit\")]}),/*#__PURE__*/_jsxs(Button,{color:\"success\",type:\"button\",style:{margin:'5px'},onClick:function onClick(){setoptionSelected(opt.PROCESS_LISTAEXCLUSION);showModalBitacora();},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-arrow-right-bold-circle-outline mid-12px\"}),\" \",t(\"Recommend\")]})]})]})]})}):null]})}),locationData?/*#__PURE__*/_jsx(LogProcess,{logProcessModel:new LogProcessModel(locationData.instanceId,locationData.transactionId,0,\"\",\"\",opt.PROCESS_CUMPLIMIENTO,opt.ACT_NONE,opt.BPM_ACTIVITY_02)}):null,locationData&&displayModalBitacora?/*#__PURE__*/_jsx(ModalBitacora,{logProcessModel:new LogProcessModel(locationData.instanceId,locationData.transactionId,0,\"\",\"\",opt.PROCESS_CUMPLIMIENTO,opt.ACT_NONE,opt.BPM_ACTIVITY_02),successSaved:function successSaved(){onSaveProcess(optionSelected);},isOpen:displayModalBitacora,toggle:function toggle(){showModalBitacora(false);}}):null]});};export default Compliance;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/3_Cumplimiento/index.js"],"names":["React","useState","useLocation","useHistory","opt","url","Row","Col","Card","CardBody","Label","CardFooter","Button","Table","CardHeader","Alert","AvForm","AvField","Link","Breadcrumbs","useTranslation","LoadingOverlay","ClientForm","SweetAlert","AttachmentFileCore","ModalEndProcess","PersonModel","InfoBpmModel","BackendServices","CoreServices","BpmServices","LogProcessModel","LogProcess","ModalBitacora","Compliance","props","t","i18n","history","location","undefined","locationData","setLocationData","isActiveLoading","setIsActiveLoading","openNewClient","setopenNewClient","dataClientList","setdataClientList","selectedClient","setselectedClient","identificationTypeList","setidentificationTypeList","personTypeList","setpersonTypeList","displayModalEndProcess","setdisplayModalEndProcess","show","msg","isError","msgData","setmsgData","backendServices","setbackendServices","bpmServices","setbpmServices","displayModalBitacora","setdisplayModalBitacora","optionSelected","setoptionSelected","mainDebtor","setmainDebtor","useEffect","data","transactionId","length","push","URL_DASHBOARD","sessionStorage","setItem","JSON","stringify","fetchData","result","getItem","parse","checkAndStartTask","then","iniresult","loadIdentificationTypes","loadPersonTypes","getProcessClients","loadMainDebtor","consultarCatalogoTipoIdentificacion","json","i","label","value","catch","error","consultarCatalogoTipoPersona","consultPrincipalDebtor","consultarOrquestadoListaPersonaSolicitud","onOpenNewClient","onEditClient","dataClient","onDeleteClient","eliminarOrquestadoListaPersonaSolicitud","transactId","getPersnoType","pType","find","x","getIdentificationType","idType","showMessage","message","showModalBitacora","onSaveProcess","option","PROCESS_LISTAEXCLUSION","PROCESS_CUMPLIMIENTO","saveJBPMProcess","console","log","maindebtor","infoBpmModel","instanceId","ACT_NONE","personId","personName","name","name2","lastName","lastName2","PROCESS_CANCELPROCESS","PROCESS_REFUSED","abortProcess","processId","activityId","values","toString","updatevariables","completedStatusTask","taskId","textAlign","map","item","index","Number","personType","secondName","secondSurname","clientDocumentId","roles","rol","roleDescription","blacklist","blackList","margin","BPM_ACTIVITY_02"],"mappings":"0gBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,OAASC,WAAT,CAAsBC,UAAtB,KAAwC,kBAAxC,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,iCAArB,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,6BAArB,CACA,OACEC,GADF,CAEEC,GAFF,CAGEC,IAHF,CAIEC,QAJF,CAKEC,KALF,CAMEC,UANF,CAOEC,MAPF,CAQEC,KARF,CASEC,UATF,KAUO,YAVP,CAWA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CACA,OAASC,MAAT,CAAiBC,OAAjB,KAAgC,gCAAhC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,uCAAxB,CACA,OAASC,cAAT,KAA+B,eAA/B,CACA,MAAOC,CAAAA,cAAP,KAA2B,uBAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,4BAAvB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,+CAA/B,CACA,MAAOC,CAAAA,eAAP,KAA4B,gDAA5B,CACA,OAASC,WAAT,KAA4B,oCAA5B,CACA,OAASC,YAAT,KAA6B,qCAA7B,CACA,OAASC,eAAT,CAA0BC,YAA1B,CAAwCC,WAAxC,KAA4D,mBAA5D,CAEA,OAASC,eAAT,KAAgC,wCAAhC,CACA,MAAOC,CAAAA,UAAP,KAAuB,sCAAvB,CACA,MAAOC,CAAAA,aAAP,KAA0B,0CAA1B,C,wFAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAC,KAAK,CAAI,CAC1B,oBAAoBf,cAAc,EAAlC,CAAQgB,CAAR,iBAAQA,CAAR,CAAWC,IAAX,iBAAWA,IAAX,CACA,GAAMC,CAAAA,OAAO,CAAGnC,UAAU,EAA1B,CACA,GAAMoC,CAAAA,QAAQ,CAAGrC,WAAW,EAA5B,CACA;AACA,cAAwCD,QAAQ,CAACuC,SAAD,CAAhD,wCAAOC,YAAP,eAAqBC,eAArB,eACA,eAA8CzC,QAAQ,CAAC,KAAD,CAAtD,yCAAO0C,eAAP,eAAwBC,kBAAxB,eACA,eAA0C3C,QAAQ,CAAC,KAAD,CAAlD,yCAAO4C,aAAP,eAAsBC,gBAAtB,eACA;AACA,eAA4C7C,QAAQ,CAAC,EAAD,CAApD,yCAAO8C,cAAP,eAAuBC,iBAAvB,eACA;AACA,eAA4C/C,QAAQ,CAACuC,SAAD,CAApD,0CAAOS,cAAP,gBAAuBC,iBAAvB,gBACA,gBAA4DjD,QAAQ,CAAC,EAAD,CAApE,2CAAOkD,sBAAP,gBAA+BC,yBAA/B,gBACA,gBAA4CnD,QAAQ,CAAC,EAAD,CAApD,2CAAOoD,cAAP,gBAAuBC,iBAAvB,gBACA;AACA,gBAA4DrD,QAAQ,CAAC,KAAD,CAApE,2CAAOsD,sBAAP,gBAA+BC,yBAA/B,gBACA,gBAA8BvD,QAAQ,CAAC,CAAEwD,IAAI,CAAE,KAAR,CAAeC,GAAG,CAAE,EAApB,CAAwBC,OAAO,CAAE,KAAjC,CAAD,CAAtC,2CAAOC,OAAP,gBAAgBC,UAAhB,gBACA;AACA,gBAA8C5D,QAAQ,CAAC,GAAI2B,CAAAA,eAAJ,EAAD,CAAtD,2CAAOkC,eAAP,gBAAwBC,kBAAxB,gBACA,gBAAsC9D,QAAQ,CAAC,GAAI6B,CAAAA,WAAJ,EAAD,CAA9C,2CAAOkC,WAAP,gBAAoBC,cAApB,gBAEA,gBAAwDhE,QAAQ,CAAC,KAAD,CAAhE,2CAAOiE,oBAAP,gBAA6BC,uBAA7B,gBACA,gBAA4ClE,QAAQ,CAAC,IAAD,CAApD,2CAAOmE,cAAP,gBAAuBC,iBAAvB,gBACA,gBAAoCpE,QAAQ,CAAC,IAAD,CAA5C,2CAAOqE,UAAP,gBAAmBC,aAAnB,gBAEA;AACAvE,KAAK,CAACwE,SAAN,CAAgB,UAAM,CACpB,GAAIjC,QAAQ,CAACkC,IAAT,GAAkB,IAAlB,EAA0BlC,QAAQ,CAACkC,IAAT,GAAkBjC,SAAhD,CAA2D,CACzD,GAAID,QAAQ,CAACkC,IAAT,CAAcC,aAAd,GAAgClC,SAAhC,EAA6CD,QAAQ,CAACkC,IAAT,CAAcC,aAAd,CAA4BC,MAA5B,EAAsC,CAAvF,CAA0F,CACxF;AACA;AACArC,OAAO,CAACsC,IAAR,CAAavE,GAAG,CAACwE,aAAjB,EACD,CAJD,IAKK,CACHC,cAAc,CAACC,OAAf,CAAuB,cAAvB,CAAuCC,IAAI,CAACC,SAAL,CAAe1C,QAAQ,CAACkC,IAAxB,CAAvC,EACA/B,eAAe,CAACH,QAAQ,CAACkC,IAAV,CAAf,CACAS,SAAS,CAAC3C,QAAQ,CAACkC,IAAV,CAAT,CACD,CACF,CAXD,IAYK,CACH;AACA,GAAIU,CAAAA,MAAM,CAAGL,cAAc,CAACM,OAAf,CAAuB,cAAvB,CAAb,CACA,GAAID,MAAM,GAAK3C,SAAX,EAAwB2C,MAAM,GAAK,IAAvC,CAA6C,CAC3CA,MAAM,CAAGH,IAAI,CAACK,KAAL,CAAWF,MAAX,CAAT,CACAzC,eAAe,CAACyC,MAAD,CAAf,CACAD,SAAS,CAACC,MAAD,CAAT,CACD,CACF,CACF,CAtBD,CAsBG,EAtBH,EAuBA;AACA,QAASD,CAAAA,SAAT,CAAmBzC,YAAnB,CAAiC,CAC/B;AACAuB,WAAW,CAACsB,iBAAZ,CAA8B7C,YAA9B,EACG8C,IADH,CACQ,SAACC,SAAD,CAAe,CACnB,GAAIA,SAAS,GAAK,KAAlB,CAAyB,CACvBlD,OAAO,CAACsC,IAAR,CAAavE,GAAG,CAACwE,aAAjB,EACD,CACF,CALH,EAMAY,uBAAuB,GACvBC,eAAe,GACfC,iBAAiB,CAAClD,YAAY,CAACiC,aAAd,CAAjB,CACAkB,cAAc,CAACnD,YAAY,CAACiC,aAAd,CAAd,CACD,CACD;AACA,QAASe,CAAAA,uBAAT,EAAmC,CACjC3B,eAAe,CAAC+B,mCAAhB,GACGN,IADH,CACQ,SAACd,IAAD,CAAU,CACd,GAAIA,IAAI,GAAK,IAAT,EAAiBA,IAAI,GAAKjC,SAA9B,CAAyC,CACvC,GAAIsD,CAAAA,IAAI,CAAG,EAAX,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGtB,IAAI,CAACE,MAAzB,CAAiCoB,CAAC,EAAlC,CAAsC,CACpCD,IAAI,CAAClB,IAAL,CAAU,CAAEoB,KAAK,CAAE5D,CAAC,CAACqC,IAAI,CAACsB,CAAD,CAAJ,CAAQ,aAAR,CAAD,CAAV,CAAoCE,KAAK,CAAExB,IAAI,CAACsB,CAAD,CAAJ,CAAQ,IAAR,CAA3C,CAAV,EACD,CACD3C,yBAAyB,CAAC0C,IAAD,CAAzB,CACD,CACF,CATH,EASKI,KATL,CASW,SAACC,KAAD,CAAW,CAAG,CATzB,EAUD,CACD;AACA,QAAST,CAAAA,eAAT,EAA2B,CACzB5B,eAAe,CAACsC,4BAAhB,GACGb,IADH,CACQ,SAACd,IAAD,CAAU,CACd,GAAIA,IAAI,GAAK,IAAT,EAAiBA,IAAI,GAAKjC,SAA9B,CAAyC,CACvC,GAAIsD,CAAAA,IAAI,CAAG,EAAX,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGtB,IAAI,CAACE,MAAzB,CAAiCoB,CAAC,EAAlC,CAAsC,CACpCD,IAAI,CAAClB,IAAL,CAAU,CAAEoB,KAAK,CAAE5D,CAAC,CAACqC,IAAI,CAACsB,CAAD,CAAJ,CAAQ,OAAR,CAAD,CAAV,CAA8BE,KAAK,CAAExB,IAAI,CAACsB,CAAD,CAAJ,CAAQ,MAAR,CAArC,CAAV,EACD,CACDzC,iBAAiB,CAACwC,IAAD,CAAjB,CACD,CACF,CATH,EASKI,KATL,CASW,SAACC,KAAD,CAAW,CAAG,CATzB,EAUD,CACD;AAzF0B,QA0FXP,CAAAA,cA1FW,mDAiG1B;AAjG0B,mGA0F1B,iBAA8BlB,aAA9B,mJACqBZ,CAAAA,eAAe,CAACuC,sBAAhB,CAAuC3B,aAAvC,CADrB,QACMS,MADN,eAEE,GAAGA,MAAM,GAAG3C,SAAT,EAAsB2C,MAAM,GAAK,IAApC,CAAyC,CACvCZ,aAAa,CAACY,MAAD,CAAb,CACD,CAJH,sDA1F0B,iDAkG1B,QAASQ,CAAAA,iBAAT,CAA2BjB,aAA3B,CAA0C,CACxCZ,eAAe,CAACwC,wCAAhB,CAAyD5B,aAAzD,EACGa,IADH,CACQ,SAACd,IAAD,CAAU,CACd,GAAIA,IAAI,GAAK,IAAT,EAAiBA,IAAI,GAAKjC,SAA9B,CAAyC,CACvCQ,iBAAiB,CAACyB,IAAD,CAAjB,CACA,GAAIA,IAAI,CAACE,MAAL,EAAe,CAAnB,CAAsB,CACpBzB,iBAAiB,CAAC,GAAIxB,CAAAA,WAAJ,EAAD,CAAjB,CACA6E,eAAe,GAChB,CACF,CACF,CATH,EASKL,KATL,CASW,SAACC,KAAD,CAAW,CAAG,CATzB,EAUD,CACD;AACA,QAASI,CAAAA,eAAT,EAAsC,IAAb9C,CAAAA,IAAa,2DAAN,IAAM,CACpCX,gBAAgB,CAACW,IAAD,CAAhB,CACD,CACD;AACA,QAAS+C,CAAAA,YAAT,CAAsBC,UAAtB,CAAkC,CAChCvD,iBAAiB,CAACuD,UAAD,CAAjB,CACAF,eAAe,GAChB,CACD;AACA,QAASG,CAAAA,cAAT,CAAwBD,UAAxB,CAAoC,CAClC;AACA3C,eAAe,CAAC6C,uCAAhB,CAAwDF,UAAxD,EACGlB,IADH,CACQ,SAACd,IAAD,CAAU,CACdkB,iBAAiB,CAACc,UAAU,CAACG,UAAZ,CAAjB,CACD,CAHH,EAGKV,KAHL,CAGW,SAACC,KAAD,CAAW,CAAG,CAHzB,EAID,CACD;AACA,QAASU,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,CAC5B,MAAOzD,CAAAA,cAAc,CAAC0D,IAAf,CAAoB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACf,KAAF,GAAYa,KAAhB,EAArB,CAAP,CACD,CACD;AACA,QAASG,CAAAA,qBAAT,CAA+BC,MAA/B,CAAuC,CACrC,MAAO/D,CAAAA,sBAAsB,CAAC4D,IAAvB,CAA4B,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACf,KAAF,GAAYiB,MAAhB,EAA7B,CAAP,CACD,CACD;AACA,QAASC,CAAAA,WAAT,CAAqBC,OAArB,CAA+C,IAAjBzD,CAAAA,OAAiB,2DAAP,KAAO,CAE7CE,UAAU,CAAC,CAAEJ,IAAI,CAAE,IAAR,CAAcC,GAAG,CAAE0D,OAAnB,CAA4BzD,OAAO,CAAEA,OAArC,CAAD,CAAV,CACD,CACD;AACA;AAEA,QAAS0D,CAAAA,iBAAT,EAAuC,IAAZ5D,CAAAA,IAAY,2DAAL,IAAK,CACrCU,uBAAuB,CAACV,IAAD,CAAvB,CACD,CACD;AAlJ0B,QAmJX6D,CAAAA,aAnJW,oJAmJ1B,kBAA6BC,MAA7B,mIACUA,MADV,+BAESnH,GAAG,CAACoH,sBAFb,kBAcSpH,GAAG,CAACqH,oBAdb,yBAIUnD,UAAU,GAAK,IAAf,EAAuBA,UAAU,GAAK9B,SAJhD,2BAKQkF,eAAe,CAACH,MAAD,CAAf,CALR,+BAQQ;AACAJ,WAAW,CAAC/E,CAAC,CAAC,+BAAD,CAAF,CAAqC,IAArC,CAAX,CATR,wBAUcwD,CAAAA,cAAc,CAACnD,YAAY,CAACiC,aAAd,CAV5B,0DAeS3B,cAAc,CAAC4B,MAAf,CAAsB,CAf/B,4BAgBQ+C,eAAe,CAACH,MAAD,CAAf,CAhBR,4CAoBQJ,WAAW,CAAC/E,CAAC,CAAC,8BAAD,CAAF,CAAoC,IAApC,CAAX,CApBR,0CAyBMsF,eAAe,CAACH,MAAD,CAAf,CAzBN,6FAnJ0B,wDAiLXG,CAAAA,eAjLW,0JAiL1B,kBAA+BH,MAA/B,yJAEEI,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA8BL,MAA9B,EAFF,uBAIyBzD,CAAAA,eAAe,CAACuC,sBAAhB,CAAuC5D,YAAY,CAACiC,aAApD,CAJzB,QAIMmD,UAJN,gBAMMC,YANN,CAMqB,GAAInG,CAAAA,YAAJ,CAAiBc,YAAY,CAACsF,UAA9B,CAAyCtF,YAAY,CAACiC,aAAtD,CACjBtE,GAAG,CAACqH,oBADa,CACQrH,GAAG,CAAC4H,QADZ,CAEjBH,UAFiB,SAEjBA,UAFiB,iBAEjBA,UAAU,CAAEI,QAFK,CANrB,CAUEH,YAAY,CAACI,UAAb,CAAwBL,UAAU,GAAGrF,SAAb,CAAwBqF,UAAU,CAACM,IAAX,CAAkB,GAAlB,CAAuBN,UAAU,CAACO,KAAlC,CAA0C,GAA1C,CAA+CP,UAAU,CAACQ,QAA1D,CAAqE,GAArE,CAA0ER,UAAU,CAACS,SAA7G,CAAyH,EAAjJ,CAVF,aAYUf,MAZV,+BAaSnH,GAAG,CAACmI,qBAbb,kBA0BSnI,GAAG,CAACqH,oBA1Bb,mBAgDSrH,GAAG,CAACoI,eAhDb,mBA0ESpI,GAAG,CAACoH,sBA1Eb,oBAcMxD,WAAW,CAACyE,YAAZ,CAAyBX,YAAY,CAACC,UAAtC,EACGxC,IADH,CACQ,SAACd,IAAD,CAAU,CACd,GAAIA,IAAI,GAAKjC,SAAb,CAAwB,CACtBF,OAAO,CAACsC,IAAR,CAAavE,GAAG,CAACwE,aAAjB,EACD,CAFD,IAGK,CACH;AACAsC,WAAW,CAAC/E,CAAC,CAAC,0BAAD,CAAF,CAAgC,IAAhC,CAAX,CACD,CACF,CATH,EAdN,4CA2BM0F,YAAY,CAACY,SAAb,CAAuBtI,GAAG,CAACqH,oBAA3B,CACAK,YAAY,CAACa,UAAb,CAAwBvI,GAAG,CAAC4H,QAA5B,CAEIY,MA9BV,CA8BmB,CACX,OAAO5D,IAAI,CAACC,SAAL,CAAe6C,YAAf,CADI,CAEX,YAAa1H,GAAG,CAACqH,oBAAJ,CAAyBoB,QAAzB,EAFF,CAGX,aAAczI,GAAG,CAAC4H,QAAJ,CAAaa,QAAb,EAHH,CAIX,gBAAiBpG,YAAY,CAACiC,aAJnB,CA9BnB,CAoCMV,WAAW,CAAC8E,eAAZ,CAA4BhB,YAAY,CAACC,UAAzC,CAAqDa,MAArD,EACGrD,IADH,CACQ,SAACd,IAAD,CAAU,CACd,GAAIA,IAAI,GAAKjC,SAAb,CAAwB,CACtBF,OAAO,CAACsC,IAAR,CAAavE,GAAG,CAACwE,aAAjB,EACD,CAFD,IAGK,CACH;AACAsC,WAAW,CAAC/E,CAAC,CAAC,kBAAD,CAAF,CAAwB,IAAxB,CAAX,CACD,CACF,CATH,EApCN,4CAiDM0F,YAAY,CAACY,SAAb,CAAuBtI,GAAG,CAACoI,eAA3B,CACAV,YAAY,CAACa,UAAb,CAAwBvI,GAAG,CAAC4H,QAA5B,CAEIY,MApDV,CAoDmB,CACX,OAAO5D,IAAI,CAACC,SAAL,CAAe6C,YAAf,CADI,CAEX,YAAa1H,GAAG,CAACoI,eAAJ,CAAoBK,QAApB,EAFF,CAGX,aAAczI,GAAG,CAAC4H,QAAJ,CAAaa,QAAb,EAHH,CAIX,gBAAiBpG,YAAY,CAACiC,aAJnB,CAKX,aAAc,EALH,CAMX,oBAAqB,EANV,CAOX,kBAAmB,EAPR,CAQX,WAAY,IARD,CApDnB,CA8DMV,WAAW,CAAC+E,mBAAZ,CAAgCtG,YAAY,CAACuG,MAA7C,CAAqDJ,MAArD,EACGrD,IADH,CACQ,SAACd,IAAD,CAAU,CACd,GAAIA,IAAI,GAAKjC,SAAb,CAAwB,CACtBF,OAAO,CAACsC,IAAR,CAAavE,GAAG,CAACwE,aAAjB,EACD,CAFD,IAGK,CACH;AACAsC,WAAW,CAAC/E,CAAC,CAAC,kBAAD,CAAF,CAAwB,IAAxB,CAAX,CACD,CACF,CATH,EA9DN,4CA2EM0F,YAAY,CAACY,SAAb,CAAuBtI,GAAG,CAACoH,sBAA3B,CACAM,YAAY,CAACa,UAAb,CAAwBvI,GAAG,CAAC4H,QAA5B,CAEIY,MA9EV,CA8EmB,CACX,OAAO5D,IAAI,CAACC,SAAL,CAAe6C,YAAf,CADI,CAEX,YAAa1H,GAAG,CAACoH,sBAAJ,CAA2BqB,QAA3B,EAFF,CAGX,aAAczI,GAAG,CAAC4H,QAAJ,CAAaa,QAAb,EAHH,CAIX,gBAAiBpG,YAAY,CAACiC,aAJnB,CAKX,aAAc,EALH,CAMX,oBAAqB,EANV,CAOX,kBAAmB,EAPR,CAQX,WAAY,IARD,CA9EnB,CAwFMV,WAAW,CAAC+E,mBAAZ,CAAgCtG,YAAY,CAACuG,MAA7C,CAAqDJ,MAArD,EACGrD,IADH,CACQ,SAACd,IAAD,CAAU,CACd,GAAIA,IAAI,GAAKjC,SAAb,CAAwB,CACtBF,OAAO,CAACsC,IAAR,CAAavE,GAAG,CAACwE,aAAjB,EACD,CAFD,IAGK,CACH;AACAsC,WAAW,CAAC/E,CAAC,CAAC,kBAAD,CAAF,CAAwB,IAAxB,CAAX,CACD,CACF,CATH,EAxFN,6FAjL0B,kDAyR1B,mBACE,aAAK,SAAS,CAAC,cAAf,wBACE,KAAC,WAAD,EAAa,KAAK,CAAEA,CAAC,CAAC,kBAAD,CAArB,CAA2C,cAAc,CAAEA,CAAC,CAAC,YAAD,CAA5D,EADF,cAEE,KAAC,cAAD,EAAgB,MAAM,CAAEO,eAAxB,CAAyC,OAAO,KAAhD,CAAiD,IAAI,CAAEP,CAAC,CAAC,eAAD,CAAxD,uBACE,MAAC,IAAD,yBACI,KAAC,UAAD,wBACE,MAAC,GAAD,yBACE,MAAC,GAAD,EAAK,EAAE,CAAE,CAAT,wBACE,WAAI,SAAS,CAAC,YAAd,UAA4BA,CAAC,CAAC,YAAD,CAA7B,EADF,cAEE,UAAG,SAAS,CAAC,iBAAb,UAAgCA,CAAC,CAAC,wDAAD,CAAjC,EAFF,GADF,cAKE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,uBACE,KAAC,GAAD,wBACE,KAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,KAAK,CAAE,CAAE6G,SAAS,CAAE,OAAb,CAApB,uBACE,YAAI,SAAS,CAAC,YAAd,CAA2B,KAAK,CAAE,CAAEA,SAAS,CAAE,OAAb,CAAlC,WAA2D7G,CAAC,CAAC,QAAD,CAA5D,KAAyE,GAAzE,KAA+EK,YAA/E,SAA+EA,YAA/E,iBAA+EA,YAAY,CAAEiC,aAA7F,GADF,EADF,EADF,EALF,GADF,EADJ,CAkBK7B,aAAa,cACd,KAAC,QAAD,wBACE,KAAC,UAAD,EAAY,UAAU,CAAEJ,YAAY,CAACiC,aAArC,CAAoD,cAAc,CAAEzB,cAApE,CAAoF,QAAQ,CAAE,mBAAM,CAAEsD,eAAe,CAAC,KAAD,CAAf,CAAwBZ,iBAAiB,CAAClD,YAAY,CAACiC,aAAd,CAAjB,CAA+C,CAA7K,EADF,EADc,cAKZ,MAAC,QAAD,yBACI,KAAC,GAAD,wBACE,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,uBACE,WAAI,SAAS,CAAC,gBAAd,UAAgCtC,CAAC,CAAC,kBAAD,CAAjC,EADF,EADF,EADJ,cAcI,KAAC,GAAD,wBACE,KAAC,GAAD,EAAK,EAAE,CAAC,IAAR,uBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,MAAC,KAAD,EAAO,SAAS,CAAC,YAAjB,wBACE,cAAO,SAAS,CAAC,aAAjB,uBACE,mCACE,oBAAKA,CAAC,CAAC,YAAD,CAAN,EADF,cAEE,oBAAKA,CAAC,CAAC,UAAD,CAAN,EAFF,cAGE,oBAAKA,CAAC,CAAC,oBAAD,CAAN,EAHF,cAIE,oBAAKA,CAAC,CAAC,sBAAD,CAAN,EAJF,cAKE,oBAAKA,CAAC,CAAC,OAAD,CAAN,EALF,cAME,oBAAKA,CAAC,CAAC,WAAD,CAAN,EANF,GADF,EADF,cAYE,uBAEGW,cAAc,CAAC4B,MAAf,CAAwB,CAAxB,CACC5B,cAAc,CAACmG,GAAf,CAAmB,SAACC,IAAD,CAAOC,KAAP,qBACjB,mCACE,oBAAKvC,aAAa,CAACwC,MAAM,CAACF,IAAI,CAACG,UAAN,CAAP,CAAb,CAAuCtD,KAA5C,EADF,cAEE,oBAAKqD,MAAM,CAACF,IAAI,CAACG,UAAN,CAAN,CAA0B,CAA1B,CAA+BH,IAAI,CAAChB,IAApC,CAA6CgB,IAAI,CAAChB,IAAL,CAAY,GAAZ,CAAkBgB,IAAI,CAACI,UAAvB,CAAoC,GAApC,CAA0CJ,IAAI,CAACd,QAA/C,CAA0D,GAA1D,CAAgEc,IAAI,CAACK,aAAvH,EAFF,cAGE,oBAAKvC,qBAAqB,CAACkC,IAAI,CAACjC,MAAN,CAArB,CAAmClB,KAAxC,EAHF,cAIE,oBAAKmD,IAAI,CAACM,gBAAV,EAJF,cAKE,oBACGN,IAAI,CAACO,KAAL,GAAelH,SAAf,CACC2G,IAAI,CAACO,KAAL,CAAWR,GAAX,CAAe,SAACS,GAAD,CAAMP,KAAN,QACbO,CAAAA,GAAG,CAACC,eAAJ,CAAsB,KADT,EAAf,CADD,CAGM,IAJT,EALF,cAWE,oBACGT,IAAI,CAACU,SAAL,GAAmBrH,SAAnB,EAAgC2G,IAAI,CAACU,SAAL,CAAelF,MAAf,CAAwB,CAAxD,CACEwE,IAAI,CAACU,SAAL,CAAeV,IAAI,CAACU,SAAL,CAAelF,MAAf,CAAwB,CAAvC,EAA0CmF,SAA1C,GAAwD,IAAxD,CAA+D,QAA/D,CAA0E,WAD5E,CAC2F,WAF9F,EAXF,GADiB,EAAnB,CADD,cAuBC,WAAI,OAAO,CAAC,GAAZ,uBAAgB,YAAK,SAAS,CAAC,kBAAf,CAAkC,KAAK,CAAE,CAAEb,SAAS,CAAE,QAAb,CAAzC,UAAmE7G,CAAC,CAAC,QAAD,CAApE,EAAhB,EAzBJ,EAZF,GADF,EADF,EADF,EAdJ,GAvBN,CAwFG,CAACS,aAAD,cACC,KAAC,KAAD,CAAO,QAAP,wBAEE,MAAC,UAAD,yBACE,KAAC,GAAD,wBACE,KAAC,GAAD,EAAK,EAAE,CAAC,IAAR,uBACE,KAAC,KAAD,EAAO,IAAI,CAAEe,OAAO,CAACH,IAArB,CAA2B,OAAO,CAAEG,OAAO,CAACD,OAAR,CAAkB,QAAlB,CAA6B,SAAjE,CAA4E,WAAW,KAAvF,CAAwF,OAAO,CAAE,kBAAM,CAAEgE,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAwB/D,UAAU,CAAC,CAAEJ,IAAI,CAAE,KAAR,CAAeC,GAAG,CAAE,EAApB,CAAwBC,OAAO,CAAE,KAAjC,CAAD,CAAV,CAAsD,CAAvL,UACGC,OAAO,CAACF,GADX,EADF,EADF,EADF,cASE,MAAC,GAAD,yBACE,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,CAAY,KAAK,CAAE,CAAEuF,SAAS,CAAE,MAAb,CAAnB,uBACE,MAAC,MAAD,EAAQ,KAAK,CAAC,QAAd,CAAuB,IAAI,CAAC,QAA5B,CAAqC,KAAK,CAAE,CAAEc,MAAM,CAAE,KAAV,CAA5C,CAA+D,OAAO,CAAE,kBAAM,CAAE1F,iBAAiB,CAACjE,GAAG,CAACmI,qBAAL,CAAjB,CAA8ClB,iBAAiB,GAAI,CAAnJ,wBAAqJ,UAAG,SAAS,CAAC,yBAAb,EAArJ,KAAkMjF,CAAC,CAAC,QAAD,CAAnM,GADF,EADF,cAIE,MAAC,GAAD,EAAK,EAAE,CAAC,GAAR,CAAY,KAAK,CAAE,CAAE6G,SAAS,CAAE,OAAb,CAAnB,wBACA,MAAC,MAAD,EAAQ,KAAK,CAAC,QAAd,CAAuB,IAAI,CAAC,QAA5B,CAAqC,KAAK,CAAE,CAAEc,MAAM,CAAE,KAAV,CAA5C,CAA+D,OAAO,CAAE,kBAAM,CAAE1F,iBAAiB,CAACjE,GAAG,CAACoI,eAAL,CAAjB,CAAwCnB,iBAAiB,GAAI,CAA7I,wBAA+I,UAAG,SAAS,CAAC,yBAAb,EAA/I,KAA4LjF,CAAC,CAAC,cAAD,CAA7L,GADA,cAEA,MAAC,MAAD,EAAQ,KAAK,CAAC,SAAd,CAAwB,IAAI,CAAC,QAA7B,CAAsC,KAAK,CAAE,CAAE2H,MAAM,CAAE,KAAV,CAA7C,CAAgE,OAAO,CAAE,kBAAM,CAAEzC,aAAa,CAAClH,GAAG,CAACqH,oBAAL,CAAb,CAAyC,CAA1H,wBAA4H,UAAG,SAAS,CAAC,uCAAb,EAA5H,KAAuLrF,CAAC,CAAC,MAAD,CAAxL,GAFA,cAGA,MAAC,MAAD,EAAQ,KAAK,CAAC,SAAd,CAAwB,IAAI,CAAC,QAA7B,CAAsC,KAAK,CAAE,CAAE2H,MAAM,CAAE,KAAV,CAA7C,CAAgE,OAAO,CAAE,kBAAM,CAAE1F,iBAAiB,CAACjE,GAAG,CAACoH,sBAAL,CAAjB,CAA+CH,iBAAiB,GAAG,CAApJ,wBAAsJ,UAAG,SAAS,CAAC,kDAAb,EAAtJ,KAA4NjF,CAAC,CAAC,WAAD,CAA7N,GAHA,GAJF,GATF,GAFF,EADD,CAwBG,IAhHN,GADF,EAFF,CAyHGK,YAAY,cACX,KAAC,UAAD,EAAY,eAAe,CAAE,GAAIV,CAAAA,eAAJ,CAAoBU,YAAY,CAACsF,UAAjC,CAA4CtF,YAAY,CAACiC,aAAzD,CAAuE,CAAvE,CAAyE,EAAzE,CAA4E,EAA5E,CAA+EtE,GAAG,CAACqH,oBAAnF,CAAyGrH,GAAG,CAAC4H,QAA7G,CAAuH5H,GAAG,CAAC4J,eAA3H,CAA7B,EADW,CAEZ,IA3HH,CA6HGvH,YAAY,EAAIyB,oBAAhB,cACD,KAAC,aAAD,EAAe,eAAe,CAAE,GAAInC,CAAAA,eAAJ,CAAoBU,YAAY,CAACsF,UAAjC,CAA4CtF,YAAY,CAACiC,aAAzD,CAAuE,CAAvE,CAAyE,EAAzE,CAA4E,EAA5E,CAA+EtE,GAAG,CAACqH,oBAAnF,CAAyGrH,GAAG,CAAC4H,QAA7G,CAAsH5H,GAAG,CAAC4J,eAA1H,CAAhC,CACE,YAAY,CAAE,uBAAM,CAAE1C,aAAa,CAAClD,cAAD,CAAb,CAAgC,CADxD,CAEE,MAAM,CAAEF,oBAFV,CAEgC,MAAM,CAAE,iBAAM,CAAEmD,iBAAiB,CAAC,KAAD,CAAjB,CAA0B,CAF1E,EADC,CAIE,IAjIL,GADF,CAsID,CA/ZD,CAgaA,cAAenF,CAAAA,UAAf","sourcesContent":["import React, { useState } from \"react\"\r\nimport PropTypes from 'prop-types';\r\nimport { useLocation, useHistory } from 'react-router-dom'\r\nimport * as opt from \"../../../helpers/options_helper\"\r\nimport * as url from \"../../../helpers/url_helper\"\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardBody,\r\n  Label,\r\n  CardFooter,\r\n  Button,\r\n  Table,\r\n  CardHeader,\r\n} from \"reactstrap\"\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport { AvForm, AvField } from \"availity-reactstrap-validation\"\r\nimport { Link } from \"react-router-dom\"\r\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\"\r\nimport { useTranslation } from \"react-i18next\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClientForm from \"../1_Presolicitud/ClientForm\";\r\nimport SweetAlert from \"react-bootstrap-sweetalert\";\r\nimport AttachmentFileCore from \"../../../components/Common/AttachmentFileCore\";\r\nimport ModalEndProcess from \"../../../components/EndProcess/ModalEndProcess\";\r\nimport { PersonModel } from '../../../models/Common/PersonModel';\r\nimport { InfoBpmModel } from '../../../models/Common/InfoBpmModel';\r\nimport { BackendServices, CoreServices, BpmServices, } from \"../../../services\";\r\n\r\nimport { LogProcessModel } from '../../../models/Common/LogProcessModel';\r\nimport LogProcess from \"../../../components/LogProcess/index\";\r\nimport ModalBitacora from \"../../../components/Common/ModalBitacora\";\r\n\r\nconst Compliance = props => {\r\n  const { t, i18n } = useTranslation();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  //Data que recibimos en el location\r\n  const [locationData, setLocationData] = useState(undefined);\r\n  const [isActiveLoading, setIsActiveLoading] = useState(false);\r\n  const [openNewClient, setopenNewClient] = useState(false);\r\n  //Datos de la Tabla de Clientes\r\n  const [dataClientList, setdataClientList] = useState([]);\r\n  //Cliente seleccionado\r\n  const [selectedClient, setselectedClient] = useState(undefined);\r\n  const [identificationTypeList, setidentificationTypeList] = useState([]);\r\n  const [personTypeList, setpersonTypeList] = useState([]);\r\n  //mostrar el modal para la opci√≥n de finalizar proceso\r\n  const [displayModalEndProcess, setdisplayModalEndProcess] = useState(false);\r\n  const [msgData, setmsgData] = useState({ show: false, msg: \"\", isError: false });\r\n  //Servicios\r\n  const [backendServices, setbackendServices] = useState(new BackendServices());\r\n  const [bpmServices, setbpmServices] = useState(new BpmServices());\r\n\r\n  const [displayModalBitacora, setdisplayModalBitacora] = useState(false);\r\n  const [optionSelected, setoptionSelected] = useState(null);\r\n  const [mainDebtor, setmainDebtor] = useState(null);\r\n\r\n  //On Mounting (componentDidMount)\r\n  React.useEffect(() => {\r\n    if (location.data !== null && location.data !== undefined) {\r\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n        //location.data.transactionId = 0;\r\n        //checkAndCreateProcedure(location.data);\r\n        history.push(url.URL_DASHBOARD);\r\n      }\r\n      else {\r\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n        setLocationData(location.data);\r\n        fetchData(location.data);\r\n      }\r\n    }\r\n    else {\r\n      //chequeamos si tenemos guardado en session\r\n      var result = sessionStorage.getItem('locationData');\r\n      if (result !== undefined && result !== null) {\r\n        result = JSON.parse(result);\r\n        setLocationData(result);\r\n        fetchData(result);\r\n      }\r\n    }\r\n  }, []);\r\n  //Caraga Inicial de datos\r\n  function fetchData(locationData) {\r\n    //chequear si la tarea no ha sido iniciada\r\n    bpmServices.checkAndStartTask(locationData)\r\n      .then((iniresult) => {\r\n        if (iniresult === false) {\r\n          history.push(url.URL_DASHBOARD);\r\n        }\r\n      })\r\n    loadIdentificationTypes();\r\n    loadPersonTypes();\r\n    getProcessClients(locationData.transactionId);\r\n    loadMainDebtor(locationData.transactionId)\r\n  }\r\n  //cargar lista de tipo de identificacion\r\n  function loadIdentificationTypes() {\r\n    backendServices.consultarCatalogoTipoIdentificacion()\r\n      .then((data) => {\r\n        if (data !== null && data !== undefined) {\r\n          let json = [];\r\n          for (let i = 0; i < data.length; i++) {\r\n            json.push({ label: t(data[i][\"description\"]), value: data[i][\"id\"] })\r\n          }\r\n          setidentificationTypeList(json);\r\n        }\r\n      }).catch((error) => { });\r\n  }\r\n  //cargar lista de tipo de personas\r\n  function loadPersonTypes() {\r\n    backendServices.consultarCatalogoTipoPersona()\r\n      .then((data) => {\r\n        if (data !== null && data !== undefined) {\r\n          let json = [];\r\n          for (let i = 0; i < data.length; i++) {\r\n            json.push({ label: t(data[i][\"label\"]), value: data[i][\"code\"] })\r\n          }\r\n          setpersonTypeList(json);\r\n        }\r\n      }).catch((error) => { });\r\n  }\r\n  //cargar deudor principal\r\n  async function loadMainDebtor(transactionId) {\r\n    var result = await backendServices.consultPrincipalDebtor(transactionId)\r\n    if(result!==undefined && result !== null){\r\n      setmainDebtor(result);\r\n    }    \r\n  }\r\n  \r\n  //se buscan todos los clientes de este proceso \r\n  function getProcessClients(transactionId) {\r\n    backendServices.consultarOrquestadoListaPersonaSolicitud(transactionId)\r\n      .then((data) => {\r\n        if (data !== null && data !== undefined) {\r\n          setdataClientList(data)\r\n          if (data.length <= 0) {\r\n            setselectedClient(new PersonModel());\r\n            onOpenNewClient();\r\n          }\r\n        }\r\n      }).catch((error) => { });\r\n  }\r\n  //Abrir formulario Persona\r\n  function onOpenNewClient(show = true) {\r\n    setopenNewClient(show)\r\n  }\r\n  //Editar Persona\r\n  function onEditClient(dataClient) {\r\n    setselectedClient(dataClient)\r\n    onOpenNewClient();\r\n  }\r\n  //Eliminar Persona\r\n  function onDeleteClient(dataClient) {\r\n    //eliminarOrquestadoListaPersonaSolicitud\r\n    backendServices.eliminarOrquestadoListaPersonaSolicitud(dataClient)\r\n      .then((data) => {\r\n        getProcessClients(dataClient.transactId);\r\n      }).catch((error) => { });\r\n  }\r\n  //retorna el Tipo de Persona\r\n  function getPersnoType(pType) {\r\n    return personTypeList.find(x => x.value === pType);\r\n  }\r\n  //retorna el Tipo de identificacion\r\n  function getIdentificationType(idType) {\r\n    return identificationTypeList.find(x => x.value === idType);\r\n  }\r\n  //mostrar mensaje \r\n  function showMessage(message, isError = false) {\r\n\r\n    setmsgData({ show: true, msg: message, isError: isError })\r\n  }\r\n  ////////// PARTE ES LA FINAL DEL PROCESO ///////\r\n  //Modal Para mostrar Comentario de Fin de Proceso\r\n  \r\n  function showModalBitacora(show = true){\r\n    setdisplayModalBitacora(show);\r\n  }\r\n  //Salvando el Proceso y le pasamos una opcion: 1-Finalizar Proceso, 2- Salvarlo, 3- A Cumplimmineto, 4- Avanzar a IGR\r\n  async function onSaveProcess(option) {\r\n    switch (option) {\r\n      case opt.PROCESS_LISTAEXCLUSION:{\r\n        //chequear si existe algun deudor para poder continuar\r\n        if (mainDebtor !== null && mainDebtor !== undefined) {\r\n          saveJBPMProcess(option);\r\n        }\r\n        else {\r\n          //Mensaje ERROR\r\n          showMessage(t(\"Youmustselectatleastonedebtor\"), true);\r\n          await loadMainDebtor(locationData.transactionId)\r\n        }\r\n        break;\r\n      }\r\n      case opt.PROCESS_CUMPLIMIENTO:{\r\n        if(dataClientList.length>0){\r\n          saveJBPMProcess(option);\r\n          break;\r\n        }\r\n        else{          \r\n          showMessage(t(\"Youmustenteratleastoneclient\"), true);\r\n          return;\r\n        }\r\n      }\r\n      default: {\r\n        saveJBPMProcess(option);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  async function saveJBPMProcess(option) {\r\n\r\n    console.log(\"saveJBPMProcess\",option);\r\n\r\n    var maindebtor = await backendServices.consultPrincipalDebtor(locationData.transactionId)\r\n\r\n    var infoBpmModel = new InfoBpmModel(locationData.instanceId,locationData.transactionId,\r\n      opt.PROCESS_CUMPLIMIENTO,opt.ACT_NONE,\r\n      maindebtor?.personId\r\n    );\r\n    infoBpmModel.personName=maindebtor!==undefined?(maindebtor.name + \" \" +maindebtor.name2 + \" \" +maindebtor.lastName + \" \" +maindebtor.lastName2 ):\"\";\r\n    \r\n    switch (option) {\r\n      case opt.PROCESS_CANCELPROCESS: {\r\n        bpmServices.abortProcess(infoBpmModel.instanceId)\r\n          .then((data) => {\r\n            if (data !== undefined) {\r\n              history.push(url.URL_DASHBOARD);\r\n            }\r\n            else {\r\n              //Mensaje ERROR\r\n              showMessage(t(\"TheProcessCouldNotFinish\"), true);\r\n            }\r\n          });\r\n        break;\r\n      }\r\n      case opt.PROCESS_CUMPLIMIENTO: {\r\n        infoBpmModel.processId=opt.PROCESS_CUMPLIMIENTO;\r\n        infoBpmModel.activityId=opt.ACT_NONE;\r\n        \r\n        var values = {\r\n          \"info\":JSON.stringify(infoBpmModel),\r\n          \"processId\": opt.PROCESS_CUMPLIMIENTO.toString(),\r\n          \"activityId\": opt.ACT_NONE.toString(),\r\n          \"transactionId\": locationData.transactionId\r\n        };\r\n        bpmServices.updatevariables(infoBpmModel.instanceId, values)\r\n          .then((data) => {\r\n            if (data !== undefined) {\r\n              history.push(url.URL_DASHBOARD);\r\n            }\r\n            else {\r\n              //Mensaje ERROR\r\n              showMessage(t(\"ErrorSaveMessage\"), true);\r\n            }\r\n          });\r\n        break;\r\n      }\r\n      case opt.PROCESS_REFUSED: {\r\n        infoBpmModel.processId=opt.PROCESS_REFUSED;\r\n        infoBpmModel.activityId=opt.ACT_NONE;\r\n        \r\n        var values = {\r\n          \"info\":JSON.stringify(infoBpmModel),\r\n          \"processId\": opt.PROCESS_REFUSED.toString(),\r\n          \"activityId\": opt.ACT_NONE.toString(),\r\n          \"transactionId\": locationData.transactionId,\r\n          \"customerId\": \"\",\r\n          \"applicationNumber\": \"\",\r\n          \"procedureNumber\": \"\",\r\n          \"decision\": \"no\"\r\n        };\r\n        bpmServices.completedStatusTask(locationData.taskId, values)\r\n          .then((data) => {\r\n            if (data !== undefined) {\r\n              history.push(url.URL_DASHBOARD);\r\n            }\r\n            else {\r\n              //Mensaje ERROR\r\n              showMessage(t(\"ErrorSaveMessage\"), true);\r\n            }\r\n          });\r\n        break;\r\n      }\r\n      case opt.PROCESS_LISTAEXCLUSION: {\r\n        infoBpmModel.processId=opt.PROCESS_LISTAEXCLUSION;\r\n        infoBpmModel.activityId=opt.ACT_NONE;\r\n        \r\n        var values = {\r\n          \"info\":JSON.stringify(infoBpmModel),\r\n          \"processId\": opt.PROCESS_LISTAEXCLUSION.toString(),\r\n          \"activityId\": opt.ACT_NONE.toString(),\r\n          \"transactionId\": locationData.transactionId,\r\n          \"customerId\": \"\",\r\n          \"applicationNumber\": \"\",\r\n          \"procedureNumber\": \"\",\r\n          \"decision\": \"si\"\r\n        };\r\n        bpmServices.completedStatusTask(locationData.taskId, values)\r\n          .then((data) => {\r\n            if (data !== undefined) {\r\n              history.push(url.URL_DASHBOARD);\r\n            }\r\n            else {\r\n              //Mensaje ERROR\r\n              showMessage(t(\"ErrorSaveMessage\"), true);\r\n            }\r\n          });\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  \r\n  \r\n  return (\r\n    <div className=\"page-content\">\r\n      <Breadcrumbs title={t(\"CommercialCredit\")} breadcrumbItem={t(\"Compliance\")} />\r\n      <LoadingOverlay active={isActiveLoading} spinner text={t(\"WaitingPlease\")}>\r\n        <Card>\r\n            <CardHeader>\r\n              <Row>\r\n                <Col md={6}>\r\n                  <h4 className=\"card-title\">{t(\"Compliance\")}</h4>\r\n                  <p className=\"card-title-desc\">{t(\"This form is official and must be filled out correctly\")}</p>\r\n                </Col>\r\n                <Col md={6}>\r\n                  <Row>\r\n                    <Col sm={12} style={{ textAlign: \"right\" }}>\r\n                      <h5 className=\"card-title\" style={{ textAlign: \"right\" }}>{t(\"Tramit\")}:{\" \"}#{locationData?.transactionId}</h5>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n              </Row>                     \r\n            </CardHeader>\r\n            \r\n              \r\n            {openNewClient ?\r\n            <CardBody>\r\n              <ClientForm transactId={locationData.transactionId} clientSelected={selectedClient} onCancel={() => { onOpenNewClient(false); getProcessClients(locationData.transactionId) }}></ClientForm>\r\n            </CardBody>\r\n              :\r\n              <CardBody>\r\n                  <Row>\r\n                    <Col md=\"6\">\r\n                      <h5 className=\"card-sub-title\">{t(\"ParticipantsList\")}</h5>\r\n                    </Col>\r\n                    {/*<Col md={6} style={{ textAlign: \"right\", }}>\r\n                      <h5 className=\"card-sub-title\">\r\n                        <Link to=\"#\" onClick={() => { showSearchClient() }} title={t(\"Search\")}><i className=\"mdi mdi-account-search-outline mdi-24px\"></i>{\" \"}</Link>\r\n                        &nbsp;&nbsp;\r\n                        <Link to=\"#\" onClick={() => { setselectedClient(undefined); onOpenNewClient() }} title={t(\"AddNew\")}><i className=\"mdi mdi-account-plus-outline mdi-24px\"></i>{\" \"}</Link>\r\n                      </h5>\r\n\r\n          </Col>*/}\r\n                  </Row>\r\n                  <Row>\r\n                    <Col md=\"12\">\r\n                      <div className=\"table-responsive\">\r\n                        <Table className=\"table mb-0\">\r\n                          <thead className=\"table-light\">\r\n                            <tr>\r\n                              <th>{t(\"PersonType\")}</th>\r\n                              <th>{t(\"FullName\")}</th>\r\n                              <th>{t(\"IdentificationType\")}</th>\r\n                              <th>{t(\"IdentificationNumber\")}</th>\r\n                              <th>{t(\"Roles\")}</th>\r\n                              <th>{t(\"WatchList\")}</th>\r\n                              {/* <th></th> */}\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n\r\n                            {dataClientList.length > 0 ?\r\n                              dataClientList.map((item, index) => (\r\n                                <tr>\r\n                                  <td>{getPersnoType(Number(item.personType)).label}</td>\r\n                                  <td>{Number(item.personType) > 1 ? (item.name) : (item.name + \" \" + item.secondName + \" \" + item.lastName + \" \" + item.secondSurname)}</td>\r\n                                  <td>{getIdentificationType(item.idType).label}</td>\r\n                                  <td>{item.clientDocumentId}</td>\r\n                                  <td>\r\n                                    {item.roles !== undefined ?\r\n                                      item.roles.map((rol, index) => (\r\n                                        rol.roleDescription + \" - \"\r\n                                      )) : null}\r\n                                  </td>\r\n                                  <td>\r\n                                    {item.blacklist !== undefined && item.blacklist.length > 0 ?\r\n                                      (item.blacklist[item.blacklist.length - 1].blackList === true ? \"Aplica\" : \"No Aplica\") : \"No Aplica\"}\r\n                                  </td>\r\n                                  {/* <td style={{ textAlign: \"right\" }}>\r\n                                    <Link to=\"#\" onClick={(e) => { onEditClient(item) }}><i className=\"mdi mdi-border-color mdi-24px\"></i></Link>\r\n                                    <Link to=\"#\" onClick={(e) => { onDeleteClient(item) }}><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Link>\r\n                                  </td> */}\r\n                                </tr>\r\n                              )) :\r\n                              <td colspan=\"7\"><div className=\"alert alert-info\" style={{ textAlign: \"center\" }}>{t(\"NoData\")}</div></td>\r\n                            }\r\n                          </tbody>\r\n                        </Table>\r\n                      </div>\r\n\r\n                    </Col>\r\n                  </Row>                  \r\n              </CardBody>\r\n            }\r\n\r\n          {!openNewClient ?\r\n            <React.Fragment>\r\n\r\n              <CardFooter>\r\n                <Row>\r\n                  <Col md=\"12\">\r\n                    <Alert show={msgData.show} variant={msgData.isError ? \"danger\" : \"success\"} dismissible onClose={() => { console.log(\"onClose\"); setmsgData({ show: false, msg: \"\", isError: false }) }}>\r\n                      {msgData.msg}\r\n                    </Alert>\r\n                  </Col>\r\n                </Row>\r\n\r\n                <Row>\r\n                  <Col md=\"3\" style={{ textAlign: \"left\" }}>\r\n                    <Button color=\"danger\" type=\"button\" style={{ margin: '5px' }} onClick={() => { setoptionSelected(opt.PROCESS_CANCELPROCESS); showModalBitacora() }}><i className=\"mdi mdi-cancel mid-12px\"></i> {t(\"Cancel\")}</Button>\r\n                  </Col>\r\n                  <Col md=\"9\" style={{ textAlign: \"right\" }}>\r\n                  <Button color=\"danger\" type=\"button\" style={{ margin: '5px' }} onClick={() => { setoptionSelected(opt.PROCESS_REFUSED); showModalBitacora() }}><i className=\"mdi mdi-cancel mid-12px\"></i> {t(\"NotRecommend\")}</Button>\r\n                  <Button color=\"primary\" type=\"button\" style={{ margin: '5px' }} onClick={() => { onSaveProcess(opt.PROCESS_CUMPLIMIENTO) }}><i className=\"mdi mdi-content-save-outline mid-12px\"></i> {t(\"Exit\")}</Button>\r\n                  <Button color=\"success\" type=\"button\" style={{ margin: '5px' }} onClick={() => { setoptionSelected(opt.PROCESS_LISTAEXCLUSION); showModalBitacora()}}><i className=\"mdi mdi-arrow-right-bold-circle-outline mid-12px\"></i> {t(\"Recommend\")}</Button>\r\n                  </Col>\r\n                </Row>\r\n              </CardFooter>\r\n            </React.Fragment>\r\n            : null\r\n          }  \r\n           \r\n        </Card>\r\n      </LoadingOverlay>\r\n\r\n      {locationData?\r\n        <LogProcess logProcessModel={new LogProcessModel(locationData.instanceId,locationData.transactionId,0,\"\",\"\",opt.PROCESS_CUMPLIMIENTO, opt.ACT_NONE, opt.BPM_ACTIVITY_02)}/>\r\n      :null}\r\n\r\n      {locationData && displayModalBitacora?\r\n      <ModalBitacora logProcessModel={new LogProcessModel(locationData.instanceId,locationData.transactionId,0,\"\",\"\",opt.PROCESS_CUMPLIMIENTO, opt.ACT_NONE,opt.BPM_ACTIVITY_02)}\r\n        successSaved={() => { onSaveProcess(optionSelected); }} \r\n        isOpen={displayModalBitacora} toggle={() => { showModalBitacora(false) }} />\r\n        :null}\r\n\r\n    </div>\r\n  )\r\n}\r\nexport default Compliance"]},"metadata":{},"sourceType":"module"}