{"ast":null,"code":"var _jsxFileName = \"D:\\\\_PROJECTS\\\\_SOAINT\\\\JBPM\\\\App\\\\banescocreditoscomerciales\\\\src\\\\pages\\\\CommercialCredit\\\\16_RiesgoAmbiental\\\\riesgoAmbiental\\\\FormDetalles.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useImperativeHandle, forwardRef, useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { translationHelpers } from '../../../../helpers';\nimport RiesgoAmbientalContext from '../RiesgoAmbientalContext';\nimport { Card, CardBody, Row, Col, Button, Label } from \"reactstrap\";\nimport Switch from \"react-switch\";\nimport { AvForm, AvField, AvGroup, AvInput } from \"availity-reactstrap-validation\";\nimport ServicioRiesgoAmbiental from '../../../../services/RiesgoAmbiental/RiesgoAmbiental';\nimport { useTranslation } from 'react-i18next';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Offsymbol = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      height: \"100%\",\n      fontSize: 12,\n      color: \"#fff\",\n      paddingRight: 2\n    },\n    children: [\" \", \"No\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n};\n\n_c = Offsymbol;\n\nconst OnSymbol = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      height: \"100%\",\n      fontSize: 12,\n      color: \"#fff\",\n      paddingRight: 2\n    },\n    children: [\" \", \"Si\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n\n_c2 = OnSymbol;\nconst FormDetalles = /*#__PURE__*/forwardRef(_c3 = _s((props, ref) => {\n  _s();\n\n  React.useImperativeHandle(ref, () => ({\n    validateForm: () => {\n      const form = document.getElementById('frmDetalleAmbiental');\n      form.requestSubmit();\n    },\n    getFormValidation: () => {\n      return formValid;\n    },\n    dataReturn\n  }));\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  const [displayCovenantDetails, setDisplayCovenantDetails] = useState(true);\n  const [formValid, setFormValid] = useState(false);\n  const [isUpdatingRecord, setUpdatingRecord] = useState(false);\n  const [environmentCovenant, setEnvironemntCovenant] = useState(false);\n  const [detail, setDetail] = useState('');\n  const [compliance, setCompliance] = useState('');\n  const [detected, setDetected] = useState('');\n  const [term, setTerm] = useState('');\n  const [recommendations, setRecommendations] = useState('');\n  const [conclusions, setConclusions] = useState('');\n  const [dataReturn, setdataReturn] = useState('');\n  const [locationData, setLocationData] = useState(props.locationData); // services\n\n  const servicioRiesgoAmbiental = new ServicioRiesgoAmbiental();\n  useEffect(() => {\n    // load data\n    servicioRiesgoAmbiental.getEnvironmentalRiskInfo(locationData.transactId).then(info => {\n      if (info.transactId) {\n        setUpdatingRecord(true);\n        setEnvironemntCovenant(info.environmentCovenant);\n        setDetail(info.detail);\n        setCompliance(info.compliance);\n        setDetected(info.detected);\n        setTerm(info.term);\n        setRecommendations(info.recommendations);\n        setConclusions(info.conclusions);\n      }\n    }).catch(error => {\n      console.log('error fetch detalles', error);\n    });\n  }, [locationData]);\n\n  function handleCovenantChange(event) {\n    setDisplayCovenantDetails(event.target.value === 'Si' ? true : false);\n  }\n\n  function handleSubmit(event, errors, values) {\n    values.environmentCovenant = environmentCovenant;\n    event.preventDefault();\n\n    if (errors.length > 0) {\n      setFormValid(false);\n      return;\n    }\n\n    setdataReturn(values);\n    event.preventDefault();\n    const isValid = errors.length === 0;\n    setFormValid(isValid);\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"card-title\",\n      children: t(\"OtherDetails\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"card-title-desc\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AvForm, {\n      id: \"frmDetalleAmbiental\",\n      className: \"needs-validation\",\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(CardBody, {\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            className: \"my-3\",\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: \"12\",\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                className: \"form-check-label\",\n                htmlFor: \"isProjectLocatedProtectedNaturalArea\",\n                children: [\" \", t(\"Covenants Ambientales\")]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(AvGroup, {\n                check: true,\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Switch, {\n                  name: \"isProjectLocatedProtectedNaturalArea\",\n                  uncheckedIcon: /*#__PURE__*/_jsxDEV(Offsymbol, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 137,\n                    columnNumber: 34\n                  }, this),\n                  checkedIcon: /*#__PURE__*/_jsxDEV(OnSymbol, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 138,\n                    columnNumber: 32\n                  }, this),\n                  onColor: \"#007943\",\n                  id: \"check1\",\n                  className: \"form-label\",\n                  onChange: () => {\n                    setEnvironemntCovenant(!environmentCovenant);\n                  },\n                  checked: environmentCovenant\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 17\n                }, this), '   ']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), environmentCovenant && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              className: \"my-3\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: \"4\",\n                children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    htmlFor: \"detail\",\n                    children: t(\"Detalle\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                    className: \"form-control\",\n                    name: \"detail\",\n                    type: \"text\",\n                    id: \"detail\",\n                    value: detail\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: \"4\",\n                children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    htmlFor: \"compliance\",\n                    children: t(\"Cumplimiento\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                    className: \"form-control\",\n                    name: \"compliance\",\n                    type: \"text\",\n                    id: \"compliance\",\n                    value: compliance\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: \"4\",\n                children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    htmlFor: \"term\",\n                    children: t(\"Plazo\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                    className: \"form-control\",\n                    name: \"term\",\n                    type: \"text\",\n                    id: \"term\",\n                    value: term\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              className: \"my-3\",\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                md: \"12\",\n                children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    htmlFor: \"detected\",\n                    children: t(\"Situacion Detectada\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                    className: \"form-control\",\n                    name: \"detected\",\n                    type: \"textarea\",\n                    id: \"detected\",\n                    value: detected,\n                    rows: \"7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(Row, {\n            className: \"my-3\",\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: \"12\",\n              children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  htmlFor: \"recommendations\",\n                  children: t(\"Recomendaciones\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                  className: \"form-control\",\n                  name: \"recommendations\",\n                  type: \"textarea\",\n                  id: \"recommendations\",\n                  value: recommendations,\n                  rows: \"7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            className: \"my-3\",\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: \"12\",\n              children: /*#__PURE__*/_jsxDEV(AvGroup, {\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  htmlFor: \"conclusions\",\n                  children: t(\"Conclusiones\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                  className: \"form-control\",\n                  name: \"conclusions\",\n                  type: \"textarea\",\n                  id: \"conclusions\",\n                  value: conclusions,\n                  rows: \"7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 5\n  }, this);\n}, \"KUZ1+8zg94uooIOlpC3nrvaKeBw=\", false, function () {\n  return [React.useImperativeHandle, useTranslation];\n}));\n_c4 = FormDetalles;\nFormDetalles.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  locationData: PropTypes.any\n};\nexport default FormDetalles;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Offsymbol\");\n$RefreshReg$(_c2, \"OnSymbol\");\n$RefreshReg$(_c3, \"FormDetalles$forwardRef\");\n$RefreshReg$(_c4, \"FormDetalles\");","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/16_RiesgoAmbiental/riesgoAmbiental/FormDetalles.js"],"names":["React","useState","useImperativeHandle","forwardRef","useContext","useEffect","PropTypes","translationHelpers","RiesgoAmbientalContext","Card","CardBody","Row","Col","Button","Label","Switch","AvForm","AvField","AvGroup","AvInput","ServicioRiesgoAmbiental","useTranslation","Offsymbol","display","justifyContent","alignItems","height","fontSize","color","paddingRight","OnSymbol","FormDetalles","props","ref","validateForm","form","document","getElementById","requestSubmit","getFormValidation","formValid","dataReturn","t","i18n","displayCovenantDetails","setDisplayCovenantDetails","setFormValid","isUpdatingRecord","setUpdatingRecord","environmentCovenant","setEnvironemntCovenant","detail","setDetail","compliance","setCompliance","detected","setDetected","term","setTerm","recommendations","setRecommendations","conclusions","setConclusions","setdataReturn","locationData","setLocationData","servicioRiesgoAmbiental","getEnvironmentalRiskInfo","transactId","then","info","catch","error","console","log","handleCovenantChange","event","target","value","handleSubmit","errors","values","preventDefault","length","isValid","propTypes","onSubmit","func","isRequired","any"],"mappings":"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","sourcesContent":["import React, { useState, useImperativeHandle, forwardRef, useContext, useEffect } from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport { translationHelpers } from '../../../../helpers';\r\nimport RiesgoAmbientalContext from '../RiesgoAmbientalContext';\r\n\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Label\r\n} from \"reactstrap\"\r\nimport Switch from \"react-switch\";\r\n\r\nimport { AvForm, AvField, AvGroup, AvInput } from \"availity-reactstrap-validation\"\r\nimport ServicioRiesgoAmbiental from '../../../../services/RiesgoAmbiental/RiesgoAmbiental';\r\nimport { useTranslation } from 'react-i18next'\r\nconst Offsymbol = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: \"100%\",\r\n        fontSize: 12,\r\n        color: \"#fff\",\r\n        paddingRight: 2,\r\n      }}\r\n    >\r\n      {\" \"}\r\n      No\r\n    </div>\r\n  );\r\n};\r\n\r\nconst OnSymbol = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: \"100%\",\r\n        fontSize: 12,\r\n        color: \"#fff\",\r\n        paddingRight: 2,\r\n      }}\r\n    >\r\n      {\" \"}\r\n      Si\r\n    </div>\r\n  );\r\n};\r\nconst FormDetalles = forwardRef((props, ref) => {\r\n\r\n  React.useImperativeHandle(ref, () => ({\r\n    validateForm: () => {\r\n      const form = document.getElementById('frmDetalleAmbiental');\r\n      form.requestSubmit();\r\n    },\r\n    getFormValidation: () => {\r\n      return formValid;\r\n    }, dataReturn\r\n  }))\r\n  const { t, i18n } = useTranslation();\r\n\r\n  const [displayCovenantDetails, setDisplayCovenantDetails] = useState(true);\r\n  const [formValid, setFormValid] = useState(false);\r\n  const [isUpdatingRecord, setUpdatingRecord] = useState(false);\r\n  const [environmentCovenant, setEnvironemntCovenant] = useState(false);\r\n  const [detail, setDetail] = useState('');\r\n  const [compliance, setCompliance] = useState('');\r\n  const [detected, setDetected] = useState('');\r\n  const [term, setTerm] = useState('');\r\n  const [recommendations, setRecommendations] = useState('');\r\n  const [conclusions, setConclusions] = useState('');\r\n  const [dataReturn, setdataReturn] = useState('');\r\n  const [locationData, setLocationData] = useState(props.locationData);\r\n\r\n  // services\r\n  const servicioRiesgoAmbiental = new ServicioRiesgoAmbiental();  \r\n  \r\n  useEffect(() => {\r\n    // load data\r\n    servicioRiesgoAmbiental.getEnvironmentalRiskInfo(locationData.transactId)\r\n      .then((info) => {\r\n        if (info.transactId) {\r\n          setUpdatingRecord(true);\r\n          setEnvironemntCovenant(info.environmentCovenant);\r\n          setDetail(info.detail);\r\n          setCompliance(info.compliance);\r\n          setDetected(info.detected);\r\n          setTerm(info.term);\r\n          setRecommendations(info.recommendations);\r\n          setConclusions(info.conclusions);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log('error fetch detalles', error);\r\n      })\r\n  }, [locationData]);\r\n\r\n  function handleCovenantChange(event) {\r\n    setDisplayCovenantDetails(event.target.value === 'Si'?true:false);\r\n  }\r\n\r\n  function handleSubmit(event, errors, values) {\r\n    values.environmentCovenant=environmentCovenant;\r\n    event.preventDefault();\r\n    if (errors.length > 0) {\r\n      setFormValid(false);\r\n      return;\r\n    }\r\n    setdataReturn(values)\r\n    event.preventDefault();\r\n    const isValid = errors.length === 0;\r\n    setFormValid(isValid);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <h4 className=\"card-title\">{t(\"OtherDetails\")}</h4>\r\n      <p className=\"card-title-desc\"></p>\r\n\r\n      <AvForm id=\"frmDetalleAmbiental\" className=\"needs-validation\" onSubmit={handleSubmit}>\r\n        <Card>\r\n          <CardBody>\r\n\r\n            <Row className=\"my-3\">\r\n              <Col md=\"12\">\r\n                <Label className=\"form-check-label\" htmlFor=\"isProjectLocatedProtectedNaturalArea\"> {t(\"Covenants Ambientales\")}</Label>\r\n              <AvGroup check className=\"mb-3\">\r\n                <Switch name=\"isProjectLocatedProtectedNaturalArea\"\r\n                  uncheckedIcon={<Offsymbol />}\r\n                  checkedIcon={<OnSymbol />}\r\n                  onColor=\"#007943\"\r\n                  id=\"check1\"\r\n                  className=\"form-label\"\r\n                  onChange={() => {\r\n                    setEnvironemntCovenant(!environmentCovenant);\r\n                  }}\r\n                  checked={environmentCovenant}\r\n                />\r\n                {'   '}\r\n              </AvGroup>\r\n                {/* <AvGroup>\r\n                  <Label htmlFor=\"environmentCovenant\">{t(\"Covenants Ambientales\")}</Label>\r\n                  <AvField\r\n                    className=\"form-control\"\r\n                    name=\"environmentCovenant\"\r\n                    type=\"select\"\r\n                    id=\"environmentCovenant\"\r\n                    value={environmentCovenant}\r\n                    onChange={handleCovenantChange}>\r\n                    <option value={true}>{t(\"Yes\")}</option>\r\n                    <option value={false}>{t(\"No\")}</option>\r\n                  </AvField>\r\n                </AvGroup> */}\r\n              </Col>\r\n            </Row>\r\n\r\n            {environmentCovenant && (\r\n              <>\r\n                <Row className=\"my-3\">\r\n                  <Col md=\"4\">\r\n                    <AvGroup>\r\n                      <Label htmlFor=\"detail\">{t(\"Detalle\")}</Label>\r\n                      <AvField className=\"form-control\"\r\n                        name=\"detail\"\r\n                        type=\"text\"\r\n                        id=\"detail\"\r\n                        value={detail} />\r\n                    </AvGroup>\r\n                  </Col>\r\n                  <Col md=\"4\">\r\n                    <AvGroup>\r\n                      <Label htmlFor=\"compliance\">{t(\"Cumplimiento\")}</Label>\r\n                      <AvField className=\"form-control\"\r\n                        name=\"compliance\"\r\n                        type=\"text\"\r\n                        id=\"compliance\"\r\n                        value={compliance} />\r\n                    </AvGroup>\r\n                  </Col>\r\n                  <Col md=\"4\">\r\n                    <AvGroup>\r\n                      <Label htmlFor=\"term\">{t(\"Plazo\")}</Label>\r\n                      <AvField className=\"form-control\"\r\n                        name=\"term\"\r\n                        type=\"text\"\r\n                        id=\"term\"\r\n                        value={term} />\r\n                    </AvGroup>\r\n                  </Col>\r\n                </Row>\r\n\r\n                <Row className=\"my-3\">\r\n                  <Col md=\"12\">\r\n                    <AvGroup>\r\n                      <Label htmlFor=\"detected\">{t(\"Situacion Detectada\")}</Label>\r\n                      <AvField className=\"form-control\"\r\n                        name=\"detected\"\r\n                        type=\"textarea\"\r\n                        id=\"detected\"\r\n                        value={detected}\r\n                        rows=\"7\" />\r\n                    </AvGroup>\r\n                  </Col>\r\n                </Row>\r\n              </>\r\n            )}\r\n\r\n            <Row className=\"my-3\">\r\n              <Col md=\"12\">\r\n                <AvGroup>\r\n                  <Label htmlFor=\"recommendations\">{t(\"Recomendaciones\")}</Label>\r\n                  <AvField className=\"form-control\"\r\n                    name=\"recommendations\"\r\n                    type=\"textarea\"\r\n                    id=\"recommendations\"\r\n                    value={recommendations}\r\n                    rows=\"7\" />\r\n                </AvGroup>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row className=\"my-3\">\r\n              <Col md=\"12\">\r\n                <AvGroup>\r\n                  <Label htmlFor=\"conclusions\">{t(\"Conclusiones\")}</Label>\r\n                  <AvField className=\"form-control\"\r\n                    name=\"conclusions\"\r\n                    type=\"textarea\"\r\n                    id=\"conclusions\"\r\n                    value={conclusions}\r\n                    rows=\"7\" />\r\n                </AvGroup>\r\n              </Col>\r\n            </Row>\r\n\r\n          </CardBody>\r\n\r\n        </Card>\r\n      </AvForm>\r\n\r\n    </React.Fragment>\r\n  );\r\n});\r\n\r\n\r\nFormDetalles.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n  locationData: PropTypes.any,\r\n};\r\n\r\nexport default FormDetalles;\r\n"]},"metadata":{},"sourceType":"module"}