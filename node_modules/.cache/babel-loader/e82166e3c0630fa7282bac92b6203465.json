{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useContext,useEffect,useImperativeHandle,forwardRef}from'react';import RiesgoAmbientalContext from'../RiesgoAmbientalContext';import{Card,CardBody,Row,Col,Label}from\"reactstrap\";import{AvForm,AvField,AvGroup,AvInput,AvCheckbox}from\"availity-reactstrap-validation\";import AttachmentList from'../../../../components/Attachments/AttachmentList';//i18n\nimport{useTranslation}from'react-i18next';import ServicioRiesgoAmbiental from'../../../../services/RiesgoAmbiental/RiesgoAmbiental';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SimpleChekQuestion=function SimpleChekQuestion(props){return/*#__PURE__*/_jsxs(AvGroup,{check:true,className:\"my-2\",children:[/*#__PURE__*/_jsx(AvInput,{id:props.name,type:\"checkbox\",name:props.name,checked:props.value}),/*#__PURE__*/_jsxs(Label,{check:true,htmlFor:props.name,children:[\" \",props.question]})]});};var ComposedQuestion=function ComposedQuestion(props){return/*#__PURE__*/_jsxs(AvGroup,{check:true,className:\"my-2\",children:[/*#__PURE__*/_jsx(AvInput,{id:props.name,type:\"checkbox\",name:props.value}),/*#__PURE__*/_jsxs(Label,{check:true,htmlFor:props.name,children:[\" \",props.question]}),/*#__PURE__*/_jsx(AvInput,{type:\"textarea\",name:props.name+'Comments'})]});};var FormAspectosAmbientales=/*#__PURE__*/forwardRef(function(props,ref){var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),formValid=_useState2[0],setFormValid=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),questions=_useState4[0],setQuestions=_useState4[1];var _useState5=useState('Medio'),_useState6=_slicedToArray(_useState5,2),riskPreClassification=_useState6[0],setRiskPreClassification=_useState6[1];var _useState7=useState('Medio'),_useState8=_slicedToArray(_useState7,2),riskClassificationConfirmation=_useState8[0],setRiskClassificationConfirmation=_useState8[1];// services\nvar context=useContext(RiesgoAmbientalContext);var servicioRiesgoAmbiental=new ServicioRiesgoAmbiental();var simpleQuestions=[{name:'natureLocationProject',question:'¿El proyecto está ubicado o es colindante a un área natural protegida?'},{name:'physicalResettlement',question:'¿El proyecto involucra reasentamiento físico y/o económico de más de 100 personas?'},{name:'environmentalPermits',question:'¿Se necesita la presentación de permisos ambientales para la ejecución del proyecto?'},{name:'newProject',question:'¿El proyecto es nuevo e involucra el uso de más de 35 Hectáreas de terreno?'},{name:'workersContractors',question:'¿La actividad emplea más de 50 trabajadores y manejan más de 15 contratistas?'}];useEffect(function(){// load data\nif(!context.transactionId){return;}console.log('load aspectos ambientales',context.transactionId);var transactionId=context.transactionId;servicioRiesgoAmbiental.consultarAspectosAmbientales(transactionId).then(function(info){console.log('fetch aspectos ambientales',info);setRiskPreClassification(info.riskPreClassification||'Medio');setRiskClassificationConfirmation(info.riskClassificationConfirmation||'Medio');setQuestions({newProject:info.newProject,physicalResettlement:info.physicalResettlement,natureLocationProject:info.natureLocationProject,environmentalPermits:info.environmentalPermits});}).catch(function(error){console.error('error fetch aspectos ambientales',error);});},[context]);useImperativeHandle(ref,function(){return{submit:function submit(){var validate=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var form=document.getElementById('formAspectosAmbientales');form.requestSubmit();return formValid;},getFormValidation:function getFormValidation(){return formValid;}};});function handleSubmit(event,errors,values){event.preventDefault();var isValid=errors.length===0;setFormValid(isValid);if(isValid){console.log('submit',values,errors);var transactionId=context.transactionId;servicioRiesgoAmbiental.guardarAspectosAmbientales(transactionId,values).then(function(result){console.log('save success',result);}).catch(function(error){console.error('Error guardando',error);});}}return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(AvForm,{id:\"formAspectosAmbientales\",className:\"needs-validation\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"card-title\",children:t(\"EnvironmentalAspects\")}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsx(AvField,{type:\"hidden\",name:\"sustainableCreditRating\",value:\"\"}),/*#__PURE__*/_jsxs(Row,{className:\"my-2\",children:[/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(AvGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"riskPreClassification\",children:t(\"PreClassificationRisk\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"riskPreClassification\",type:\"text\",id:\"riskPreClassification\",value:riskPreClassification,disabled:true})]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(AvGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"riskClassificationConfirmation\",children:t(\"EnvironmentalRiskclassification\")}),/*#__PURE__*/_jsxs(AvField,{className:\"form-control\",name:\"riskClassificationConfirmation\",type:\"select\",id:\"riskClassificationConfirmation\",value:riskClassificationConfirmation,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Bajo\",children:\"Bajo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Medio\",children:\"Medio\"}),/*#__PURE__*/_jsx(\"option\",{value:\"MedioAlto\",children:\"Medio Alto\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Alto\",children:\"Alto\"})]})]})}),/*#__PURE__*/_jsx(Col,{md:\"12\",children:simpleQuestions.map(function(item){return/*#__PURE__*/_jsx(SimpleChekQuestion,{name:item.name,question:item.question,value:questions[item.name]||false},item.name);})})]}),/*#__PURE__*/_jsx(Row,{className:\"my-4\",children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsx(AttachmentList,{editMode:true,attachments:[]})})})]})})});});export default FormAspectosAmbientales;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/16_RiesgoAmbiental/riesgoAmbiental/FormAspectosAmbientales.js"],"names":["useState","useContext","useEffect","useImperativeHandle","forwardRef","RiesgoAmbientalContext","Card","CardBody","Row","Col","Label","AvForm","AvField","AvGroup","AvInput","AvCheckbox","AttachmentList","useTranslation","ServicioRiesgoAmbiental","SimpleChekQuestion","props","name","value","question","ComposedQuestion","FormAspectosAmbientales","ref","t","i18n","formValid","setFormValid","questions","setQuestions","riskPreClassification","setRiskPreClassification","riskClassificationConfirmation","setRiskClassificationConfirmation","context","servicioRiesgoAmbiental","simpleQuestions","transactionId","console","log","consultarAspectosAmbientales","then","info","newProject","physicalResettlement","natureLocationProject","environmentalPermits","catch","error","submit","validate","form","document","getElementById","requestSubmit","getFormValidation","handleSubmit","event","errors","values","preventDefault","isValid","length","guardarAspectosAmbientales","result","map","item"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { useState, useContext, useEffect, useImperativeHandle, forwardRef } from 'react';\r\nimport RiesgoAmbientalContext from '../RiesgoAmbientalContext';\r\n\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  Row,\r\n  Col,\r\n  Label\r\n} from \"reactstrap\"\r\n\r\nimport { AvForm, AvField, AvGroup, AvInput, AvCheckbox } from \"availity-reactstrap-validation\"\r\nimport AttachmentList from '../../../../components/Attachments/AttachmentList';\r\n\r\n\r\n\r\n//i18n\r\nimport { useTranslation } from 'react-i18next'\r\nimport ServicioRiesgoAmbiental from '../../../../services/RiesgoAmbiental/RiesgoAmbiental';\r\n\r\n\r\nconst SimpleChekQuestion = props => {\r\n  return (\r\n    <AvGroup check className=\"my-2\">\r\n      <AvInput id={props.name} type=\"checkbox\" name={props.name} checked={props.value} />\r\n      <Label check htmlFor={props.name}> {props.question}</Label>\r\n    </AvGroup>\r\n  );\r\n};\r\n\r\nSimpleChekQuestion.propTypes = {\r\n  name: PropTypes.string,\r\n  question: PropTypes.string,\r\n  value: PropTypes.bool\r\n};\r\n\r\nconst ComposedQuestion = props => {\r\n  return (\r\n    <AvGroup check className=\"my-2\">\r\n      <AvInput id={props.name} type=\"checkbox\" name={props.value} />\r\n      <Label check htmlFor={props.name}> {props.question}</Label>\r\n      <AvInput type=\"textarea\" name={props.name + 'Comments'} />\r\n    </AvGroup>\r\n  );\r\n};\r\n\r\nComposedQuestion.propTypes = {\r\n  name: PropTypes.string,\r\n  question: PropTypes.string\r\n};\r\n\r\nconst FormAspectosAmbientales = forwardRef((props, ref) => {\r\n\r\n  const { t, i18n } = useTranslation();\r\n  const [formValid, setFormValid] = useState(false);\r\n  const [questions, setQuestions] = useState({});\r\n  const [riskPreClassification, setRiskPreClassification] = useState('Medio');\r\n  const [riskClassificationConfirmation, setRiskClassificationConfirmation] = useState('Medio');\r\n\r\n\r\n  // services\r\n  const context = useContext(RiesgoAmbientalContext);\r\n  const servicioRiesgoAmbiental = new ServicioRiesgoAmbiental();\r\n\r\n  const simpleQuestions = [\r\n    { name: 'natureLocationProject', question: '¿El proyecto está ubicado o es colindante a un área natural protegida?' },\r\n    { name: 'physicalResettlement', question: '¿El proyecto involucra reasentamiento físico y/o económico de más de 100 personas?' },\r\n    { name: 'environmentalPermits', question: '¿Se necesita la presentación de permisos ambientales para la ejecución del proyecto?' },\r\n    { name: 'newProject', question: '¿El proyecto es nuevo e involucra el uso de más de 35 Hectáreas de terreno?' },\r\n    { name: 'workersContractors', question: '¿La actividad emplea más de 50 trabajadores y manejan más de 15 contratistas?' },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    // load data\r\n    if (!context.transactionId) {\r\n      return;\r\n    }\r\n    console.log('load aspectos ambientales', context.transactionId);\r\n    const { transactionId } = context;\r\n    servicioRiesgoAmbiental.consultarAspectosAmbientales(transactionId)\r\n      .then((info) => {\r\n        console.log('fetch aspectos ambientales', info);\r\n        setRiskPreClassification(info.riskPreClassification || 'Medio');\r\n        setRiskClassificationConfirmation(info.riskClassificationConfirmation || 'Medio');\r\n        setQuestions({\r\n          newProject: info.newProject,\r\n          physicalResettlement: info.physicalResettlement,\r\n          natureLocationProject: info.natureLocationProject,\r\n          environmentalPermits: info.environmentalPermits\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.error('error fetch aspectos ambientales', error);\r\n      });\r\n  }, [context]);\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    submit: (validate = true) => {\r\n      const form = document.getElementById('formAspectosAmbientales');\r\n      form.requestSubmit();\r\n      return formValid;\r\n    },\r\n    getFormValidation: () => {\r\n      return formValid;\r\n    }\r\n  }));\r\n\r\n  function handleSubmit(event, errors, values) {\r\n    event.preventDefault();\r\n    const isValid = errors.length === 0;\r\n    setFormValid(isValid);\r\n    if (isValid) {\r\n      console.log('submit', values, errors);\r\n      const { transactionId } = context;\r\n      servicioRiesgoAmbiental.guardarAspectosAmbientales(transactionId, values)\r\n        .then((result) => {\r\n          console.log('save success', result);\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error guardando', error);\r\n        });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n\r\n      <CardBody>\r\n\r\n        <AvForm id=\"formAspectosAmbientales\" className=\"needs-validation\" onSubmit={handleSubmit}>\r\n\r\n          <h4 className=\"card-title\">{t(\"EnvironmentalAspects\")}</h4>\r\n          <p className=\"card-title-desc\"></p>\r\n\r\n          <AvField type=\"hidden\" name=\"sustainableCreditRating\" value=\"\" />\r\n\r\n          <Row className=\"my-2\">\r\n            <Col md=\"6\">\r\n              <AvGroup className=\"mb-3\">\r\n                <Label htmlFor=\"riskPreClassification\">{t(\"PreClassificationRisk\")}</Label>\r\n                <AvField\r\n                  className=\"form-control\"\r\n                  name=\"riskPreClassification\"\r\n                  type=\"text\"\r\n                  id=\"riskPreClassification\"\r\n                  value={riskPreClassification}\r\n                  disabled={true}></AvField>\r\n              </AvGroup>\r\n            </Col>\r\n            <Col md=\"6\">\r\n              <AvGroup className=\"mb-3\">\r\n                <Label htmlFor=\"riskClassificationConfirmation\">{t(\"EnvironmentalRiskclassification\")}</Label>\r\n                <AvField\r\n                  className=\"form-control\"\r\n                  name=\"riskClassificationConfirmation\"\r\n                  type=\"select\"\r\n                  id=\"riskClassificationConfirmation\"\r\n                  value={riskClassificationConfirmation}>\r\n                  <option value=\"Bajo\">Bajo</option>\r\n                  <option value=\"Medio\">Medio</option>\r\n                  <option value=\"MedioAlto\">Medio Alto</option>\r\n                  <option value=\"Alto\">Alto</option>\r\n                </AvField>\r\n              </AvGroup>\r\n            </Col>\r\n            <Col md=\"12\">\r\n\r\n              {simpleQuestions.map(item => (\r\n                <SimpleChekQuestion key={item.name}\r\n                  name={item.name}\r\n                  question={item.question}\r\n                  value={questions[item.name] || false} />\r\n              ))\r\n              }\r\n\r\n              {/*\r\n            { composedQuestions.map(item => (\r\n              <ComposedQuestion key={ item.name } name={ item.name } question={ item.question } />\r\n            ))}\r\n */}\r\n            </Col>\r\n\r\n          </Row>\r\n\r\n          <Row className=\"my-4\">\r\n            <Col md=\"12\">\r\n              <AttachmentList editMode={true} attachments={[]} />\r\n            </Col>\r\n          </Row>\r\n\r\n        </AvForm>\r\n\r\n      </CardBody>\r\n\r\n    </Card>\r\n  );\r\n\r\n});\r\n\r\n\r\nFormAspectosAmbientales.propTypes = {\r\n};\r\n\r\nexport default FormAspectosAmbientales;\r\n"]},"metadata":{},"sourceType":"module"}