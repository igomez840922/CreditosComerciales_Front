{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useTranslation,withTranslation}from\"react-i18next\";import{Link,useLocation}from\"react-router-dom\";import{Row,Col,Card,CardBody,Button,Label,Input,CardHeader,Table,CardFooter}from\"reactstrap\";import{AvForm,AvField,AvGroup}from\"availity-reactstrap-validation\";import AvInput from'availity-reactstrap-validation/lib/AvInput';import*as OPTs from\"../../helpers/options_helper\";import SweetAlert from\"react-bootstrap-sweetalert\";import{BackendServices}from\"../../services/index.js\";import ModalCapex1 from\"../../pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/ModalCapex1\";import ModalCapex2 from\"../../pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/ModalCapex2\";import ModalCapex3 from\"../../pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/ModalCapex3\";import AttachmentFileCore from\"../Common/AttachmentFileCore\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Capex=function Capex(props){var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var locationData=props.locationData;var location=useLocation();/* ---------------------------------------------------------------------------------------------- */ /*                        Variables de estados para los mensajes de alerta                        */ /* ---------------------------------------------------------------------------------------------- */var _useState=useState(false),_useState2=_slicedToArray(_useState,2),successSave_dlg=_useState2[0],setsuccessSave_dlg=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error_dlg=_useState4[0],seterror_dlg=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error_msg=_useState6[0],seterror_msg=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),info_dlg=_useState8[0],setinfo_dlg=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),info_msg=_useState10[0],setinfo_msg=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),dynamic_title=_useState12[0],setdynamic_title=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),confirm_alert=_useState14[0],setconfirm_alert=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),success_dlg=_useState16[0],setsuccess_dlg=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),dynamic_description=_useState18[0],setdynamic_description=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),dataDelete=_useState20[0],setDataDelete=_useState20[1];var _useState21=useState(location.data),_useState22=_slicedToArray(_useState21,2),dataLocation=_useState22[0],setData=_useState22[1];var _useState23=useState(true),_useState24=_slicedToArray(_useState23,2),botonValidation=_useState24[0],setbotonValidation=_useState24[1];var _useState25=useState({\"transactId\":0,\"description\":\"\",\"useInMiles\":0,\"shareholder\":\"\",\"bank\":\"\"}),_useState26=_slicedToArray(_useState25,2),dataCapex1=_useState26[0],setdataCapex1=_useState26[1];var _useState27=useState({\"transactId\":0,\"capexId\":0,\"budget\":\"\",\"amount\":0,\"status\":true}),_useState28=_slicedToArray(_useState27,2),dataCapex2=_useState28[0],setdataCapex2=_useState28[1];var _useState29=useState({\"transactId\":0,\"capexDetailsId\":0,\"observations\":\"\",\"amount\":0,\"status\":true}),_useState30=_slicedToArray(_useState29,2),dataCapex3=_useState30[0],setdataCapex3=_useState30[1];var _useState31=useState(null),_useState32=_slicedToArray(_useState31,2),tipo=_useState32[0],setTipo=_useState32[1];var _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),formValid=_useState34[0],setFormValid=_useState34[1];var _useState35=useState(null),_useState36=_slicedToArray(_useState35,2),dataCapex1Rows=_useState36[0],setdataCapex1Rows=_useState36[1];var _useState37=useState(null),_useState38=_slicedToArray(_useState37,2),dataCapex2Rows=_useState38[0],setdataCapex2Rows=_useState38[1];var _useState39=useState(null),_useState40=_slicedToArray(_useState39,2),dataCapex3Rows=_useState40[0],setdataCapex3Rows=_useState40[1];var _useState41=useState(false),_useState42=_slicedToArray(_useState41,2),showModalCapex1=_useState42[0],setShowModalCapex1=_useState42[1];var _useState43=useState(false),_useState44=_slicedToArray(_useState43,2),showModalCapex2=_useState44[0],setShowModalCapex2=_useState44[1];var _useState45=useState(false),_useState46=_slicedToArray(_useState45,2),showModalCapex3=_useState46[0],setShowModalCapex3=_useState46[1];React.useEffect(function(){// Read Api Service data\ninitializeData();},[]);var api=new BackendServices();function initializeData(){api.consultarCapexIGR(dataLocation.transactionId).then(function(resp){// console.log(resp);\nif(resp!=undefined&&resp.capex.filter(function($$){return $$.status==true;}).length>1){setdataCapex1Rows(resp.capex.map(function(data){return data.status?/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.description}),/*#__PURE__*/_jsx(\"td\",{children:data.useInMiles}),/*#__PURE__*/_jsx(\"td\",{children:data.shareholder}),/*#__PURE__*/_jsx(\"td\",{children:data.bank}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){verDatos(data,\"CAPEX1\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-eye mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){editarDatos(data,\"ECAPEX1\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){EliminarDatos(data,\"DCAPEX1\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},data.id):null;}));}else{setdataCapex1Rows(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\",style:{textAlign:'center'},children:/*#__PURE__*/_jsx(\"h5\",{children:t(\"NoData\")})})},1));}});api.consultarCapexPresupuestoIGR(dataLocation.transactionId).then(function(resp){if(resp!=undefined){setdataCapex2Rows(resp.capexBudget.map(function(data){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.budget}),/*#__PURE__*/_jsx(\"td\",{children:data.amount}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){verDatos(data,\"CAPEX2\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-eye mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){editarDatos(data,\"ECAPEX2\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){EliminarDatos(data,\"DCAPEX2\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},data.capexId);}));}else{setdataCapex2Rows(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",style:{textAlign:'center'},children:/*#__PURE__*/_jsx(\"h5\",{children:t(\"NoData\")})})},1));}});api.consultarCapexDetalleProyectoIGR(dataLocation.transactionId).then(function(resp){if(resp!=undefined){setdataCapex3Rows(resp.capexProjectDetail.map(function(data){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.budget}),/*#__PURE__*/_jsx(\"td\",{children:data.amount}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){verDatos(data,\"CAPEX3\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-eye mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){editarDatos(data,\"ECAPEX3\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){EliminarDatos(data,\"DCAPEX3\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},data.capexDetailsId);}));}else{setdataCapex3Rows(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",style:{textAlign:'center'},children:/*#__PURE__*/_jsx(\"h5\",{children:t(\"NoData\")})})},1));}});}function verDatos(data,tipo2){setTipo(tipo2);if(tipo2==\"CAPEX1\"){setdataCapex1(data);toggleShowModalCapex1();}if(tipo2==\"CAPEX2\"){setdataCapex2(data);toggleShowModalCapex2();}if(tipo2==\"CAPEX3\"){setdataCapex3(data);toggleShowModalCapex3();}setbotonValidation(false);}function editarDatos(data,tipo2){setTipo(tipo2);if(tipo2==\"ECAPEX1\"){setdataCapex1(data);toggleShowModalCapex1();}if(tipo2==\"ECAPEX2\"){setdataCapex2(data);toggleShowModalCapex2();}if(tipo2==\"ECAPEX3\"){setdataCapex3(data);toggleShowModalCapex3();}setbotonValidation(true);}function EliminarDatos(data,tipo2){setTipo(tipo2);if(tipo2==\"ECAPEX1\"){setdataCapex1(data);}if(tipo2==\"ECAPEX2\"){setdataCapex2(data);}if(tipo2==\"ECAPEX3\"){setdataCapex3(data);}setconfirm_alert(true);}function guardarDatos(data,tipo){data.transactId=Number(dataLocation.transactionId);/* ---------------------------------------------------------------------------------------------- */ /*                                  Guardamos los datos del cash                                  */ /* ---------------------------------------------------------------------------------------------- */if(tipo==\"CAPEX1\"){api.nuevoCapexIGR(data).then(function(resp){if(resp!=undefined){setconfirm_alert(false);setsuccessSave_dlg(true);toggleShowModalCapex1();}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});}if(tipo==\"CAPEX2\"){api.nuevoCapexPresupuestoIGR(data).then(function(resp){if(resp!=undefined){setconfirm_alert(false);setsuccessSave_dlg(true);toggleShowModalCapex2();}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});}if(tipo==\"CAPEX3\"){api.nuevoCapexDetalleProyectoIGR(data).then(function(resp){if(resp!=undefined){setconfirm_alert(false);setsuccessSave_dlg(true);toggleShowModalCapex3();}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});}}function actualizarDatos(data,tipo){data.transactId=dataLocation.transactionId;/* ---------------------------------------------------------------------------------------------- */ /*                                    Editita el flujo de caja                                    */ /* ---------------------------------------------------------------------------------------------- */if(tipo==\"ECAPEX1\"){api.actualizarCapexIGR(data).then(function(resp){if(resp!=undefined){setconfirm_alert(false);setsuccessSave_dlg(true);toggleShowModalCapex1();}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});}if(tipo==\"ECAPEX2\"){api.actualizarCapexPresupuestoIGR(data).then(function(resp){if(resp!=undefined){setconfirm_alert(false);setsuccessSave_dlg(true);toggleShowModalCapex2();}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});}if(tipo==\"ECAPEX3\"){api.actualizarCapexDetalleProyectoIGR(data).then(function(resp){if(resp!=undefined){setconfirm_alert(false);setsuccessSave_dlg(true);toggleShowModalCapex3();}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});}}//abrimos modal para adjunar archivos\nfunction toggleShowModalCapex1(){setShowModalCapex1(!showModalCapex1);removeBodyCss();}//abrimos modal para adjunar archivos\nfunction toggleShowModalCapex2(){setShowModalCapex2(!showModalCapex2);removeBodyCss();}//abrimos modal para adjunar archivos\nfunction toggleShowModalCapex3(){setShowModalCapex3(!showModalCapex3);removeBodyCss();}function removeBodyCss(){document.body.classList.add(\"no_padding\");}// Form Submission\nfunction handleSubmit(event,errors,values){event.preventDefault();if(errors.length>0){return;}//props.onSubmit(values);\n}return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"card-title\",children:t(\"Capex\")}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsxs(AvForm,{id:\"frmSearch\",className:\"needs-validation\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(Table,{className:\"table mt-1\",responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"Description\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"UsesInMiles\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Shareholder\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Bank\")}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Link,{className:\"float-end\",onClick:function onClick(){setbotonValidation(true);setdataCapex1({\"transactId\":0,\"description\":\"\",\"useInMiles\":0,\"shareholder\":\"\",\"bank\":\"\"});setTipo(\"CAPEX1\");toggleShowModalCapex1();},children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-plus-box-multiple-outline mdi-24px\"})})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataCapex1Rows})]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(Table,{className:\"table mt-1\",responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"Budget\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Amount\")}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Link,{className:\"float-end\",onClick:function onClick(){setbotonValidation(true);setdataCapex2({\"transactId\":0,\"capexId\":0,\"budget\":\"\",\"amount\":0,\"status\":true});setTipo(\"CAPEX2\");toggleShowModalCapex2();},children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-plus-box-multiple-outline mdi-24px\"})})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataCapex2Rows})]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(Table,{className:\"table mt-1\",responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"ProjectDetails\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Amount\")}),/*#__PURE__*/_jsxs(\"th\",{children:[\" \",/*#__PURE__*/_jsx(Link,{className:\"float-end\",onClick:function onClick(){setbotonValidation(true);setdataCapex3({\"transactId\":0,\"capexDetailsId\":0,\"observations\":\"\",\"amount\":0,\"status\":true});setTipo(\"CAPEX3\");toggleShowModalCapex3();},children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-plus-box-multiple-outline mdi-24px\"})})]})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataCapex3Rows})]})})}),/*#__PURE__*/_jsx(AttachmentFileCore,{locationData:{instanceId:locationData.instanceId,processId:locationData.processId,activityId:OPTs.ACT_CAPEX}})]}),/*#__PURE__*/_jsx(ModalCapex1,{guardarDatos:guardarDatos,botones:botonValidation,tipo:tipo,actualizarDatos:actualizarDatos,dataCapex1:dataCapex1,isOpen:showModalCapex1,toggle:function toggle(){toggleShowModalCapex1();}}),/*#__PURE__*/_jsx(ModalCapex2,{guardarDatos:guardarDatos,botones:botonValidation,tipo:tipo,actualizarDatos:actualizarDatos,dataCapex2:dataCapex2,isOpen:showModalCapex2,toggle:function toggle(){toggleShowModalCapex2();}}),/*#__PURE__*/_jsx(ModalCapex3,{guardarDatos:guardarDatos,botones:botonValidation,tipo:tipo,actualizarDatos:actualizarDatos,dataCapex3:dataCapex3,isOpen:showModalCapex3,toggle:function toggle(){toggleShowModalCapex3();}}),successSave_dlg?/*#__PURE__*/_jsx(SweetAlert,{success:true,title:t(\"SuccessDialog\"),onConfirm:function onConfirm(){setsuccessSave_dlg(false);initializeData();},children:t(\"SuccessSaveMessage\")}):null,error_dlg?/*#__PURE__*/_jsx(SweetAlert,{error:true,title:t(\"ErrorDialog\"),onConfirm:function onConfirm(){seterror_dlg(false);initializeData();},children:error_msg}):null,confirm_alert?/*#__PURE__*/_jsx(SweetAlert,{title:t(\"Areyousure\"),warning:true,showCancel:true,confirmButtonText:t(\"Yesdeleteit\"),confirmBtnBsStyle:\"success\",cancelBtnBsStyle:\"danger\",onConfirm:function onConfirm(){var apiBack=new BackendServices();if(tipo==\"DCAPEX1\"){apiBack.eliminarCapexIGR({transactId:dataLocation.transactionId,capexsId:dataCapex1.capexId}).then(function(resp){if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(true);}else{setconfirm_alert(false);setsuccessSave_dlg(true);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(true);});}if(tipo==\"DCAPEX2\"){apiBack.eliminarCapexPresupuestoIGR({transactId:dataLocation.transactionId,capexId:dataCapex2.capexId}).then(function(resp){if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(true);}else{setconfirm_alert(false);setsuccessSave_dlg(true);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(true);});}if(tipo==\"DCAPEX3\"){apiBack.eliminarCapexDetalleProyectoIGR({transactId:dataLocation.transactionId,capexDetailsId:dataCapex3.capexId}).then(function(resp){if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(true);}else{setconfirm_alert(false);setsuccessSave_dlg(true);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(true);});}},onCancel:function onCancel(){return setconfirm_alert(false);},children:t(\"Youwontbeabletorevertthis\")}):null]})});};Capex.defaultProps={sources:[],budgets:[],projects:[]};export default Capex;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/components/InformeFinanciero/Capex.js"],"names":["React","useState","useTranslation","withTranslation","Link","useLocation","Row","Col","Card","CardBody","Button","Label","Input","CardHeader","Table","CardFooter","AvForm","AvField","AvGroup","AvInput","OPTs","SweetAlert","BackendServices","ModalCapex1","ModalCapex2","ModalCapex3","AttachmentFileCore","Capex","props","t","i18n","locationData","location","successSave_dlg","setsuccessSave_dlg","error_dlg","seterror_dlg","error_msg","seterror_msg","info_dlg","setinfo_dlg","info_msg","setinfo_msg","dynamic_title","setdynamic_title","confirm_alert","setconfirm_alert","success_dlg","setsuccess_dlg","dynamic_description","setdynamic_description","dataDelete","setDataDelete","data","dataLocation","setData","botonValidation","setbotonValidation","dataCapex1","setdataCapex1","dataCapex2","setdataCapex2","dataCapex3","setdataCapex3","tipo","setTipo","formValid","setFormValid","dataCapex1Rows","setdataCapex1Rows","dataCapex2Rows","setdataCapex2Rows","dataCapex3Rows","setdataCapex3Rows","showModalCapex1","setShowModalCapex1","showModalCapex2","setShowModalCapex2","showModalCapex3","setShowModalCapex3","useEffect","initializeData","api","consultarCapexIGR","transactionId","then","resp","undefined","capex","filter","$$","status","length","map","description","useInMiles","shareholder","bank","textAlign","verDatos","editarDatos","EliminarDatos","id","consultarCapexPresupuestoIGR","capexBudget","budget","amount","capexId","consultarCapexDetalleProyectoIGR","capexProjectDetail","capexDetailsId","tipo2","toggleShowModalCapex1","toggleShowModalCapex2","toggleShowModalCapex3","guardarDatos","transactId","Number","nuevoCapexIGR","catch","err","nuevoCapexPresupuestoIGR","nuevoCapexDetalleProyectoIGR","actualizarDatos","actualizarCapexIGR","actualizarCapexPresupuestoIGR","actualizarCapexDetalleProyectoIGR","removeBodyCss","document","body","classList","add","handleSubmit","event","errors","values","preventDefault","instanceId","processId","activityId","ACT_CAPEX","apiBack","eliminarCapexIGR","capexsId","statusCode","error","eliminarCapexPresupuestoIGR","eliminarCapexDetalleProyectoIGR","defaultProps","sources","budgets","projects"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\r\nimport { useTranslation, withTranslation } from \"react-i18next\"\r\nimport PropTypes from 'prop-types'\r\nimport { Link, useLocation } from \"react-router-dom\"\r\n\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardBody,\r\n  Button,\r\n  Label,\r\n  Input,\r\n  CardHeader,\r\n  Table,\r\n  CardFooter\r\n} from \"reactstrap\"\r\n\r\nimport { AvForm, AvField, AvGroup } from \"availity-reactstrap-validation\"\r\nimport AvInput from 'availity-reactstrap-validation/lib/AvInput'\r\n\r\nimport * as OPTs from \"../../helpers/options_helper\"\r\n\r\nimport SweetAlert from \"react-bootstrap-sweetalert\"\r\nimport { BackendServices } from \"../../services/index.js\"\r\nimport ModalCapex1 from \"../../pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/ModalCapex1\"\r\nimport ModalCapex2 from \"../../pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/ModalCapex2\"\r\nimport ModalCapex3 from \"../../pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/ModalCapex3\"\r\nimport AttachmentFileCore from \"../Common/AttachmentFileCore\"\r\n\r\n\r\n\r\nconst Capex = (props) => {\r\n\r\n  const { t, i18n } = useTranslation();\r\n\r\n  const { locationData } = props;\r\n\r\n  const location = useLocation()\r\n  /* ---------------------------------------------------------------------------------------------- */\r\n  /*                        Variables de estados para los mensajes de alerta                        */\r\n  /* ---------------------------------------------------------------------------------------------- */\r\n  const [successSave_dlg, setsuccessSave_dlg] = useState(false);\r\n  const [error_dlg, seterror_dlg] = useState(false);\r\n  const [error_msg, seterror_msg] = useState(\"\");\r\n  const [info_dlg, setinfo_dlg] = useState(false)\r\n  const [info_msg, setinfo_msg] = useState(\"\")\r\n  const [dynamic_title, setdynamic_title] = useState(\"\")\r\n  const [confirm_alert, setconfirm_alert] = useState(false)\r\n  const [success_dlg, setsuccess_dlg] = useState(false)\r\n  const [dynamic_description, setdynamic_description] = useState(\"\")\r\n  const [dataDelete, setDataDelete] = useState([]);\r\n  const [dataLocation, setData] = useState(location.data);\r\n  const [botonValidation, setbotonValidation] = useState(true);\r\n\r\n  const [dataCapex1, setdataCapex1] = useState({\r\n    \"transactId\": 0,\r\n    \"description\": \"\",\r\n    \"useInMiles\": 0,\r\n    \"shareholder\": \"\",\r\n    \"bank\": \"\"\r\n  });\r\n  const [dataCapex2, setdataCapex2] = useState({\r\n    \"transactId\": 0,\r\n    \"capexId\": 0,\r\n    \"budget\": \"\",\r\n    \"amount\": 0,\r\n    \"status\": true\r\n  });\r\n  const [dataCapex3, setdataCapex3] = useState({\r\n    \"transactId\": 0,\r\n    \"capexDetailsId\": 0,\r\n    \"observations\": \"\",\r\n    \"amount\": 0,\r\n    \"status\": true\r\n  });\r\n  const [tipo, setTipo] = useState(null);\r\n\r\n  const [formValid, setFormValid] = useState(false);\r\n  const [dataCapex1Rows, setdataCapex1Rows] = useState(null);\r\n  const [dataCapex2Rows, setdataCapex2Rows] = useState(null);\r\n  const [dataCapex3Rows, setdataCapex3Rows] = useState(null);\r\n\r\n\r\n\r\n  const [showModalCapex1, setShowModalCapex1] = useState(false);\r\n  const [showModalCapex2, setShowModalCapex2] = useState(false);\r\n  const [showModalCapex3, setShowModalCapex3] = useState(false);\r\n  React.useEffect(() => {\r\n    // Read Api Service data\r\n    initializeData();\r\n  }, []);\r\n\r\n  const api = new BackendServices();\r\n\r\n  function initializeData() {\r\n    api.consultarCapexIGR(dataLocation.transactionId).then(resp => {\r\n      // console.log(resp);\r\n      if (resp != undefined && resp.capex.filter($$ => $$.status == true).length > 1) {\r\n        setdataCapex1Rows(resp.capex.map((data) => (\r\n          data.status ?\r\n            <tr key={data.id}>\r\n              <td>{data.description}</td>\r\n              <td>{data.useInMiles}</td>\r\n              <td>{data.shareholder}</td>\r\n              <td>{data.bank}</td>\r\n              <td style={{ textAlign: \"right\" }}>\r\n                <Button type=\"button\" color=\"link\" onClick={(resp) => { verDatos(data, \"CAPEX1\") }} className=\"btn btn-link\" ><i className=\"mdi mdi-eye mdi-24px\"></i></Button>\r\n                <Button type=\"button\" color=\"link\" onClick={(resp) => { editarDatos(data, \"ECAPEX1\") }} className=\"btn btn-link\" ><i className=\"mdi mdi-border-color mdi-24px\"></i></Button>\r\n                <Button type=\"button\" color=\"link\" onClick={(resp) => { EliminarDatos(data, \"DCAPEX1\") }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n              </td>\r\n            </tr> : null)\r\n        ));\r\n      } else {\r\n        setdataCapex1Rows(\r\n          <tr key={1}>\r\n            <td colSpan=\"4\" style={{ textAlign: 'center' }}><h5>{t(\"NoData\")}</h5></td>\r\n          </tr>);\r\n      }\r\n    });\r\n    api.consultarCapexPresupuestoIGR(dataLocation.transactionId).then(resp => {\r\n      if (resp != undefined) {\r\n        setdataCapex2Rows(resp.capexBudget.map((data) => (\r\n          <tr key={data.capexId}>\r\n            <td>{data.budget}</td>\r\n            <td>{data.amount}</td>\r\n            <td style={{ textAlign: \"right\" }}>\r\n              <Button type=\"button\" color=\"link\" onClick={(resp) => { verDatos(data, \"CAPEX2\") }} className=\"btn btn-link\" ><i className=\"mdi mdi-eye mdi-24px\"></i></Button>\r\n              <Button type=\"button\" color=\"link\" onClick={(resp) => { editarDatos(data, \"ECAPEX2\") }} className=\"btn btn-link\" ><i className=\"mdi mdi-border-color mdi-24px\"></i></Button>\r\n              <Button type=\"button\" color=\"link\" onClick={(resp) => { EliminarDatos(data, \"DCAPEX2\") }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n            </td>\r\n          </tr>)\r\n        ));\r\n      } else {\r\n        setdataCapex2Rows(\r\n          <tr key={1}>\r\n            <td colSpan=\"2\" style={{ textAlign: 'center' }}><h5>{t(\"NoData\")}</h5></td>\r\n          </tr>);\r\n      }\r\n    });\r\n    api.consultarCapexDetalleProyectoIGR(dataLocation.transactionId).then(resp => {\r\n      if (resp != undefined) {\r\n        setdataCapex3Rows(resp.capexProjectDetail.map((data) => (\r\n          <tr key={data.capexDetailsId}>\r\n            <td>{data.budget}</td>\r\n            <td>{data.amount}</td>\r\n            <td style={{ textAlign: \"right\" }}>\r\n              <Button type=\"button\" color=\"link\" onClick={(resp) => { verDatos(data, \"CAPEX3\") }} className=\"btn btn-link\" ><i className=\"mdi mdi-eye mdi-24px\"></i></Button>\r\n              <Button type=\"button\" color=\"link\" onClick={(resp) => { editarDatos(data, \"ECAPEX3\") }} className=\"btn btn-link\" ><i className=\"mdi mdi-border-color mdi-24px\"></i></Button>\r\n              <Button type=\"button\" color=\"link\" onClick={(resp) => { EliminarDatos(data, \"DCAPEX3\") }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n            </td>\r\n          </tr>)\r\n        ));\r\n      } else {\r\n        setdataCapex3Rows(\r\n          <tr key={1}>\r\n            <td colSpan=\"2\" style={{ textAlign: 'center' }}><h5>{t(\"NoData\")}</h5></td>\r\n          </tr>);\r\n      }\r\n    });\r\n\r\n  }\r\n  function verDatos(data, tipo2) {\r\n    setTipo(tipo2);\r\n    if (tipo2 == \"CAPEX1\") {\r\n      setdataCapex1(data);\r\n      toggleShowModalCapex1()\r\n    }\r\n    if (tipo2 == \"CAPEX2\") {\r\n      setdataCapex2(data);\r\n      toggleShowModalCapex2()\r\n    }\r\n    if (tipo2 == \"CAPEX3\") {\r\n      setdataCapex3(data);\r\n      toggleShowModalCapex3()\r\n    }\r\n    setbotonValidation(false);\r\n  }\r\n  function editarDatos(data, tipo2) {\r\n    setTipo(tipo2);\r\n    if (tipo2 == \"ECAPEX1\") {\r\n      setdataCapex1(data);\r\n      toggleShowModalCapex1()\r\n    }\r\n    if (tipo2 == \"ECAPEX2\") {\r\n      setdataCapex2(data);\r\n      toggleShowModalCapex2()\r\n    }\r\n    if (tipo2 == \"ECAPEX3\") {\r\n      setdataCapex3(data);\r\n      toggleShowModalCapex3()\r\n    }\r\n    setbotonValidation(true);\r\n  }\r\n  function EliminarDatos(data, tipo2) {\r\n    setTipo(tipo2);\r\n    if (tipo2 == \"ECAPEX1\") {\r\n      setdataCapex1(data);\r\n    }\r\n    if (tipo2 == \"ECAPEX2\") {\r\n      setdataCapex2(data);\r\n    }\r\n    if (tipo2 == \"ECAPEX3\") {\r\n      setdataCapex3(data);\r\n    }\r\n    setconfirm_alert(true);\r\n  }\r\n  function guardarDatos(data, tipo) {\r\n    data.transactId = Number(dataLocation.transactionId);\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                                  Guardamos los datos del cash                                  */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    if (tipo == \"CAPEX1\") {\r\n      api.nuevoCapexIGR(data).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          setsuccessSave_dlg(true)\r\n          toggleShowModalCapex1();\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n    if (tipo == \"CAPEX2\") {\r\n      api.nuevoCapexPresupuestoIGR(data).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          setsuccessSave_dlg(true)\r\n          toggleShowModalCapex2();\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n    if (tipo == \"CAPEX3\") {\r\n      api.nuevoCapexDetalleProyectoIGR(data).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          setsuccessSave_dlg(true)\r\n          toggleShowModalCapex3();\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n  }\r\n  function actualizarDatos(data, tipo) {\r\n    data.transactId = dataLocation.transactionId;\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                                    Editita el flujo de caja                                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    if (tipo == \"ECAPEX1\") {\r\n      api.actualizarCapexIGR(data).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          setsuccessSave_dlg(true)\r\n          toggleShowModalCapex1();\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n    if (tipo == \"ECAPEX2\") {\r\n      api.actualizarCapexPresupuestoIGR(data).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          setsuccessSave_dlg(true)\r\n          toggleShowModalCapex2();\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n    if (tipo == \"ECAPEX3\") {\r\n      api.actualizarCapexDetalleProyectoIGR(data).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          setsuccessSave_dlg(true)\r\n          toggleShowModalCapex3();\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  //abrimos modal para adjunar archivos\r\n  function toggleShowModalCapex1() {\r\n    setShowModalCapex1(!showModalCapex1);\r\n    removeBodyCss()\r\n  }\r\n\r\n  //abrimos modal para adjunar archivos\r\n  function toggleShowModalCapex2() {\r\n    setShowModalCapex2(!showModalCapex2);\r\n    removeBodyCss()\r\n  }\r\n\r\n  //abrimos modal para adjunar archivos\r\n  function toggleShowModalCapex3() {\r\n    setShowModalCapex3(!showModalCapex3);\r\n    removeBodyCss()\r\n  }\r\n\r\n  function removeBodyCss() {\r\n    document.body.classList.add(\"no_padding\")\r\n  }\r\n\r\n  // Form Submission\r\n  function handleSubmit(event, errors, values) {\r\n    event.preventDefault();\r\n    if (errors.length > 0) {\r\n      return;\r\n    }\r\n    //props.onSubmit(values);\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <CardBody>\r\n        <h4 className=\"card-title\">{t(\"Capex\")}</h4>\r\n        <p className=\"card-title-desc\"></p>\r\n\r\n        <AvForm id=\"frmSearch\" className=\"needs-validation\" onSubmit={handleSubmit}>\r\n          <Row>\r\n            <Col md=\"12\">\r\n\r\n              <Table className=\"table mt-1\" responsive>\r\n                <thead className=\"table-light\">\r\n                  <tr>\r\n                    <th>{t(\"Description\")}</th>\r\n                    <th>{t(\"UsesInMiles\")}</th>\r\n                    {/* <th>{t(\"SourcesThousands\")}</th> */}\r\n                    <th>{t(\"Shareholder\")}</th>\r\n                    <th>{t(\"Bank\")}</th>\r\n                    <th><Link className=\"float-end\" onClick={() => {\r\n                      setbotonValidation(true); setdataCapex1({\r\n                        \"transactId\": 0,\r\n                        \"description\": \"\",\r\n                        \"useInMiles\": 0,\r\n                        \"shareholder\": \"\",\r\n                        \"bank\": \"\"\r\n                      }); setTipo(\"CAPEX1\"); toggleShowModalCapex1()\r\n                    }}><i className=\"mdi mdi-plus-box-multiple-outline mdi-24px\"></i></Link></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {dataCapex1Rows}\r\n                </tbody>\r\n              </Table>\r\n\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row>\r\n            <Col md=\"12\">\r\n              <Table className=\"table mt-1\" responsive>\r\n                <thead className=\"table-light\">\r\n                  <tr>\r\n                    <th>{t(\"Budget\")}</th>\r\n                    <th>{t(\"Amount\")}</th>\r\n                    <th><Link className=\"float-end\" onClick={() => {\r\n                      setbotonValidation(true); setdataCapex2({\r\n                        \"transactId\": 0,\r\n                        \"capexId\": 0,\r\n                        \"budget\": \"\",\r\n                        \"amount\": 0,\r\n                        \"status\": true\r\n                      }); setTipo(\"CAPEX2\"); toggleShowModalCapex2()\r\n                    }}><i className=\"mdi mdi-plus-box-multiple-outline mdi-24px\"></i></Link></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {dataCapex2Rows}\r\n                </tbody>\r\n              </Table>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row>\r\n            <Col md=\"12\">\r\n              <Table className=\"table mt-1\" responsive>\r\n                <thead className=\"table-light\">\r\n                  <tr>\r\n                    <th>{t(\"ProjectDetails\")}</th>\r\n                    <th>{t(\"Amount\")}</th>\r\n                    <th> <Link className=\"float-end\" onClick={() => {\r\n                      setbotonValidation(true); setdataCapex3({\r\n                        \"transactId\": 0,\r\n                        \"capexDetailsId\": 0,\r\n                        \"observations\": \"\",\r\n                        \"amount\": 0,\r\n                        \"status\": true\r\n                      }); setTipo(\"CAPEX3\"); toggleShowModalCapex3()\r\n                    }}><i className=\"mdi mdi-plus-box-multiple-outline mdi-24px\"></i></Link></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {dataCapex3Rows}\r\n                </tbody>\r\n              </Table>\r\n            </Col>\r\n          </Row>\r\n          <AttachmentFileCore locationData={{ instanceId: locationData.instanceId, processId: locationData.processId, activityId: OPTs.ACT_CAPEX }} />\r\n        </AvForm>\r\n        <ModalCapex1 guardarDatos={guardarDatos} botones={botonValidation} tipo={tipo} actualizarDatos={actualizarDatos} dataCapex1={dataCapex1} isOpen={showModalCapex1} toggle={() => { toggleShowModalCapex1() }} />\r\n        <ModalCapex2 guardarDatos={guardarDatos} botones={botonValidation} tipo={tipo} actualizarDatos={actualizarDatos} dataCapex2={dataCapex2} isOpen={showModalCapex2} toggle={() => { toggleShowModalCapex2() }} />\r\n        <ModalCapex3 guardarDatos={guardarDatos} botones={botonValidation} tipo={tipo} actualizarDatos={actualizarDatos} dataCapex3={dataCapex3} isOpen={showModalCapex3} toggle={() => { toggleShowModalCapex3() }} />\r\n        {successSave_dlg ? (\r\n          <SweetAlert\r\n            success\r\n            title={t(\"SuccessDialog\")}\r\n            onConfirm={() => {\r\n              setsuccessSave_dlg(false)\r\n              initializeData();\r\n            }}\r\n          >\r\n            {t(\"SuccessSaveMessage\")}\r\n          </SweetAlert>\r\n        ) : null}\r\n\r\n        {error_dlg ? (\r\n          <SweetAlert\r\n            error\r\n            title={t(\"ErrorDialog\")}\r\n            onConfirm={() => {\r\n              seterror_dlg(false)\r\n              initializeData();\r\n            }}\r\n          >\r\n            {error_msg}\r\n          </SweetAlert>\r\n        ) : null}\r\n        {confirm_alert ? (\r\n          <SweetAlert\r\n            title={t(\"Areyousure\")}\r\n            warning\r\n            showCancel\r\n            confirmButtonText={t(\"Yesdeleteit\")}\r\n            confirmBtnBsStyle=\"success\"\r\n            cancelBtnBsStyle=\"danger\"\r\n            onConfirm={() => {\r\n              const apiBack = new BackendServices();\r\n              if (tipo == \"DCAPEX1\") {\r\n                apiBack.eliminarCapexIGR({ transactId: dataLocation.transactionId, capexsId: dataCapex1.capexId }).then(resp => {\r\n                  if (resp.statusCode == \"500\") {\r\n                    setconfirm_alert(false)\r\n                    seterror_dlg(true)\r\n                  } else {\r\n                    setconfirm_alert(false)\r\n                    setsuccessSave_dlg(true)\r\n                  }\r\n                }).catch(error => {\r\n                  setconfirm_alert(false)\r\n                  seterror_dlg(true)\r\n                })\r\n              }\r\n              if (tipo == \"DCAPEX2\") {\r\n                apiBack.eliminarCapexPresupuestoIGR({ transactId: dataLocation.transactionId, capexId: dataCapex2.capexId }).then(resp => {\r\n                  if (resp.statusCode == \"500\") {\r\n                    setconfirm_alert(false)\r\n                    seterror_dlg(true)\r\n                  } else {\r\n                    setconfirm_alert(false)\r\n                    setsuccessSave_dlg(true)\r\n                  }\r\n                }).catch(error => {\r\n                  setconfirm_alert(false)\r\n                  seterror_dlg(true)\r\n                })\r\n              }\r\n              if (tipo == \"DCAPEX3\") {\r\n                apiBack.eliminarCapexDetalleProyectoIGR({ transactId: dataLocation.transactionId, capexDetailsId: dataCapex3.capexId }).then(resp => {\r\n                  if (resp.statusCode == \"500\") {\r\n                    setconfirm_alert(false)\r\n                    seterror_dlg(true)\r\n                  } else {\r\n                    setconfirm_alert(false)\r\n                    setsuccessSave_dlg(true)\r\n                  }\r\n                }).catch(error => {\r\n                  setconfirm_alert(false)\r\n                  seterror_dlg(true)\r\n                })\r\n              }\r\n            }}\r\n            onCancel={() => setconfirm_alert(false)}\r\n          >\r\n            {t(\"Youwontbeabletorevertthis\")}\r\n          </SweetAlert>\r\n        ) : null}\r\n\r\n      </CardBody>\r\n    </Card>\r\n  );\r\n};\r\n\r\nCapex.propTypes = {\r\n  sources: PropTypes.array,\r\n  budgets: PropTypes.array,\r\n  projects: PropTypes.array,\r\n};\r\n\r\nCapex.defaultProps = {\r\n  sources: [],\r\n  budgets: [],\r\n  projects: []\r\n};\r\n\r\nexport default Capex;\r\n"]},"metadata":{},"sourceType":"module"}