{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from\"react\";import{translationHelpers}from'../../helpers';import Select from\"react-select\";import'./FormCreditProposal.scss';import{Row,Col,Label}from\"reactstrap\";import{AvForm,AvGroup,AvField,AvFeedback}from\"availity-reactstrap-validation\";import{BackendServices,CoreServices}from\"../../services\";import ServicioPropuestaCredito from\"../../services/PropuestaCredito/PropuestaCredito\";import CreditProposalContext from\"./CreditProposalContext\";import Switch from\"react-switch\";import{useLocation}from\"react-router-dom\";import*as OPTs from\"../../helpers/options_helper\";import moment from\"moment\";import\"flatpickr/dist/themes/material_blue.css\";import Flatpickr from\"react-flatpickr\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Offsymbol=function Offsymbol(){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100%\",fontSize:12,color:\"#fff\",paddingRight:2},children:[\" \",\"No\"]});};var OnSymbol=function OnSymbol(){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100%\",fontSize:12,color:\"#fff\",paddingRight:2},children:[\" \",\"Si\"]});};var FormCreditProposal=/*#__PURE__*/React.forwardRef(function(props,ref){var location=useLocation();var _useState=useState(location.data),_useState2=_slicedToArray(_useState,2),locationData=_useState2[0],setLocationData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),formValid=_useState4[0],setFormValid=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),gruposEconomicos=_useState6[0],setGruposEconomicos=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),actividadEmpresa=_useState8[0],setActividadEmpresa=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),actividadEmpresaSet=_useState10[0],setActividadEmpresaSet=_useState10[1];var _useState11=useState(undefined),_useState12=_slicedToArray(_useState11,2),actividadEmpresaSelect=_useState12[0],setActividadEmpresaSelect=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),paises=_useState14[0],setPais=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),paisesRiesgo=_useState16[0],setPaisRiesgo=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),listaRevisionSet=_useState18[0],setlistaRevisionSet=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),listaRevision=_useState20[0],setlistaRevision=_useState20[1];var _useState21=useState(null),_useState22=_slicedToArray(_useState21,2),datosIGR=_useState22[0],setdatosIGR=_useState22[1];var _useState23=useState(null),_useState24=_slicedToArray(_useState23,2),datosAmbientales=_useState24[0],setdatosAmbientales=_useState24[1];var _useState25=useState(undefined),_useState26=_slicedToArray(_useState25,2),listaRevisionSelect=_useState26[0],setlistaRevisionSelect=_useState26[1];var _useState27=useState(null),_useState28=_slicedToArray(_useState27,2),listaRevisionRequerido=_useState28[0],setlistaRevisionRequerido=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),preapprovalSwitch=_useState30[0],setpreapprovalSwitch=_useState30[1];var _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),relatedPartSwitch=_useState32[0],setrelatedPartSwitch=_useState32[1];// form control state\nvar _useState33=useState(''),_useState34=_slicedToArray(_useState33,2),transactId=_useState34[0],setTransactId=_useState34[1];var _useState35=useState(''),_useState36=_slicedToArray(_useState35,2),customerNumber=_useState36[0],setCustomerNumber=_useState36[1];var _useState37=useState(''),_useState38=_slicedToArray(_useState37,2),revisionType=_useState38[0],setRevisionType=_useState38[1];var _useState39=useState(false),_useState40=_slicedToArray(_useState39,2),preapproval=_useState40[0],setPreapproval=_useState40[1];var _useState41=useState(null),_useState42=_slicedToArray(_useState41,2),economicGroupSelect=_useState42[0],seteconomicGroupSelect=_useState42[1];var _useState43=useState(null),_useState44=_slicedToArray(_useState43,2),economicGroup=_useState44[0],setEconomicGroup=_useState44[1];var _useState45=useState(null),_useState46=_slicedToArray(_useState45,2),country=_useState46[0],setCountry=_useState46[1];var _useState47=useState(undefined),_useState48=_slicedToArray(_useState47,2),countrySelect=_useState48[0],setCountrySelect=_useState48[1];var _useState49=useState(''),_useState50=_slicedToArray(_useState49,2),activityCompany=_useState50[0],setActivityCompany=_useState50[1];var _useState51=useState(''),_useState52=_slicedToArray(_useState51,2),riskClassification=_useState52[0],setRiskClassification=_useState52[1];var _useState53=useState(''),_useState54=_slicedToArray(_useState53,2),minimumProvisionSIB=_useState54[0],setMinimunProvisionSIB=_useState54[1];var _useState55=useState(false),_useState56=_slicedToArray(_useState55,2),relatedPart=_useState56[0],setRelatedPart=_useState56[1];var _useState57=useState(''),_useState58=_slicedToArray(_useState57,2),accountExecutive=_useState58[0],setAccountExecutive=_useState58[1];var _useState59=useState(''),_useState60=_slicedToArray(_useState59,2),approvalLevel=_useState60[0],setApprovalLevel=_useState60[1];var _useState61=useState(''),_useState62=_slicedToArray(_useState61,2),responsibleUnit=_useState62[0],setResponsibleUnit=_useState62[1];var _useState63=useState(null),_useState64=_slicedToArray(_useState63,2),countryRisk=_useState64[0],setCountryRisk=_useState64[1];var _useState65=useState(undefined),_useState66=_slicedToArray(_useState65,2),countryRiskSelect=_useState66[0],setCountryRiskSelect=_useState66[1];var _useState67=useState(''),_useState68=_slicedToArray(_useState67,2),requestDate=_useState68[0],setRequestDate=_useState68[1];var _useState69=useState(''),_useState70=_slicedToArray(_useState69,2),lastRequestDate=_useState70[0],setLastRequestDate=_useState70[1];var _useState71=useState(''),_useState72=_slicedToArray(_useState71,2),proposedExpirationDate=_useState72[0],setProposedExpirationDate=_useState72[1];var _useState73=useState(''),_useState74=_slicedToArray(_useState73,2),nextRevisionDate=_useState74[0],setNextRevisionDate=_useState74[1];var _useState75=useState(''),_useState76=_slicedToArray(_useState75,2),flow=_useState76[0],setFlow=_useState76[1];var _translationHelpers=translationHelpers('commercial_credit','common'),_translationHelpers2=_slicedToArray(_translationHelpers,2),t=_translationHelpers2[0],c=_translationHelpers2[1];// services\nvar context=useContext(CreditProposalContext);var propCredService=new ServicioPropuestaCredito();React.useImperativeHandle(ref,function(){return{submit:function submit(){var validate=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var form=document.getElementById('formCreditProposal');if(validate){if(formValid){form.requestSubmit();return true;}return false;}else{form.requestSubmit();return true;}},getFormValidation:function getFormValidation(){return formValid;}};});useEffect(function(){updateDefaults();cargarListaPaises();cargarListaGrupoEconomico();cargarActividadEconomica();cargarListaRevision();},[]);// useEffect(() => {\n// }, [gruposEconomicos]);\nuseEffect(function(){updateDefaults();},[props.values,paises,gruposEconomicos,actividadEmpresa]);function updateDefaults(){// set default values\nsetTransactId(props.values.transactId||context.transactionId);setCustomerNumber(props.values.customerNumber||context.customerId);setRevisionType(props.values.revisionType||'Bimensual');setPreapproval(props.values.preapproval||false);// setRiskClassification(props.values.riskClassification || '');\nsetMinimunProvisionSIB(props.values.minimumProvisionSIB||'');setRelatedPart(props.values.relatedPart||false);setAccountExecutive(props.values.accountExecutive||'');setApprovalLevel(props.values.approvalLevel||'');setResponsibleUnit(props.values.responsibleUnit||'');setRequestDate(props.values.requestDate||'');setLastRequestDate(props.values.lastRequestDate||'');setNextRevisionDate(props.values.nextRevisionDate||'');setProposedExpirationDate(props.values.proposedExpirationDate||'');setFlow(props.values.flow||'');cargarDatosGeneralesIGR();setrelatedPartSwitch(props.values.relatedPart);setpreapprovalSwitch(props.values.preapproval);try{var defaultVal=null;if(listaRevision.length>0&&props.values.revision!==null&&listaRevisionSelect===undefined){defaultVal=listaRevision.find(function(x){return x.value===props.values.revision;});if(defaultVal!==undefined){setlistaRevisionSelect(defaultVal);}}if(paises.length>0&&props.values.country!==null&&countrySelect===undefined){defaultVal=paises.find(function(x){return x.value===props.values.country;});if(defaultVal!==undefined){setCountrySelect(defaultVal);}}if(paises.length>0&&props.values.countryRisk!==null&&countryRiskSelect===undefined){defaultVal=paises.find(function(x){return x.value===props.values.countryRisk;});if(defaultVal!==undefined){setCountryRiskSelect(defaultVal);}}}catch(err){}// dropdown economic group\n// if (props.values.economicGroupNumber && gruposEconomicos && gruposEconomicos.length > 0) {\n//   const selected = gruposEconomicos[0].options.find(p => p.value === props.values.economicGroupNumber);\n//   if (selected) {\n//     setEconomicGroup(selected);\n//   }\n// }\n// else {\n//   setEconomicGroup({ label: t('SelectGroup'), value: '' });\n// }\n// drodown country\n// dropdown countryRisk\n// if (props.values.countryRisk && paises.length > 0) {\n//   const selected = paises[0].options.find(p => p.value === props.values.countryRisk);\n//   if (selected) {\n//     setCountryRisk(selected);\n//   }\n// }\n// else {\n//   setCountryRisk({ label: t('Selectacountry'), value: '' });\n// }\n// dropdown activityCompany\n}function cargarListaPaises(){var api=new CoreServices();api.getPaisesCatalogo().then(function(response){if(response===null){return;}// sort by name\nvar json=response.Records?response.Records.map(function(item){return{label:item[\"Description\"],value:item[\"Code\"]};}):[];var optionGroup1=[{label:t(\"Selectacountry\"),options:json}];setPais(json);setPaisRiesgo(json);}).catch(function(err){console.log(err);});}function cargarActividadEconomica(){var api=new CoreServices();api.getActividadEconomicaCatalogo().then(function(response){if(response===null){return;}var json=[];for(var i=0;i<response.Records.length;i++){json.push({label:response.Records[i][\"Description\"],value:response.Records[i][\"Code\"]});}var optionGroup1=[{label:t(\"Selectcompanyactivity\"),options:json}];setActividadEmpresa(json);});}function cargarListaGrupoEconomico(){var api=new CoreServices();api.getGrupoEconomicoCatalogo().then(function(response){if(response===null){return;}var json=[];for(var i=0;i<response.Records.length;i++){json.push({label:response.Records[i][\"Description\"],value:response.Records[i][\"Code\"]});}var optionGroup1=[{label:t(\"SelectGroup\"),options:json}];// console.log(optionGroup1);\nsetGruposEconomicos(json);});}function cargarListaRevision(){var api=new BackendServices();api.retrieveRevisionType().then(function(response){if(response===null){return;}var json=[];for(var i=0;i<response.length;i++){json.push({label:response[i][\"description\"],value:response[i][\"id\"]});}setlistaRevision(json);});}function cargarDatosGeneralesIGR(){var transactionId=context.transactionId;var apiBack=new BackendServices();apiBack.consultGeneralDataIGR(transactionId).then(function(resp){setdatosIGR(resp);try{var defaultVal=null;seteconomicGroupSelect(undefined);if(gruposEconomicos.length>0&&resp.economicGroup!==null&&economicGroupSelect===undefined){defaultVal=gruposEconomicos.find(function(x){return x.value===resp.economicGroup.code;});console.log(defaultVal);if(defaultVal!==undefined){seteconomicGroupSelect(defaultVal);}}else{seteconomicGroupSelect(gruposEconomicos[0]);}setActividadEmpresaSet(resp.economicActivity);if(actividadEmpresa.length>0&&resp.economicActivity!==null&&actividadEmpresaSelect===undefined){defaultVal=actividadEmpresa.find(function(x){return x.value===resp.economicActivity.code;});if(defaultVal!==undefined){setActividadEmpresaSelect(defaultVal);}}else{setActividadEmpresaSelect(actividadEmpresa[0]);}}catch(err){}}).catch(function(error){});apiBack.consultEnvironmentalAspectsIGR(locationData.transactionId).then(function(resp){setdatosAmbientales(resp.environmentalAspectsDTO);}).catch(function(error){});}function handleSubmit(event,errors,values){event.preventDefault();// if (errors.length > 0) {\n//   console.log('form is invalid');\n//   return;\n// }\nif(event.target.id!=='formCreditProposal'){return;}setFormValid(true);// setLoading(true);\n// const date = dateFormat(new Date(), \"yyyy-mm-dd\");\nvalues.minimumProvisionSIB=Number(values.minimumProvisionSIB);var data=Object.assign({country:countrySelect!=undefined?countrySelect.value:'',countryRisk:countryRiskSelect!=undefined?countryRiskSelect.value:'',economicGroupName:economicGroupSelect!=undefined?economicGroupSelect.label:'',// economicGroupNumber: economicGroup ? economicGroup.value : '',\nactivityCompany:actividadEmpresaSelect!=undefined?actividadEmpresaSelect.value:'',revision:listaRevisionSet?listaRevisionSet.value:'',preapproval:preapprovalSwitch,relatedPart:relatedPartSwitch},values);propCredService.guardarDatosGenerales(context.instanceId,context.requestId,data).then(function(response){console.log('datos generales save success',response);}).catch(function(error){console.log('error saving datos generales',error);});}function handleDropdownChange(name,event){switch(name){case'country':setCountry(event);break;case'countryRisk':setCountryRisk(event);break;case'economicGroupName':setEconomicGroup(event);break;case'activityCompany':setActivityCompany(event);break;default:// do nothing\n}}function check(e){var tecla=document.all?e.keyCode:e.which;//Tecla de retroceso para borrar, siempre la permite\nif(tecla===45){e.preventDefault();return true;}return false;}return/*#__PURE__*/_jsxs(AvForm,{id:\"formCreditProposal\",className:\"needs-validation\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h5\",{children:props.title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"transactId\",children:t(\"Procedure Number\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"transactId\",type:\"number\",onKeyPress:function onKeyPress(e){return check(e);},min:0,id:\"transactId\",value:transactId,readOnly:true})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"customerNumber\",children:t(\"Customer ID\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"customerNumber\",type:\"number\",onKeyPress:function onKeyPress(e){return check(e);},min:0,readOnly:true,id:\"customerNumber\",value:datosIGR!=null?datosIGR.customerNumberT24:\"\",validate:{required:{value:true,errorMessage:c(\"Required\")}}})]})}),/*#__PURE__*/_jsxs(Col,{md:\"3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"revisionType\",children:t(\"Revision Type\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},onChange:function onChange(e){setlistaRevisionSelect(listaRevision.find(function(x){return x.value===e.value;}));setlistaRevisionSet(e);},options:listaRevision,id:\"revision\",classNamePrefix:\"select2-selection\",placeholder:t(\"Select\"),value:listaRevisionSelect})]}),/*#__PURE__*/_jsxs(Col,{md:\"3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"preapproval\",children:t(\"Pre Approved\")}),/*#__PURE__*/_jsx(AvGroup,{check:true,className:\"mb-3\",children:/*#__PURE__*/_jsx(Switch,{name:\"preapproval\",uncheckedIcon:/*#__PURE__*/_jsx(Offsymbol,{}),checkedIcon:/*#__PURE__*/_jsx(OnSymbol,{}),onColor:\"#007943\",className:\"form-label\",onChange:function onChange(){setpreapprovalSwitch(!preapprovalSwitch);},checked:preapprovalSwitch})})]}),/*#__PURE__*/_jsxs(Col,{md:\"6\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"economicGroupName\",children:t(\"Economic Group Name\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},id:\"economicGroupName\",name:\"economicGroupName\",onChange:function onChange(e){seteconomicGroupSelect(gruposEconomicos.find(function(x){return x.value===e.value;}));handleDropdownChange('economicGroupName',e);},options:gruposEconomicos,classNamePrefix:\"select2-selection\",value:economicGroupSelect})]}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"economicGroupNumber\",children:t(\"Economic Group Number\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"economicGroupNumber\",type:\"text\",id:\"economicGroupNumber\",value:economicGroupSelect!=undefined?economicGroupSelect.value:'',validate:{required:{value:true,errorMessage:c(\"Validation.Required\")}}})]})}),/*#__PURE__*/_jsxs(Col,{md:\"6\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"country\",children:t(\"Country Class\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},id:\"country\",name:\"country\",onChange:function onChange(e){setCountrySelect(paises.find(function(x){return x.value===e.value;}));handleDropdownChange('country',e);},placeholder:t(\"Select\"),options:paises,classNamePrefix:\"select2-selection\",value:countrySelect})]}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"riskClassification\",children:t(\"Risk Assesment\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"riskClassification\",type:\"text\",readOnly:true,id:\"riskClassification\",value:datosAmbientales!=null?datosAmbientales.riskPreClassification:\"1\"// value=\"1\"\n})]})}),/*#__PURE__*/_jsxs(Col,{md:\"6\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"activityCompany\",children:t(\"Company Activity\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},name:\"activityCompany\",onChange:function onChange(e){setActividadEmpresaSelect(actividadEmpresa.find(function(x){return x.value===e.value;}));setActividadEmpresaSet(e);},placeholder:t(\"Selectcompanyactivity\"),options:actividadEmpresa,classNamePrefix:\"select2-selection\",value:actividadEmpresaSelect,isDisabled:true})]}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"minimumProvisionSIB\",children:t(\"SIB Minimum Provision\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"minimumProvisionSIB\",type:\"text\",id:\"minimumProvisionSIB\",validate:{required:{value:true,errorMessage:c(\"Validation.Required\")},number:{value:true,errorMessage:c(\"Validation.Numeric\")}},value:minimumProvisionSIB})]})}),/*#__PURE__*/_jsxs(Col,{md:\"3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"relatedPart\",children:t(\"Related Part\")}),/*#__PURE__*/_jsx(AvGroup,{check:true,className:\"mb-3\",children:/*#__PURE__*/_jsx(Switch,{name:\"relatedPart\",uncheckedIcon:/*#__PURE__*/_jsx(Offsymbol,{}),checkedIcon:/*#__PURE__*/_jsx(OnSymbol,{}),onColor:\"#007943\",className:\"form-label\",onChange:function onChange(){setrelatedPartSwitch(!relatedPartSwitch);},checked:relatedPartSwitch})})]}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"approvalLevel\",children:t(\"Approval Level\")}),/*#__PURE__*/_jsxs(AvField,{className:\"form-control\",name:\"approvalLevel\",type:\"select\",id:\"approvalLevel\",value:approvalLevel,children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Nivel 1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"Nivel 2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"Nivel 3\"})]})]})}),/*#__PURE__*/_jsx(Col,{md:\"9\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"accountExecutive\",children:t(\"Account Executive\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"accountExecutive\",type:\"text\",id:\"accountExecutive\",value:accountExecutive,validate:{required:{value:true,errorMessage:c(\"Validation.Required\")}}})]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"responsibleUnit\",children:t(\"Responsible Unit\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"responsibleUnit\",type:\"text\",id:\"responsibleUnit\",value:responsibleUnit,validate:{required:{value:true,errorMessage:c(\"Validation.Required\")}}})]})}),/*#__PURE__*/_jsxs(Col,{md:\"6\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"countryRisk\",children:t(\"Country Risk\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},required:true,onChange:function onChange(e){setCountryRiskSelect(paises.find(function(x){return x.value===e.value;}));handleDropdownChange('countryRisk',e);},defaultValue:paisesRiesgo.value,placeholder:t(\"Selectacountry\"),options:paisesRiesgo,classNamePrefix:\"select2-selection\",value:countryRiskSelect})]})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"requestDate\",children:t(\"Application Date\")}),/*#__PURE__*/_jsx(Flatpickr,{id:\"requestDate\",name:\"requestDate\",className:\"form-control d-block\",placeholder:OPTs.FORMAT_DATE_SHOW,options:{dateFormat:OPTs.FORMAT_DATE,//maxDate: new Date().setFullYear(new Date().getFullYear() - 18),\ndefaultDate:requestDate!==undefined?new Date(moment(requestDate,'YYYY-MM-DD').format()):new Date()}//onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\") } }) }}\n})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"lastRequestDate\",children:t(\"Last Application Date\")}),/*#__PURE__*/_jsx(Flatpickr,{id:\"lastRequestDate\",name:\"lastRequestDate\",className:\"form-control d-block\",placeholder:OPTs.FORMAT_DATE_SHOW,options:{dateFormat:OPTs.FORMAT_DATE,//maxDate: new Date().setFullYear(new Date().getFullYear() - 18),\ndefaultDate:lastRequestDate!==undefined?new Date(moment(lastRequestDate,'YYYY-MM-DD').format()):new Date()}//onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\") } }) }}\n})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"nextRevisionDate\",children:t(\"Next Revision Date\")}),/*#__PURE__*/_jsx(Flatpickr,{id:\"nextRevisionDate\",name:\"nextRevisionDate\",className:\"form-control d-block\",placeholder:OPTs.FORMAT_DATE_SHOW,options:{dateFormat:OPTs.FORMAT_DATE,//maxDate: new Date().setFullYear(new Date().getFullYear() - 18),\ndefaultDate:nextRevisionDate!==undefined?new Date(moment(nextRevisionDate,'YYYY-MM-DD').format()):new Date()}//onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\") } }) }}\n})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"proposedExpirationDate\",children:t(\"Expiration Date\")}),/*#__PURE__*/_jsx(Flatpickr,{id:\"proposedExpirationDate\",name:\"proposedExpirationDate\",className:\"form-control d-block\",placeholder:OPTs.FORMAT_DATE_SHOW,options:{dateFormat:OPTs.FORMAT_DATE,//maxDate: new Date().setFullYear(new Date().getFullYear() - 18),\ndefaultDate:proposedExpirationDate!==undefined?new Date(moment(proposedExpirationDate,'YYYY-MM-DD').format()):new Date()}//onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\") } }) }}\n})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"flow\",children:t(\"Flow Type\")}),/*#__PURE__*/_jsxs(AvField,{className:\"form-control\",name:\"flow\",type:\"select\",id:\"flow\",value:flow,children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Normal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"Urgente\"})]})]})})]})]});});FormCreditProposal.defaultProps={values:{}};export default FormCreditProposal;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/components/PropuestaCreditoComercial/FormCreditProposal.js"],"names":["React","useState","useEffect","useContext","translationHelpers","Select","Row","Col","Label","AvForm","AvGroup","AvField","AvFeedback","BackendServices","CoreServices","ServicioPropuestaCredito","CreditProposalContext","Switch","useLocation","OPTs","moment","Flatpickr","Offsymbol","display","justifyContent","alignItems","height","fontSize","color","paddingRight","OnSymbol","FormCreditProposal","forwardRef","props","ref","location","data","locationData","setLocationData","formValid","setFormValid","gruposEconomicos","setGruposEconomicos","actividadEmpresa","setActividadEmpresa","actividadEmpresaSet","setActividadEmpresaSet","undefined","actividadEmpresaSelect","setActividadEmpresaSelect","paises","setPais","paisesRiesgo","setPaisRiesgo","listaRevisionSet","setlistaRevisionSet","listaRevision","setlistaRevision","datosIGR","setdatosIGR","datosAmbientales","setdatosAmbientales","listaRevisionSelect","setlistaRevisionSelect","listaRevisionRequerido","setlistaRevisionRequerido","preapprovalSwitch","setpreapprovalSwitch","relatedPartSwitch","setrelatedPartSwitch","transactId","setTransactId","customerNumber","setCustomerNumber","revisionType","setRevisionType","preapproval","setPreapproval","economicGroupSelect","seteconomicGroupSelect","economicGroup","setEconomicGroup","country","setCountry","countrySelect","setCountrySelect","activityCompany","setActivityCompany","riskClassification","setRiskClassification","minimumProvisionSIB","setMinimunProvisionSIB","relatedPart","setRelatedPart","accountExecutive","setAccountExecutive","approvalLevel","setApprovalLevel","responsibleUnit","setResponsibleUnit","countryRisk","setCountryRisk","countryRiskSelect","setCountryRiskSelect","requestDate","setRequestDate","lastRequestDate","setLastRequestDate","proposedExpirationDate","setProposedExpirationDate","nextRevisionDate","setNextRevisionDate","flow","setFlow","t","c","context","propCredService","useImperativeHandle","submit","validate","form","document","getElementById","requestSubmit","getFormValidation","updateDefaults","cargarListaPaises","cargarListaGrupoEconomico","cargarActividadEconomica","cargarListaRevision","values","transactionId","customerId","cargarDatosGeneralesIGR","defaultVal","length","revision","find","x","value","err","api","getPaisesCatalogo","then","response","json","Records","map","item","label","optionGroup1","options","catch","console","log","getActividadEconomicaCatalogo","i","push","getGrupoEconomicoCatalogo","retrieveRevisionType","apiBack","consultGeneralDataIGR","resp","code","economicActivity","error","consultEnvironmentalAspectsIGR","environmentalAspectsDTO","handleSubmit","event","errors","preventDefault","target","id","Number","Object","assign","economicGroupName","guardarDatosGenerales","instanceId","requestId","handleDropdownChange","name","check","e","tecla","all","keyCode","which","title","customerNumberT24","required","errorMessage","riskPreClassification","number","FORMAT_DATE_SHOW","dateFormat","FORMAT_DATE","defaultDate","Date","format","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { PropTypes } from 'prop-types';\r\nimport { translationHelpers } from '../../helpers';\r\nimport Select from \"react-select\";\r\nimport './FormCreditProposal.scss';\r\n\r\n\r\nimport {\r\n  Row,\r\n  Col,\r\n  Label,\r\n} from \"reactstrap\"\r\n\r\nimport { AvForm, AvGroup, AvField, AvFeedback } from \"availity-reactstrap-validation\"\r\nimport { BackendServices, CoreServices } from \"../../services\";\r\nimport ServicioPropuestaCredito from \"../../services/PropuestaCredito/PropuestaCredito\";\r\nimport CreditProposalContext from \"./CreditProposalContext\";\r\nimport Switch from \"react-switch\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nimport * as OPTs from \"../../helpers/options_helper\"\r\nimport moment from \"moment\";\r\nimport \"flatpickr/dist/themes/material_blue.css\";\r\nimport Flatpickr from \"react-flatpickr\";\r\n\r\nconst Offsymbol = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: \"100%\",\r\n        fontSize: 12,\r\n        color: \"#fff\",\r\n        paddingRight: 2,\r\n      }}\r\n    >\r\n      {\" \"}\r\n      No\r\n    </div>\r\n  );\r\n};\r\n\r\nconst OnSymbol = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: \"100%\",\r\n        fontSize: 12,\r\n        color: \"#fff\",\r\n        paddingRight: 2,\r\n      }}\r\n    >\r\n      {\" \"}\r\n      Si\r\n    </div>\r\n  );\r\n};\r\n\r\nconst FormCreditProposal = React.forwardRef((props, ref) => {\r\n\r\n  const location = useLocation();\r\n  const [locationData, setLocationData] = useState(location.data);\r\n  const [formValid, setFormValid] = useState(false);\r\n  const [gruposEconomicos, setGruposEconomicos] = useState([]);\r\n  const [actividadEmpresa, setActividadEmpresa] = useState([]);\r\n  const [actividadEmpresaSet, setActividadEmpresaSet] = useState(null);\r\n  const [actividadEmpresaSelect, setActividadEmpresaSelect] = useState(undefined);\r\n  const [paises, setPais] = useState([]);\r\n  const [paisesRiesgo, setPaisRiesgo] = useState([]);\r\n  const [listaRevisionSet, setlistaRevisionSet] = useState(null);\r\n  const [listaRevision, setlistaRevision] = useState(null);\r\n  const [datosIGR, setdatosIGR] = useState(null);\r\n  const [datosAmbientales, setdatosAmbientales] = useState(null);\r\n  const [listaRevisionSelect, setlistaRevisionSelect] = useState(undefined);\r\n  const [listaRevisionRequerido, setlistaRevisionRequerido] = useState(null);\r\n  const [preapprovalSwitch, setpreapprovalSwitch] = useState(false);\r\n  const [relatedPartSwitch, setrelatedPartSwitch] = useState(false);\r\n  // form control state\r\n  const [transactId, setTransactId] = useState('');\r\n  const [customerNumber, setCustomerNumber] = useState('');\r\n  const [revisionType, setRevisionType] = useState('');\r\n  const [preapproval, setPreapproval] = useState(false);\r\n  const [economicGroupSelect, seteconomicGroupSelect] = useState(null);\r\n  const [economicGroup, setEconomicGroup] = useState(null);\r\n  const [country, setCountry] = useState(null);\r\n  const [countrySelect, setCountrySelect] = useState(undefined);\r\n  const [activityCompany, setActivityCompany] = useState('');\r\n  const [riskClassification, setRiskClassification] = useState('');\r\n  const [minimumProvisionSIB, setMinimunProvisionSIB] = useState('');\r\n  const [relatedPart, setRelatedPart] = useState(false);\r\n  const [accountExecutive, setAccountExecutive] = useState('');\r\n  const [approvalLevel, setApprovalLevel] = useState('');\r\n  const [responsibleUnit, setResponsibleUnit] = useState('');\r\n  const [countryRisk, setCountryRisk] = useState(null);\r\n  const [countryRiskSelect, setCountryRiskSelect] = useState(undefined);\r\n  const [requestDate, setRequestDate] = useState('');\r\n  const [lastRequestDate, setLastRequestDate] = useState('');\r\n  const [proposedExpirationDate, setProposedExpirationDate] = useState('');\r\n  const [nextRevisionDate, setNextRevisionDate] = useState('');\r\n  const [flow, setFlow] = useState('');\r\n\r\n\r\n  const [t, c] = translationHelpers('commercial_credit', 'common');\r\n\r\n  // services\r\n  const context = useContext(CreditProposalContext);\r\n  const propCredService = new ServicioPropuestaCredito();\r\n\r\n  React.useImperativeHandle(ref, () => ({\r\n    submit: (validate = true) => {\r\n      const form = document.getElementById('formCreditProposal');\r\n      if (validate) {\r\n        if (formValid) {\r\n          form.requestSubmit();\r\n          return true;\r\n        }\r\n        return false;\r\n      }\r\n      else {\r\n        form.requestSubmit();\r\n        return true;\r\n      }\r\n    },\r\n    getFormValidation: () => {\r\n      return formValid;\r\n    }\r\n  }));\r\n\r\n  useEffect(() => {\r\n    updateDefaults();\r\n    cargarListaPaises();\r\n    cargarListaGrupoEconomico();\r\n    cargarActividadEconomica();\r\n    cargarListaRevision();\r\n  }, []);\r\n\r\n  // useEffect(() => {\r\n\r\n  // }, [gruposEconomicos]);\r\n\r\n  useEffect(() => {\r\n    updateDefaults();\r\n  }, [props.values, paises, gruposEconomicos, actividadEmpresa]);\r\n\r\n  function updateDefaults() {\r\n    // set default values\r\n    setTransactId(props.values.transactId || context.transactionId);\r\n    setCustomerNumber(props.values.customerNumber || context.customerId);\r\n    setRevisionType(props.values.revisionType || 'Bimensual');\r\n    setPreapproval(props.values.preapproval || false);\r\n    // setRiskClassification(props.values.riskClassification || '');\r\n    setMinimunProvisionSIB(props.values.minimumProvisionSIB || '');\r\n    setRelatedPart(props.values.relatedPart || false);\r\n    setAccountExecutive(props.values.accountExecutive || '');\r\n    setApprovalLevel(props.values.approvalLevel || '');\r\n    setResponsibleUnit(props.values.responsibleUnit || '');\r\n    setRequestDate(props.values.requestDate || '');\r\n    setLastRequestDate(props.values.lastRequestDate || '');\r\n    setNextRevisionDate(props.values.nextRevisionDate || '');\r\n    setProposedExpirationDate(props.values.proposedExpirationDate || '');\r\n    setFlow(props.values.flow || '');\r\n    cargarDatosGeneralesIGR();\r\n    setrelatedPartSwitch(props.values.relatedPart)\r\n    setpreapprovalSwitch(props.values.preapproval)\r\n    try {\r\n      var defaultVal = null;\r\n      if (listaRevision.length > 0 && props.values.revision !== null && listaRevisionSelect === undefined) {\r\n        defaultVal = listaRevision.find(x => x.value === props.values.revision);\r\n        if (defaultVal !== undefined) {\r\n          setlistaRevisionSelect(defaultVal);\r\n        }\r\n      }\r\n      if (paises.length > 0 && props.values.country !== null && countrySelect === undefined) {\r\n        defaultVal = paises.find(x => x.value === props.values.country);\r\n        if (defaultVal !== undefined) {\r\n          setCountrySelect(defaultVal);\r\n        }\r\n      }\r\n      if (paises.length > 0 && props.values.countryRisk !== null && countryRiskSelect === undefined) {\r\n        defaultVal = paises.find(x => x.value === props.values.countryRisk);\r\n        if (defaultVal !== undefined) {\r\n          setCountryRiskSelect(defaultVal);\r\n        }\r\n      }\r\n    }\r\n    catch (err) { }\r\n    // dropdown economic group\r\n    // if (props.values.economicGroupNumber && gruposEconomicos && gruposEconomicos.length > 0) {\r\n    //   const selected = gruposEconomicos[0].options.find(p => p.value === props.values.economicGroupNumber);\r\n    //   if (selected) {\r\n    //     setEconomicGroup(selected);\r\n    //   }\r\n    // }\r\n    // else {\r\n    //   setEconomicGroup({ label: t('SelectGroup'), value: '' });\r\n    // }\r\n\r\n    // drodown country\r\n\r\n    // dropdown countryRisk\r\n    // if (props.values.countryRisk && paises.length > 0) {\r\n    //   const selected = paises[0].options.find(p => p.value === props.values.countryRisk);\r\n    //   if (selected) {\r\n    //     setCountryRisk(selected);\r\n    //   }\r\n    // }\r\n    // else {\r\n    //   setCountryRisk({ label: t('Selectacountry'), value: '' });\r\n    // }\r\n\r\n    // dropdown activityCompany\r\n\r\n  }\r\n\r\n  function cargarListaPaises() {\r\n    const api = new CoreServices();\r\n    api.getPaisesCatalogo().then(response => {\r\n      if (response === null) { return; }\r\n\r\n      // sort by name\r\n      const json = response.Records ? response.Records.map(item => ({\r\n        label: item[\"Description\"],\r\n        value: item[\"Code\"]\r\n      })) : [];\r\n\r\n      const optionGroup1 = [\r\n        {\r\n          label: t(\"Selectacountry\"),\r\n          options: json,\r\n        }\r\n      ];\r\n      setPais(json);\r\n      setPaisRiesgo(json);\r\n\r\n    }).catch(err => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  function cargarActividadEconomica() {\r\n    const api = new CoreServices();\r\n    api.getActividadEconomicaCatalogo()\r\n      .then(response => {\r\n        if (response === null) { return; }\r\n\r\n        let json = [];\r\n        for (let i = 0; i < response.Records.length; i++) {\r\n          json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n        }\r\n        const optionGroup1 = [\r\n          {\r\n            label: t(\"Selectcompanyactivity\"),\r\n            options: json,\r\n          },\r\n\r\n        ];\r\n        setActividadEmpresa(json);\r\n      });\r\n  }\r\n\r\n  function cargarListaGrupoEconomico() {\r\n    const api = new CoreServices();\r\n    api.getGrupoEconomicoCatalogo()\r\n      .then(response => {\r\n        if (response === null) { return; }\r\n        let json = [];\r\n        for (let i = 0; i < response.Records.length; i++) {\r\n          json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n        }\r\n        const optionGroup1 = [\r\n          {\r\n            label: t(\"SelectGroup\"),\r\n            options: json,\r\n          },\r\n\r\n        ];\r\n        // console.log(optionGroup1);\r\n        setGruposEconomicos(json);\r\n      });\r\n  }\r\n\r\n  function cargarListaRevision() {\r\n    const api = new BackendServices();\r\n    api.retrieveRevisionType()\r\n      .then(response => {\r\n        if (response === null) { return; }\r\n        let json = [];\r\n        for (let i = 0; i < response.length; i++) {\r\n          json.push({ label: response[i][\"description\"], value: response[i][\"id\"] })\r\n        }\r\n        setlistaRevision(json);\r\n      });\r\n  }\r\n\r\n  function cargarDatosGeneralesIGR() {\r\n    const { transactionId } = context;\r\n    const apiBack = new BackendServices();\r\n    apiBack.consultGeneralDataIGR(transactionId).then(resp => {\r\n      setdatosIGR(resp)\r\n      try {\r\n        var defaultVal = null;\r\n        seteconomicGroupSelect(undefined);\r\n        if (gruposEconomicos.length > 0 && resp.economicGroup !== null && economicGroupSelect === undefined) {\r\n          defaultVal = gruposEconomicos.find(x => x.value === resp.economicGroup.code);\r\n          console.log(defaultVal);\r\n          if (defaultVal !== undefined) {\r\n            seteconomicGroupSelect(defaultVal);\r\n          }\r\n        } else {\r\n          seteconomicGroupSelect(gruposEconomicos[0])\r\n        }\r\n        setActividadEmpresaSet(resp.economicActivity);\r\n        if (actividadEmpresa.length > 0 && resp.economicActivity !== null && actividadEmpresaSelect === undefined) {\r\n          defaultVal = actividadEmpresa.find(x => x.value === resp.economicActivity.code);\r\n          if (defaultVal !== undefined) {\r\n            setActividadEmpresaSelect(defaultVal);\r\n          }\r\n        }\r\n        else {\r\n          setActividadEmpresaSelect(actividadEmpresa[0]);\r\n        }\r\n      }\r\n      catch (err) { }\r\n    }).catch((error) => {\r\n\r\n    });\r\n    apiBack.consultEnvironmentalAspectsIGR(locationData.transactionId).then(resp => {\r\n      setdatosAmbientales(resp.environmentalAspectsDTO)\r\n    }).catch((error) => {\r\n\r\n    });\r\n  }\r\n\r\n  function handleSubmit(event, errors, values) {\r\n    event.preventDefault();\r\n    // if (errors.length > 0) {\r\n    //   console.log('form is invalid');\r\n    //   return;\r\n    // }\r\n    if (event.target.id !== 'formCreditProposal') {\r\n      return;\r\n    }\r\n    setFormValid(true);\r\n    // setLoading(true);\r\n    // const date = dateFormat(new Date(), \"yyyy-mm-dd\");\r\n    values.minimumProvisionSIB = Number(values.minimumProvisionSIB)\r\n    const data = Object.assign({\r\n      country: countrySelect != undefined ? countrySelect.value : '',\r\n      countryRisk: countryRiskSelect != undefined ? countryRiskSelect.value : '',\r\n      economicGroupName: economicGroupSelect != undefined ? economicGroupSelect.label : '',\r\n      // economicGroupNumber: economicGroup ? economicGroup.value : '',\r\n      activityCompany: actividadEmpresaSelect != undefined ? actividadEmpresaSelect.value : '',\r\n      revision: listaRevisionSet ? listaRevisionSet.value : '',\r\n      preapproval: preapprovalSwitch,\r\n      relatedPart: relatedPartSwitch,\r\n    }, values);\r\n\r\n    propCredService.guardarDatosGenerales(context.instanceId, context.requestId, data)\r\n      .then((response) => {\r\n        console.log('datos generales save success', response);\r\n      })\r\n      .catch((error) => {\r\n        console.log('error saving datos generales', error);\r\n      });\r\n  }\r\n\r\n  function handleDropdownChange(name, event) {\r\n    switch (name) {\r\n      case 'country':\r\n        setCountry(event);\r\n        break;\r\n      case 'countryRisk':\r\n        setCountryRisk(event);\r\n        break;\r\n      case 'economicGroupName':\r\n        setEconomicGroup(event);\r\n        break;\r\n      case 'activityCompany':\r\n        setActivityCompany(event);\r\n        break;\r\n      default:\r\n      // do nothing\r\n    }\r\n  }\r\n\r\n  function check(e) {\r\n    let tecla = (document.all) ? e.keyCode : e.which;\r\n    //Tecla de retroceso para borrar, siempre la permite\r\n    if (tecla === 45) {\r\n      e.preventDefault();\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  return (\r\n    <AvForm id=\"formCreditProposal\" className=\"needs-validation\" onSubmit={handleSubmit}>\r\n\r\n      <h5>{props.title}</h5>\r\n      <p className=\"card-title-desc\"></p>\r\n\r\n      <Row>\r\n\r\n        <Col md=\"3\">\r\n          <AvGroup>\r\n            <Label htmlFor=\"transactId\">{t(\"Procedure Number\")}</Label>\r\n            <AvField\r\n              className=\"form-control\"\r\n              name=\"transactId\"\r\n              type=\"number\"\r\n              onKeyPress={(e) => { return check(e) }}\r\n              min={0}\r\n              id=\"transactId\"\r\n              value={transactId}\r\n              readOnly />\r\n          </AvGroup>\r\n        </Col>\r\n\r\n        <Col md=\"3\">\r\n          <AvGroup>\r\n            <Label htmlFor=\"customerNumber\">{t(\"Customer ID\")}</Label>\r\n            <AvField\r\n              className=\"form-control\"\r\n              name=\"customerNumber\"\r\n              type=\"number\"\r\n              onKeyPress={(e) => { return check(e) }}\r\n              min={0}\r\n              readOnly\r\n              id=\"customerNumber\"\r\n              value={datosIGR != null ? datosIGR.customerNumberT24 : \"\"}\r\n              validate={{\r\n                required: { value: true, errorMessage: c(\"Required\") }\r\n              }} />\r\n          </AvGroup>\r\n        </Col>\r\n\r\n        <Col md=\"3\">\r\n          <Label htmlFor=\"revisionType\">{t(\"Revision Type\")}</Label>\r\n          <Select noOptionsMessage={() => \"\"}\r\n            onChange={(e) => { setlistaRevisionSelect(listaRevision.find(x => x.value === e.value)); setlistaRevisionSet(e); }}\r\n            options={listaRevision}\r\n            id=\"revision\"\r\n            classNamePrefix=\"select2-selection\"\r\n            placeholder={t(\"Select\")}\r\n            value={listaRevisionSelect}\r\n          />\r\n\r\n        </Col>\r\n\r\n        <Col md=\"3\">\r\n          <Label htmlFor=\"preapproval\">{t(\"Pre Approved\")}</Label>\r\n          {/* <AvGroup>\r\n            <AvField\r\n              className=\"form-control\"\r\n              name=\"preapproval\"\r\n              type=\"select\"\r\n              id=\"preapproval\"\r\n              value={preapproval}>\r\n              <option value={true}>{c(\"Yes\")}</option>\r\n              <option value={false}>{c(\"No\")}</option>\r\n            </AvField>\r\n          </AvGroup> */}\r\n          <AvGroup check className=\"mb-3\">\r\n            <Switch name=\"preapproval\"\r\n              uncheckedIcon={<Offsymbol />}\r\n              checkedIcon={<OnSymbol />}\r\n              onColor=\"#007943\"\r\n              className=\"form-label\"\r\n              onChange={() => {\r\n                setpreapprovalSwitch(!preapprovalSwitch)\r\n              }}\r\n              checked={preapprovalSwitch}\r\n            />\r\n          </AvGroup>\r\n        </Col>\r\n\r\n        <Col md=\"6\">\r\n          <Label htmlFor=\"economicGroupName\">{t(\"Economic Group Name\")}</Label>\r\n          <Select noOptionsMessage={() => \"\"}\r\n            id=\"economicGroupName\"\r\n            name=\"economicGroupName\"\r\n            onChange={(e) => { seteconomicGroupSelect(gruposEconomicos.find(x => x.value === e.value)); handleDropdownChange('economicGroupName', e); }}\r\n            options={gruposEconomicos}\r\n            classNamePrefix=\"select2-selection\"\r\n            value={economicGroupSelect} />\r\n        </Col>\r\n\r\n        <Col md=\"6\">\r\n          <AvGroup>\r\n            <Label htmlFor=\"economicGroupNumber\">{t(\"Economic Group Number\")}</Label>\r\n            <AvField\r\n              className=\"form-control\"\r\n              name=\"economicGroupNumber\"\r\n              type=\"text\"\r\n              id=\"economicGroupNumber\"\r\n              value={economicGroupSelect != undefined ? economicGroupSelect.value : ''}\r\n              validate={{\r\n                required: { value: true, errorMessage: c(\"Validation.Required\") }\r\n              }}\r\n            />\r\n          </AvGroup>\r\n        </Col>\r\n\r\n        <Col md=\"6\">\r\n          <Label htmlFor=\"country\">{t(\"Country Class\")}</Label>\r\n          <Select noOptionsMessage={() => \"\"}\r\n            id=\"country\"\r\n            name=\"country\"\r\n            onChange={(e) => { setCountrySelect(paises.find(x => x.value === e.value)); handleDropdownChange('country', e) }}\r\n            placeholder={t(\"Select\")}\r\n            options={paises}\r\n            classNamePrefix=\"select2-selection\"\r\n            value={countrySelect}\r\n          />\r\n          {/* <AvFeedback>{c(\"Validation.Required\")}</AvFeedback> */}\r\n        </Col>\r\n\r\n        <Col md=\"6\">\r\n          <AvGroup>\r\n            <Label htmlFor=\"riskClassification\">{t(\"Risk Assesment\")}</Label>\r\n            <AvField\r\n              className=\"form-control\"\r\n              name=\"riskClassification\"\r\n              type=\"text\"\r\n              readOnly\r\n              id=\"riskClassification\"\r\n              value={datosAmbientales != null ? datosAmbientales.riskPreClassification : \"1\"}\r\n            // value=\"1\"\r\n            />\r\n          </AvGroup>\r\n        </Col>\r\n\r\n        <Col md=\"6\">\r\n          <Label htmlFor=\"activityCompany\">{t(\"Company Activity\")}</Label>\r\n          <Select noOptionsMessage={() => \"\"}\r\n            name=\"activityCompany\"\r\n            onChange={(e) => { setActividadEmpresaSelect(actividadEmpresa.find(x => x.value === e.value)); setActividadEmpresaSet(e); }}\r\n            placeholder={t(\"Selectcompanyactivity\")}\r\n            options={actividadEmpresa}\r\n            classNamePrefix=\"select2-selection\"\r\n            value={actividadEmpresaSelect}\r\n            isDisabled={true} />\r\n        </Col>\r\n\r\n\r\n\r\n        <Col md=\"6\">\r\n          <AvGroup>\r\n            <Label htmlFor=\"minimumProvisionSIB\">{t(\"SIB Minimum Provision\")}</Label>\r\n            <AvField\r\n              className=\"form-control\"\r\n              name=\"minimumProvisionSIB\"\r\n              type=\"text\"\r\n              id=\"minimumProvisionSIB\"\r\n              validate={{\r\n                required: { value: true, errorMessage: c(\"Validation.Required\") },\r\n                number: { value: true, errorMessage: c(\"Validation.Numeric\") },\r\n              }}\r\n              value={minimumProvisionSIB} />\r\n          </AvGroup>\r\n        </Col>\r\n\r\n        <Col md=\"3\">\r\n          <Label htmlFor=\"relatedPart\">{t(\"Related Part\")}</Label>\r\n          {/* <AvGroup>\r\n            <AvField\r\n              className=\"form-control\"\r\n              name=\"relatedPart\"\r\n              type=\"select\"\r\n              id=\"relatedPart\"\r\n              value={relatedPart}>\r\n              <option value={true}>{c(\"Yes\")}</option>\r\n              <option value={false}>{c(\"No\")}</option>\r\n            </AvField>\r\n          </AvGroup> */}\r\n          <AvGroup check className=\"mb-3\">\r\n            <Switch name=\"relatedPart\"\r\n              uncheckedIcon={<Offsymbol />}\r\n              checkedIcon={<OnSymbol />}\r\n              onColor=\"#007943\"\r\n              className=\"form-label\"\r\n              onChange={() => {\r\n                setrelatedPartSwitch(!relatedPartSwitch)\r\n              }}\r\n              checked={relatedPartSwitch}\r\n            />\r\n          </AvGroup>\r\n        </Col>\r\n\r\n\r\n        <Col md=\"3\">\r\n          <AvGroup>\r\n            <Label htmlFor=\"approvalLevel\">{t(\"Approval Level\")}</Label>\r\n            <AvField\r\n              className=\"form-control\"\r\n              name=\"approvalLevel\"\r\n              type=\"select\"\r\n              id=\"approvalLevel\"\r\n              value={approvalLevel}>\r\n              <option value=\"1\">Nivel 1</option>\r\n              <option value=\"2\">Nivel 2</option>\r\n              <option value=\"3\">Nivel 3</option>\r\n            </AvField>\r\n          </AvGroup>\r\n        </Col>\r\n\r\n        <Col md=\"9\">\r\n          <AvGroup>\r\n            <Label htmlFor=\"accountExecutive\">{t(\"Account Executive\")}</Label>\r\n            <AvField\r\n              className=\"form-control\"\r\n              name=\"accountExecutive\"\r\n              type=\"text\"\r\n              id=\"accountExecutive\"\r\n              value={accountExecutive}\r\n              validate={{\r\n                required: { value: true, errorMessage: c(\"Validation.Required\") }\r\n              }} />\r\n          </AvGroup>\r\n        </Col>\r\n\r\n        <Col md=\"6\">\r\n          <AvGroup>\r\n            <Label htmlFor=\"responsibleUnit\">{t(\"Responsible Unit\")}</Label>\r\n            <AvField\r\n              className=\"form-control\"\r\n              name=\"responsibleUnit\"\r\n              type=\"text\"\r\n              id=\"responsibleUnit\"\r\n              value={responsibleUnit}\r\n              validate={{\r\n                required: { value: true, errorMessage: c(\"Validation.Required\") }\r\n              }} />\r\n          </AvGroup>\r\n        </Col>\r\n\r\n        <Col md=\"6\">\r\n          <Label htmlFor=\"countryRisk\">{t(\"Country Risk\")}</Label>\r\n          <Select noOptionsMessage={() => \"\"} required\r\n            onChange={(e) => { setCountryRiskSelect(paises.find(x => x.value === e.value)); handleDropdownChange('countryRisk', e) }}\r\n            defaultValue={paisesRiesgo.value}\r\n            placeholder={t(\"Selectacountry\")}\r\n            options={paisesRiesgo}\r\n            classNamePrefix=\"select2-selection\"\r\n            value={countryRiskSelect} />\r\n        </Col>\r\n\r\n      </Row>\r\n\r\n      <Row>\r\n\r\n        <Col md=\"3\">\r\n          <AvGroup>\r\n            <Label htmlFor=\"requestDate\">{t(\"Application Date\")}</Label>\r\n\r\n            <Flatpickr\r\n                id=\"requestDate\"\r\n                name=\"requestDate\"\r\n                className=\"form-control d-block\"\r\n                placeholder={OPTs.FORMAT_DATE_SHOW}\r\n                options={{\r\n                  dateFormat: OPTs.FORMAT_DATE,\r\n                  //maxDate: new Date().setFullYear(new Date().getFullYear() - 18),\r\n                  defaultDate: requestDate !== undefined ? new Date(moment(requestDate, 'YYYY-MM-DD').format()) : new Date()\r\n                }}\r\n                //onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\") } }) }}\r\n                />\r\n\r\n          </AvGroup>\r\n        </Col>\r\n\r\n        <Col md=\"3\">\r\n          <AvGroup>\r\n            <Label htmlFor=\"lastRequestDate\">{t(\"Last Application Date\")}</Label>\r\n\r\n            <Flatpickr\r\n                id=\"lastRequestDate\"\r\n                name=\"lastRequestDate\"\r\n                className=\"form-control d-block\"\r\n                placeholder={OPTs.FORMAT_DATE_SHOW}\r\n                options={{\r\n                  dateFormat: OPTs.FORMAT_DATE,\r\n                  //maxDate: new Date().setFullYear(new Date().getFullYear() - 18),\r\n                  defaultDate: lastRequestDate !== undefined ? new Date(moment(lastRequestDate, 'YYYY-MM-DD').format()) : new Date()\r\n                }}\r\n                //onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\") } }) }}\r\n                />\r\n\r\n          </AvGroup>\r\n        </Col>\r\n\r\n        <Col md=\"3\">\r\n          <AvGroup>\r\n            <Label htmlFor=\"nextRevisionDate\">{t(\"Next Revision Date\")}</Label>\r\n\r\n            <Flatpickr\r\n                id=\"nextRevisionDate\"\r\n                name=\"nextRevisionDate\"\r\n                className=\"form-control d-block\"\r\n                placeholder={OPTs.FORMAT_DATE_SHOW}\r\n                options={{\r\n                  dateFormat: OPTs.FORMAT_DATE,\r\n                  //maxDate: new Date().setFullYear(new Date().getFullYear() - 18),\r\n                  defaultDate: nextRevisionDate !== undefined ? new Date(moment(nextRevisionDate, 'YYYY-MM-DD').format()) : new Date()\r\n                }}\r\n                //onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\") } }) }}\r\n                />\r\n\r\n          </AvGroup>\r\n        </Col>\r\n\r\n        <Col md=\"3\">\r\n          <AvGroup>\r\n            <Label htmlFor=\"proposedExpirationDate\">{t(\"Expiration Date\")}</Label>\r\n\r\n            <Flatpickr\r\n                id=\"proposedExpirationDate\"\r\n                name=\"proposedExpirationDate\"\r\n                className=\"form-control d-block\"\r\n                placeholder={OPTs.FORMAT_DATE_SHOW}\r\n                options={{\r\n                  dateFormat: OPTs.FORMAT_DATE,\r\n                  //maxDate: new Date().setFullYear(new Date().getFullYear() - 18),\r\n                  defaultDate: proposedExpirationDate !== undefined ? new Date(moment(proposedExpirationDate, 'YYYY-MM-DD').format()) : new Date()\r\n                }}\r\n                //onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr,\"DD/MM/YYYY\").format(\"YYYY-MM-DD\") } }) }}\r\n                />\r\n\r\n          </AvGroup>\r\n        </Col>\r\n\r\n        <Col md=\"3\">\r\n          <AvGroup>\r\n            <Label htmlFor=\"flow\">{t(\"Flow Type\")}</Label>\r\n            <AvField\r\n              className=\"form-control\"\r\n              name=\"flow\"\r\n              type=\"select\"\r\n              id=\"flow\"\r\n              value={flow}>\r\n              <option value=\"1\">Normal</option>\r\n              <option value=\"2\">Urgente</option>\r\n            </AvField>\r\n          </AvGroup>\r\n        </Col>\r\n\r\n      </Row>\r\n\r\n    </AvForm>\r\n  );\r\n\r\n});\r\n\r\nFormCreditProposal.propTypes = {\r\n  values: PropTypes.object\r\n};\r\n\r\nFormCreditProposal.defaultProps = {\r\n  values: {}\r\n};\r\n\r\n\r\nexport default FormCreditProposal;\r\n"]},"metadata":{},"sourceType":"module"}