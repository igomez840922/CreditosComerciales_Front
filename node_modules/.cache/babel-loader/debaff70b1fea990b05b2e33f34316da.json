{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{translationHelper}from'../../../helpers';import{Card,CardBody,Col,Row,Table}from\"reactstrap\";import{useTranslation}from'react-i18next';import{BackendServices,CoreServices,BpmServices}from\"../../../services\";import{useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Guarantees=function Guarantees(props){var location=useLocation();var apiCore=new CoreServices();var apiBack=new BackendServices();var apiBpm=new BpmServices();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),bodyRows1=_useState2[0],setbodyRows1=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),bodyRows2=_useState4[0],setbodyRows2=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),bodyRows3=_useState6[0],setbodyRows3=_useState6[1];var _useState7=useState(location.data),_useState8=_slicedToArray(_useState7,2),dataLocation=_useState8[0],setdataLocation=_useState8[1];var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;function initializeData(){var jsonSet={Muebles:{},Inmuebles:{},Depositos:{}};// apiBack.consultarUsuarioProspecto(location.data.transactionId).then(user => {\nvar CustomerNumeroT24=\"600258741\";// const CustomerNumeroT24=user.customerNumberT24;\napiCore.getColaterals(CustomerNumeroT24).then(function(colaterals){var _loop=function _loop(i){apiCore.getWarrantyDetails(colaterals[i].collateralId,\"Muebles\").then(function(respgarantias){var garantias=respgarantias.Collateral;// console.log(\"Muebles\", garantias);\nif(!garantias)return;setbodyRows1(/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Muebles\"}),/*#__PURE__*/_jsx(\"td\",{children:garantias.EmisionDt?garantias.EmisionDt:\"\"}),/*#__PURE__*/_jsx(\"td\",{children:garantias.AppraisedBy?garantias.AppraisedBy:\"\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$ \",garantias.CollateralAmt.Amt?garantias.CollateralAmt.Amt:0]}),/*#__PURE__*/_jsxs(\"td\",{children:[parseFloat(colaterals[i].facilityAmt)/parseFloat(garantias.CollateralAmt.Amt?garantias.CollateralAmt.Amt:0),\"%\"]})]}));});apiCore.getWarrantyDetails(colaterals[i].collateralId,\"Inmuebles\").then(function(respgarantias){var garantias=respgarantias.Collateral;// console.log(\"Inmuebles\", garantias);\nif(!garantias)return;setbodyRows2(/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Inmuebles\"}),/*#__PURE__*/_jsx(\"td\",{children:garantias.EmisionDt?garantias.EmisionDt:\"\"}),/*#__PURE__*/_jsx(\"td\",{children:garantias.AppraisedBy?garantias.AppraisedBy:\"\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$ \",garantias.CollateralAmt.Amt?garantias.CollateralAmt.Amt:0]}),/*#__PURE__*/_jsxs(\"td\",{children:[parseFloat(colaterals[i].facilityAmt)/parseFloat(garantias.CollateralAmt.Amt?garantias.CollateralAmt.Amt:0),\"%\"]})]}));});apiCore.getWarrantyDetails(colaterals[i].collateralId,\"Depositos\").then(function(respgarantias){var garantias=respgarantias.Collateral;// console.log(\"Depositos\", garantias);\nif(!garantias)return;setbodyRows3(/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Depositos\"}),/*#__PURE__*/_jsx(\"td\",{children:garantias.EmisionDt?garantias.EmisionDt:\"\"}),/*#__PURE__*/_jsx(\"td\",{children:garantias.AppraisedBy?garantias.AppraisedBy:\"\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$ \",garantias.CollateralAmt.Amt?garantias.CollateralAmt.Amt:0]}),/*#__PURE__*/_jsxs(\"td\",{children:[parseFloat(colaterals[i].facilityAmt)/parseFloat(garantias.CollateralAmt.Amt?garantias.CollateralAmt.Amt:0),\"%\"]})]}));});};for(var i=0;i<colaterals.length;i++){_loop(i);}});// })\n}React.useEffect(function(){initializeData();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"card-title\",children:t(\"WarrantyDetails\")}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{lg:\"12\",children:/*#__PURE__*/_jsxs(Table,{className:\"table mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"Type\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Date\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"appraisalcompany\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"QuickValue\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"LTV\")})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[bodyRows1,bodyRows2,bodyRows3]})]})})})]});};Guarantees.defaultProps={headers:[],data:[]};export default Guarantees;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/components/InformeFinanciero/background/Guarantees.js"],"names":["React","useEffect","useState","translationHelper","Card","CardBody","Col","Row","Table","useTranslation","BackendServices","CoreServices","BpmServices","useLocation","Guarantees","props","location","apiCore","apiBack","apiBpm","bodyRows1","setbodyRows1","bodyRows2","setbodyRows2","bodyRows3","setbodyRows3","data","dataLocation","setdataLocation","t","i18n","initializeData","jsonSet","Muebles","Inmuebles","Depositos","CustomerNumeroT24","getColaterals","then","colaterals","i","getWarrantyDetails","collateralId","respgarantias","garantias","Collateral","EmisionDt","AppraisedBy","CollateralAmt","Amt","parseFloat","facilityAmt","length","defaultProps","headers"],"mappings":"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","sourcesContent":["\r\nimport React, { useEffect, useState } from \"react\"\r\nimport PropTypes from 'prop-types';\r\nimport { translationHelper } from '../../../helpers';\r\n\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  Col,\r\n  Row,\r\n  Table,\r\n} from \"reactstrap\"\r\nimport { useTranslation } from 'react-i18next';\r\nimport { BackendServices, CoreServices, BpmServices, } from \"../../../services\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\n\r\nconst Guarantees = (props) => {\r\n  const location = useLocation();\r\n  const apiCore = new CoreServices();\r\n  const apiBack = new BackendServices();\r\n  const apiBpm = new BpmServices();\r\n  const [bodyRows1, setbodyRows1] = useState(null);\r\n  const [bodyRows2, setbodyRows2] = useState(null);\r\n  const [bodyRows3, setbodyRows3] = useState(null);\r\n  const [dataLocation, setdataLocation] = useState(location.data);\r\n  const { t, i18n } = useTranslation();\r\n  function initializeData() {\r\n    const jsonSet = {\r\n      Muebles: {},\r\n      Inmuebles: {},\r\n      Depositos: {},\r\n    }\r\n    // apiBack.consultarUsuarioProspecto(location.data.transactionId).then(user => {\r\n    const CustomerNumeroT24 = \"600258741\";\r\n    // const CustomerNumeroT24=user.customerNumberT24;\r\n    apiCore.getColaterals(CustomerNumeroT24).then(colaterals => {\r\n      for (let i = 0; i < colaterals.length; i++) {\r\n        apiCore.getWarrantyDetails(colaterals[i].collateralId, \"Muebles\").then(respgarantias => {\r\n          let garantias = respgarantias.Collateral;\r\n          // console.log(\"Muebles\", garantias);\r\n          if (!garantias)\r\n            return;\r\n\r\n          setbodyRows1(<tr>\r\n            <td>Muebles</td>\r\n            <td>{garantias.EmisionDt ? garantias.EmisionDt : \"\"}</td>\r\n            <td>{garantias.AppraisedBy ? garantias.AppraisedBy : \"\"}</td>\r\n            <td>$ {garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0}</td>\r\n            <td>{parseFloat(colaterals[i].facilityAmt) / parseFloat(garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0)}%</td>\r\n          </tr>);\r\n        })\r\n        apiCore.getWarrantyDetails(colaterals[i].collateralId, \"Inmuebles\").then(respgarantias => {\r\n          let garantias = respgarantias.Collateral;\r\n          // console.log(\"Inmuebles\", garantias);\r\n          if (!garantias)\r\n            return;\r\n          setbodyRows2(<tr>\r\n            <td>Inmuebles</td>\r\n            <td>{garantias.EmisionDt ? garantias.EmisionDt : \"\"}</td>\r\n            <td>{garantias.AppraisedBy ? garantias.AppraisedBy : \"\"}</td>\r\n            <td>$ {garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0}</td>\r\n            <td>{parseFloat(colaterals[i].facilityAmt) / parseFloat(garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0)}%</td>\r\n          </tr>);\r\n        })\r\n        apiCore.getWarrantyDetails(colaterals[i].collateralId, \"Depositos\").then(respgarantias => {\r\n          let garantias = respgarantias.Collateral;\r\n          // console.log(\"Depositos\", garantias);\r\n          if (!garantias)\r\n            return;\r\n          setbodyRows3(<tr>\r\n            <td>Depositos</td>\r\n            <td>{garantias.EmisionDt ? garantias.EmisionDt : \"\"}</td>\r\n            <td>{garantias.AppraisedBy ? garantias.AppraisedBy : \"\"}</td>\r\n            <td>$ {garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0}</td>\r\n            <td>{parseFloat(colaterals[i].facilityAmt) / parseFloat(garantias.CollateralAmt.Amt ? garantias.CollateralAmt.Amt : 0)}%</td>\r\n          </tr>);\r\n        })\r\n      }\r\n    })\r\n    // })\r\n  }\r\n  React.useEffect(() => {\r\n    initializeData();\r\n  }, []);\r\n  return (\r\n    <>\r\n      <h4 className=\"card-title\">{t(\"WarrantyDetails\")}</h4>\r\n      <p className=\"card-title-desc\"></p>\r\n      <Row>\r\n        <Col lg=\"12\">\r\n          <Table className=\"table mb-0\">\r\n            <thead className=\"table-light\">\r\n              <tr>\r\n                <th>{t(\"Type\")}</th>\r\n                <th>{t(\"Date\")}</th>\r\n                <th>{t(\"appraisalcompany\")}</th>\r\n                <th>{t(\"QuickValue\")}</th>\r\n                <th>{t(\"LTV\")}</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {bodyRows1}\r\n              {bodyRows2}\r\n              {bodyRows3}\r\n            </tbody>\r\n          </Table>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n\r\n};\r\n\r\n\r\nGuarantees.defaultProps = {\r\n  headers: [],\r\n  data: []\r\n};\r\n\r\nexport default Guarantees;\r\n"]},"metadata":{},"sourceType":"module"}