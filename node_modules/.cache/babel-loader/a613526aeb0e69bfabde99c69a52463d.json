{"ast":null,"code":"import _objectSpread from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import axios from\"axios\";//apply base url for axios\nvar API_URL=\"\";// headers: {\n//   \"Content-Type\": \"application/json\",\n//   'Cache-Control': 'no-cache',\n//   'Pragma': 'no-cache',\n//   'Expires': '0',\n// },\nvar axiosApi=axios.create({baseURL:API_URL,headers:{\"Content-Type\":\"application/json\"}});var ApiServiceBackend=/*#__PURE__*/function(){function ApiServiceBackend(){_classCallCheck(this,ApiServiceBackend);}_createClass(ApiServiceBackend,[{key:\"setDataError\",value:function setDataError(err){/*let jsonError = {\r\n      code: err.response.status,\r\n      error: true,\r\n      message: err.response.data,\r\n      method: err.response.config.method,\r\n      serviceType: \"bk\",\r\n      url: err.response.config.url,\r\n    }\r\n\r\n    localStorage.setItem(\"jsonError\", JSON.stringify(jsonError))\r\n    const event = new CustomEvent('errorSoaint', jsonError);\r\n    event.initEvent(\"errorSoaint\", true, true);\r\n    window.dispatchEvent(event);\r\n    */}/**\r\n   * *Transforma los values de un objecto a Mayúsculas\r\n   * TODO: Altera el argumento de tipo Object directamente\r\n   * @param {Object} dataObject \r\n   * @return {Promise}\r\n   */},{key:\"convertToUpperCasesData\",value:function convertToUpperCasesData(dataObject){var _this=this;return new Promise(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(resolve){var key;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.t0=_regeneratorRuntime.keys(dataObject);case 1:if((_context.t1=_context.t0()).done){_context.next=10;break;}key=_context.t1.value;typeof dataObject[key]===\"string\"&&(dataObject[key]=dataObject[key].toUpperCase());_context.t2=typeof dataObject[key]===\"object\";if(!_context.t2){_context.next=8;break;}_context.next=8;return _this.convertToUpperCasesData(dataObject[key]);case 8:_context.next=1;break;case 10:resolve(dataObject);case 11:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());}},{key:\"get\",value:function(){var _get=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(url){var _this2=this;var config,_args2=arguments;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:config=_args2.length>1&&_args2[1]!==undefined?_args2[1]:{};_context2.next=3;return axiosApi.get(url,_objectSpread({},config)).then(function(response){return response.data;}).catch(function(err){_this2.setDataError(err);});case 3:return _context2.abrupt(\"return\",_context2.sent);case 4:case\"end\":return _context2.stop();}}},_callee2);}));function get(_x2){return _get.apply(this,arguments);}return get;}()},{key:\"getSinData\",value:function(){var _getSinData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(url){var config,_args3=arguments;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:config=_args3.length>1&&_args3[1]!==undefined?_args3[1]:{};_context3.next=3;return axiosApi.get(url,_objectSpread({},config)).then(function(response){return response;});case 3:return _context3.abrupt(\"return\",_context3.sent);case 4:case\"end\":return _context3.stop();}}},_callee3);}));function getSinData(_x3){return _getSinData.apply(this,arguments);}return getSinData;}()},{key:\"post\",value:function(){var _post=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(url,data){var _this3=this;var config,_args4=arguments;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:config=_args4.length>2&&_args4[2]!==undefined?_args4[2]:{};_context4.next=3;return this.convertToUpperCasesData(data);case 3:return _context4.abrupt(\"return\",axiosApi.post(url,_objectSpread({},data),_objectSpread({},config)).then(function(response){return response.data;}).catch(function(err){_this3.setDataError(err);}));case 4:case\"end\":return _context4.stop();}}},_callee4,this);}));function post(_x4,_x5){return _post.apply(this,arguments);}return post;}()},{key:\"put\",value:function(){var _put=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(url,data){var _this4=this;var config,_args5=arguments;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:config=_args5.length>2&&_args5[2]!==undefined?_args5[2]:{};_context5.next=3;return this.convertToUpperCasesData(data);case 3:return _context5.abrupt(\"return\",axiosApi.put(url,_objectSpread({},data),_objectSpread({},config)).then(function(response){return response.data;}).catch(function(err){_this4.setDataError(err);}));case 4:case\"end\":return _context5.stop();}}},_callee5,this);}));function put(_x6,_x7){return _put.apply(this,arguments);}return put;}()},{key:\"del\",value:function(){var _del=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(url,data){var _this5=this;var config,_args6=arguments;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:config=_args6.length>2&&_args6[2]!==undefined?_args6[2]:{};_context6.next=3;return axiosApi.delete(url,{data:data},_objectSpread({},config)).then(function(response){if(response.statusCode==\"500\"){_this5.setDataError({code:500,error:true,message:\"Error del servidor\",method:'Delete',serviceType:\"bk\",url:''});}return response.data;}).catch(function(err){_this5.setDataError(err);});case 3:return _context6.abrupt(\"return\",_context6.sent);case 4:case\"end\":return _context6.stop();}}},_callee6);}));function del(_x8,_x9){return _del.apply(this,arguments);}return del;}()}]);return ApiServiceBackend;}();export{ApiServiceBackend as default};","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/services/ApiServiceBackend.js"],"names":["axios","API_URL","axiosApi","create","baseURL","headers","ApiServiceBackend","err","dataObject","Promise","resolve","key","toUpperCase","convertToUpperCasesData","url","config","get","then","response","data","catch","setDataError","post","put","delete","statusCode","code","error","message","method","serviceType"],"mappings":"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","sourcesContent":["import axios from \"axios\"\r\n//apply base url for axios\r\nconst API_URL = \"\"\r\n// headers: {\r\n//   \"Content-Type\": \"application/json\",\r\n//   'Cache-Control': 'no-cache',\r\n//   'Pragma': 'no-cache',\r\n//   'Expires': '0',\r\n// },\r\nconst axiosApi = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\"\r\n  },\r\n})\r\n\r\n\r\nexport default class ApiServiceBackend {\r\n\r\n  setDataError(err) {\r\n    /*let jsonError = {\r\n      code: err.response.status,\r\n      error: true,\r\n      message: err.response.data,\r\n      method: err.response.config.method,\r\n      serviceType: \"bk\",\r\n      url: err.response.config.url,\r\n    }\r\n\r\n    localStorage.setItem(\"jsonError\", JSON.stringify(jsonError))\r\n    const event = new CustomEvent('errorSoaint', jsonError);\r\n    event.initEvent(\"errorSoaint\", true, true);\r\n    window.dispatchEvent(event);\r\n    */\r\n  }\r\n\r\n  /**\r\n   * *Transforma los values de un objecto a Mayúsculas\r\n   * TODO: Altera el argumento de tipo Object directamente\r\n   * @param {Object} dataObject \r\n   * @return {Promise}\r\n   */\r\n  convertToUpperCasesData(dataObject) {\r\n    return new Promise(async (resolve) => {\r\n      for (let key in dataObject) {\r\n        typeof dataObject[key] === \"string\" && (dataObject[key] = dataObject[key].toUpperCase());\r\n        typeof dataObject[key] === \"object\" && await this.convertToUpperCasesData(dataObject[key])\r\n      }\r\n      resolve(dataObject);\r\n    });\r\n  }\r\n\r\n  async get(url, config = {}) {\r\n    return await axiosApi\r\n      .get(url, { ...config })\r\n      .then(response => response.data).catch(err => {\r\n        this.setDataError(err);\r\n      });\r\n  }\r\n  async getSinData(url, config = {}) {\r\n    return await axiosApi\r\n      .get(url, { ...config })\r\n      .then(response => response)\r\n  }\r\n\r\n  async post(url, data, config = {}) {\r\n    await this.convertToUpperCasesData(data);\r\n    return axiosApi\r\n      .post(url, { ...data }, { ...config })\r\n      .then(response => response.data).catch(err => {\r\n        this.setDataError(err);\r\n      });\r\n  }\r\n\r\n  async put(url, data, config = {}) {\r\n    await this.convertToUpperCasesData(data);\r\n    return axiosApi\r\n      .put(url, { ...data }, { ...config })\r\n      .then(response => response.data).catch(err => {\r\n        this.setDataError(err);\r\n      });\r\n  }\r\n\r\n  async del(url, data, config = {}) {\r\n    return await axiosApi\r\n      .delete(url, { data: data }, { ...config })\r\n      .then(response => {\r\n        if (response.statusCode == \"500\") {\r\n          this.setDataError({\r\n            code: 500,\r\n            error: true,\r\n            message: \"Error del servidor\",\r\n            method: 'Delete',\r\n            serviceType: \"bk\",\r\n            url: '',\r\n          });\r\n        }\r\n        return response.data\r\n      }).catch(err => {\r\n        this.setDataError(err);\r\n      });\r\n  }\r\n}\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}