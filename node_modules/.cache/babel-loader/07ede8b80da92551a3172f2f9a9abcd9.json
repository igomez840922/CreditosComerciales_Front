{"ast":null,"code":"import _regeneratorRuntime from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from\"react\";import Select from\"react-select\";import{Row,Col,Label}from\"reactstrap\";import moment from\"moment\";import{AvForm,AvGroup,AvField,AvFeedback}from\"availity-reactstrap-validation\";import{BackendServices,CoreServices}from\"../../../../services\";import Switch from\"react-switch\";import{useLocation,useHistory}from\"react-router-dom\";import{translationHelpers}from\"../../../../helpers\";import\"flatpickr/dist/themes/material_blue.css\";import Flatpickr from\"react-flatpickr\";import{useTranslation}from\"react-i18next/\";import*as url from\"../../../../helpers/url_helper\";import Currency from\"../../../../helpers/currency\";import*as OPTs from\"../../../../helpers/options_helper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Offsymbol=function Offsymbol(){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100%\",fontSize:12,color:\"#fff\",paddingRight:2},children:[\" \",\"No\"]});};var OnSymbol=function OnSymbol(){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100%\",fontSize:12,color:\"#fff\",paddingRight:2},children:[\" \",\"Si\"]});};var DatosGeneralesPropuesta=/*#__PURE__*/React.forwardRef(function(props,ref){var currencyData=new Currency();var location=useLocation();var history=useHistory();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),fechaSet=_useState2[0],setfechaSet=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),fechaSet2=_useState4[0],setfechaSet2=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),fechaSet3=_useState6[0],setfechaSet3=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),fechaSet4=_useState8[0],setfechaSet4=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),CambioDatos=_useState10[0],setCambioDatos=_useState10[1];var _useState11=useState(location.data),_useState12=_slicedToArray(_useState11,2),locationData=_useState12[0],setLocationData=_useState12[1];var _useState13=useState(location.data),_useState14=_slicedToArray(_useState13,2),context=_useState14[0],setcontext=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),formValid=_useState16[0],setFormValid=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),gruposEconomicos=_useState18[0],setGruposEconomicos=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),actividadEmpresa=_useState20[0],setActividadEmpresa=_useState20[1];var _useState21=useState(null),_useState22=_slicedToArray(_useState21,2),actividadEmpresaSet=_useState22[0],setActividadEmpresaSet=_useState22[1];var _useState23=useState(undefined),_useState24=_slicedToArray(_useState23,2),actividadEmpresaSelect=_useState24[0],setActividadEmpresaSelect=_useState24[1];var _useState25=useState([]),_useState26=_slicedToArray(_useState25,2),paises=_useState26[0],setPais=_useState26[1];var _useState27=useState([]),_useState28=_slicedToArray(_useState27,2),paisesRiesgo=_useState28[0],setPaisRiesgo=_useState28[1];var _useState29=useState(null),_useState30=_slicedToArray(_useState29,2),listaRevisionSet=_useState30[0],setlistaRevisionSet=_useState30[1];var _useState31=useState(null),_useState32=_slicedToArray(_useState31,2),listaRevision=_useState32[0],setlistaRevision=_useState32[1];var _useState33=useState(null),_useState34=_slicedToArray(_useState33,2),datosIGR=_useState34[0],setdatosIGR=_useState34[1];var _useState35=useState(null),_useState36=_slicedToArray(_useState35,2),datosAmbientales=_useState36[0],setdatosAmbientales=_useState36[1];var _useState37=useState(undefined),_useState38=_slicedToArray(_useState37,2),listaRevisionSelect=_useState38[0],setlistaRevisionSelect=_useState38[1];var _useState39=useState(null),_useState40=_slicedToArray(_useState39,2),listaRevisionRequerido=_useState40[0],setlistaRevisionRequerido=_useState40[1];var _useState41=useState(false),_useState42=_slicedToArray(_useState41,2),preapprovalSwitch=_useState42[0],setpreapprovalSwitch=_useState42[1];var _useState43=useState(false),_useState44=_slicedToArray(_useState43,2),relatedPartSwitch=_useState44[0],setrelatedPartSwitch=_useState44[1];var _useState45=useState(''),_useState46=_slicedToArray(_useState45,2),transactId=_useState46[0],setTransactId=_useState46[1];var _useState47=useState(''),_useState48=_slicedToArray(_useState47,2),customerNumber=_useState48[0],setCustomerNumber=_useState48[1];var _useState49=useState(''),_useState50=_slicedToArray(_useState49,2),revisionType=_useState50[0],setRevisionType=_useState50[1];var _useState51=useState(false),_useState52=_slicedToArray(_useState51,2),preapproval=_useState52[0],setPreapproval=_useState52[1];var _useState53=useState(undefined),_useState54=_slicedToArray(_useState53,2),economicGroupSelect=_useState54[0],seteconomicGroupSelect=_useState54[1];var _useState55=useState(null),_useState56=_slicedToArray(_useState55,2),economicGroup=_useState56[0],setEconomicGroup=_useState56[1];var _useState57=useState(null),_useState58=_slicedToArray(_useState57,2),country=_useState58[0],setCountry=_useState58[1];var _useState59=useState(undefined),_useState60=_slicedToArray(_useState59,2),countrySelect=_useState60[0],setCountrySelect=_useState60[1];var _useState61=useState(''),_useState62=_slicedToArray(_useState61,2),activityCompany=_useState62[0],setActivityCompany=_useState62[1];var _useState63=useState(''),_useState64=_slicedToArray(_useState63,2),riskClassification=_useState64[0],setRiskClassification=_useState64[1];var _useState65=useState(''),_useState66=_slicedToArray(_useState65,2),minimumProvisionSIB=_useState66[0],setMinimunProvisionSIB=_useState66[1];var _useState67=useState(false),_useState68=_slicedToArray(_useState67,2),relatedPart=_useState68[0],setRelatedPart=_useState68[1];var _useState69=useState(''),_useState70=_slicedToArray(_useState69,2),accountExecutive=_useState70[0],setAccountExecutive=_useState70[1];var _useState71=useState(''),_useState72=_slicedToArray(_useState71,2),approvalLevel=_useState72[0],setApprovalLevel=_useState72[1];var _useState73=useState(''),_useState74=_slicedToArray(_useState73,2),responsibleUnit=_useState74[0],setResponsibleUnit=_useState74[1];var _useState75=useState(null),_useState76=_slicedToArray(_useState75,2),countryRisk=_useState76[0],setCountryRisk=_useState76[1];var _useState77=useState(null),_useState78=_slicedToArray(_useState77,2),dataReturn=_useState78[0],setdataReturn=_useState78[1];var _useState79=useState(undefined),_useState80=_slicedToArray(_useState79,2),countryRiskSelect=_useState80[0],setCountryRiskSelect=_useState80[1];var _useState81=useState(null),_useState82=_slicedToArray(_useState81,2),datosDeudorPrincipal=_useState82[0],setdatosDeudorPrincipal=_useState82[1];var _useState83=useState(''),_useState84=_slicedToArray(_useState83,2),requestDate=_useState84[0],setRequestDate=_useState84[1];var _useState85=useState(''),_useState86=_slicedToArray(_useState85,2),lastRequestDate=_useState86[0],setLastRequestDate=_useState86[1];var _useState87=useState(''),_useState88=_slicedToArray(_useState87,2),proposedExpirationDate=_useState88[0],setProposedExpirationDate=_useState88[1];var _useState89=useState(''),_useState90=_slicedToArray(_useState89,2),nextRevisionDate=_useState90[0],setNextRevisionDate=_useState90[1];var _useState91=useState(''),_useState92=_slicedToArray(_useState91,2),dataRequest=_useState92[0],setdataRequest=_useState92[1];var _useState93=useState(''),_useState94=_slicedToArray(_useState93,2),flow=_useState94[0],setFlow=_useState94[1];//const [t, c] = translationHelpers('commercial_credit', 'common');    \nvar _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;React.useImperativeHandle(ref,function(){return{validateForm:function validateForm(){var form=document.getElementById('frmDatosGeneralesPropuesta');form.requestSubmit();},getFormValidation:function getFormValidation(){return formValid;},dataReturn:dataReturn};});useEffect(function(){var dataSession;if(location.data!==null&&location.data!==undefined){if(location.data.transactionId===undefined||location.data.transactionId.length<=0){//location.data.transactionId = 0;\n//checkAndCreateProcedure(location.data);\nhistory.push(url.URL_DASHBOARD);}else{sessionStorage.setItem('locationData',JSON.stringify(location.data));setLocationData(location.data);dataSession=location.data;}}else{//chequeamos si tenemos guardado en session\nvar result=sessionStorage.getItem('locationData');if(result!==undefined&&result!==null){result=JSON.parse(result);setLocationData(result);dataSession=result;}}updateDefaults(dataSession);loadListCountry();loadListGroupEconomic();loadActivityEconomic();loadDataRisk();},[]);useEffect(function(){var _ref,_location$data$transa,_location$data;var backendServices=new BackendServices();backendServices.consultGeneralDataPropCred((_ref=(_location$data$transa=location===null||location===void 0?void 0:(_location$data=location.data)===null||_location$data===void 0?void 0:_location$data.transactionId)!==null&&_location$data$transa!==void 0?_location$data$transa:locationData===null||locationData===void 0?void 0:locationData.transactionId)!==null&&_ref!==void 0?_ref:0).then(function(data){if(data!==undefined){setdataRequest(data[0].requestId);}});},[props]);useEffect(function(){var dataSession;if(location.data!==null&&location.data!==undefined){if(location.data.transactionId===undefined||location.data.transactionId.length<=0){//location.data.transactionId = 0;\n//checkAndCreateProcedure(location.data);\nhistory.push(url.URL_DASHBOARD);}else{sessionStorage.setItem('locationData',JSON.stringify(location.data));setLocationData(location.data);dataSession=location.data;}}else{//chequeamos si tenemos guardado en session\nvar result=sessionStorage.getItem('locationData');if(result!==undefined&&result!==null){result=JSON.parse(result);setLocationData(result);dataSession=result;}}if((gruposEconomicos===null||gruposEconomicos===void 0?void 0:gruposEconomicos.length)>0&&(actividadEmpresa===null||actividadEmpresa===void 0?void 0:actividadEmpresa.length)>0)loadDataGeneral(dataSession);},[gruposEconomicos,actividadEmpresa]);useEffect(function(){var dataSession;if(location.data!==null&&location.data!==undefined){if(location.data.transactionId===undefined||location.data.transactionId.length<=0){//location.data.transactionId = 0;\n//checkAndCreateProcedure(location.data);\nhistory.push(url.URL_DASHBOARD);}else{sessionStorage.setItem('locationData',JSON.stringify(location.data));setLocationData(location.data);dataSession=location.data;}}else{//chequeamos si tenemos guardado en session\nvar result=sessionStorage.getItem('locationData');if(result!==undefined&&result!==null){result=JSON.parse(result);setLocationData(result);dataSession=result;}}updateDefaults(dataSession);},[props.values,paises,gruposEconomicos,actividadEmpresa]);function updateDefaults(context){var _props$values$transac;setTransactId((_props$values$transac=props.values.transactId)!==null&&_props$values$transac!==void 0?_props$values$transac:context.transactionId);setCustomerNumber(props.values.customerNumber||context.customerId);setRevisionType(props.values.revisionType||'Bimensual');setPreapproval(props.values.preapproval||false);setMinimunProvisionSIB(props.values.minimumProvisionSIB||'');setRelatedPart(props.values.relatedPart||false);setAccountExecutive(props.values.accountExecutive||'');setApprovalLevel(props.values.approvalLevel||'');setResponsibleUnit(props.values.responsibleUnit||'');setRequestDate(props.values.requestDate||'');setLastRequestDate(props.values.lastRequestDate||'');setNextRevisionDate(props.values.nextRevisionDate||'');setProposedExpirationDate(props.values.proposedExpirationDate||'');setFlow(props.values.flow||'');setfechaSet(moment(props.values.requestDate||\"\").format(\"DD-MM-YYYY\"));setfechaSet2(moment(props.values.lastRequestDate||\"\").format(\"DD-MM-YYYY\"));setfechaSet3(moment(props.values.nextRevisionDate||\"\").format(\"DD-MM-YYYY\"));setfechaSet4(moment(props.values.proposedExpirationDate||\"\").format(\"DD-MM-YYYY\"));// loadDataGeneral(context);\nsetrelatedPartSwitch(props.values.relatedPart);setpreapprovalSwitch(props.values.preapproval);try{var defaultVal=null;if(listaRevision.length>0&&props.values.revision!==null&&listaRevisionSelect===undefined){defaultVal=listaRevision.find(function(x){return x.label===props.values.revision;});if(defaultVal!==undefined){setlistaRevisionSelect(defaultVal);setlistaRevisionSet(defaultVal);}}if(paises.length>0&&props.values.country!==null&&countrySelect===undefined){defaultVal=paises.find(function(x){return x.label===props.values.country;});if(defaultVal!==undefined){setCountrySelect(defaultVal);}}if(paises.length>0&&props.values.countryRisk!==null&&countryRiskSelect===undefined){defaultVal=paises.find(function(x){return x.label===props.values.countryRisk;});if(defaultVal!==undefined){setCountryRiskSelect(defaultVal);}}}catch(err){}if(props.values.transactId!=undefined)setCambioDatos(function(){return true;});}// cargarListaPaises\nfunction loadListCountry(){return _loadListCountry.apply(this,arguments);}// cargarActividadEconomica\nfunction _loadListCountry(){_loadListCountry=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var api;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:api=new CoreServices();// getPaisesCatalogo\n_context.next=3;return api.getPaisesCatalogo().then(function(response){if(response===null){return;}var json=response.Records?response.Records.map(function(item){return{label:item[\"Description\"],value:item[\"Code\"]};}):[];setPais(json);setPaisRiesgo(json);}).catch(function(err){console.log(err);});case 3:case\"end\":return _context.stop();}}},_callee);}));return _loadListCountry.apply(this,arguments);}function loadActivityEconomic(){var api=new CoreServices();// getActividadEconomicaCatalogo\napi.getActividadEconomicaCatalogo().then(function(response){if(response===null){return;}var json=[];for(var i=0;i<response.Records.length;i++){json.push({label:response.Records[i][\"Description\"],value:response.Records[i][\"Code\"]});}setActividadEmpresa(json);});}// cargarListaGrupoEconomico\nfunction loadListGroupEconomic(){var api=new CoreServices();// getGrupoEconomicoCatalogo\napi.getGrupoEconomicoCatalogo().then(function(response){if(response===null){return;}var json=[];for(var i=0;i<response.Records.length;i++){json.push({label:response.Records[i][\"Description\"],value:response.Records[i][\"Code\"]});}setGruposEconomicos(json);});}// cargarListaRevision\nfunction loadDataRisk(){var api=new BackendServices();api.retrieveRevisionType().then(function(response){if(response===null){return;}var json=[];for(var i=0;i<response.length;i++){json.push({label:response[i][\"description\"],value:response[i][\"id\"]});}setlistaRevision(json);});}// Cargar datos generales\nfunction loadDataGeneral(locationData){var apiBack=new BackendServices();// consultarDeudorPrincipal\napiBack.consultPrincipalDebtor(locationData.transactionId).then(function(resp){if(resp!=undefined){setdatosDeudorPrincipal(resp);}});apiBack.consultGeneralDataIGR(locationData.transactionId).then(function(resp){setdatosIGR(resp);try{var defaultVal=null;// seteconomicGroupSelect(undefined);\nconsole.log(gruposEconomicos.length>0,resp.economicGroup!==null,economicGroupSelect===undefined,economicGroupSelect);if(gruposEconomicos.length>0&&resp.economicGroup!==null&&economicGroupSelect===undefined){defaultVal=gruposEconomicos.find(function(x){return x.label===resp.economicGroup.name;});if(defaultVal!==undefined){seteconomicGroupSelect(defaultVal);}}setActividadEmpresaSet(resp.economicActivity);if(actividadEmpresa.length>0&&resp.economicActivity!==null&&actividadEmpresaSelect===undefined){defaultVal=actividadEmpresa.find(function(x){return x.label===resp.economicActivity.name;});if(defaultVal!==undefined){setActividadEmpresaSelect(defaultVal);}}}catch(err){}}).catch(function(error){console.log(error);});apiBack.consultEnvironmentalAspectsIGR(locationData.transactionId).then(function(resp){setdatosAmbientales(resp.environmentalAspectsDTO);}).catch(function(error){});}function handleSubmit(event,errors,values){var _document,_document$getElementB,_document2,_document2$getElement,_document3,_document3$getElement,_document4,_document4$getElement,_document5,_document5$getElement,_document6,_document6$getElement,_document7,_document7$getElement,_document8,_document8$getElement,_document9,_document9$getElement,_document10,_document10$getElemen,_document11,_document11$getElemen,_document12,_document12$getElemen;event.preventDefault();// if (event.target.id !== 'DatosGeneralesPropuesta') {\n//     return;\n// }\nvar fecha=((_document=document)===null||_document===void 0?void 0:(_document$getElementB=_document.getElementById(\"requestDate\"))===null||_document$getElementB===void 0?void 0:_document$getElementB.value.split(\"/\").length)==1?(_document2=document)===null||_document2===void 0?void 0:(_document2$getElement=_document2.getElementById(\"requestDate\"))===null||_document2$getElement===void 0?void 0:_document2$getElement.value.split(\"-\"):(_document3=document)===null||_document3===void 0?void 0:(_document3$getElement=_document3.getElementById(\"requestDate\"))===null||_document3$getElement===void 0?void 0:_document3$getElement.value.split(\"/\");values.requestDate=fecha[2]+\"-\"+fecha[1]+\"-\"+fecha[0];var fecha2=((_document4=document)===null||_document4===void 0?void 0:(_document4$getElement=_document4.getElementById(\"lastRequestDate\"))===null||_document4$getElement===void 0?void 0:_document4$getElement.value.split(\"/\").length)==1?(_document5=document)===null||_document5===void 0?void 0:(_document5$getElement=_document5.getElementById(\"lastRequestDate\"))===null||_document5$getElement===void 0?void 0:_document5$getElement.value.split(\"-\"):(_document6=document)===null||_document6===void 0?void 0:(_document6$getElement=_document6.getElementById(\"lastRequestDate\"))===null||_document6$getElement===void 0?void 0:_document6$getElement.value.split(\"/\");values.lastRequestDate=fecha2[2]+\"-\"+fecha2[1]+\"-\"+fecha2[0];var fecha3=((_document7=document)===null||_document7===void 0?void 0:(_document7$getElement=_document7.getElementById(\"nextRevisionDate\"))===null||_document7$getElement===void 0?void 0:_document7$getElement.value.split(\"/\").length)==1?(_document8=document)===null||_document8===void 0?void 0:(_document8$getElement=_document8.getElementById(\"nextRevisionDate\"))===null||_document8$getElement===void 0?void 0:_document8$getElement.value.split(\"-\"):(_document9=document)===null||_document9===void 0?void 0:(_document9$getElement=_document9.getElementById(\"nextRevisionDate\"))===null||_document9$getElement===void 0?void 0:_document9$getElement.value.split(\"/\");values.nextRevisionDate=fecha3[2]+\"-\"+fecha3[1]+\"-\"+fecha3[0];var fecha4=((_document10=document)===null||_document10===void 0?void 0:(_document10$getElemen=_document10.getElementById(\"proposedExpirationDate\"))===null||_document10$getElemen===void 0?void 0:_document10$getElemen.value.split(\"/\").length)==1?(_document11=document)===null||_document11===void 0?void 0:(_document11$getElemen=_document11.getElementById(\"proposedExpirationDate\"))===null||_document11$getElemen===void 0?void 0:_document11$getElemen.value.split(\"-\"):(_document12=document)===null||_document12===void 0?void 0:(_document12$getElemen=_document12.getElementById(\"proposedExpirationDate\"))===null||_document12$getElemen===void 0?void 0:_document12$getElemen.value.split(\"/\");values.proposedExpirationDate=fecha4[2]+\"-\"+fecha4[1]+\"-\"+fecha4[0];values.minimumProvisionSIB=Number(currencyData.getRealValue(values.minimumProvisionSIB));var data=Object.assign({country:countrySelect!=undefined?countrySelect.label:'',countryRisk:countryRiskSelect!=undefined?countryRiskSelect.label:'',economicGroupName:economicGroupSelect!=undefined?economicGroupSelect.label:'',activityCompany:actividadEmpresaSelect!=undefined?actividadEmpresaSelect.label:'',revision:listaRevisionSet?listaRevisionSet.label:'',preapproval:preapprovalSwitch,relatedPart:relatedPartSwitch,transactId:Number(locationData.transactionId),approvalLevel:\"\",requestId:props.dataGlobal!=null?props.dataGlobal.requestId:\"\"},values);setdataReturn(data);setFormValid(true);// props.saveDataCreditProposal(true,props.activeTab);\n}function handleDropdownChange(name,event){switch(name){case'country':setCountry(event);break;case'countryRisk':setCountryRisk(event);break;case'economicGroupName':setEconomicGroup(event);break;case'activityCompany':setActivityCompany(event);break;default:}}function check(e){var tecla=document.all?e.keyCode:e.which;//Tecla de retroceso para borrar, siempre la permite\nif(tecla===45){e.preventDefault();return true;}return false;}return/*#__PURE__*/_jsxs(AvForm,{id:\"frmDatosGeneralesPropuesta\",className:\"needs-validation\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h5\",{children:props.title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"transactId\",children:t(\"RequestNumber\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"requestId\",type:\"text\",id:\"requestId\",value:dataRequest,readOnly:true})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"customerNumber\",children:t(\"Customer ID\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"customerNumber\",min:0,type:\"number\",onKeyPress:function onKeyPress(e){return check(e);},readOnly:true,id:\"customerNumber\",value:datosDeudorPrincipal!=null&&datosDeudorPrincipal!=\"\"&&datosDeudorPrincipal!=undefined?datosDeudorPrincipal.customerNumberT24:\"0\"})]})}),/*#__PURE__*/_jsxs(Col,{md:\"4\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"revisionType\",children:t(\"Revision Type\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},onChange:function onChange(e){setlistaRevisionSelect(listaRevision.find(function(x){return x.label===e.label;}));setlistaRevisionSet(e);},options:listaRevision,id:\"revision\",classNamePrefix:\"select2-selection\",placeholder:t(\"Select\"),value:listaRevisionSelect})]})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:\"2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"preapproval\",children:t(\"Pre Approved\")}),/*#__PURE__*/_jsx(AvGroup,{check:true,className:\"mb-3\",children:/*#__PURE__*/_jsx(Switch,{name:\"preapproval\",uncheckedIcon:/*#__PURE__*/_jsx(Offsymbol,{}),checkedIcon:/*#__PURE__*/_jsx(OnSymbol,{}),onColor:\"#007943\",className:\"form-label\",onChange:function onChange(){setpreapprovalSwitch(!preapprovalSwitch);},checked:preapprovalSwitch})})]}),/*#__PURE__*/_jsxs(Col,{md:\"2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"relatedPart\",children:t(\"Related Part\")}),/*#__PURE__*/_jsx(AvGroup,{check:true,className:\"mb-3\",children:/*#__PURE__*/_jsx(Switch,{name:\"relatedPart\",uncheckedIcon:/*#__PURE__*/_jsx(Offsymbol,{}),checkedIcon:/*#__PURE__*/_jsx(OnSymbol,{}),onColor:\"#007943\",className:\"form-label\",onChange:function onChange(){setrelatedPartSwitch(!relatedPartSwitch);},checked:relatedPartSwitch})})]})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:\"6\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"economicGroupName\",children:t(\"Economic Group Name\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},id:\"economicGroupName\",name:\"economicGroupName\",onChange:function onChange(e){seteconomicGroupSelect(gruposEconomicos.find(function(x){return x.label===e.label;}));handleDropdownChange('economicGroupName',e);},options:gruposEconomicos,classNamePrefix:\"select2-selection\",isDisabled:true,value:economicGroupSelect})]}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"economicGroupNumber\",children:t(\"Economic Group Number\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"economicGroupNumber\",type:\"text\",disabled:true,id:\"economicGroupNumber\",value:economicGroupSelect!=undefined?economicGroupSelect.value:''})]})}),/*#__PURE__*/_jsxs(Col,{md:\"6\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"country\",children:t(\"Country Class\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},id:\"country\",name:\"country\",onChange:function onChange(e){setCountrySelect(paises.find(function(x){return x.label===e.label;}));handleDropdownChange('country',e);},placeholder:t(\"Select\"),options:paises,classNamePrefix:\"select2-selection\",value:countrySelect})]}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"riskClassification\",children:t(\"Risk Assesment\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"riskClassification\",type:\"text\",readOnly:true,id:\"riskClassification\",value:datosAmbientales!=null?datosAmbientales.riskPreClassification:\"1\"})]})}),/*#__PURE__*/_jsxs(Col,{md:\"6\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"activityCompany\",children:t(\"Company Activity\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},name:\"activityCompany\",onChange:function onChange(e){setActividadEmpresaSelect(actividadEmpresa.find(function(x){return x.label===e.label;}));setActividadEmpresaSet(e);},placeholder:t(\"Selectcompanyactivity\"),options:actividadEmpresa,classNamePrefix:\"select2-selection\",value:actividadEmpresaSelect,isDisabled:true})]}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"minimumProvisionSIB\",children:t(\"SIB Minimum Provision\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"minimumProvisionSIB\",type:\"text\",id:\"minimumProvisionSIB\",pattern:\"^[0-9,.]*$\",onKeyUp:function onKeyUp(e){var x=currencyData.getRealValue(e.target.value);e.target.value=currencyData.format(x);},value:currencyData.format(minimumProvisionSIB!==null&&minimumProvisionSIB!==void 0?minimumProvisionSIB:0)})]})}),/*#__PURE__*/_jsx(Col,{md:\"9\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"accountExecutive\",children:t(\"Account Executive\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"accountExecutive\",type:\"text\",id:\"accountExecutive\",value:accountExecutive,validate:{required:{value:true,errorMessage:t(\"Validation.Required\")}}})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"flow\",children:t(\"Flow Type\")}),/*#__PURE__*/_jsxs(AvField,{className:\"form-control\",name:\"flow\",type:\"select\",id:\"flow\",value:flow,children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Normal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"Urgente\"})]})]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"responsibleUnit\",children:t(\"Responsible Unit\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"responsibleUnit\",type:\"text\",id:\"responsibleUnit\",value:responsibleUnit,validate:{required:{value:true,errorMessage:t(\"Validation.Required\")}}})]})}),/*#__PURE__*/_jsxs(Col,{md:\"6\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"countryRisk\",children:t(\"Country Risk\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},required:true,onChange:function onChange(e){setCountryRiskSelect(paises.find(function(x){return x.label===e.label;}));handleDropdownChange('countryRisk',e);},defaultValue:paisesRiesgo.label,placeholder:t(\"Selectacountry\"),options:paisesRiesgo,classNamePrefix:\"select2-selection\",value:countryRiskSelect})]})]}),CambioDatos?/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"requestDate\",children:t(\"Application Date\")}),/*#__PURE__*/_jsx(Flatpickr,{name:\"requestDate\",id:\"requestDate\",className:\"form-control d-block\",placeholder:OPTs.FORMAT_DATE_SHOW,options:{dateFormat:OPTs.FORMAT_DATE,defaultDate:fechaSet//selectClient !== undefined ? moment(selectClient.birthDate) : null\n},onChange:function onChange(selectedDates,dateStr,instance){setfechaSet(dateStr);}// onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr).format(\"YYYY-MM-DD\") } }) }}\n})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"lastRequestDate\",children:t(\"Last Application Date\")}),/*#__PURE__*/_jsx(Flatpickr,{name:\"lastRequestDate\",id:\"lastRequestDate\",className:\"form-control d-block\",placeholder:OPTs.FORMAT_DATE_SHOW,options:{dateFormat:OPTs.FORMAT_DATE,defaultDate:fechaSet2//selectClient !== undefined ? moment(selectClient.birthDate) : null\n},onChange:function onChange(selectedDates,dateStr,instance){setfechaSet2(dateStr);}// onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr).format(\"YYYY-MM-DD\") } }) }}\n})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"nextRevisionDate\",children:t(\"Next Revision Date\")}),/*#__PURE__*/_jsx(Flatpickr,{name:\"nextRevisionDate\",id:\"nextRevisionDate\",className:\"form-control d-block\",placeholder:OPTs.FORMAT_DATE_SHOW,options:{dateFormat:OPTs.FORMAT_DATE,defaultDate:fechaSet3//selectClient !== undefined ? moment(selectClient.birthDate) : null\n},onChange:function onChange(selectedDates,dateStr,instance){setfechaSet3(dateStr);}// onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr).format(\"YYYY-MM-DD\") } }) }}\n})]})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsxs(AvGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"proposedExpirationDate\",children:t(\"Expiration Date\")}),/*#__PURE__*/_jsx(Flatpickr,{name:\"proposedExpirationDate\",id:\"proposedExpirationDate\",className:\"form-control d-block\",placeholder:OPTs.FORMAT_DATE_SHOW,options:{dateFormat:OPTs.FORMAT_DATE,defaultDate:fechaSet4//selectClient !== undefined ? moment(selectClient.birthDate) : null\n},onChange:function onChange(selectedDates,dateStr,instance){setfechaSet4(dateStr);}// onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr).format(\"YYYY-MM-DD\") } }) }}\n})]})})]}):null]});});DatosGeneralesPropuesta.defaultProps={values:{}};export default DatosGeneralesPropuesta;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/5_PropuestaCredito/Secciones/DatosGenerales.js"],"names":["React","useState","useEffect","useContext","Select","Row","Col","Label","moment","AvForm","AvGroup","AvField","AvFeedback","BackendServices","CoreServices","Switch","useLocation","useHistory","translationHelpers","Flatpickr","useTranslation","url","Currency","OPTs","Offsymbol","display","justifyContent","alignItems","height","fontSize","color","paddingRight","OnSymbol","DatosGeneralesPropuesta","forwardRef","props","ref","currencyData","location","history","fechaSet","setfechaSet","fechaSet2","setfechaSet2","fechaSet3","setfechaSet3","fechaSet4","setfechaSet4","CambioDatos","setCambioDatos","data","locationData","setLocationData","context","setcontext","formValid","setFormValid","gruposEconomicos","setGruposEconomicos","actividadEmpresa","setActividadEmpresa","actividadEmpresaSet","setActividadEmpresaSet","undefined","actividadEmpresaSelect","setActividadEmpresaSelect","paises","setPais","paisesRiesgo","setPaisRiesgo","listaRevisionSet","setlistaRevisionSet","listaRevision","setlistaRevision","datosIGR","setdatosIGR","datosAmbientales","setdatosAmbientales","listaRevisionSelect","setlistaRevisionSelect","listaRevisionRequerido","setlistaRevisionRequerido","preapprovalSwitch","setpreapprovalSwitch","relatedPartSwitch","setrelatedPartSwitch","transactId","setTransactId","customerNumber","setCustomerNumber","revisionType","setRevisionType","preapproval","setPreapproval","economicGroupSelect","seteconomicGroupSelect","economicGroup","setEconomicGroup","country","setCountry","countrySelect","setCountrySelect","activityCompany","setActivityCompany","riskClassification","setRiskClassification","minimumProvisionSIB","setMinimunProvisionSIB","relatedPart","setRelatedPart","accountExecutive","setAccountExecutive","approvalLevel","setApprovalLevel","responsibleUnit","setResponsibleUnit","countryRisk","setCountryRisk","dataReturn","setdataReturn","countryRiskSelect","setCountryRiskSelect","datosDeudorPrincipal","setdatosDeudorPrincipal","requestDate","setRequestDate","lastRequestDate","setLastRequestDate","proposedExpirationDate","setProposedExpirationDate","nextRevisionDate","setNextRevisionDate","dataRequest","setdataRequest","flow","setFlow","t","i18n","useImperativeHandle","validateForm","form","document","getElementById","requestSubmit","getFormValidation","dataSession","transactionId","length","push","URL_DASHBOARD","sessionStorage","setItem","JSON","stringify","result","getItem","parse","updateDefaults","loadListCountry","loadListGroupEconomic","loadActivityEconomic","loadDataRisk","backendServices","consultGeneralDataPropCred","then","requestId","loadDataGeneral","values","customerId","format","defaultVal","revision","find","x","label","err","api","getPaisesCatalogo","response","json","Records","map","item","value","catch","console","log","getActividadEconomicaCatalogo","i","getGrupoEconomicoCatalogo","retrieveRevisionType","apiBack","consultPrincipalDebtor","resp","consultGeneralDataIGR","name","economicActivity","error","consultEnvironmentalAspectsIGR","environmentalAspectsDTO","handleSubmit","event","errors","preventDefault","fecha","split","fecha2","fecha3","fecha4","Number","getRealValue","Object","assign","economicGroupName","dataGlobal","handleDropdownChange","check","e","tecla","all","keyCode","which","title","customerNumberT24","riskPreClassification","target","required","errorMessage","FORMAT_DATE_SHOW","dateFormat","FORMAT_DATE","defaultDate","selectedDates","dateStr","instance","defaultProps"],"mappings":"0gBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,UAArC,KAAuD,OAAvD,CAEA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,OACIC,GADJ,CAEIC,GAFJ,CAGIC,KAHJ,KAIO,YAJP,CAKA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,OAASC,MAAT,CAAiBC,OAAjB,CAA0BC,OAA1B,CAAmCC,UAAnC,KAAqD,gCAArD,CACA,OAASC,eAAT,CAA0BC,YAA1B,KAA8C,sBAA9C,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,OAASC,WAAT,CAAsBC,UAAtB,KAAwC,kBAAxC,CACA,OAASC,kBAAT,KAAmC,qBAAnC,CACA,MAAO,yCAAP,CACA,MAAOC,CAAAA,SAAP,KAAsB,iBAAtB,CACA,OAASC,cAAT,KAA+B,gBAA/B,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,gCAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,8BAArB,CACA,MAAO,GAAKC,CAAAA,IAAZ,KAAsB,oCAAtB,C,wFACA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpB,mBACI,aACI,KAAK,CAAE,CACHC,OAAO,CAAE,MADN,CAEHC,cAAc,CAAE,QAFb,CAGHC,UAAU,CAAE,QAHT,CAIHC,MAAM,CAAE,MAJL,CAKHC,QAAQ,CAAE,EALP,CAMHC,KAAK,CAAE,MANJ,CAOHC,YAAY,CAAE,CAPX,CADX,WAWK,GAXL,QADJ,CAgBH,CAjBD,CAkBA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnB,mBACI,aACI,KAAK,CAAE,CACHP,OAAO,CAAE,MADN,CAEHC,cAAc,CAAE,QAFb,CAGHC,UAAU,CAAE,QAHT,CAIHC,MAAM,CAAE,MAJL,CAKHC,QAAQ,CAAE,EALP,CAMHC,KAAK,CAAE,MANJ,CAOHC,YAAY,CAAE,CAPX,CADX,WAWK,GAXL,QADJ,CAgBH,CAjBD,CAkBA,GAAME,CAAAA,uBAAuB,cAAGjC,KAAK,CAACkC,UAAN,CAAiB,SAACC,KAAD,CAAQC,GAAR,CAAgB,CAC7D,GAAMC,CAAAA,YAAY,CAAG,GAAIf,CAAAA,QAAJ,EAArB,CACA,GAAMgB,CAAAA,QAAQ,CAAGtB,WAAW,EAA5B,CACA,GAAMuB,CAAAA,OAAO,CAAGtB,UAAU,EAA1B,CACA,cAAgChB,QAAQ,CAAC,EAAD,CAAxC,wCAAOuC,QAAP,eAAiBC,WAAjB,eACA,eAAkCxC,QAAQ,CAAC,EAAD,CAA1C,yCAAOyC,SAAP,eAAkBC,YAAlB,eACA,eAAkC1C,QAAQ,CAAC,EAAD,CAA1C,yCAAO2C,SAAP,eAAkBC,YAAlB,eACA,eAAkC5C,QAAQ,CAAC,EAAD,CAA1C,yCAAO6C,SAAP,eAAkBC,YAAlB,eACA,eAAsC9C,QAAQ,CAAC,KAAD,CAA9C,0CAAO+C,WAAP,gBAAoBC,cAApB,gBAEA,gBAAwChD,QAAQ,CAACqC,QAAQ,CAACY,IAAV,CAAhD,2CAAOC,YAAP,gBAAqBC,eAArB,gBACA,gBAA8BnD,QAAQ,CAACqC,QAAQ,CAACY,IAAV,CAAtC,2CAAOG,OAAP,gBAAgBC,UAAhB,gBACA,gBAAkCrD,QAAQ,CAAC,KAAD,CAA1C,2CAAOsD,SAAP,gBAAkBC,YAAlB,gBACA,gBAAgDvD,QAAQ,CAAC,EAAD,CAAxD,2CAAOwD,gBAAP,gBAAyBC,mBAAzB,gBACA,gBAAgDzD,QAAQ,CAAC,EAAD,CAAxD,2CAAO0D,gBAAP,gBAAyBC,mBAAzB,gBACA,gBAAsD3D,QAAQ,CAAC,IAAD,CAA9D,2CAAO4D,mBAAP,gBAA4BC,sBAA5B,gBACA,gBAA4D7D,QAAQ,CAAC8D,SAAD,CAApE,2CAAOC,sBAAP,gBAA+BC,yBAA/B,gBACA,gBAA0BhE,QAAQ,CAAC,EAAD,CAAlC,2CAAOiE,MAAP,gBAAeC,OAAf,gBACA,gBAAsClE,QAAQ,CAAC,EAAD,CAA9C,2CAAOmE,YAAP,gBAAqBC,aAArB,gBACA,gBAAgDpE,QAAQ,CAAC,IAAD,CAAxD,2CAAOqE,gBAAP,gBAAyBC,mBAAzB,gBACA,gBAA0CtE,QAAQ,CAAC,IAAD,CAAlD,2CAAOuE,aAAP,gBAAsBC,gBAAtB,gBACA,gBAAgCxE,QAAQ,CAAC,IAAD,CAAxC,2CAAOyE,QAAP,gBAAiBC,WAAjB,gBACA,gBAAgD1E,QAAQ,CAAC,IAAD,CAAxD,2CAAO2E,gBAAP,gBAAyBC,mBAAzB,gBACA,gBAAsD5E,QAAQ,CAAC8D,SAAD,CAA9D,2CAAOe,mBAAP,gBAA4BC,sBAA5B,gBACA,gBAA4D9E,QAAQ,CAAC,IAAD,CAApE,2CAAO+E,sBAAP,gBAA+BC,yBAA/B,gBACA,gBAAkDhF,QAAQ,CAAC,KAAD,CAA1D,2CAAOiF,iBAAP,gBAA0BC,oBAA1B,gBACA,gBAAkDlF,QAAQ,CAAC,KAAD,CAA1D,2CAAOmF,iBAAP,gBAA0BC,oBAA1B,gBACA,gBAAoCpF,QAAQ,CAAC,EAAD,CAA5C,2CAAOqF,UAAP,gBAAmBC,aAAnB,gBACA,gBAA4CtF,QAAQ,CAAC,EAAD,CAApD,2CAAOuF,cAAP,gBAAuBC,iBAAvB,gBACA,gBAAwCxF,QAAQ,CAAC,EAAD,CAAhD,2CAAOyF,YAAP,gBAAqBC,eAArB,gBACA,gBAAsC1F,QAAQ,CAAC,KAAD,CAA9C,2CAAO2F,WAAP,gBAAoBC,cAApB,gBACA,gBAAsD5F,QAAQ,CAAC8D,SAAD,CAA9D,2CAAO+B,mBAAP,gBAA4BC,sBAA5B,gBACA,gBAA0C9F,QAAQ,CAAC,IAAD,CAAlD,2CAAO+F,aAAP,gBAAsBC,gBAAtB,gBACA,gBAA8BhG,QAAQ,CAAC,IAAD,CAAtC,2CAAOiG,OAAP,gBAAgBC,UAAhB,gBACA,gBAA0ClG,QAAQ,CAAC8D,SAAD,CAAlD,2CAAOqC,aAAP,gBAAsBC,gBAAtB,gBACA,gBAA8CpG,QAAQ,CAAC,EAAD,CAAtD,2CAAOqG,eAAP,gBAAwBC,kBAAxB,gBACA,gBAAoDtG,QAAQ,CAAC,EAAD,CAA5D,2CAAOuG,kBAAP,gBAA2BC,qBAA3B,gBACA,gBAAsDxG,QAAQ,CAAC,EAAD,CAA9D,2CAAOyG,mBAAP,gBAA4BC,sBAA5B,gBACA,gBAAsC1G,QAAQ,CAAC,KAAD,CAA9C,2CAAO2G,WAAP,gBAAoBC,cAApB,gBACA,gBAAgD5G,QAAQ,CAAC,EAAD,CAAxD,2CAAO6G,gBAAP,gBAAyBC,mBAAzB,gBACA,gBAA0C9G,QAAQ,CAAC,EAAD,CAAlD,2CAAO+G,aAAP,gBAAsBC,gBAAtB,gBACA,gBAA8ChH,QAAQ,CAAC,EAAD,CAAtD,2CAAOiH,eAAP,gBAAwBC,kBAAxB,gBACA,gBAAsClH,QAAQ,CAAC,IAAD,CAA9C,2CAAOmH,WAAP,gBAAoBC,cAApB,gBACA,gBAAoCpH,QAAQ,CAAC,IAAD,CAA5C,2CAAOqH,UAAP,gBAAmBC,aAAnB,gBACA,gBAAkDtH,QAAQ,CAAC8D,SAAD,CAA1D,2CAAOyD,iBAAP,gBAA0BC,oBAA1B,gBACA,gBAAwDxH,QAAQ,CAAC,IAAD,CAAhE,2CAAOyH,oBAAP,gBAA6BC,uBAA7B,gBACA,gBAAsC1H,QAAQ,CAAC,EAAD,CAA9C,2CAAO2H,WAAP,gBAAoBC,cAApB,gBACA,gBAA8C5H,QAAQ,CAAC,EAAD,CAAtD,2CAAO6H,eAAP,gBAAwBC,kBAAxB,gBACA,gBAA4D9H,QAAQ,CAAC,EAAD,CAApE,2CAAO+H,sBAAP,gBAA+BC,yBAA/B,gBACA,gBAAgDhI,QAAQ,CAAC,EAAD,CAAxD,2CAAOiI,gBAAP,gBAAyBC,mBAAzB,gBACA,gBAAsClI,QAAQ,CAAC,EAAD,CAA9C,2CAAOmI,WAAP,gBAAoBC,cAApB,gBACA,gBAAwBpI,QAAQ,CAAC,EAAD,CAAhC,2CAAOqI,IAAP,gBAAaC,OAAb,gBACA;AACA,oBAAoBnH,cAAc,EAAlC,CAAQoH,CAAR,iBAAQA,CAAR,CAAWC,IAAX,iBAAWA,IAAX,CAEAzI,KAAK,CAAC0I,mBAAN,CAA0BtG,GAA1B,CAA+B,iBAAO,CAClCuG,YAAY,CAAE,uBAAM,CAChB,GAAMC,CAAAA,IAAI,CAAGC,QAAQ,CAACC,cAAT,CAAwB,4BAAxB,CAAb,CACAF,IAAI,CAACG,aAAL,GACH,CAJiC,CAKlCC,iBAAiB,CAAE,4BAAM,CACrB,MAAOzF,CAAAA,SAAP,CACH,CAPiC,CAQlC+D,UAAU,CAAVA,UARkC,CAAP,EAA/B,EAUApH,SAAS,CAAC,UAAM,CACZ,GAAI+I,CAAAA,WAAJ,CACA,GAAI3G,QAAQ,CAACY,IAAT,GAAkB,IAAlB,EAA0BZ,QAAQ,CAACY,IAAT,GAAkBa,SAAhD,CAA2D,CACvD,GAAIzB,QAAQ,CAACY,IAAT,CAAcgG,aAAd,GAAgCnF,SAAhC,EAA6CzB,QAAQ,CAACY,IAAT,CAAcgG,aAAd,CAA4BC,MAA5B,EAAsC,CAAvF,CAA0F,CACtF;AACA;AACA5G,OAAO,CAAC6G,IAAR,CAAa/H,GAAG,CAACgI,aAAjB,EACH,CAJD,IAKK,CACDC,cAAc,CAACC,OAAf,CAAuB,cAAvB,CAAuCC,IAAI,CAACC,SAAL,CAAenH,QAAQ,CAACY,IAAxB,CAAvC,EACAE,eAAe,CAACd,QAAQ,CAACY,IAAV,CAAf,CACA+F,WAAW,CAAG3G,QAAQ,CAACY,IAAvB,CACH,CACJ,CAXD,IAYK,CACD;AACA,GAAIwG,CAAAA,MAAM,CAAGJ,cAAc,CAACK,OAAf,CAAuB,cAAvB,CAAb,CACA,GAAID,MAAM,GAAK3F,SAAX,EAAwB2F,MAAM,GAAK,IAAvC,CAA6C,CACzCA,MAAM,CAAGF,IAAI,CAACI,KAAL,CAAWF,MAAX,CAAT,CACAtG,eAAe,CAACsG,MAAD,CAAf,CACAT,WAAW,CAAGS,MAAd,CACH,CACJ,CAGDG,cAAc,CAACZ,WAAD,CAAd,CACAa,eAAe,GACfC,qBAAqB,GACrBC,oBAAoB,GACpBC,YAAY,GACf,CA9BQ,CA8BN,EA9BM,CAAT,CAgCA/J,SAAS,CAAC,UAAM,+CACZ,GAAMgK,CAAAA,eAAe,CAAG,GAAIrJ,CAAAA,eAAJ,EAAxB,CACAqJ,eAAe,CAACC,0BAAhB,8BAA2C7H,QAA3C,SAA2CA,QAA3C,iCAA2CA,QAAQ,CAAEY,IAArD,yCAA2C,eAAgBgG,aAA3D,+DAA4E/F,YAA5E,SAA4EA,YAA5E,iBAA4EA,YAAY,CAAE+F,aAA1F,6BAA2G,CAA3G,EACKkB,IADL,CACU,SAAClH,IAAD,CAAU,CACZ,GAAIA,IAAI,GAAKa,SAAb,CAAwB,CACpBsE,cAAc,CAACnF,IAAI,CAAC,CAAD,CAAJ,CAAQmH,SAAT,CAAd,CACH,CACJ,CALL,EAMH,CARQ,CAQN,CAAClI,KAAD,CARM,CAAT,CAWAjC,SAAS,CAAC,UAAM,CACZ,GAAI+I,CAAAA,WAAJ,CACA,GAAI3G,QAAQ,CAACY,IAAT,GAAkB,IAAlB,EAA0BZ,QAAQ,CAACY,IAAT,GAAkBa,SAAhD,CAA2D,CACvD,GAAIzB,QAAQ,CAACY,IAAT,CAAcgG,aAAd,GAAgCnF,SAAhC,EAA6CzB,QAAQ,CAACY,IAAT,CAAcgG,aAAd,CAA4BC,MAA5B,EAAsC,CAAvF,CAA0F,CACtF;AACA;AACA5G,OAAO,CAAC6G,IAAR,CAAa/H,GAAG,CAACgI,aAAjB,EACH,CAJD,IAKK,CACDC,cAAc,CAACC,OAAf,CAAuB,cAAvB,CAAuCC,IAAI,CAACC,SAAL,CAAenH,QAAQ,CAACY,IAAxB,CAAvC,EACAE,eAAe,CAACd,QAAQ,CAACY,IAAV,CAAf,CACA+F,WAAW,CAAG3G,QAAQ,CAACY,IAAvB,CACH,CACJ,CAXD,IAYK,CACD;AACA,GAAIwG,CAAAA,MAAM,CAAGJ,cAAc,CAACK,OAAf,CAAuB,cAAvB,CAAb,CACA,GAAID,MAAM,GAAK3F,SAAX,EAAwB2F,MAAM,GAAK,IAAvC,CAA6C,CACzCA,MAAM,CAAGF,IAAI,CAACI,KAAL,CAAWF,MAAX,CAAT,CACAtG,eAAe,CAACsG,MAAD,CAAf,CACAT,WAAW,CAAGS,MAAd,CACH,CACJ,CAED,GAAI,CAAAjG,gBAAgB,OAAhB,EAAAA,gBAAgB,SAAhB,QAAAA,gBAAgB,CAAE0F,MAAlB,EAA2B,CAA3B,EAAgC,CAAAxF,gBAAgB,OAAhB,EAAAA,gBAAgB,SAAhB,QAAAA,gBAAgB,CAAEwF,MAAlB,EAA2B,CAA/D,CACImB,eAAe,CAACrB,WAAD,CAAf,CAEP,CA3BQ,CA2BN,CAACxF,gBAAD,CAAmBE,gBAAnB,CA3BM,CAAT,CA6BAzD,SAAS,CAAC,UAAM,CAEZ,GAAI+I,CAAAA,WAAJ,CACA,GAAI3G,QAAQ,CAACY,IAAT,GAAkB,IAAlB,EAA0BZ,QAAQ,CAACY,IAAT,GAAkBa,SAAhD,CAA2D,CACvD,GAAIzB,QAAQ,CAACY,IAAT,CAAcgG,aAAd,GAAgCnF,SAAhC,EAA6CzB,QAAQ,CAACY,IAAT,CAAcgG,aAAd,CAA4BC,MAA5B,EAAsC,CAAvF,CAA0F,CACtF;AACA;AACA5G,OAAO,CAAC6G,IAAR,CAAa/H,GAAG,CAACgI,aAAjB,EACH,CAJD,IAKK,CACDC,cAAc,CAACC,OAAf,CAAuB,cAAvB,CAAuCC,IAAI,CAACC,SAAL,CAAenH,QAAQ,CAACY,IAAxB,CAAvC,EACAE,eAAe,CAACd,QAAQ,CAACY,IAAV,CAAf,CACA+F,WAAW,CAAG3G,QAAQ,CAACY,IAAvB,CACH,CACJ,CAXD,IAYK,CACD;AACA,GAAIwG,CAAAA,MAAM,CAAGJ,cAAc,CAACK,OAAf,CAAuB,cAAvB,CAAb,CACA,GAAID,MAAM,GAAK3F,SAAX,EAAwB2F,MAAM,GAAK,IAAvC,CAA6C,CACzCA,MAAM,CAAGF,IAAI,CAACI,KAAL,CAAWF,MAAX,CAAT,CACAtG,eAAe,CAACsG,MAAD,CAAf,CACAT,WAAW,CAAGS,MAAd,CACH,CACJ,CAEDG,cAAc,CAACZ,WAAD,CAAd,CACH,CA1BQ,CA0BN,CAAC9G,KAAK,CAACoI,MAAP,CAAerG,MAAf,CAAuBT,gBAAvB,CAAyCE,gBAAzC,CA1BM,CAAT,CA4BA,QAASkG,CAAAA,cAAT,CAAwBxG,OAAxB,CAAiC,2BAC7BkC,aAAa,wBAACpD,KAAK,CAACoI,MAAN,CAAajF,UAAd,+DAA4BjC,OAAO,CAAC6F,aAApC,CAAb,CACAzD,iBAAiB,CAACtD,KAAK,CAACoI,MAAN,CAAa/E,cAAb,EAA+BnC,OAAO,CAACmH,UAAxC,CAAjB,CACA7E,eAAe,CAACxD,KAAK,CAACoI,MAAN,CAAa7E,YAAb,EAA6B,WAA9B,CAAf,CACAG,cAAc,CAAC1D,KAAK,CAACoI,MAAN,CAAa3E,WAAb,EAA4B,KAA7B,CAAd,CACAe,sBAAsB,CAACxE,KAAK,CAACoI,MAAN,CAAa7D,mBAAb,EAAoC,EAArC,CAAtB,CACAG,cAAc,CAAC1E,KAAK,CAACoI,MAAN,CAAa3D,WAAb,EAA4B,KAA7B,CAAd,CACAG,mBAAmB,CAAC5E,KAAK,CAACoI,MAAN,CAAazD,gBAAb,EAAiC,EAAlC,CAAnB,CACAG,gBAAgB,CAAC9E,KAAK,CAACoI,MAAN,CAAavD,aAAb,EAA8B,EAA/B,CAAhB,CACAG,kBAAkB,CAAChF,KAAK,CAACoI,MAAN,CAAarD,eAAb,EAAgC,EAAjC,CAAlB,CACAW,cAAc,CAAC1F,KAAK,CAACoI,MAAN,CAAa3C,WAAb,EAA4B,EAA7B,CAAd,CACAG,kBAAkB,CAAC5F,KAAK,CAACoI,MAAN,CAAazC,eAAb,EAAgC,EAAjC,CAAlB,CACAK,mBAAmB,CAAChG,KAAK,CAACoI,MAAN,CAAarC,gBAAb,EAAiC,EAAlC,CAAnB,CACAD,yBAAyB,CAAC9F,KAAK,CAACoI,MAAN,CAAavC,sBAAb,EAAuC,EAAxC,CAAzB,CACAO,OAAO,CAACpG,KAAK,CAACoI,MAAN,CAAajC,IAAb,EAAqB,EAAtB,CAAP,CACA7F,WAAW,CAACjC,MAAM,CAAC2B,KAAK,CAACoI,MAAN,CAAa3C,WAAb,EAA4B,EAA7B,CAAN,CAAuC6C,MAAvC,CAA8C,YAA9C,CAAD,CAAX,CACA9H,YAAY,CAACnC,MAAM,CAAC2B,KAAK,CAACoI,MAAN,CAAazC,eAAb,EAAgC,EAAjC,CAAN,CAA2C2C,MAA3C,CAAkD,YAAlD,CAAD,CAAZ,CACA5H,YAAY,CAACrC,MAAM,CAAC2B,KAAK,CAACoI,MAAN,CAAarC,gBAAb,EAAiC,EAAlC,CAAN,CAA4CuC,MAA5C,CAAmD,YAAnD,CAAD,CAAZ,CACA1H,YAAY,CAACvC,MAAM,CAAC2B,KAAK,CAACoI,MAAN,CAAavC,sBAAb,EAAuC,EAAxC,CAAN,CAAkDyC,MAAlD,CAAyD,YAAzD,CAAD,CAAZ,CACA;AACApF,oBAAoB,CAAClD,KAAK,CAACoI,MAAN,CAAa3D,WAAd,CAApB,CACAzB,oBAAoB,CAAChD,KAAK,CAACoI,MAAN,CAAa3E,WAAd,CAApB,CACA,GAAI,CACA,GAAI8E,CAAAA,UAAU,CAAG,IAAjB,CACA,GAAIlG,aAAa,CAAC2E,MAAd,CAAuB,CAAvB,EAA4BhH,KAAK,CAACoI,MAAN,CAAaI,QAAb,GAA0B,IAAtD,EAA8D7F,mBAAmB,GAAKf,SAA1F,CAAqG,CACjG2G,UAAU,CAAGlG,aAAa,CAACoG,IAAd,CAAmB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,KAAF,GAAY3I,KAAK,CAACoI,MAAN,CAAaI,QAA7B,EAApB,CAAb,CACA,GAAID,UAAU,GAAK3G,SAAnB,CAA8B,CAC1BgB,sBAAsB,CAAC2F,UAAD,CAAtB,CACAnG,mBAAmB,CAACmG,UAAD,CAAnB,CACH,CACJ,CACD,GAAIxG,MAAM,CAACiF,MAAP,CAAgB,CAAhB,EAAqBhH,KAAK,CAACoI,MAAN,CAAarE,OAAb,GAAyB,IAA9C,EAAsDE,aAAa,GAAKrC,SAA5E,CAAuF,CACnF2G,UAAU,CAAGxG,MAAM,CAAC0G,IAAP,CAAY,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,KAAF,GAAY3I,KAAK,CAACoI,MAAN,CAAarE,OAA7B,EAAb,CAAb,CACA,GAAIwE,UAAU,GAAK3G,SAAnB,CAA8B,CAC1BsC,gBAAgB,CAACqE,UAAD,CAAhB,CACH,CACJ,CACD,GAAIxG,MAAM,CAACiF,MAAP,CAAgB,CAAhB,EAAqBhH,KAAK,CAACoI,MAAN,CAAanD,WAAb,GAA6B,IAAlD,EAA0DI,iBAAiB,GAAKzD,SAApF,CAA+F,CAC3F2G,UAAU,CAAGxG,MAAM,CAAC0G,IAAP,CAAY,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,KAAF,GAAY3I,KAAK,CAACoI,MAAN,CAAanD,WAA7B,EAAb,CAAb,CACA,GAAIsD,UAAU,GAAK3G,SAAnB,CAA8B,CAC1B0D,oBAAoB,CAACiD,UAAD,CAApB,CACH,CACJ,CACJ,CACD,MAAOK,GAAP,CAAY,CAAG,CACf,GAAG5I,KAAK,CAACoI,MAAN,CAAajF,UAAb,EAAyBvB,SAA5B,CAAuCd,cAAc,CAAC,UAAM,CAAE,MAAO,KAAP,CAAa,CAAtB,CAAd,CAE1C,CACD;AArN6D,QAsN9C6G,CAAAA,eAtN8C,kDAsO7D;AAtO6D,qGAsN7D,2IACUkB,GADV,CACgB,GAAIlK,CAAAA,YAAJ,EADhB,CAEI;AAFJ,sBAGUkK,CAAAA,GAAG,CAACC,iBAAJ,GAAwBb,IAAxB,CAA6B,SAAAc,QAAQ,CAAI,CAC3C,GAAIA,QAAQ,GAAK,IAAjB,CAAuB,CAAE,OAAS,CAClC,GAAMC,CAAAA,IAAI,CAAGD,QAAQ,CAACE,OAAT,CAAmBF,QAAQ,CAACE,OAAT,CAAiBC,GAAjB,CAAqB,SAAAC,IAAI,QAAK,CAC1DR,KAAK,CAAEQ,IAAI,CAAC,aAAD,CAD+C,CAE1DC,KAAK,CAAED,IAAI,CAAC,MAAD,CAF+C,CAAL,EAAzB,CAAnB,CAGP,EAHN,CAIAnH,OAAO,CAACgH,IAAD,CAAP,CACA9G,aAAa,CAAC8G,IAAD,CAAb,CACH,CARK,EAQHK,KARG,CAQG,SAAAT,GAAG,CAAI,CACZU,OAAO,CAACC,GAAR,CAAYX,GAAZ,EACH,CAVK,CAHV,uDAtN6D,kDAuO7D,QAASf,CAAAA,oBAAT,EAAgC,CAC5B,GAAMgB,CAAAA,GAAG,CAAG,GAAIlK,CAAAA,YAAJ,EAAZ,CACA;AACAkK,GAAG,CAACW,6BAAJ,GACKvB,IADL,CACU,SAAAc,QAAQ,CAAI,CACd,GAAIA,QAAQ,GAAK,IAAjB,CAAuB,CAAE,OAAS,CAClC,GAAIC,CAAAA,IAAI,CAAG,EAAX,CACA,IAAK,GAAIS,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGV,QAAQ,CAACE,OAAT,CAAiBjC,MAArC,CAA6CyC,CAAC,EAA9C,CAAkD,CAC9CT,IAAI,CAAC/B,IAAL,CAAU,CAAE0B,KAAK,CAAEI,QAAQ,CAACE,OAAT,CAAiBQ,CAAjB,EAAoB,aAApB,CAAT,CAA6CL,KAAK,CAAEL,QAAQ,CAACE,OAAT,CAAiBQ,CAAjB,EAAoB,MAApB,CAApD,CAAV,EACH,CACDhI,mBAAmB,CAACuH,IAAD,CAAnB,CACH,CARL,EASH,CACD;AACA,QAASpB,CAAAA,qBAAT,EAAiC,CAC7B,GAAMiB,CAAAA,GAAG,CAAG,GAAIlK,CAAAA,YAAJ,EAAZ,CACA;AACAkK,GAAG,CAACa,yBAAJ,GACKzB,IADL,CACU,SAAAc,QAAQ,CAAI,CACd,GAAIA,QAAQ,GAAK,IAAjB,CAAuB,CAAE,OAAS,CAClC,GAAIC,CAAAA,IAAI,CAAG,EAAX,CACA,IAAK,GAAIS,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGV,QAAQ,CAACE,OAAT,CAAiBjC,MAArC,CAA6CyC,CAAC,EAA9C,CAAkD,CAC9CT,IAAI,CAAC/B,IAAL,CAAU,CAAE0B,KAAK,CAAEI,QAAQ,CAACE,OAAT,CAAiBQ,CAAjB,EAAoB,aAApB,CAAT,CAA6CL,KAAK,CAAEL,QAAQ,CAACE,OAAT,CAAiBQ,CAAjB,EAAoB,MAApB,CAApD,CAAV,EACH,CACDlI,mBAAmB,CAACyH,IAAD,CAAnB,CACH,CARL,EASH,CACD;AACA,QAASlB,CAAAA,YAAT,EAAwB,CACpB,GAAMe,CAAAA,GAAG,CAAG,GAAInK,CAAAA,eAAJ,EAAZ,CACAmK,GAAG,CAACc,oBAAJ,GACK1B,IADL,CACU,SAAAc,QAAQ,CAAI,CACd,GAAIA,QAAQ,GAAK,IAAjB,CAAuB,CAAE,OAAS,CAClC,GAAIC,CAAAA,IAAI,CAAG,EAAX,CACA,IAAK,GAAIS,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGV,QAAQ,CAAC/B,MAA7B,CAAqCyC,CAAC,EAAtC,CAA0C,CACtCT,IAAI,CAAC/B,IAAL,CAAU,CAAE0B,KAAK,CAAEI,QAAQ,CAACU,CAAD,CAAR,CAAY,aAAZ,CAAT,CAAqCL,KAAK,CAAEL,QAAQ,CAACU,CAAD,CAAR,CAAY,IAAZ,CAA5C,CAAV,EACH,CACDnH,gBAAgB,CAAC0G,IAAD,CAAhB,CACH,CARL,EASH,CACD;AACA,QAASb,CAAAA,eAAT,CAAyBnH,YAAzB,CAAuC,CAEnC,GAAM4I,CAAAA,OAAO,CAAG,GAAIlL,CAAAA,eAAJ,EAAhB,CACA;AACAkL,OAAO,CAACC,sBAAR,CAA+B7I,YAAY,CAAC+F,aAA5C,EAA2DkB,IAA3D,CAAgE,SAAA6B,IAAI,CAAI,CACpE,GAAIA,IAAI,EAAIlI,SAAZ,CAAuB,CACnB4D,uBAAuB,CAACsE,IAAD,CAAvB,CACH,CACJ,CAJD,EAKAF,OAAO,CAACG,qBAAR,CAA8B/I,YAAY,CAAC+F,aAA3C,EAA0DkB,IAA1D,CAA+D,SAAA6B,IAAI,CAAI,CACnEtH,WAAW,CAACsH,IAAD,CAAX,CACA,GAAI,CACA,GAAIvB,CAAAA,UAAU,CAAG,IAAjB,CACA;AAEAe,OAAO,CAACC,GAAR,CAAYjI,gBAAgB,CAAC0F,MAAjB,CAA0B,CAAtC,CAAyC8C,IAAI,CAACjG,aAAL,GAAuB,IAAhE,CAAsEF,mBAAmB,GAAK/B,SAA9F,CAAyG+B,mBAAzG,EACA,GAAIrC,gBAAgB,CAAC0F,MAAjB,CAA0B,CAA1B,EAA+B8C,IAAI,CAACjG,aAAL,GAAuB,IAAtD,EAA8DF,mBAAmB,GAAK/B,SAA1F,CAAqG,CACjG2G,UAAU,CAAGjH,gBAAgB,CAACmH,IAAjB,CAAsB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,KAAF,GAAYmB,IAAI,CAACjG,aAAL,CAAmBmG,IAAnC,EAAvB,CAAb,CACA,GAAIzB,UAAU,GAAK3G,SAAnB,CAA8B,CAC1BgC,sBAAsB,CAAC2E,UAAD,CAAtB,CACH,CACJ,CAED5G,sBAAsB,CAACmI,IAAI,CAACG,gBAAN,CAAtB,CACA,GAAIzI,gBAAgB,CAACwF,MAAjB,CAA0B,CAA1B,EAA+B8C,IAAI,CAACG,gBAAL,GAA0B,IAAzD,EAAiEpI,sBAAsB,GAAKD,SAAhG,CAA2G,CACvG2G,UAAU,CAAG/G,gBAAgB,CAACiH,IAAjB,CAAsB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,KAAF,GAAYmB,IAAI,CAACG,gBAAL,CAAsBD,IAAtC,EAAvB,CAAb,CACA,GAAIzB,UAAU,GAAK3G,SAAnB,CAA8B,CAC1BE,yBAAyB,CAACyG,UAAD,CAAzB,CACH,CACJ,CAEJ,CACD,MAAOK,GAAP,CAAY,CAAG,CAClB,CAxBD,EAwBGS,KAxBH,CAwBS,SAACa,KAAD,CAAW,CAChBZ,OAAO,CAACC,GAAR,CAAYW,KAAZ,EACH,CA1BD,EA2BAN,OAAO,CAACO,8BAAR,CAAuCnJ,YAAY,CAAC+F,aAApD,EAAmEkB,IAAnE,CAAwE,SAAA6B,IAAI,CAAI,CAC5EpH,mBAAmB,CAACoH,IAAI,CAACM,uBAAN,CAAnB,CACH,CAFD,EAEGf,KAFH,CAES,SAACa,KAAD,CAAW,CAEnB,CAJD,EAKH,CACD,QAASG,CAAAA,YAAT,CAAsBC,KAAtB,CAA6BC,MAA7B,CAAqCnC,MAArC,CAA6C,mZACzCkC,KAAK,CAACE,cAAN,GACA;AACA;AACA;AACA,GAAIC,CAAAA,KAAK,CAAG,YAAA/D,QAAQ,QAAR,6DAAUC,cAAV,CAAyB,aAAzB,uEAAyCyC,KAAzC,CAA+CsB,KAA/C,CAAqD,GAArD,EAA0D1D,MAA1D,GAAoE,CAApE,aAAwEN,QAAxE,4DAAwE,WAAUC,cAAV,CAAyB,aAAzB,CAAxE,gDAAwE,sBAAyCyC,KAAzC,CAA+CsB,KAA/C,CAAqD,GAArD,CAAxE,aAAoIhE,QAApI,4DAAoI,WAAUC,cAAV,CAAyB,aAAzB,CAApI,gDAAoI,sBAAyCyC,KAAzC,CAA+CsB,KAA/C,CAAqD,GAArD,CAAhJ,CACAtC,MAAM,CAAC3C,WAAP,CAAqBgF,KAAK,CAAC,CAAD,CAAL,CAAW,GAAX,CAAiBA,KAAK,CAAC,CAAD,CAAtB,CAA4B,GAA5B,CAAkCA,KAAK,CAAC,CAAD,CAA5D,CACA,GAAIE,CAAAA,MAAM,CAAG,aAAAjE,QAAQ,QAAR,+DAAUC,cAAV,CAAyB,iBAAzB,uEAA6CyC,KAA7C,CAAmDsB,KAAnD,CAAyD,GAAzD,EAA8D1D,MAA9D,GAAwE,CAAxE,aAA4EN,QAA5E,4DAA4E,WAAUC,cAAV,CAAyB,iBAAzB,CAA5E,gDAA4E,sBAA6CyC,KAA7C,CAAmDsB,KAAnD,CAAyD,GAAzD,CAA5E,aAA4IhE,QAA5I,4DAA4I,WAAUC,cAAV,CAAyB,iBAAzB,CAA5I,gDAA4I,sBAA6CyC,KAA7C,CAAmDsB,KAAnD,CAAyD,GAAzD,CAAzJ,CACAtC,MAAM,CAACzC,eAAP,CAAyBgF,MAAM,CAAC,CAAD,CAAN,CAAY,GAAZ,CAAkBA,MAAM,CAAC,CAAD,CAAxB,CAA8B,GAA9B,CAAoCA,MAAM,CAAC,CAAD,CAAnE,CACA,GAAIC,CAAAA,MAAM,CAAG,aAAAlE,QAAQ,QAAR,+DAAUC,cAAV,CAAyB,kBAAzB,uEAA8CyC,KAA9C,CAAoDsB,KAApD,CAA0D,GAA1D,EAA+D1D,MAA/D,GAAyE,CAAzE,aAA6EN,QAA7E,4DAA6E,WAAUC,cAAV,CAAyB,kBAAzB,CAA7E,gDAA6E,sBAA8CyC,KAA9C,CAAoDsB,KAApD,CAA0D,GAA1D,CAA7E,aAA8IhE,QAA9I,4DAA8I,WAAUC,cAAV,CAAyB,kBAAzB,CAA9I,gDAA8I,sBAA8CyC,KAA9C,CAAoDsB,KAApD,CAA0D,GAA1D,CAA3J,CACAtC,MAAM,CAACrC,gBAAP,CAA0B6E,MAAM,CAAC,CAAD,CAAN,CAAY,GAAZ,CAAkBA,MAAM,CAAC,CAAD,CAAxB,CAA8B,GAA9B,CAAoCA,MAAM,CAAC,CAAD,CAApE,CACA,GAAIC,CAAAA,MAAM,CAAG,cAAAnE,QAAQ,QAAR,iEAAUC,cAAV,CAAyB,wBAAzB,uEAAoDyC,KAApD,CAA0DsB,KAA1D,CAAgE,GAAhE,EAAqE1D,MAArE,GAA+E,CAA/E,cAAmFN,QAAnF,6DAAmF,YAAUC,cAAV,CAAyB,wBAAzB,CAAnF,gDAAmF,sBAAoDyC,KAApD,CAA0DsB,KAA1D,CAAgE,GAAhE,CAAnF,cAA0JhE,QAA1J,6DAA0J,YAAUC,cAAV,CAAyB,wBAAzB,CAA1J,gDAA0J,sBAAoDyC,KAApD,CAA0DsB,KAA1D,CAAgE,GAAhE,CAAvK,CACAtC,MAAM,CAACvC,sBAAP,CAAgCgF,MAAM,CAAC,CAAD,CAAN,CAAY,GAAZ,CAAkBA,MAAM,CAAC,CAAD,CAAxB,CAA8B,GAA9B,CAAoCA,MAAM,CAAC,CAAD,CAA1E,CACAzC,MAAM,CAAC7D,mBAAP,CAA6BuG,MAAM,CAAC5K,YAAY,CAAC6K,YAAb,CAA0B3C,MAAM,CAAC7D,mBAAjC,CAAD,CAAnC,CACA,GAAMxD,CAAAA,IAAI,CAAGiK,MAAM,CAACC,MAAP,CAAc,CACvBlH,OAAO,CAAEE,aAAa,EAAIrC,SAAjB,CAA6BqC,aAAa,CAAC0E,KAA3C,CAAmD,EADrC,CAEvB1D,WAAW,CAAEI,iBAAiB,EAAIzD,SAArB,CAAiCyD,iBAAiB,CAACsD,KAAnD,CAA2D,EAFjD,CAGvBuC,iBAAiB,CAAEvH,mBAAmB,EAAI/B,SAAvB,CAAmC+B,mBAAmB,CAACgF,KAAvD,CAA+D,EAH3D,CAIvBxE,eAAe,CAAEtC,sBAAsB,EAAID,SAA1B,CAAsCC,sBAAsB,CAAC8G,KAA7D,CAAqE,EAJ/D,CAKvBH,QAAQ,CAAErG,gBAAgB,CAAGA,gBAAgB,CAACwG,KAApB,CAA4B,EAL/B,CAMvBlF,WAAW,CAAEV,iBANU,CAOvB0B,WAAW,CAAExB,iBAPU,CAQvBE,UAAU,CAAE2H,MAAM,CAAC9J,YAAY,CAAC+F,aAAd,CARK,CASvBlC,aAAa,CAAE,EATQ,CAUvBqD,SAAS,CAAElI,KAAK,CAACmL,UAAN,EAAoB,IAApB,CAA2BnL,KAAK,CAACmL,UAAN,CAAiBjD,SAA5C,CAAwD,EAV5C,CAAd,CAWVE,MAXU,CAAb,CAYAhD,aAAa,CAACrE,IAAD,CAAb,CACAM,YAAY,CAAC,IAAD,CAAZ,CACA;AAEH,CACD,QAAS+J,CAAAA,oBAAT,CAA8BpB,IAA9B,CAAoCM,KAApC,CAA2C,CACvC,OAAQN,IAAR,EACI,IAAK,SAAL,CACIhG,UAAU,CAACsG,KAAD,CAAV,CACA,MACJ,IAAK,aAAL,CACIpF,cAAc,CAACoF,KAAD,CAAd,CACA,MACJ,IAAK,mBAAL,CACIxG,gBAAgB,CAACwG,KAAD,CAAhB,CACA,MACJ,IAAK,iBAAL,CACIlG,kBAAkB,CAACkG,KAAD,CAAlB,CACA,MACJ,QAbJ,CAeH,CAED,QAASe,CAAAA,KAAT,CAAeC,CAAf,CAAkB,CACd,GAAIC,CAAAA,KAAK,CAAI7E,QAAQ,CAAC8E,GAAV,CAAiBF,CAAC,CAACG,OAAnB,CAA6BH,CAAC,CAACI,KAA3C,CACA;AACA,GAAIH,KAAK,GAAK,EAAd,CAAkB,CACdD,CAAC,CAACd,cAAF,GACA,MAAO,KAAP,CACH,CAED,MAAO,MAAP,CACH,CAED,mBACI,MAAC,MAAD,EAAQ,EAAE,CAAC,4BAAX,CAAwC,SAAS,CAAC,kBAAlD,CAAqE,QAAQ,CAAEH,YAA/E,wBACI,oBAAKrK,KAAK,CAAC2L,KAAX,EADJ,cAEI,UAAG,SAAS,CAAC,iBAAb,EAFJ,cAGI,MAAC,GAAD,yBACI,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,uBACI,MAAC,OAAD,yBACI,KAAC,KAAD,EAAO,OAAO,CAAC,YAAf,UAA6BtF,CAAC,CAAC,eAAD,CAA9B,EADJ,cAEI,KAAC,OAAD,EACI,SAAS,CAAC,cADd,CAEI,IAAI,CAAC,WAFT,CAGI,IAAI,CAAC,MAHT,CAII,EAAE,CAAC,WAJP,CAKI,KAAK,CAAEJ,WALX,CAMI,QAAQ,KANZ,EAFJ,GADJ,EADJ,cAaI,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,uBACI,MAAC,OAAD,yBACI,KAAC,KAAD,EAAO,OAAO,CAAC,gBAAf,UAAiCI,CAAC,CAAC,aAAD,CAAlC,EADJ,cAEI,KAAC,OAAD,EACI,SAAS,CAAC,cADd,CAEI,IAAI,CAAC,gBAFT,CAGI,GAAG,CAAE,CAHT,CAII,IAAI,CAAC,QAJT,CAKI,UAAU,CAAE,oBAACiF,CAAD,CAAO,CAAE,MAAOD,CAAAA,KAAK,CAACC,CAAD,CAAZ,CAAiB,CAL1C,CAMI,QAAQ,KANZ,CAOI,EAAE,CAAC,gBAPP,CAQI,KAAK,CAAE/F,oBAAoB,EAAI,IAAxB,EAAgCA,oBAAoB,EAAI,EAAxD,EAA8DA,oBAAoB,EAAI3D,SAAtF,CAAkG2D,oBAAoB,CAACqG,iBAAvH,CAA2I,GARtJ,EAFJ,GADJ,EAbJ,cA4BI,MAAC,GAAD,EAAK,EAAE,CAAC,GAAR,wBACI,KAAC,KAAD,EAAO,OAAO,CAAC,cAAf,UAA+BvF,CAAC,CAAC,eAAD,CAAhC,EADJ,cAEI,KAAC,MAAD,EAAQ,gBAAgB,CAAE,kCAAM,EAAN,EAA1B,CACI,QAAQ,CAAE,kBAACiF,CAAD,CAAO,CAAE1I,sBAAsB,CAACP,aAAa,CAACoG,IAAd,CAAmB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,KAAF,GAAY2C,CAAC,CAAC3C,KAAlB,EAApB,CAAD,CAAtB,CAAsEvG,mBAAmB,CAACkJ,CAAD,CAAnB,CAAyB,CADtH,CAEI,OAAO,CAAEjJ,aAFb,CAGI,EAAE,CAAC,UAHP,CAII,eAAe,CAAC,mBAJpB,CAKI,WAAW,CAAEgE,CAAC,CAAC,QAAD,CALlB,CAMI,KAAK,CAAE1D,mBANX,EAFJ,GA5BJ,GAHJ,cA4CI,MAAC,GAAD,yBACI,MAAC,GAAD,EAAK,EAAE,CAAC,GAAR,wBACI,KAAC,KAAD,EAAO,OAAO,CAAC,aAAf,UAA8B0D,CAAC,CAAC,cAAD,CAA/B,EADJ,cAEI,KAAC,OAAD,EAAS,KAAK,KAAd,CAAe,SAAS,CAAC,MAAzB,uBACI,KAAC,MAAD,EAAQ,IAAI,CAAC,aAAb,CACI,aAAa,cAAE,KAAC,SAAD,IADnB,CAEI,WAAW,cAAE,KAAC,QAAD,IAFjB,CAGI,OAAO,CAAC,SAHZ,CAII,SAAS,CAAC,YAJd,CAKI,QAAQ,CAAE,mBAAM,CACZrD,oBAAoB,CAAC,CAACD,iBAAF,CAApB,CACH,CAPL,CAQI,OAAO,CAAEA,iBARb,EADJ,EAFJ,GADJ,cAgBI,MAAC,GAAD,EAAK,EAAE,CAAC,GAAR,wBACI,KAAC,KAAD,EAAO,OAAO,CAAC,aAAf,UAA8BsD,CAAC,CAAC,cAAD,CAA/B,EADJ,cAEI,KAAC,OAAD,EAAS,KAAK,KAAd,CAAe,SAAS,CAAC,MAAzB,uBACI,KAAC,MAAD,EAAQ,IAAI,CAAC,aAAb,CACI,aAAa,cAAE,KAAC,SAAD,IADnB,CAEI,WAAW,cAAE,KAAC,QAAD,IAFjB,CAGI,OAAO,CAAC,SAHZ,CAII,SAAS,CAAC,YAJd,CAKI,QAAQ,CAAE,mBAAM,CACZnD,oBAAoB,CAAC,CAACD,iBAAF,CAApB,CACH,CAPL,CAQI,OAAO,CAAEA,iBARb,EADJ,EAFJ,GAhBJ,GA5CJ,cA4EI,MAAC,GAAD,yBACI,MAAC,GAAD,EAAK,EAAE,CAAC,GAAR,wBACI,KAAC,KAAD,EAAO,OAAO,CAAC,mBAAf,UAAoCoD,CAAC,CAAC,qBAAD,CAArC,EADJ,cAEI,KAAC,MAAD,EAAQ,gBAAgB,CAAE,kCAAM,EAAN,EAA1B,CACI,EAAE,CAAC,mBADP,CAEI,IAAI,CAAC,mBAFT,CAGI,QAAQ,CAAE,kBAACiF,CAAD,CAAO,CAAE1H,sBAAsB,CAACtC,gBAAgB,CAACmH,IAAjB,CAAsB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,KAAF,GAAY2C,CAAC,CAAC3C,KAAlB,EAAvB,CAAD,CAAtB,CAAyEyC,oBAAoB,CAAC,mBAAD,CAAsBE,CAAtB,CAApB,CAA+C,CAH/I,CAII,OAAO,CAAEhK,gBAJb,CAKI,eAAe,CAAC,mBALpB,CAMI,UAAU,CAAE,IANhB,CAOI,KAAK,CAAEqC,mBAPX,EAFJ,GADJ,cAYI,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,uBACI,MAAC,OAAD,yBACI,KAAC,KAAD,EAAO,OAAO,CAAC,qBAAf,UAAsC0C,CAAC,CAAC,uBAAD,CAAvC,EADJ,cAEI,KAAC,OAAD,EACI,SAAS,CAAC,cADd,CAEI,IAAI,CAAC,qBAFT,CAGI,IAAI,CAAC,MAHT,CAII,QAAQ,CAAE,IAJd,CAKI,EAAE,CAAC,qBALP,CAMI,KAAK,CAAE1C,mBAAmB,EAAI/B,SAAvB,CAAmC+B,mBAAmB,CAACyF,KAAvD,CAA+D,EAN1E,EAFJ,GADJ,EAZJ,cA0BI,MAAC,GAAD,EAAK,EAAE,CAAC,GAAR,wBACI,KAAC,KAAD,EAAO,OAAO,CAAC,SAAf,UAA0B/C,CAAC,CAAC,eAAD,CAA3B,EADJ,cAEI,KAAC,MAAD,EAAQ,gBAAgB,CAAE,kCAAM,EAAN,EAA1B,CACI,EAAE,CAAC,SADP,CAEI,IAAI,CAAC,SAFT,CAGI,QAAQ,CAAE,kBAACiF,CAAD,CAAO,CAAEpH,gBAAgB,CAACnC,MAAM,CAAC0G,IAAP,CAAY,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,KAAF,GAAY2C,CAAC,CAAC3C,KAAlB,EAAb,CAAD,CAAhB,CAAyDyC,oBAAoB,CAAC,SAAD,CAAYE,CAAZ,CAApB,CAAoC,CAHpH,CAII,WAAW,CAAEjF,CAAC,CAAC,QAAD,CAJlB,CAKI,OAAO,CAAEtE,MALb,CAMI,eAAe,CAAC,mBANpB,CAOI,KAAK,CAAEkC,aAPX,EAFJ,GA1BJ,cAsCI,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,uBACI,MAAC,OAAD,yBACI,KAAC,KAAD,EAAO,OAAO,CAAC,oBAAf,UAAqCoC,CAAC,CAAC,gBAAD,CAAtC,EADJ,cAEI,KAAC,OAAD,EACI,SAAS,CAAC,cADd,CAEI,IAAI,CAAC,oBAFT,CAGI,IAAI,CAAC,MAHT,CAII,QAAQ,KAJZ,CAKI,EAAE,CAAC,oBALP,CAMI,KAAK,CAAE5D,gBAAgB,EAAI,IAApB,CAA2BA,gBAAgB,CAACoJ,qBAA5C,CAAoE,GAN/E,EAFJ,GADJ,EAtCJ,cAmDI,MAAC,GAAD,EAAK,EAAE,CAAC,GAAR,wBACI,KAAC,KAAD,EAAO,OAAO,CAAC,iBAAf,UAAkCxF,CAAC,CAAC,kBAAD,CAAnC,EADJ,cAEI,KAAC,MAAD,EAAQ,gBAAgB,CAAE,kCAAM,EAAN,EAA1B,CACI,IAAI,CAAC,iBADT,CAEI,QAAQ,CAAE,kBAACiF,CAAD,CAAO,CAAExJ,yBAAyB,CAACN,gBAAgB,CAACiH,IAAjB,CAAsB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,KAAF,GAAY2C,CAAC,CAAC3C,KAAlB,EAAvB,CAAD,CAAzB,CAA4EhH,sBAAsB,CAAC2J,CAAD,CAAtB,CAA4B,CAF/H,CAGI,WAAW,CAAEjF,CAAC,CAAC,uBAAD,CAHlB,CAII,OAAO,CAAE7E,gBAJb,CAKI,eAAe,CAAC,mBALpB,CAMI,KAAK,CAAEK,sBANX,CAOI,UAAU,CAAE,IAPhB,EAFJ,GAnDJ,cA8DI,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,uBACI,MAAC,OAAD,yBACI,KAAC,KAAD,EAAO,OAAO,CAAC,qBAAf,UAAsCwE,CAAC,CAAC,uBAAD,CAAvC,EADJ,cAEI,KAAC,OAAD,EACI,SAAS,CAAC,cADd,CAEI,IAAI,CAAC,qBAFT,CAGI,IAAI,CAAC,MAHT,CAII,EAAE,CAAC,qBAJP,CAKI,OAAO,CAAC,YALZ,CAMI,OAAO,CAAE,iBAACiF,CAAD,CAAO,CAAE,GAAI5C,CAAAA,CAAC,CAAGxI,YAAY,CAAC6K,YAAb,CAA0BO,CAAC,CAACQ,MAAF,CAAS1C,KAAnC,CAAR,CAAmDkC,CAAC,CAACQ,MAAF,CAAS1C,KAAT,CAAiBlJ,YAAY,CAACoI,MAAb,CAAoBI,CAApB,CAAjB,CAA0C,CANnH,CAOI,KAAK,CAAExI,YAAY,CAACoI,MAAb,CAAoB/D,mBAApB,SAAoBA,mBAApB,UAAoBA,mBAApB,CAA2C,CAA3C,CAPX,EAFJ,GADJ,EA9DJ,cA2FI,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,uBACI,MAAC,OAAD,yBACI,KAAC,KAAD,EAAO,OAAO,CAAC,kBAAf,UAAmC8B,CAAC,CAAC,mBAAD,CAApC,EADJ,cAEI,KAAC,OAAD,EACI,SAAS,CAAC,cADd,CAEI,IAAI,CAAC,kBAFT,CAGI,IAAI,CAAC,MAHT,CAII,EAAE,CAAC,kBAJP,CAKI,KAAK,CAAE1B,gBALX,CAMI,QAAQ,CAAE,CACNoH,QAAQ,CAAE,CAAE3C,KAAK,CAAE,IAAT,CAAe4C,YAAY,CAAE3F,CAAC,CAAC,qBAAD,CAA9B,CADJ,CANd,EAFJ,GADJ,EA3FJ,cAyGI,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,uBACI,MAAC,OAAD,yBACI,KAAC,KAAD,EAAO,OAAO,CAAC,MAAf,UAAuBA,CAAC,CAAC,WAAD,CAAxB,EADJ,cAEI,MAAC,OAAD,EACI,SAAS,CAAC,cADd,CAEI,IAAI,CAAC,MAFT,CAGI,IAAI,CAAC,QAHT,CAII,EAAE,CAAC,MAJP,CAKI,KAAK,CAAEF,IALX,wBAMI,eAAQ,KAAK,CAAC,GAAd,oBANJ,cAOI,eAAQ,KAAK,CAAC,GAAd,qBAPJ,GAFJ,GADJ,EAzGJ,cAuHI,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,uBACI,MAAC,OAAD,yBACI,KAAC,KAAD,EAAO,OAAO,CAAC,iBAAf,UAAkCE,CAAC,CAAC,kBAAD,CAAnC,EADJ,cAEI,KAAC,OAAD,EACI,SAAS,CAAC,cADd,CAEI,IAAI,CAAC,iBAFT,CAGI,IAAI,CAAC,MAHT,CAII,EAAE,CAAC,iBAJP,CAKI,KAAK,CAAEtB,eALX,CAMI,QAAQ,CAAE,CACNgH,QAAQ,CAAE,CAAE3C,KAAK,CAAE,IAAT,CAAe4C,YAAY,CAAE3F,CAAC,CAAC,qBAAD,CAA9B,CADJ,CANd,EAFJ,GADJ,EAvHJ,cAqII,MAAC,GAAD,EAAK,EAAE,CAAC,GAAR,wBACI,KAAC,KAAD,EAAO,OAAO,CAAC,aAAf,UAA8BA,CAAC,CAAC,cAAD,CAA/B,EADJ,cAEI,KAAC,MAAD,EAAQ,gBAAgB,CAAE,kCAAM,EAAN,EAA1B,CAAoC,QAAQ,KAA5C,CACI,QAAQ,CAAE,kBAACiF,CAAD,CAAO,CAAEhG,oBAAoB,CAACvD,MAAM,CAAC0G,IAAP,CAAY,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,KAAF,GAAY2C,CAAC,CAAC3C,KAAlB,EAAb,CAAD,CAApB,CAA6DyC,oBAAoB,CAAC,aAAD,CAAgBE,CAAhB,CAApB,CAAwC,CAD5H,CAEI,YAAY,CAAErJ,YAAY,CAAC0G,KAF/B,CAGI,WAAW,CAAEtC,CAAC,CAAC,gBAAD,CAHlB,CAII,OAAO,CAAEpE,YAJb,CAKI,eAAe,CAAC,mBALpB,CAMI,KAAK,CAAEoD,iBANX,EAFJ,GArIJ,GA5EJ,CA6NKxE,WAAW,cACR,MAAC,GAAD,yBACI,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,uBACI,MAAC,OAAD,yBACI,KAAC,KAAD,EAAO,OAAO,CAAC,aAAf,UAA8BwF,CAAC,CAAC,kBAAD,CAA/B,EADJ,cASI,KAAC,SAAD,EACI,IAAI,CAAC,aADT,CAEI,EAAE,CAAC,aAFP,CAGI,SAAS,CAAC,sBAHd,CAII,WAAW,CAAEjH,IAAI,CAAC6M,gBAJtB,CAKI,OAAO,CAAE,CACLC,UAAU,CAAE9M,IAAI,CAAC+M,WADZ,CAELC,WAAW,CAAE/L,QAAS;AAFjB,CALb,CASI,QAAQ,CAAE,kBAACgM,aAAD,CAAgBC,OAAhB,CAAyBC,QAAzB,CAAsC,CAC5CjM,WAAW,CAACgM,OAAD,CAAX,CACH,CACL;AAZA,EATJ,GADJ,EADJ,cA2BI,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,uBACI,MAAC,OAAD,yBACI,KAAC,KAAD,EAAO,OAAO,CAAC,iBAAf,UAAkCjG,CAAC,CAAC,uBAAD,CAAnC,EADJ,cASI,KAAC,SAAD,EACI,IAAI,CAAC,iBADT,CAEI,EAAE,CAAC,iBAFP,CAGI,SAAS,CAAC,sBAHd,CAII,WAAW,CAAEjH,IAAI,CAAC6M,gBAJtB,CAKI,OAAO,CAAE,CACLC,UAAU,CAAE9M,IAAI,CAAC+M,WADZ,CAELC,WAAW,CAAE7L,SAAU;AAFlB,CALb,CASI,QAAQ,CAAE,kBAAC8L,aAAD,CAAgBC,OAAhB,CAAyBC,QAAzB,CAAsC,CAC5C/L,YAAY,CAAC8L,OAAD,CAAZ,CACH,CACL;AAZA,EATJ,GADJ,EA3BJ,cAqDI,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,uBACI,MAAC,OAAD,yBACI,KAAC,KAAD,EAAO,OAAO,CAAC,kBAAf,UAAmCjG,CAAC,CAAC,oBAAD,CAApC,EADJ,cAYI,KAAC,SAAD,EACI,IAAI,CAAC,kBADT,CAEI,EAAE,CAAC,kBAFP,CAGI,SAAS,CAAC,sBAHd,CAII,WAAW,CAAEjH,IAAI,CAAC6M,gBAJtB,CAKI,OAAO,CAAE,CACLC,UAAU,CAAE9M,IAAI,CAAC+M,WADZ,CAELC,WAAW,CAAE3L,SAAU;AAFlB,CALb,CASI,QAAQ,CAAE,kBAAC4L,aAAD,CAAgBC,OAAhB,CAAyBC,QAAzB,CAAsC,CAC5C7L,YAAY,CAAC4L,OAAD,CAAZ,CACH,CACL;AAZA,EAZJ,GADJ,EArDJ,cAkFI,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,uBACI,MAAC,OAAD,yBACI,KAAC,KAAD,EAAO,OAAO,CAAC,wBAAf,UAAyCjG,CAAC,CAAC,iBAAD,CAA1C,EADJ,cASI,KAAC,SAAD,EACI,IAAI,CAAC,wBADT,CAEI,EAAE,CAAC,wBAFP,CAGI,SAAS,CAAC,sBAHd,CAII,WAAW,CAAEjH,IAAI,CAAC6M,gBAJtB,CAKI,OAAO,CAAE,CACLC,UAAU,CAAE9M,IAAI,CAAC+M,WADZ,CAELC,WAAW,CAAEzL,SAAU;AAFlB,CALb,CASI,QAAQ,CAAE,kBAAC0L,aAAD,CAAgBC,OAAhB,CAAyBC,QAAzB,CAAsC,CAC5C3L,YAAY,CAAC0L,OAAD,CAAZ,CACH,CACL;AAZA,EATJ,GADJ,EAlFJ,GADQ,CA6GC,IA1UjB,GADJ,CA8UH,CApsB+B,CAAhC,CA0sBAxM,uBAAuB,CAAC0M,YAAxB,CAAuC,CACnCpE,MAAM,CAAE,EAD2B,CAAvC,CAKA,cAAetI,CAAAA,uBAAf","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { PropTypes } from 'prop-types';\r\nimport Select from \"react-select\";\r\nimport {\r\n    Row,\r\n    Col,\r\n    Label,\r\n} from \"reactstrap\"\r\nimport moment from \"moment\";\r\nimport { AvForm, AvGroup, AvField, AvFeedback } from \"availity-reactstrap-validation\"\r\nimport { BackendServices, CoreServices } from \"../../../../services\";\r\nimport Switch from \"react-switch\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport { translationHelpers } from \"../../../../helpers\";\r\nimport \"flatpickr/dist/themes/material_blue.css\";\r\nimport Flatpickr from \"react-flatpickr\";\r\nimport { useTranslation } from \"react-i18next/\";\r\nimport * as url from \"../../../../helpers/url_helper\"\r\nimport Currency from \"../../../../helpers/currency\";\r\nimport * as OPTs from \"../../../../helpers/options_helper\"\r\nconst Offsymbol = () => {\r\n    return (\r\n        <div\r\n            style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                height: \"100%\",\r\n                fontSize: 12,\r\n                color: \"#fff\",\r\n                paddingRight: 2,\r\n            }}\r\n        >\r\n            {\" \"}\r\n            No\r\n        </div>\r\n    );\r\n};\r\nconst OnSymbol = () => {\r\n    return (\r\n        <div\r\n            style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                height: \"100%\",\r\n                fontSize: 12,\r\n                color: \"#fff\",\r\n                paddingRight: 2,\r\n            }}\r\n        >\r\n            {\" \"}\r\n            Si\r\n        </div>\r\n    );\r\n};\r\nconst DatosGeneralesPropuesta = React.forwardRef((props, ref) => {\r\n    const currencyData = new Currency();\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n    const [fechaSet, setfechaSet] = useState(\"\");\r\n    const [fechaSet2, setfechaSet2] = useState(\"\");\r\n    const [fechaSet3, setfechaSet3] = useState(\"\");\r\n    const [fechaSet4, setfechaSet4] = useState(\"\");\r\n    const [CambioDatos, setCambioDatos] = useState(false);\r\n\r\n    const [locationData, setLocationData] = useState(location.data);\r\n    const [context, setcontext] = useState(location.data);\r\n    const [formValid, setFormValid] = useState(false);\r\n    const [gruposEconomicos, setGruposEconomicos] = useState([]);\r\n    const [actividadEmpresa, setActividadEmpresa] = useState([]);\r\n    const [actividadEmpresaSet, setActividadEmpresaSet] = useState(null);\r\n    const [actividadEmpresaSelect, setActividadEmpresaSelect] = useState(undefined);\r\n    const [paises, setPais] = useState([]);\r\n    const [paisesRiesgo, setPaisRiesgo] = useState([]);\r\n    const [listaRevisionSet, setlistaRevisionSet] = useState(null);\r\n    const [listaRevision, setlistaRevision] = useState(null);\r\n    const [datosIGR, setdatosIGR] = useState(null);\r\n    const [datosAmbientales, setdatosAmbientales] = useState(null);\r\n    const [listaRevisionSelect, setlistaRevisionSelect] = useState(undefined);\r\n    const [listaRevisionRequerido, setlistaRevisionRequerido] = useState(null);\r\n    const [preapprovalSwitch, setpreapprovalSwitch] = useState(false);\r\n    const [relatedPartSwitch, setrelatedPartSwitch] = useState(false);\r\n    const [transactId, setTransactId] = useState('');\r\n    const [customerNumber, setCustomerNumber] = useState('');\r\n    const [revisionType, setRevisionType] = useState('');\r\n    const [preapproval, setPreapproval] = useState(false);\r\n    const [economicGroupSelect, seteconomicGroupSelect] = useState(undefined);\r\n    const [economicGroup, setEconomicGroup] = useState(null);\r\n    const [country, setCountry] = useState(null);\r\n    const [countrySelect, setCountrySelect] = useState(undefined);\r\n    const [activityCompany, setActivityCompany] = useState('');\r\n    const [riskClassification, setRiskClassification] = useState('');\r\n    const [minimumProvisionSIB, setMinimunProvisionSIB] = useState('');\r\n    const [relatedPart, setRelatedPart] = useState(false);\r\n    const [accountExecutive, setAccountExecutive] = useState('');\r\n    const [approvalLevel, setApprovalLevel] = useState('');\r\n    const [responsibleUnit, setResponsibleUnit] = useState('');\r\n    const [countryRisk, setCountryRisk] = useState(null);\r\n    const [dataReturn, setdataReturn] = useState(null);\r\n    const [countryRiskSelect, setCountryRiskSelect] = useState(undefined);\r\n    const [datosDeudorPrincipal, setdatosDeudorPrincipal] = useState(null);\r\n    const [requestDate, setRequestDate] = useState('');\r\n    const [lastRequestDate, setLastRequestDate] = useState('');\r\n    const [proposedExpirationDate, setProposedExpirationDate] = useState('');\r\n    const [nextRevisionDate, setNextRevisionDate] = useState('');\r\n    const [dataRequest, setdataRequest] = useState('');\r\n    const [flow, setFlow] = useState('');\r\n    //const [t, c] = translationHelpers('commercial_credit', 'common');    \r\n    const { t, i18n } = useTranslation();\r\n\r\n    React.useImperativeHandle(ref, () => ({\r\n        validateForm: () => {\r\n            const form = document.getElementById('frmDatosGeneralesPropuesta');\r\n            form.requestSubmit();\r\n        },\r\n        getFormValidation: () => {\r\n            return formValid;\r\n        },\r\n        dataReturn\r\n    }));\r\n    useEffect(() => {\r\n        let dataSession;\r\n        if (location.data !== null && location.data !== undefined) {\r\n            if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n                //location.data.transactionId = 0;\r\n                //checkAndCreateProcedure(location.data);\r\n                history.push(url.URL_DASHBOARD);\r\n            }\r\n            else {\r\n                sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n                setLocationData(location.data);\r\n                dataSession = location.data;\r\n            }\r\n        }\r\n        else {\r\n            //chequeamos si tenemos guardado en session\r\n            var result = sessionStorage.getItem('locationData');\r\n            if (result !== undefined && result !== null) {\r\n                result = JSON.parse(result);\r\n                setLocationData(result);\r\n                dataSession = result;\r\n            }\r\n        }\r\n\r\n\r\n        updateDefaults(dataSession);\r\n        loadListCountry();\r\n        loadListGroupEconomic();\r\n        loadActivityEconomic();\r\n        loadDataRisk();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const backendServices = new BackendServices();\r\n        backendServices.consultGeneralDataPropCred(location?.data?.transactionId ?? locationData?.transactionId ?? 0)\r\n            .then((data) => {\r\n                if (data !== undefined) {\r\n                    setdataRequest(data[0].requestId);\r\n                }\r\n            });\r\n    }, [props]);\r\n\r\n\r\n    useEffect(() => {\r\n        let dataSession;\r\n        if (location.data !== null && location.data !== undefined) {\r\n            if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n                //location.data.transactionId = 0;\r\n                //checkAndCreateProcedure(location.data);\r\n                history.push(url.URL_DASHBOARD);\r\n            }\r\n            else {\r\n                sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n                setLocationData(location.data);\r\n                dataSession = location.data;\r\n            }\r\n        }\r\n        else {\r\n            //chequeamos si tenemos guardado en session\r\n            var result = sessionStorage.getItem('locationData');\r\n            if (result !== undefined && result !== null) {\r\n                result = JSON.parse(result);\r\n                setLocationData(result);\r\n                dataSession = result;\r\n            }\r\n        }\r\n\r\n        if (gruposEconomicos?.length > 0 && actividadEmpresa?.length > 0)\r\n            loadDataGeneral(dataSession);\r\n\r\n    }, [gruposEconomicos, actividadEmpresa]);\r\n\r\n    useEffect(() => {\r\n\r\n        let dataSession;\r\n        if (location.data !== null && location.data !== undefined) {\r\n            if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n                //location.data.transactionId = 0;\r\n                //checkAndCreateProcedure(location.data);\r\n                history.push(url.URL_DASHBOARD);\r\n            }\r\n            else {\r\n                sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n                setLocationData(location.data);\r\n                dataSession = location.data;\r\n            }\r\n        }\r\n        else {\r\n            //chequeamos si tenemos guardado en session\r\n            var result = sessionStorage.getItem('locationData');\r\n            if (result !== undefined && result !== null) {\r\n                result = JSON.parse(result);\r\n                setLocationData(result);\r\n                dataSession = result;\r\n            }\r\n        }\r\n\r\n        updateDefaults(dataSession);\r\n    }, [props.values, paises, gruposEconomicos, actividadEmpresa]);\r\n\r\n    function updateDefaults(context) {\r\n        setTransactId(props.values.transactId ?? context.transactionId);\r\n        setCustomerNumber(props.values.customerNumber || context.customerId);\r\n        setRevisionType(props.values.revisionType || 'Bimensual');\r\n        setPreapproval(props.values.preapproval || false);\r\n        setMinimunProvisionSIB(props.values.minimumProvisionSIB || '');\r\n        setRelatedPart(props.values.relatedPart || false);\r\n        setAccountExecutive(props.values.accountExecutive || '');\r\n        setApprovalLevel(props.values.approvalLevel || '');\r\n        setResponsibleUnit(props.values.responsibleUnit || '');\r\n        setRequestDate(props.values.requestDate || '');\r\n        setLastRequestDate(props.values.lastRequestDate || '');\r\n        setNextRevisionDate(props.values.nextRevisionDate || '');\r\n        setProposedExpirationDate(props.values.proposedExpirationDate || '');\r\n        setFlow(props.values.flow || '');\r\n        setfechaSet(moment(props.values.requestDate || \"\").format(\"DD-MM-YYYY\"))\r\n        setfechaSet2(moment(props.values.lastRequestDate || \"\").format(\"DD-MM-YYYY\"))\r\n        setfechaSet3(moment(props.values.nextRevisionDate || \"\").format(\"DD-MM-YYYY\"))\r\n        setfechaSet4(moment(props.values.proposedExpirationDate || \"\").format(\"DD-MM-YYYY\"))\r\n        // loadDataGeneral(context);\r\n        setrelatedPartSwitch(props.values.relatedPart)\r\n        setpreapprovalSwitch(props.values.preapproval)\r\n        try {\r\n            var defaultVal = null;\r\n            if (listaRevision.length > 0 && props.values.revision !== null && listaRevisionSelect === undefined) {\r\n                defaultVal = listaRevision.find(x => x.label === props.values.revision);\r\n                if (defaultVal !== undefined) {\r\n                    setlistaRevisionSelect(defaultVal);\r\n                    setlistaRevisionSet(defaultVal)\r\n                }\r\n            }\r\n            if (paises.length > 0 && props.values.country !== null && countrySelect === undefined) {\r\n                defaultVal = paises.find(x => x.label === props.values.country);\r\n                if (defaultVal !== undefined) {\r\n                    setCountrySelect(defaultVal);\r\n                }\r\n            }\r\n            if (paises.length > 0 && props.values.countryRisk !== null && countryRiskSelect === undefined) {\r\n                defaultVal = paises.find(x => x.label === props.values.countryRisk);\r\n                if (defaultVal !== undefined) {\r\n                    setCountryRiskSelect(defaultVal);\r\n                }\r\n            }\r\n        }\r\n        catch (err) { }\r\n        if(props.values.transactId!=undefined) setCambioDatos(() => { return true });\r\n\r\n    }\r\n    // cargarListaPaises\r\n    async function loadListCountry() {\r\n        const api = new CoreServices();\r\n        // getPaisesCatalogo\r\n        await api.getPaisesCatalogo().then(response => {\r\n            if (response === null) { return; }\r\n            const json = response.Records ? response.Records.map(item => ({\r\n                label: item[\"Description\"],\r\n                value: item[\"Code\"]\r\n            })) : [];\r\n            setPais(json);\r\n            setPaisRiesgo(json);\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n\r\n    }\r\n    // cargarActividadEconomica\r\n    function loadActivityEconomic() {\r\n        const api = new CoreServices();\r\n        // getActividadEconomicaCatalogo\r\n        api.getActividadEconomicaCatalogo()\r\n            .then(response => {\r\n                if (response === null) { return; }\r\n                let json = [];\r\n                for (let i = 0; i < response.Records.length; i++) {\r\n                    json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n                }\r\n                setActividadEmpresa(json);\r\n            });\r\n    }\r\n    // cargarListaGrupoEconomico\r\n    function loadListGroupEconomic() {\r\n        const api = new CoreServices();\r\n        // getGrupoEconomicoCatalogo\r\n        api.getGrupoEconomicoCatalogo()\r\n            .then(response => {\r\n                if (response === null) { return; }\r\n                let json = [];\r\n                for (let i = 0; i < response.Records.length; i++) {\r\n                    json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n                }\r\n                setGruposEconomicos(json);\r\n            });\r\n    }\r\n    // cargarListaRevision\r\n    function loadDataRisk() {\r\n        const api = new BackendServices();\r\n        api.retrieveRevisionType()\r\n            .then(response => {\r\n                if (response === null) { return; }\r\n                let json = [];\r\n                for (let i = 0; i < response.length; i++) {\r\n                    json.push({ label: response[i][\"description\"], value: response[i][\"id\"] })\r\n                }\r\n                setlistaRevision(json);\r\n            });\r\n    }\r\n    // Cargar datos generales\r\n    function loadDataGeneral(locationData) {\r\n\r\n        const apiBack = new BackendServices();\r\n        // consultarDeudorPrincipal\r\n        apiBack.consultPrincipalDebtor(locationData.transactionId).then(resp => {\r\n            if (resp != undefined) {\r\n                setdatosDeudorPrincipal(resp);\r\n            }\r\n        })\r\n        apiBack.consultGeneralDataIGR(locationData.transactionId).then(resp => {\r\n            setdatosIGR(resp);\r\n            try {\r\n                var defaultVal = null;\r\n                // seteconomicGroupSelect(undefined);\r\n\r\n                console.log(gruposEconomicos.length > 0, resp.economicGroup !== null, economicGroupSelect === undefined, economicGroupSelect);\r\n                if (gruposEconomicos.length > 0 && resp.economicGroup !== null && economicGroupSelect === undefined) {\r\n                    defaultVal = gruposEconomicos.find(x => x.label === resp.economicGroup.name);\r\n                    if (defaultVal !== undefined) {\r\n                        seteconomicGroupSelect(defaultVal);\r\n                    }\r\n                }\r\n\r\n                setActividadEmpresaSet(resp.economicActivity);\r\n                if (actividadEmpresa.length > 0 && resp.economicActivity !== null && actividadEmpresaSelect === undefined) {\r\n                    defaultVal = actividadEmpresa.find(x => x.label === resp.economicActivity.name);\r\n                    if (defaultVal !== undefined) {\r\n                        setActividadEmpresaSelect(defaultVal);\r\n                    }\r\n                }\r\n\r\n            }\r\n            catch (err) { }\r\n        }).catch((error) => {\r\n            console.log(error);\r\n        });\r\n        apiBack.consultEnvironmentalAspectsIGR(locationData.transactionId).then(resp => {\r\n            setdatosAmbientales(resp.environmentalAspectsDTO)\r\n        }).catch((error) => {\r\n\r\n        });\r\n    }\r\n    function handleSubmit(event, errors, values) {\r\n        event.preventDefault();\r\n        // if (event.target.id !== 'DatosGeneralesPropuesta') {\r\n        //     return;\r\n        // }\r\n        let fecha = document?.getElementById(\"requestDate\")?.value.split(\"/\").length == 1 ? document?.getElementById(\"requestDate\")?.value.split(\"-\") : document?.getElementById(\"requestDate\")?.value.split(\"/\");\r\n        values.requestDate = fecha[2] + \"-\" + fecha[1] + \"-\" + fecha[0];\r\n        let fecha2 = document?.getElementById(\"lastRequestDate\")?.value.split(\"/\").length == 1 ? document?.getElementById(\"lastRequestDate\")?.value.split(\"-\") : document?.getElementById(\"lastRequestDate\")?.value.split(\"/\");\r\n        values.lastRequestDate = fecha2[2] + \"-\" + fecha2[1] + \"-\" + fecha2[0];\r\n        let fecha3 = document?.getElementById(\"nextRevisionDate\")?.value.split(\"/\").length == 1 ? document?.getElementById(\"nextRevisionDate\")?.value.split(\"-\") : document?.getElementById(\"nextRevisionDate\")?.value.split(\"/\");\r\n        values.nextRevisionDate = fecha3[2] + \"-\" + fecha3[1] + \"-\" + fecha3[0];\r\n        let fecha4 = document?.getElementById(\"proposedExpirationDate\")?.value.split(\"/\").length == 1 ? document?.getElementById(\"proposedExpirationDate\")?.value.split(\"-\") : document?.getElementById(\"proposedExpirationDate\")?.value.split(\"/\");\r\n        values.proposedExpirationDate = fecha4[2] + \"-\" + fecha4[1] + \"-\" + fecha4[0];\r\n        values.minimumProvisionSIB = Number(currencyData.getRealValue(values.minimumProvisionSIB))\r\n        const data = Object.assign({\r\n            country: countrySelect != undefined ? countrySelect.label : '',\r\n            countryRisk: countryRiskSelect != undefined ? countryRiskSelect.label : '',\r\n            economicGroupName: economicGroupSelect != undefined ? economicGroupSelect.label : '',\r\n            activityCompany: actividadEmpresaSelect != undefined ? actividadEmpresaSelect.label : '',\r\n            revision: listaRevisionSet ? listaRevisionSet.label : '',\r\n            preapproval: preapprovalSwitch,\r\n            relatedPart: relatedPartSwitch,\r\n            transactId: Number(locationData.transactionId),\r\n            approvalLevel: \"\",\r\n            requestId: props.dataGlobal != null ? props.dataGlobal.requestId : \"\"\r\n        }, values);\r\n        setdataReturn(data)\r\n        setFormValid(true);\r\n        // props.saveDataCreditProposal(true,props.activeTab);\r\n\r\n    }\r\n    function handleDropdownChange(name, event) {\r\n        switch (name) {\r\n            case 'country':\r\n                setCountry(event);\r\n                break;\r\n            case 'countryRisk':\r\n                setCountryRisk(event);\r\n                break;\r\n            case 'economicGroupName':\r\n                setEconomicGroup(event);\r\n                break;\r\n            case 'activityCompany':\r\n                setActivityCompany(event);\r\n                break;\r\n            default:\r\n        }\r\n    }\r\n\r\n    function check(e) {\r\n        let tecla = (document.all) ? e.keyCode : e.which;\r\n        //Tecla de retroceso para borrar, siempre la permite\r\n        if (tecla === 45) {\r\n            e.preventDefault();\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    return (\r\n        <AvForm id=\"frmDatosGeneralesPropuesta\" className=\"needs-validation\" onSubmit={handleSubmit}>\r\n            <h5>{props.title}</h5>\r\n            <p className=\"card-title-desc\"></p>\r\n            <Row>\r\n                <Col md=\"3\">\r\n                    <AvGroup>\r\n                        <Label htmlFor=\"transactId\">{t(\"RequestNumber\")}</Label>\r\n                        <AvField\r\n                            className=\"form-control\"\r\n                            name=\"requestId\"\r\n                            type=\"text\"\r\n                            id=\"requestId\"\r\n                            value={dataRequest}\r\n                            readOnly />\r\n                    </AvGroup>\r\n                </Col>\r\n                <Col md=\"3\">\r\n                    <AvGroup>\r\n                        <Label htmlFor=\"customerNumber\">{t(\"Customer ID\")}</Label>\r\n                        <AvField\r\n                            className=\"form-control\"\r\n                            name=\"customerNumber\"\r\n                            min={0}\r\n                            type=\"number\"\r\n                            onKeyPress={(e) => { return check(e) }}\r\n                            readOnly\r\n                            id=\"customerNumber\"\r\n                            value={datosDeudorPrincipal != null && datosDeudorPrincipal != \"\" && datosDeudorPrincipal != undefined ? datosDeudorPrincipal.customerNumberT24 : \"0\"}\r\n                        />\r\n                    </AvGroup>\r\n                </Col>\r\n                <Col md=\"4\">\r\n                    <Label htmlFor=\"revisionType\">{t(\"Revision Type\")}</Label>\r\n                    <Select noOptionsMessage={() => \"\"}\r\n                        onChange={(e) => { setlistaRevisionSelect(listaRevision.find(x => x.label === e.label)); setlistaRevisionSet(e); }}\r\n                        options={listaRevision}\r\n                        id=\"revision\"\r\n                        classNamePrefix=\"select2-selection\"\r\n                        placeholder={t(\"Select\")}\r\n                        value={listaRevisionSelect}\r\n                    />\r\n                </Col>\r\n\r\n            </Row>\r\n            <Row>\r\n                <Col md=\"2\">\r\n                    <Label htmlFor=\"preapproval\">{t(\"Pre Approved\")}</Label>\r\n                    <AvGroup check className=\"mb-3\">\r\n                        <Switch name=\"preapproval\"\r\n                            uncheckedIcon={<Offsymbol />}\r\n                            checkedIcon={<OnSymbol />}\r\n                            onColor=\"#007943\"\r\n                            className=\"form-label\"\r\n                            onChange={() => {\r\n                                setpreapprovalSwitch(!preapprovalSwitch)\r\n                            }}\r\n                            checked={preapprovalSwitch}\r\n                        />\r\n                    </AvGroup>\r\n                </Col>\r\n                <Col md=\"2\">\r\n                    <Label htmlFor=\"relatedPart\">{t(\"Related Part\")}</Label>\r\n                    <AvGroup check className=\"mb-3\">\r\n                        <Switch name=\"relatedPart\"\r\n                            uncheckedIcon={<Offsymbol />}\r\n                            checkedIcon={<OnSymbol />}\r\n                            onColor=\"#007943\"\r\n                            className=\"form-label\"\r\n                            onChange={() => {\r\n                                setrelatedPartSwitch(!relatedPartSwitch)\r\n                            }}\r\n                            checked={relatedPartSwitch}\r\n                        />\r\n                    </AvGroup>\r\n                </Col>\r\n            </Row>\r\n            <Row>\r\n                <Col md=\"6\">\r\n                    <Label htmlFor=\"economicGroupName\">{t(\"Economic Group Name\")}</Label>\r\n                    <Select noOptionsMessage={() => \"\"}\r\n                        id=\"economicGroupName\"\r\n                        name=\"economicGroupName\"\r\n                        onChange={(e) => { seteconomicGroupSelect(gruposEconomicos.find(x => x.label === e.label)); handleDropdownChange('economicGroupName', e); }}\r\n                        options={gruposEconomicos}\r\n                        classNamePrefix=\"select2-selection\"\r\n                        isDisabled={true}\r\n                        value={economicGroupSelect} />\r\n                </Col>\r\n                <Col md=\"6\">\r\n                    <AvGroup>\r\n                        <Label htmlFor=\"economicGroupNumber\">{t(\"Economic Group Number\")}</Label>\r\n                        <AvField\r\n                            className=\"form-control\"\r\n                            name=\"economicGroupNumber\"\r\n                            type=\"text\"\r\n                            disabled={true}\r\n                            id=\"economicGroupNumber\"\r\n                            value={economicGroupSelect != undefined ? economicGroupSelect.value : ''}\r\n\r\n                        />\r\n                    </AvGroup>\r\n                </Col>\r\n                <Col md=\"6\">\r\n                    <Label htmlFor=\"country\">{t(\"Country Class\")}</Label>\r\n                    <Select noOptionsMessage={() => \"\"}\r\n                        id=\"country\"\r\n                        name=\"country\"\r\n                        onChange={(e) => { setCountrySelect(paises.find(x => x.label === e.label)); handleDropdownChange('country', e) }}\r\n                        placeholder={t(\"Select\")}\r\n                        options={paises}\r\n                        classNamePrefix=\"select2-selection\"\r\n                        value={countrySelect}\r\n                    />\r\n                </Col>\r\n                <Col md=\"6\">\r\n                    <AvGroup>\r\n                        <Label htmlFor=\"riskClassification\">{t(\"Risk Assesment\")}</Label>\r\n                        <AvField\r\n                            className=\"form-control\"\r\n                            name=\"riskClassification\"\r\n                            type=\"text\"\r\n                            readOnly\r\n                            id=\"riskClassification\"\r\n                            value={datosAmbientales != null ? datosAmbientales.riskPreClassification : \"1\"}\r\n                        />\r\n                    </AvGroup>\r\n                </Col>\r\n                <Col md=\"6\">\r\n                    <Label htmlFor=\"activityCompany\">{t(\"Company Activity\")}</Label>\r\n                    <Select noOptionsMessage={() => \"\"}\r\n                        name=\"activityCompany\"\r\n                        onChange={(e) => { setActividadEmpresaSelect(actividadEmpresa.find(x => x.label === e.label)); setActividadEmpresaSet(e); }}\r\n                        placeholder={t(\"Selectcompanyactivity\")}\r\n                        options={actividadEmpresa}\r\n                        classNamePrefix=\"select2-selection\"\r\n                        value={actividadEmpresaSelect}\r\n                        isDisabled={true} />\r\n                </Col>\r\n                <Col md=\"6\">\r\n                    <AvGroup>\r\n                        <Label htmlFor=\"minimumProvisionSIB\">{t(\"SIB Minimum Provision\")}</Label>\r\n                        <AvField\r\n                            className=\"form-control\"\r\n                            name=\"minimumProvisionSIB\"\r\n                            type=\"text\"\r\n                            id=\"minimumProvisionSIB\"\r\n                            pattern=\"^[0-9,.]*$\"\r\n                            onKeyUp={(e) => { let x = currencyData.getRealValue(e.target.value); e.target.value = currencyData.format(x); }}\r\n                            value={currencyData.format(minimumProvisionSIB ?? 0)} />\r\n                    </AvGroup>\r\n                </Col>\r\n                {/* <Col md=\"3\">\r\n                    <AvGroup>\r\n                        <Label htmlFor=\"approvalLevel\">{t(\"Approval Level\")}</Label>\r\n                        <AvField\r\n                            className=\"form-control\"\r\n                            name=\"approvalLevel\"\r\n                            type=\"select\"\r\n                            id=\"approvalLevel\"\r\n                            value={approvalLevel}>\r\n                            <option value=\"1\">Nivel 1</option>\r\n                            <option value=\"2\">Nivel 2</option>\r\n                            <option value=\"3\">Nivel 3</option>\r\n                        </AvField>\r\n                    </AvGroup>\r\n                </Col> */}\r\n\r\n                <Col md=\"9\">\r\n                    <AvGroup>\r\n                        <Label htmlFor=\"accountExecutive\">{t(\"Account Executive\")}</Label>\r\n                        <AvField\r\n                            className=\"form-control\"\r\n                            name=\"accountExecutive\"\r\n                            type=\"text\"\r\n                            id=\"accountExecutive\"\r\n                            value={accountExecutive}\r\n                            validate={{\r\n                                required: { value: true, errorMessage: t(\"Validation.Required\") }\r\n                            }} />\r\n                    </AvGroup>\r\n                </Col>\r\n                <Col md=\"3\">\r\n                    <AvGroup>\r\n                        <Label htmlFor=\"flow\">{t(\"Flow Type\")}</Label>\r\n                        <AvField\r\n                            className=\"form-control\"\r\n                            name=\"flow\"\r\n                            type=\"select\"\r\n                            id=\"flow\"\r\n                            value={flow}>\r\n                            <option value=\"1\">Normal</option>\r\n                            <option value=\"2\">Urgente</option>\r\n                        </AvField>\r\n                    </AvGroup>\r\n                </Col>\r\n                <Col md=\"6\">\r\n                    <AvGroup>\r\n                        <Label htmlFor=\"responsibleUnit\">{t(\"Responsible Unit\")}</Label>\r\n                        <AvField\r\n                            className=\"form-control\"\r\n                            name=\"responsibleUnit\"\r\n                            type=\"text\"\r\n                            id=\"responsibleUnit\"\r\n                            value={responsibleUnit}\r\n                            validate={{\r\n                                required: { value: true, errorMessage: t(\"Validation.Required\") }\r\n                            }} />\r\n                    </AvGroup>\r\n                </Col>\r\n                <Col md=\"6\">\r\n                    <Label htmlFor=\"countryRisk\">{t(\"Country Risk\")}</Label>\r\n                    <Select noOptionsMessage={() => \"\"} required\r\n                        onChange={(e) => { setCountryRiskSelect(paises.find(x => x.label === e.label)); handleDropdownChange('countryRisk', e) }}\r\n                        defaultValue={paisesRiesgo.label}\r\n                        placeholder={t(\"Selectacountry\")}\r\n                        options={paisesRiesgo}\r\n                        classNamePrefix=\"select2-selection\"\r\n                        value={countryRiskSelect} />\r\n                </Col>\r\n\r\n            </Row>\r\n            {CambioDatos ?\r\n                <Row>\r\n                    <Col md=\"3\">\r\n                        <AvGroup>\r\n                            <Label htmlFor=\"requestDate\">{t(\"Application Date\")}</Label>\r\n                            {/* <AvField\r\n                            className=\"form-control\"\r\n                            name=\"requestDate\"\r\n                            type=\"date\"\r\n                            id=\"requestDate\"\r\n                            value={requestDate == \"\" || requestDate == null ? moment().format(\"YYYY-MM-DD\") : requestDate}\r\n                        /> */}\r\n                            <Flatpickr\r\n                                name=\"requestDate\"\r\n                                id=\"requestDate\"\r\n                                className=\"form-control d-block\"\r\n                                placeholder={OPTs.FORMAT_DATE_SHOW}\r\n                                options={{\r\n                                    dateFormat: OPTs.FORMAT_DATE,\r\n                                    defaultDate: fechaSet,//selectClient !== undefined ? moment(selectClient.birthDate) : null\r\n                                }}\r\n                                onChange={(selectedDates, dateStr, instance) => {\r\n                                    setfechaSet(dateStr)\r\n                                }}\r\n                            // onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr).format(\"YYYY-MM-DD\") } }) }}\r\n                            />\r\n                        </AvGroup>\r\n                    </Col>\r\n                    <Col md=\"3\">\r\n                        <AvGroup>\r\n                            <Label htmlFor=\"lastRequestDate\">{t(\"Last Application Date\")}</Label>\r\n                            {/* <AvField\r\n                            className=\"form-control\"\r\n                            name=\"lastRequestDate\"\r\n                            type=\"date\"\r\n                            id=\"lastRequestDate\"\r\n                            value={lastRequestDate == \"\" || lastRequestDate == null ? moment().format(\"YYYY-MM-DD\") : lastRequestDate}\r\n                        /> */}\r\n                            <Flatpickr\r\n                                name=\"lastRequestDate\"\r\n                                id=\"lastRequestDate\"\r\n                                className=\"form-control d-block\"\r\n                                placeholder={OPTs.FORMAT_DATE_SHOW}\r\n                                options={{\r\n                                    dateFormat: OPTs.FORMAT_DATE,\r\n                                    defaultDate: fechaSet2,//selectClient !== undefined ? moment(selectClient.birthDate) : null\r\n                                }}\r\n                                onChange={(selectedDates, dateStr, instance) => {\r\n                                    setfechaSet2(dateStr)\r\n                                }}\r\n                            // onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr).format(\"YYYY-MM-DD\") } }) }}\r\n                            />\r\n                        </AvGroup>\r\n                    </Col>\r\n                    <Col md=\"3\">\r\n                        <AvGroup>\r\n                            <Label htmlFor=\"nextRevisionDate\">{t(\"Next Revision Date\")}</Label>\r\n                            {/* <AvField\r\n                            className=\"form-control\"\r\n                            name=\"nextRevisionDate\"\r\n                            type=\"date\"\r\n                            id=\"nextRevisionDate\"\r\n                            value={nextRevisionDate ?? moment().add(1, 'years').format('YYYY-MM-DD')}\r\n                            onChange={(e) => { console.log(props); }}\r\n                            validate={{\r\n                                required: { value: true, errorMessage: t(\"Validation.Required\") }\r\n                            }} /> */}\r\n                            <Flatpickr\r\n                                name=\"nextRevisionDate\"\r\n                                id=\"nextRevisionDate\"\r\n                                className=\"form-control d-block\"\r\n                                placeholder={OPTs.FORMAT_DATE_SHOW}\r\n                                options={{\r\n                                    dateFormat: OPTs.FORMAT_DATE,\r\n                                    defaultDate: fechaSet3,//selectClient !== undefined ? moment(selectClient.birthDate) : null\r\n                                }}\r\n                                onChange={(selectedDates, dateStr, instance) => {\r\n                                    setfechaSet3(dateStr)\r\n                                }}\r\n                            // onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr).format(\"YYYY-MM-DD\") } }) }}\r\n                            />\r\n                        </AvGroup>\r\n                    </Col>\r\n                    <Col md=\"3\">\r\n                        <AvGroup>\r\n                            <Label htmlFor=\"proposedExpirationDate\">{t(\"Expiration Date\")}</Label>\r\n                            {/* <AvField\r\n                            className=\"form-control\"\r\n                            name=\"proposedExpirationDate\"\r\n                            type=\"date\"\r\n                            id=\"proposedExpirationDate\"\r\n                            value={proposedExpirationDate == \"\" || proposedExpirationDate == null ? moment().add(6, \"M\").format(\"YYYY-MM-DD\") : proposedExpirationDate}\r\n                        /> */}\r\n                            <Flatpickr\r\n                                name=\"proposedExpirationDate\"\r\n                                id=\"proposedExpirationDate\"\r\n                                className=\"form-control d-block\"\r\n                                placeholder={OPTs.FORMAT_DATE_SHOW}\r\n                                options={{\r\n                                    dateFormat: OPTs.FORMAT_DATE,\r\n                                    defaultDate: fechaSet4,//selectClient !== undefined ? moment(selectClient.birthDate) : null\r\n                                }}\r\n                                onChange={(selectedDates, dateStr, instance) => {\r\n                                    setfechaSet4(dateStr)\r\n                                }}\r\n                            // onChange={(selectedDates, dateStr, instance) => { handleChangeInputFormClient({ target: { name: \"birthDate\", value: moment(dateStr).format(\"YYYY-MM-DD\") } }) }}\r\n                            />\r\n                        </AvGroup>\r\n                    </Col>\r\n                </Row> : null}\r\n        </AvForm>\r\n    );\r\n});\r\n\r\nDatosGeneralesPropuesta.propTypes = {\r\n    values: PropTypes.object\r\n};\r\n\r\nDatosGeneralesPropuesta.defaultProps = {\r\n    values: {}\r\n};\r\n\r\n\r\nexport default DatosGeneralesPropuesta;\r\n"]},"metadata":{},"sourceType":"module"}