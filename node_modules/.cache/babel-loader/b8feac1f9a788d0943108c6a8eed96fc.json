{"ast":null,"code":"var _jsxFileName = \"D:\\\\_PROJECTS\\\\_SOAINT\\\\JBPM\\\\App\\\\banescocreditoscomerciales\\\\src\\\\pages\\\\CommercialCredit\\\\4_InformeGestionReforzado\\\\FormularioIGR\\\\Secciones\\\\AspectosAmbientales.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useTranslation, withTranslation } from \"react-i18next\";\nimport PropTypes from 'prop-types';\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport { Row, Col, Label, Card, CardBody } from \"reactstrap\";\nimport jsonAmbientales from \"./jsonAspectosAmbientales.json\";\nimport Switch from \"react-switch\";\nimport { AvForm, AvField, AvGroup } from \"availity-reactstrap-validation\";\nimport AttachmentFileCore from \"../../../../../components/Common/AttachmentFileCore\";\nimport * as OPTs from \"../../../../../helpers/options_helper\";\nimport { AttachmentFileInputModel } from '../../../../../models/Common/AttachmentFileInputModel';\nimport { BackendServices, CoreServices } from \"../../../../../services\";\nimport * as url from \"../../../../../helpers/url_helper\";\nimport LoadingOverlay from \"react-loading-overlay\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Offsymbol = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      height: \"100%\",\n      fontSize: 12,\n      color: \"#fff\",\n      paddingRight: 2\n    },\n    children: [\" \", \"No\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n};\n\n_c = Offsymbol;\n\nconst OnSymbol = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      height: \"100%\",\n      fontSize: 12,\n      color: \"#fff\",\n      paddingRight: 2\n    },\n    children: [\" \", \"Si\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n\n_c2 = OnSymbol;\nconst AspectosAmbientales = /*#__PURE__*/React.forwardRef(_c3 = _s((props, ref) => {\n  _s();\n\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  const [formValid, setFormValid] = useState(false);\n  React.useImperativeHandle(ref, () => ({\n    validateForm: () => {\n      const form = document.getElementById('frmAspectosAmbientales');\n      form.requestSubmit();\n    },\n    getFormValidation: () => {\n      return formValid;\n    },\n    dataReturn\n  }));\n  const location = useLocation();\n  const [dataReturn, setDataReturn] = useState(props.dataAspectosAmbientales);\n  const [switch1, setswitch1] = useState(false);\n  const [switch2, setswitch2] = useState(false);\n  const [switch3, setswitch3] = useState(false);\n  const [switch4, setswitch4] = useState(false);\n  const [switch5, setswitch5] = useState(false);\n  const [pregunta1, setpregunta1] = useState(true);\n  const [pregunta2, setpregunta2] = useState(true);\n  const [pregunta3, setpregunta3] = useState(true);\n  const [pregunta4, setpregunta4] = useState(true);\n  const [pregunta5, setpregunta5] = useState(true);\n  const [datosGenerales, setdatosGenerales] = useState({});\n  const [datosAmbientales, setdatosAmbientales] = useState(null);\n  const [locationData, setLocationData] = useState(props.locationData);\n  const [preClasificacionRiesgo, setpreClasificacionRiesgo] = useState(\"Baja\");\n  const [clasificacionRiesgo, setclasificacionRiesgo] = useState(\"Baja\");\n  const [isActiveLoading, setIsActiveLoading] = useState(false); //loading de la pagina\n\n  function handleSubmit(event, errors, values) {\n    dataReturn.natureLocationProject = switch1;\n    dataReturn.physicalResettlement = switch2;\n    dataReturn.environmentalPermits = switch3;\n    dataReturn.newProject = switch4;\n    dataReturn.workersContractors = switch5;\n    dataReturn.riskPreClassification = preClasificacionRiesgo;\n    dataReturn.riskClassificationConfirmation = clasificacionRiesgo;\n    setDataReturn(dataReturn);\n    event.preventDefault();\n\n    if (errors.length > 0) {\n      return;\n    }\n\n    setFormValid(true);\n  }\n\n  const history = useHistory();\n  React.useEffect(() => {\n    setIsActiveLoading(true);\n    let dataSession;\n\n    if (location.data !== null && location.data !== undefined) {\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\n        //location.data.transactionId = 0;\n        //checkAndCreateProcedure(location.data);\n        history.push(url.URL_DASHBOARD);\n      } else {\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\n        setLocationData(location.data);\n        dataSession = location.data;\n      }\n    } else {\n      //chequeamos si tenemos guardado en session\n      var result = sessionStorage.getItem('locationData');\n\n      if (result !== undefined && result !== null) {\n        result = JSON.parse(result);\n        setLocationData(result);\n        dataSession = result;\n      }\n    } //////console.log(props.activeTab);\n\n\n    if (props.activeTab == 18) {\n      const apiBack = new BackendServices();\n      /* ---------------------------------------------------------------------------------------------- */\n\n      /*                  Obtenemos los datos de la seccion de los asectos ambientales                  */\n\n      /* ---------------------------------------------------------------------------------------------- */\n\n      apiBack.consultEnvironmentalAspectsIGR(dataSession.transactionId).then(resp => {\n        if (resp !== undefined && resp.environmentalAspectsDTO != null) {\n          setpregunta1(false);\n          setpregunta2(false);\n          setpregunta3(false);\n          setpregunta4(false);\n          setpregunta5(false);\n          setswitch1(resp.environmentalAspectsDTO.natureLocationProject);\n          setswitch2(resp.environmentalAspectsDTO.physicalResettlement);\n          setswitch3(resp.environmentalAspectsDTO.environmentalPermits);\n          setswitch4(resp.environmentalAspectsDTO.newProject);\n          setswitch5(resp.environmentalAspectsDTO.workersContractors);\n          resp.environmentalAspectsDTO.tipo = false;\n          setDataReturn(resp.environmentalAspectsDTO);\n          setclasificacionRiesgo(resp.environmentalAspectsDTO.riskClassificationConfirmation);\n          setpreClasificacionRiesgo(resp.environmentalAspectsDTO.riskPreClassification);\n          setdatosAmbientales(resp.environmentalAspectsDTO);\n          setTimeout(() => {\n            apiBack.consultGeneralDataIGR(dataSession.transactionId).then(resp => {\n              if (resp != undefined) {\n                setdatosGenerales(resp); // setTimeout(() => {\n                //   validateActivity()\n                // }, 1500);\n              }\n            }).catch(error => {});\n          }, 1000);\n        } else {\n          setTimeout(() => {\n            apiBack.consultGeneralDataIGR(dataSession.transactionId).then(resp => {\n              if (resp != undefined) {\n                setdatosGenerales(resp); // setTimeout(() => {\n                //   validateActivity()\n                // }, 1500);\n              }\n            }).catch(error => {});\n          }, 1000);\n        }\n      });\n    }\n  }, [props.activeTab == 18]);\n  React.useEffect(() => {\n    setTimeout(() => {\n      validateActivity();\n    }, 2000);\n  }, [datosGenerales]);\n\n  function changeAll(e, tipo) {\n    if (tipo == \"riskPreClassification\") {\n      setpreClasificacionRiesgo(e.target.value);\n      dataReturn.riskPreClassification = e.target.value;\n    }\n\n    if (tipo == \"sustainableCreditRating\") {\n      dataReturn.sustainableCreditRating = \"2\";\n    }\n\n    if (tipo == \"riskClassificationConfirmation\") {\n      setclasificacionRiesgo(e.target.value);\n      dataReturn.riskClassificationConfirmation = e.target.value;\n    }\n\n    setDataReturn(dataReturn);\n  }\n\n  function validateActivity() {\n    try {\n      const api = new CoreServices();\n      let json = [];\n      /* ---------------------------------------------------------------------------------------------- */\n\n      /*                            Obtenemos el catalogo de las actividades                            */\n\n      /* ---------------------------------------------------------------------------------------------- */\n\n      api.getActividadEconomicaCatalogo().then(response => {\n        var _datosGenerales$econo, _datosGenerales$subec;\n\n        for (let i = 0; i < response.Records.length; i++) {\n          json.push({\n            nombreActividad: response.Records[i][\"Description\"],\n            codActividad: response.Records[i][\"Code\"]\n          });\n        } // for (let i = 0; i < json.length; i++) {\n        //   let jsonSub = [];\n        //   /* ---------------------------------------------------------------------------------------------- */\n        //   /*                           Obtenemos las subActividades de la empresa                           */\n        //   /* ---------------------------------------------------------------------------------------------- */\n        //   api.getSubActividadEconomicaCatalogo(json[i].codActividad).then(response => {\n        //     for (let j = 0; j < response.Records.length; j++) {\n        //       jsonSub.push({ nombreSubActividad: response.Records[j][\"Description\"], codigoSubActividad: response.Records[j][\"Code\"] });\n        //     }\n        //   });\n        //   json[i].subActividades = jsonSub;\n        // }\n\n\n        let tipoClasificacion = \"BAJA\";\n        tipoClasificacion = jsonAmbientales[datosGenerales === null || datosGenerales === void 0 ? void 0 : (_datosGenerales$econo = datosGenerales.economicActivity) === null || _datosGenerales$econo === void 0 ? void 0 : _datosGenerales$econo.code][datosGenerales === null || datosGenerales === void 0 ? void 0 : (_datosGenerales$subec = datosGenerales.subeconomicActivity) === null || _datosGenerales$subec === void 0 ? void 0 : _datosGenerales$subec.code];\n        console.log(tipoClasificacion); ////console.log(\"datosGenerales\", datosGenerales);\n        // if (dataReturn.tipo) {\n\n        setpreClasificacionRiesgo(tipoClasificacion.values.clasificacion); // }\n\n        let preguntas3 = false;\n\n        if (tipoClasificacion.values.clasificacion != \"Baja\") {\n          setpregunta1(() => {\n            return tipoClasificacion.values.preguntas[\"1\"];\n          });\n          setpregunta2(() => {\n            return tipoClasificacion.values.preguntas[\"2\"];\n          });\n          preguntas3 = tipoClasificacion.values.preguntas[\"3\"];\n          setpregunta3(tipoClasificacion.values.preguntas[\"3\"]);\n          setpregunta4(tipoClasificacion.values.preguntas[\"4\"]);\n          setpregunta5(tipoClasificacion.values.preguntas[\"5\"]);\n          setTimeout(() => {\n            if (datosAmbientales != null) {\n              console.log(datosAmbientales);\n\n              if (tipoClasificacion.values.preguntas[\"1\"] == true && tipoClasificacion.values.preguntas[\"2\"] == true) {\n                if (datosAmbientales.environmentalPermits == true) {\n                  setpregunta3(datosAmbientales.environmentalPermits);\n                  preguntas3 = datosAmbientales.environmentalPermits;\n                  document.getElementById(\"check3\").checked = datosAmbientales.environmentalPermits;\n                }\n              }\n            }\n\n            setTimeout(() => {\n              setIsActiveLoading(false);\n              validatePreClasification({\n                pregunta1: tipoClasificacion.values.preguntas[\"1\"],\n                pregunta2: tipoClasificacion.values.preguntas[\"2\"],\n                pregunta3: preguntas3,\n                pregunta4: tipoClasificacion.values.preguntas[\"4\"],\n                pregunta5: tipoClasificacion.values.preguntas[\"5\"]\n              });\n            }, 1000);\n          }, 1000);\n        }\n      });\n    } catch (err) {} finally {\n      setIsActiveLoading(false);\n    }\n  }\n\n  function validatePreClasification(jsonPreguntas = null) {\n    let check1 = document.getElementById(\"check1\") ? document.getElementById(\"check1\").checked : false;\n    let check2 = document.getElementById(\"check2\") ? document.getElementById(\"check2\").checked : false;\n    let check3 = document.getElementById(\"check3\") ? document.getElementById(\"check3\").checked : false;\n    let check4 = document.getElementById(\"check4\") ? document.getElementById(\"check4\").checked : false;\n    let check5 = document.getElementById(\"check5\") ? document.getElementById(\"check5\").checked : false;\n    console.log(\"fase 0\");\n\n    if (preClasificacionRiesgo != \"Baja\") {\n      if (jsonPreguntas != null) {\n        if (jsonPreguntas.pregunta1 == true && jsonPreguntas.pregunta2 == true) {\n          console.log(\"fase 2\");\n\n          if (check1 == true || check2 == true) {\n            console.log(\"fase 3\");\n            setclasificacionRiesgo(\"Alta\");\n            dataReturn.riskClassificationConfirmation = \"Alta\";\n            setDataReturn(dataReturn);\n            setpregunta3(false);\n            setpregunta4(false);\n            setswitch3(false);\n            return;\n          } else {\n            console.log(\"fase 4\");\n\n            if (check3 == true) {\n              setclasificacionRiesgo(\"Media-Alta\");\n              dataReturn.riskClassificationConfirmation = \"Media-Alta\";\n              setDataReturn(dataReturn);\n              return;\n            } else {\n              setclasificacionRiesgo(\"Media\");\n              dataReturn.riskClassificationConfirmation = \"Media\";\n              setDataReturn(dataReturn);\n              return;\n            }\n          }\n        } else {\n          console.log(\"fase 6\");\n\n          if (jsonPreguntas.pregunta3 == true) {\n            if (check3 == true) {\n              setclasificacionRiesgo(\"Media\");\n              dataReturn.riskClassificationConfirmation = \"Media\";\n              setDataReturn(dataReturn);\n              return;\n            } else {\n              setclasificacionRiesgo(\"Baja\");\n              dataReturn.riskClassificationConfirmation = \"Baja\";\n              setDataReturn(dataReturn);\n              return;\n            }\n          }\n\n          if (jsonPreguntas.pregunta4 == true) {\n            if (check4 == true) {\n              setclasificacionRiesgo(\"Media\");\n              dataReturn.riskClassificationConfirmation = \"Media\";\n              setDataReturn(dataReturn);\n              return;\n            } else {\n              setclasificacionRiesgo(\"Baja\");\n              dataReturn.riskClassificationConfirmation = \"Baja\";\n              setDataReturn(dataReturn);\n              return;\n            }\n          }\n\n          if (jsonPreguntas.pregunta5 == true) {\n            if (check5 == true) {\n              setclasificacionRiesgo(\"Media\");\n              dataReturn.riskClassificationConfirmation = \"Media\";\n              setDataReturn(dataReturn);\n              return;\n            } else {\n              setclasificacionRiesgo(\"Baja\");\n              dataReturn.riskClassificationConfirmation = \"Baja\";\n              setDataReturn(dataReturn);\n              return;\n            }\n          }\n        }\n      } else {\n        if (pregunta1 == true && pregunta2 == true) {\n          console.log(\"fase 2\");\n\n          if (check1 == true || check2 == true) {\n            console.log(\"fase 3\");\n            setclasificacionRiesgo(\"Alta\");\n            dataReturn.riskClassificationConfirmation = \"Alta\";\n            setDataReturn(dataReturn);\n            setpregunta3(false);\n            setpregunta4(false);\n            setswitch3(false);\n            return;\n          } else {\n            console.log(\"fase 4\");\n\n            if (check3 == true) {\n              setclasificacionRiesgo(\"Media-Alta\");\n              dataReturn.riskClassificationConfirmation = \"Media-Alta\";\n              setDataReturn(dataReturn);\n              return;\n            } else {\n              console.log(\"fase 5\");\n              setpregunta3(true);\n              setclasificacionRiesgo(\"Media\");\n              dataReturn.riskClassificationConfirmation = \"Media\";\n              setDataReturn(dataReturn);\n              return;\n            }\n          }\n        } else {\n          console.log(\"fase 6\");\n\n          if (pregunta3 == true) {\n            if (check3 == true) {\n              setclasificacionRiesgo(\"Media\");\n              dataReturn.riskClassificationConfirmation = \"Media\";\n              setDataReturn(dataReturn);\n              return;\n            } else {\n              setclasificacionRiesgo(\"Baja\");\n              dataReturn.riskClassificationConfirmation = \"Baja\";\n              setDataReturn(dataReturn);\n              return;\n            }\n          }\n\n          if (pregunta4 == true) {\n            if (check4 == true) {\n              setclasificacionRiesgo(\"Media\");\n              dataReturn.riskClassificationConfirmation = \"Media\";\n              setDataReturn(dataReturn);\n              return;\n            } else {\n              setclasificacionRiesgo(\"Baja\");\n              dataReturn.riskClassificationConfirmation = \"Baja\";\n              setDataReturn(dataReturn);\n              return;\n            }\n          }\n\n          if (pregunta5 == true) {\n            if (check5 == true) {\n              setclasificacionRiesgo(\"Media\");\n              dataReturn.riskClassificationConfirmation = \"Media\";\n              setDataReturn(dataReturn);\n              return;\n            } else {\n              setclasificacionRiesgo(\"Baja\");\n              dataReturn.riskClassificationConfirmation = \"Baja\";\n              setDataReturn(dataReturn);\n              return;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      className: \"card-sub-title\",\n      children: t(\"EnvironmentalAspects\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LoadingOverlay, {\n      active: isActiveLoading,\n      spinner: true,\n      text: t(\"Processinginformation\"),\n      children: /*#__PURE__*/_jsxDEV(AvForm, {\n        id: \"frmAspectosAmbientales\",\n        className: \"needs-validation\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: \"6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"preClassificationRisk\",\n                children: t(\"PreClassificationRisk\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                className: \"form-control\",\n                type: \"select\",\n                disabled: true,\n                name: \"riskPreClassification\",\n                onChange: e => {\n                  changeAll(e, \"riskPreClassification\");\n                },\n                value: preClasificacionRiesgo,\n                validate: {\n                  required: {\n                    value: true,\n                    errorMessage: t(\"Required Field\")\n                  }\n                },\n                id: \"riskPreClassification\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Baja\",\n                  children: \"Baja\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Media\",\n                  children: \"Media\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Media-Alta\",\n                  children: \"Media-Alta\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Alta\",\n                  children: \"Alta\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: \"6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"riskClassificationConfirmation\",\n                children: t(\"EnvironmentalRiskclassification\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                className: \"form-control\",\n                type: \"select\",\n                disabled: true,\n                name: \"riskClassificationConfirmation\",\n                onChange: e => {\n                  changeAll(e, \"riskClassificationConfirmation\");\n                },\n                value: clasificacionRiesgo,\n                validate: {\n                  required: {\n                    value: true,\n                    errorMessage: t(\"Required Field\")\n                  }\n                },\n                id: \"riskClassificationConfirmation\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Baja\",\n                  children: \"Baja\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 480,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Media\",\n                  children: \"Media\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 481,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Media-Alta\",\n                  children: \"Media-Alta\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Alta\",\n                  children: \"Alta\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [pregunta1 ? /*#__PURE__*/_jsxDEV(Col, {\n            md: \"12\",\n            children: /*#__PURE__*/_jsxDEV(AvGroup, {\n              check: true,\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Switch, {\n                name: \"isProjectLocatedProtectedNaturalArea\",\n                uncheckedIcon: /*#__PURE__*/_jsxDEV(Offsymbol, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 493,\n                  columnNumber: 36\n                }, this),\n                checkedIcon: /*#__PURE__*/_jsxDEV(OnSymbol, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 34\n                }, this),\n                onColor: \"#007943\",\n                disabled: (props === null || props === void 0 ? void 0 : props.previsualizar) ? true : false,\n                id: \"check1\",\n                className: \"form-label\",\n                onChange: () => {\n                  setswitch1(!switch1);\n                  setTimeout(() => {\n                    validatePreClasification();\n                  }, 500);\n                },\n                checked: switch1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 19\n              }, this), '   ', /*#__PURE__*/_jsxDEV(Label, {\n                className: \"form-check-label\",\n                htmlFor: \"isProjectLocatedProtectedNaturalArea\",\n                children: [\" 1-\", t(\"Is the project located or adjacent to a protected natural area\")]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 15\n          }, this) : null, pregunta2 ? /*#__PURE__*/_jsxDEV(Col, {\n            md: \"12\",\n            children: /*#__PURE__*/_jsxDEV(AvGroup, {\n              check: true,\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Switch, {\n                name: \"theProjectInvolvePhysicalEconomicResettlement\",\n                uncheckedIcon: /*#__PURE__*/_jsxDEV(Offsymbol, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 515,\n                  columnNumber: 36\n                }, this),\n                checkedIcon: /*#__PURE__*/_jsxDEV(OnSymbol, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 516,\n                  columnNumber: 34\n                }, this),\n                onColor: \"#007943\",\n                id: \"check2\",\n                disabled: (props === null || props === void 0 ? void 0 : props.previsualizar) ? true : false,\n                className: \"form-label\",\n                onChange: () => {\n                  setswitch2(!switch2);\n                  setTimeout(() => {\n                    validatePreClasification();\n                  }, 500);\n                },\n                checked: switch2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 19\n              }, this), '   ', /*#__PURE__*/_jsxDEV(Label, {\n                style: {\n                  textAlign: \"left\"\n                },\n                htmlFor: \"theProjectInvolvePhysicalEconomicResettlement\",\n                children: [\"2-\", t(\"Does the project involve physical and or economic resettlement of more than 100 people\")]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 15\n          }, this) : null, pregunta3 ? /*#__PURE__*/_jsxDEV(Col, {\n            md: \"12\",\n            children: /*#__PURE__*/_jsxDEV(AvGroup, {\n              check: true,\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Switch, {\n                name: \"isPresentationEnvironmentalPermitsNecessary\",\n                uncheckedIcon: /*#__PURE__*/_jsxDEV(Offsymbol, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 536,\n                  columnNumber: 36\n                }, this),\n                checkedIcon: /*#__PURE__*/_jsxDEV(OnSymbol, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 537,\n                  columnNumber: 34\n                }, this),\n                onColor: \"#007943\",\n                id: \"check3\",\n                disabled: (props === null || props === void 0 ? void 0 : props.previsualizar) ? true : false,\n                className: \"form-label\",\n                onChange: () => {\n                  setswitch3(!switch3);\n                  setTimeout(() => {\n                    validatePreClasification();\n                  }, 500);\n                },\n                checked: switch3\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 19\n              }, this), '   ', /*#__PURE__*/_jsxDEV(Label, {\n                style: {\n                  textAlign: \"left\"\n                },\n                htmlFor: \"isPresentationEnvironmentalPermitsNecessary\",\n                children: [\"3-\", t(\"Is the presentation of environmental permits necessary for the execution of the project\")]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 15\n          }, this) : null, pregunta4 ? /*#__PURE__*/_jsxDEV(Col, {\n            md: \"12\",\n            children: /*#__PURE__*/_jsxDEV(AvGroup, {\n              check: true,\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Switch, {\n                name: \"isProjectNew\",\n                uncheckedIcon: /*#__PURE__*/_jsxDEV(Offsymbol, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 557,\n                  columnNumber: 36\n                }, this),\n                checkedIcon: /*#__PURE__*/_jsxDEV(OnSymbol, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 558,\n                  columnNumber: 34\n                }, this),\n                onColor: \"#007943\",\n                id: \"check4\",\n                disabled: (props === null || props === void 0 ? void 0 : props.previsualizar) ? true : false,\n                className: \"form-label\",\n                onChange: () => {\n                  setswitch4(!switch4);\n                  setTimeout(() => {\n                    validatePreClasification();\n                  }, 500);\n                },\n                checked: switch4\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 19\n              }, this), '   ', /*#__PURE__*/_jsxDEV(Label, {\n                style: {\n                  textAlign: \"left\"\n                },\n                htmlFor: \"isProjectNew\",\n                children: [\"4-\", t(\"Is the project new and involves the use of more than 35 hectares of land\")]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 571,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 15\n          }, this) : null, pregunta5 ? /*#__PURE__*/_jsxDEV(Col, {\n            md: \"12\",\n            children: /*#__PURE__*/_jsxDEV(AvGroup, {\n              check: true,\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Switch, {\n                name: \"doesActivityEmployMoreThan50Workers\",\n                uncheckedIcon: /*#__PURE__*/_jsxDEV(Offsymbol, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 578,\n                  columnNumber: 36\n                }, this),\n                checkedIcon: /*#__PURE__*/_jsxDEV(OnSymbol, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 579,\n                  columnNumber: 34\n                }, this),\n                onColor: \"#007943\",\n                id: \"check5\",\n                disabled: (props === null || props === void 0 ? void 0 : props.previsualizar) ? true : false,\n                className: \"form-label\",\n                onChange: () => {\n                  setswitch5(!switch5);\n                  setTimeout(() => {\n                    validatePreClasification();\n                  }, 500);\n                },\n                checked: switch5\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 577,\n                columnNumber: 19\n              }, this), '   ', /*#__PURE__*/_jsxDEV(Label, {\n                style: {\n                  textAlign: \"left\"\n                },\n                htmlFor: \"doesActivityEmployMoreThan50Workers\",\n                children: [\"5-\", t(\"Does the activity employ more than 50 workers and handle more than 15 contractors\")]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 592,\n                columnNumber: 19\n              }, this), \"  \", '  ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 575,\n            columnNumber: 15\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 11\n        }, this), locationData ? (props === null || props === void 0 ? void 0 : props.activeTab) == 18 ? (props === null || props === void 0 ? void 0 : props.previsualizar) ? null : /*#__PURE__*/_jsxDEV(AttachmentFileCore, {\n          attachmentFileInputModel: new AttachmentFileInputModel(locationData.transactionId, OPTs.PROCESS_INFORMEGESTION, OPTs.ACT_ASPECTOSAMBIENTALES)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 599,\n          columnNumber: 15\n        }, this) : null : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 435,\n    columnNumber: 5\n  }, this);\n}, \"Tp9JEkkv0GEMkX3s/g9ClnYeylM=\", false, function () {\n  return [useTranslation, React.useImperativeHandle, useLocation, useHistory];\n}));\n_c4 = AspectosAmbientales;\nAspectosAmbientales.propTypes = {\n  onSubmit: PropTypes.func,\n  locationData: PropTypes.any\n};\nexport default AspectosAmbientales;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Offsymbol\");\n$RefreshReg$(_c2, \"OnSymbol\");\n$RefreshReg$(_c3, \"AspectosAmbientales$React.forwardRef\");\n$RefreshReg$(_c4, \"AspectosAmbientales\");","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/AspectosAmbientales.js"],"names":["React","useState","useTranslation","withTranslation","PropTypes","Link","useHistory","useLocation","Row","Col","Label","Card","CardBody","jsonAmbientales","Switch","AvForm","AvField","AvGroup","AttachmentFileCore","OPTs","AttachmentFileInputModel","BackendServices","CoreServices","url","LoadingOverlay","Offsymbol","display","justifyContent","alignItems","height","fontSize","color","paddingRight","OnSymbol","AspectosAmbientales","forwardRef","props","ref","t","i18n","formValid","setFormValid","useImperativeHandle","validateForm","form","document","getElementById","requestSubmit","getFormValidation","dataReturn","location","setDataReturn","dataAspectosAmbientales","switch1","setswitch1","switch2","setswitch2","switch3","setswitch3","switch4","setswitch4","switch5","setswitch5","pregunta1","setpregunta1","pregunta2","setpregunta2","pregunta3","setpregunta3","pregunta4","setpregunta4","pregunta5","setpregunta5","datosGenerales","setdatosGenerales","datosAmbientales","setdatosAmbientales","locationData","setLocationData","preClasificacionRiesgo","setpreClasificacionRiesgo","clasificacionRiesgo","setclasificacionRiesgo","isActiveLoading","setIsActiveLoading","handleSubmit","event","errors","values","natureLocationProject","physicalResettlement","environmentalPermits","newProject","workersContractors","riskPreClassification","riskClassificationConfirmation","preventDefault","length","history","useEffect","dataSession","data","undefined","transactionId","push","URL_DASHBOARD","sessionStorage","setItem","JSON","stringify","result","getItem","parse","activeTab","apiBack","consultEnvironmentalAspectsIGR","then","resp","environmentalAspectsDTO","tipo","setTimeout","consultGeneralDataIGR","catch","error","validateActivity","changeAll","e","target","value","sustainableCreditRating","api","json","getActividadEconomicaCatalogo","response","i","Records","nombreActividad","codActividad","tipoClasificacion","economicActivity","code","subeconomicActivity","console","log","clasificacion","preguntas3","preguntas","checked","validatePreClasification","err","jsonPreguntas","check1","check2","check3","check4","check5","required","errorMessage","previsualizar","textAlign","PROCESS_INFORMEGESTION","ACT_ASPECTOSAMBIENTALES","propTypes","onSubmit","func","any"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\r\nimport { useTranslation, withTranslation } from \"react-i18next\"\r\nimport PropTypes from 'prop-types'\r\nimport { Link, useHistory, useLocation } from \"react-router-dom\"\r\nimport {\r\n  Row,\r\n  Col,\r\n  Label,\r\n  Card,\r\n  CardBody,\r\n} from \"reactstrap\"\r\nimport jsonAmbientales from \"./jsonAspectosAmbientales.json\";\r\nimport Switch from \"react-switch\";\r\nimport { AvForm, AvField, AvGroup } from \"availity-reactstrap-validation\"\r\nimport AttachmentFileCore from \"../../../../../components/Common/AttachmentFileCore\";\r\nimport * as OPTs from \"../../../../../helpers/options_helper\";\r\nimport { AttachmentFileInputModel } from '../../../../../models/Common/AttachmentFileInputModel';\r\nimport { BackendServices, CoreServices } from \"../../../../../services\"\r\nimport * as url from \"../../../../../helpers/url_helper\"\r\nimport LoadingOverlay from \"react-loading-overlay\"\r\n\r\n\r\nconst Offsymbol = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: \"100%\",\r\n        fontSize: 12,\r\n        color: \"#fff\",\r\n        paddingRight: 2,\r\n      }}\r\n    >\r\n      {\" \"}\r\n      No\r\n    </div>\r\n  );\r\n};\r\nconst OnSymbol = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: \"100%\",\r\n        fontSize: 12,\r\n        color: \"#fff\",\r\n        paddingRight: 2,\r\n      }}\r\n    >\r\n      {\" \"}\r\n      Si\r\n    </div>\r\n  );\r\n};\r\nconst AspectosAmbientales = React.forwardRef((props, ref) => {\r\n  const { t, i18n } = useTranslation();\r\n  const [formValid, setFormValid] = useState(false);\r\n  React.useImperativeHandle(ref, () => ({\r\n    validateForm: () => {\r\n      const form = document.getElementById('frmAspectosAmbientales');\r\n      form.requestSubmit();\r\n    },\r\n    getFormValidation: () => {\r\n      return formValid;\r\n    }, dataReturn\r\n  }));\r\n  const location = useLocation()\r\n  const [dataReturn, setDataReturn] = useState(props.dataAspectosAmbientales);\r\n  const [switch1, setswitch1] = useState(false);\r\n  const [switch2, setswitch2] = useState(false);\r\n  const [switch3, setswitch3] = useState(false);\r\n  const [switch4, setswitch4] = useState(false);\r\n  const [switch5, setswitch5] = useState(false);\r\n  const [pregunta1, setpregunta1] = useState(true);\r\n  const [pregunta2, setpregunta2] = useState(true);\r\n  const [pregunta3, setpregunta3] = useState(true);\r\n  const [pregunta4, setpregunta4] = useState(true);\r\n  const [pregunta5, setpregunta5] = useState(true);\r\n  const [datosGenerales, setdatosGenerales] = useState({});\r\n  const [datosAmbientales, setdatosAmbientales] = useState(null);\r\n  const [locationData, setLocationData] = useState(props.locationData);\r\n  const [preClasificacionRiesgo, setpreClasificacionRiesgo] = useState(\"Baja\");\r\n  const [clasificacionRiesgo, setclasificacionRiesgo] = useState(\"Baja\");\r\n  const [isActiveLoading, setIsActiveLoading] = useState(false); //loading de la pagina\r\n\r\n  function handleSubmit(event, errors, values) {\r\n    dataReturn.natureLocationProject = switch1;\r\n    dataReturn.physicalResettlement = switch2;\r\n    dataReturn.environmentalPermits = switch3;\r\n    dataReturn.newProject = switch4;\r\n    dataReturn.workersContractors = switch5;\r\n    dataReturn.riskPreClassification = preClasificacionRiesgo;\r\n    dataReturn.riskClassificationConfirmation = clasificacionRiesgo;\r\n    setDataReturn(dataReturn)\r\n    event.preventDefault();\r\n    if (errors.length > 0) {\r\n      return;\r\n    }\r\n    setFormValid(true)\r\n  }\r\n\r\n  const history = useHistory();\r\n\r\n  React.useEffect(() => {\r\n    setIsActiveLoading(true)\r\n    let dataSession;\r\n\r\n    if (location.data !== null && location.data !== undefined) {\r\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n        //location.data.transactionId = 0;\r\n        //checkAndCreateProcedure(location.data);\r\n        history.push(url.URL_DASHBOARD);\r\n      }\r\n      else {\r\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n        setLocationData(location.data);\r\n        dataSession = location.data;\r\n      }\r\n    }\r\n    else {\r\n      //chequeamos si tenemos guardado en session\r\n      var result = sessionStorage.getItem('locationData');\r\n      if (result !== undefined && result !== null) {\r\n        result = JSON.parse(result);\r\n        setLocationData(result);\r\n        dataSession = result;\r\n      }\r\n    }\r\n\r\n\r\n    //////console.log(props.activeTab);\r\n    if (props.activeTab == 18) {\r\n\r\n\r\n\r\n      const apiBack = new BackendServices();\r\n      /* ---------------------------------------------------------------------------------------------- */\r\n      /*                  Obtenemos los datos de la seccion de los asectos ambientales                  */\r\n      /* ---------------------------------------------------------------------------------------------- */\r\n      apiBack.consultEnvironmentalAspectsIGR(dataSession.transactionId).then(resp => {\r\n        if (resp !== undefined && resp.environmentalAspectsDTO != null) {\r\n          setpregunta1(false)\r\n          setpregunta2(false)\r\n          setpregunta3(false)\r\n          setpregunta4(false)\r\n          setpregunta5(false)\r\n          setswitch1(resp.environmentalAspectsDTO.natureLocationProject);\r\n          setswitch2(resp.environmentalAspectsDTO.physicalResettlement);\r\n          setswitch3(resp.environmentalAspectsDTO.environmentalPermits);\r\n          setswitch4(resp.environmentalAspectsDTO.newProject);\r\n          setswitch5(resp.environmentalAspectsDTO.workersContractors);\r\n          resp.environmentalAspectsDTO.tipo = false;\r\n          setDataReturn(resp.environmentalAspectsDTO)\r\n          setclasificacionRiesgo(resp.environmentalAspectsDTO.riskClassificationConfirmation)\r\n          setpreClasificacionRiesgo(resp.environmentalAspectsDTO.riskPreClassification)\r\n          setdatosAmbientales(resp.environmentalAspectsDTO)\r\n          setTimeout(() => {\r\n            apiBack.consultGeneralDataIGR(dataSession.transactionId).then(resp => {\r\n              if (resp != undefined) {\r\n                setdatosGenerales(resp);\r\n                // setTimeout(() => {\r\n                //   validateActivity()\r\n                // }, 1500);\r\n              }\r\n            }).catch((error) => {\r\n\r\n            });\r\n          }, 1000);\r\n        } else {\r\n          setTimeout(() => {\r\n            apiBack.consultGeneralDataIGR(dataSession.transactionId).then(resp => {\r\n              if (resp != undefined) {\r\n                setdatosGenerales(resp);\r\n                // setTimeout(() => {\r\n                //   validateActivity()\r\n                // }, 1500);\r\n              }\r\n            }).catch((error) => {\r\n\r\n            });\r\n          }, 1000);\r\n        }\r\n      });\r\n    }\r\n  }, [props.activeTab == 18]);\r\n  React.useEffect(() => {\r\n    setTimeout(() => {\r\n      validateActivity()\r\n    }, 2000);\r\n  }, [datosGenerales]);\r\n  function changeAll(e, tipo) {\r\n    if (tipo == \"riskPreClassification\") {\r\n      setpreClasificacionRiesgo(e.target.value)\r\n      dataReturn.riskPreClassification = e.target.value;\r\n    }\r\n    if (tipo == \"sustainableCreditRating\") {\r\n      dataReturn.sustainableCreditRating = \"2\";\r\n    }\r\n    if (tipo == \"riskClassificationConfirmation\") {\r\n      setclasificacionRiesgo(e.target.value)\r\n      dataReturn.riskClassificationConfirmation = e.target.value;\r\n    }\r\n    setDataReturn(dataReturn);\r\n  }\r\n  function validateActivity() {\r\n    try{\r\n\r\n    \r\n    const api = new CoreServices();\r\n    let json = [];\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                            Obtenemos el catalogo de las actividades                            */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    api.getActividadEconomicaCatalogo().then(response => {\r\n      for (let i = 0; i < response.Records.length; i++) {\r\n        json.push({ nombreActividad: response.Records[i][\"Description\"], codActividad: response.Records[i][\"Code\"] });\r\n      }\r\n      // for (let i = 0; i < json.length; i++) {\r\n      //   let jsonSub = [];\r\n      //   /* ---------------------------------------------------------------------------------------------- */\r\n      //   /*                           Obtenemos las subActividades de la empresa                           */\r\n      //   /* ---------------------------------------------------------------------------------------------- */\r\n      //   api.getSubActividadEconomicaCatalogo(json[i].codActividad).then(response => {\r\n      //     for (let j = 0; j < response.Records.length; j++) {\r\n      //       jsonSub.push({ nombreSubActividad: response.Records[j][\"Description\"], codigoSubActividad: response.Records[j][\"Code\"] });\r\n      //     }\r\n      //   });\r\n      //   json[i].subActividades = jsonSub;\r\n      // }\r\n      let tipoClasificacion = \"BAJA\";\r\n      tipoClasificacion = jsonAmbientales[datosGenerales?.economicActivity?.code][datosGenerales?.subeconomicActivity?.code]\r\n\r\n      console.log(tipoClasificacion);\r\n      ////console.log(\"datosGenerales\", datosGenerales);\r\n      // if (dataReturn.tipo) {\r\n      setpreClasificacionRiesgo(tipoClasificacion.values.clasificacion);\r\n      // }\r\n      let preguntas3 = false;\r\n      if (tipoClasificacion.values.clasificacion != \"Baja\") {\r\n        setpregunta1(() => { return tipoClasificacion.values.preguntas[\"1\"] });\r\n        setpregunta2(() => { return tipoClasificacion.values.preguntas[\"2\"] });\r\n        preguntas3 = tipoClasificacion.values.preguntas[\"3\"];\r\n        setpregunta3(tipoClasificacion.values.preguntas[\"3\"]);\r\n        setpregunta4(tipoClasificacion.values.preguntas[\"4\"]);\r\n        setpregunta5(tipoClasificacion.values.preguntas[\"5\"]);\r\n        setTimeout(() => {\r\n          if (datosAmbientales != null) {\r\n            console.log(datosAmbientales);\r\n            if (tipoClasificacion.values.preguntas[\"1\"] == true && tipoClasificacion.values.preguntas[\"2\"] == true) {\r\n              if (datosAmbientales.environmentalPermits == true) {\r\n                setpregunta3(datosAmbientales.environmentalPermits);\r\n                preguntas3 = datosAmbientales.environmentalPermits;\r\n                document.getElementById(\"check3\").checked = datosAmbientales.environmentalPermits;\r\n              }\r\n            }\r\n          }\r\n          setTimeout(() => {\r\n            setIsActiveLoading(false)\r\n            validatePreClasification({\r\n              pregunta1: tipoClasificacion.values.preguntas[\"1\"],\r\n              pregunta2: tipoClasificacion.values.preguntas[\"2\"],\r\n              pregunta3: preguntas3,\r\n              pregunta4: tipoClasificacion.values.preguntas[\"4\"],\r\n              pregunta5: tipoClasificacion.values.preguntas[\"5\"],\r\n            })\r\n          }, 1000);\r\n        }, 1000);\r\n      }\r\n    });\r\n  }\r\n  catch(err){}\r\n  finally{\r\n    setIsActiveLoading(false)\r\n  }\r\n\r\n  }\r\n  function validatePreClasification(jsonPreguntas = null) {\r\n    let check1 = document.getElementById(\"check1\") ? document.getElementById(\"check1\").checked : false;\r\n    let check2 = document.getElementById(\"check2\") ? document.getElementById(\"check2\").checked : false;\r\n    let check3 = document.getElementById(\"check3\") ? document.getElementById(\"check3\").checked : false;\r\n    let check4 = document.getElementById(\"check4\") ? document.getElementById(\"check4\").checked : false;\r\n    let check5 = document.getElementById(\"check5\") ? document.getElementById(\"check5\").checked : false;\r\n\r\n    console.log(\"fase 0\");\r\n\r\n    if (preClasificacionRiesgo != \"Baja\") {\r\n      if (jsonPreguntas != null) {\r\n\r\n        if (jsonPreguntas.pregunta1 == true && jsonPreguntas.pregunta2 == true) {\r\n          console.log(\"fase 2\");\r\n          if (check1 == true || check2 == true) {\r\n            console.log(\"fase 3\");\r\n            setclasificacionRiesgo(\"Alta\");\r\n            dataReturn.riskClassificationConfirmation = \"Alta\";\r\n            setDataReturn(dataReturn);\r\n            setpregunta3(false);\r\n            setpregunta4(false);\r\n            setswitch3(false);\r\n            return;\r\n          } else {\r\n            console.log(\"fase 4\");\r\n            if (check3 == true) {\r\n              setclasificacionRiesgo(\"Media-Alta\");\r\n              dataReturn.riskClassificationConfirmation = \"Media-Alta\";\r\n              setDataReturn(dataReturn);\r\n              return;\r\n            } else {\r\n              setclasificacionRiesgo(\"Media\");\r\n              dataReturn.riskClassificationConfirmation = \"Media\";\r\n              setDataReturn(dataReturn);\r\n              return;\r\n            }\r\n          }\r\n        } else {\r\n          console.log(\"fase 6\");\r\n          if (jsonPreguntas.pregunta3 == true) {\r\n            if (check3 == true) {\r\n              setclasificacionRiesgo(\"Media\");\r\n              dataReturn.riskClassificationConfirmation = \"Media\";\r\n              setDataReturn(dataReturn);\r\n              return;\r\n            } else {\r\n              setclasificacionRiesgo(\"Baja\");\r\n              dataReturn.riskClassificationConfirmation = \"Baja\";\r\n              setDataReturn(dataReturn);\r\n              return;\r\n            }\r\n          }\r\n          if (jsonPreguntas.pregunta4 == true) {\r\n            if (check4 == true) {\r\n              setclasificacionRiesgo(\"Media\");\r\n              dataReturn.riskClassificationConfirmation = \"Media\";\r\n              setDataReturn(dataReturn);\r\n              return;\r\n            } else {\r\n              setclasificacionRiesgo(\"Baja\");\r\n              dataReturn.riskClassificationConfirmation = \"Baja\";\r\n              setDataReturn(dataReturn);\r\n              return;\r\n            }\r\n          }\r\n          if (jsonPreguntas.pregunta5 == true) {\r\n            if (check5 == true) {\r\n              setclasificacionRiesgo(\"Media\");\r\n              dataReturn.riskClassificationConfirmation = \"Media\";\r\n              setDataReturn(dataReturn);\r\n              return;\r\n            } else {\r\n              setclasificacionRiesgo(\"Baja\");\r\n              dataReturn.riskClassificationConfirmation = \"Baja\";\r\n              setDataReturn(dataReturn);\r\n              return;\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        if (pregunta1 == true && pregunta2 == true) {\r\n          console.log(\"fase 2\");\r\n          if (check1 == true || check2 == true) {\r\n            console.log(\"fase 3\");\r\n            setclasificacionRiesgo(\"Alta\");\r\n            dataReturn.riskClassificationConfirmation = \"Alta\";\r\n            setDataReturn(dataReturn);\r\n            setpregunta3(false);\r\n            setpregunta4(false);\r\n            setswitch3(false);\r\n            return;\r\n          } else {\r\n            console.log(\"fase 4\");\r\n            if (check3 == true) {\r\n              setclasificacionRiesgo(\"Media-Alta\");\r\n              dataReturn.riskClassificationConfirmation = \"Media-Alta\";\r\n              setDataReturn(dataReturn);\r\n              return;\r\n            } else {\r\n              console.log(\"fase 5\");\r\n              setpregunta3(true);\r\n              setclasificacionRiesgo(\"Media\");\r\n              dataReturn.riskClassificationConfirmation = \"Media\";\r\n              setDataReturn(dataReturn);\r\n              return;\r\n            }\r\n          }\r\n        } else {\r\n          console.log(\"fase 6\");\r\n          if (pregunta3 == true) {\r\n            if (check3 == true) {\r\n              setclasificacionRiesgo(\"Media\");\r\n              dataReturn.riskClassificationConfirmation = \"Media\";\r\n              setDataReturn(dataReturn);\r\n              return;\r\n            } else {\r\n              setclasificacionRiesgo(\"Baja\");\r\n              dataReturn.riskClassificationConfirmation = \"Baja\";\r\n              setDataReturn(dataReturn);\r\n              return;\r\n            }\r\n          }\r\n          if (pregunta4 == true) {\r\n            if (check4 == true) {\r\n              setclasificacionRiesgo(\"Media\");\r\n              dataReturn.riskClassificationConfirmation = \"Media\";\r\n              setDataReturn(dataReturn);\r\n              return;\r\n            } else {\r\n              setclasificacionRiesgo(\"Baja\");\r\n              dataReturn.riskClassificationConfirmation = \"Baja\";\r\n              setDataReturn(dataReturn);\r\n              return;\r\n            }\r\n          }\r\n          if (pregunta5 == true) {\r\n            if (check5 == true) {\r\n              setclasificacionRiesgo(\"Media\");\r\n              dataReturn.riskClassificationConfirmation = \"Media\";\r\n              setDataReturn(dataReturn);\r\n              return;\r\n            } else {\r\n              setclasificacionRiesgo(\"Baja\");\r\n              dataReturn.riskClassificationConfirmation = \"Baja\";\r\n              setDataReturn(dataReturn);\r\n              return;\r\n            }\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <h5 className=\"card-sub-title\">\r\n        {t(\"EnvironmentalAspects\")}\r\n      </h5>\r\n      <LoadingOverlay active={isActiveLoading} spinner text={t(\"Processinginformation\")}>\r\n\r\n        <AvForm id=\"frmAspectosAmbientales\" className=\"needs-validation\" onSubmit={handleSubmit}>\r\n          <Row>\r\n            <Col md=\"6\">\r\n              <div className=\"mb-3\">\r\n                <Label htmlFor=\"preClassificationRisk\">{t(\"PreClassificationRisk\")}</Label>\r\n                <AvField\r\n                  className=\"form-control\"\r\n                  type=\"select\"\r\n                  disabled={true}\r\n                  name=\"riskPreClassification\"\r\n                  onChange={(e) => { changeAll(e, \"riskPreClassification\") }}\r\n                  value={preClasificacionRiesgo}\r\n                  validate={{\r\n                    required: { value: true, errorMessage: t(\"Required Field\") },\r\n                  }}\r\n                  id=\"riskPreClassification\"\r\n                >\r\n                  <option value=\"Baja\">Baja</option>\r\n                  <option value=\"Media\">Media</option>\r\n                  <option value=\"Media-Alta\">Media-Alta</option>\r\n                  <option value=\"Alta\">Alta</option>\r\n                </AvField>\r\n              </div>\r\n            </Col>\r\n            <Col md=\"6\">\r\n              <div className=\"mb-3\">\r\n                <Label htmlFor=\"riskClassificationConfirmation\">{t(\"EnvironmentalRiskclassification\")}</Label>\r\n                <AvField\r\n                  className=\"form-control\"\r\n                  type=\"select\"\r\n                  disabled={true}\r\n                  name=\"riskClassificationConfirmation\"\r\n                  onChange={(e) => { changeAll(e, \"riskClassificationConfirmation\"); }}\r\n                  value={clasificacionRiesgo}\r\n                  validate={{\r\n                    required: { value: true, errorMessage: t(\"Required Field\") },\r\n                  }}\r\n                  id=\"riskClassificationConfirmation\"\r\n                >\r\n                  <option value=\"Baja\">Baja</option>\r\n                  <option value=\"Media\">Media</option>\r\n                  <option value=\"Media-Alta\">Media-Alta</option>\r\n                  <option value=\"Alta\">Alta</option>\r\n                </AvField>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            {pregunta1 ?\r\n              <Col md=\"12\">\r\n                <AvGroup check className=\"mb-3\">\r\n                  <Switch name=\"isProjectLocatedProtectedNaturalArea\"\r\n                    uncheckedIcon={<Offsymbol />}\r\n                    checkedIcon={<OnSymbol />}\r\n                    onColor=\"#007943\"\r\n                    disabled={props?.previsualizar ? true : false}\r\n                    id=\"check1\"\r\n                    className=\"form-label\"\r\n                    onChange={() => {\r\n                      setswitch1(!switch1); setTimeout(() => {\r\n                        validatePreClasification();\r\n                      }, 500);\r\n                    }}\r\n                    checked={switch1}\r\n                  />\r\n                  {'   '}\r\n                  <Label className=\"form-check-label\" htmlFor=\"isProjectLocatedProtectedNaturalArea\"> 1-{t(\"Is the project located or adjacent to a protected natural area\")}</Label>\r\n                </AvGroup>\r\n              </Col>\r\n              : null}\r\n            {pregunta2 ?\r\n              <Col md=\"12\">\r\n                <AvGroup check className=\"mb-3\">\r\n                  <Switch name=\"theProjectInvolvePhysicalEconomicResettlement\"\r\n                    uncheckedIcon={<Offsymbol />}\r\n                    checkedIcon={<OnSymbol />}\r\n                    onColor=\"#007943\"\r\n                    id=\"check2\"\r\n                    disabled={props?.previsualizar ? true : false}\r\n                    className=\"form-label\"\r\n                    onChange={() => {\r\n                      setswitch2(!switch2); setTimeout(() => {\r\n                        validatePreClasification();\r\n                      }, 500);\r\n                    }}\r\n                    checked={switch2}\r\n                  />\r\n                  {'   '}\r\n                  <Label style={{ textAlign: \"left\" }} htmlFor=\"theProjectInvolvePhysicalEconomicResettlement\">2-{t(\"Does the project involve physical and or economic resettlement of more than 100 people\")}</Label>\r\n                </AvGroup>\r\n              </Col> : null}\r\n            {pregunta3 ?\r\n              <Col md=\"12\">\r\n                <AvGroup check className=\"mb-3\">\r\n                  <Switch name=\"isPresentationEnvironmentalPermitsNecessary\"\r\n                    uncheckedIcon={<Offsymbol />}\r\n                    checkedIcon={<OnSymbol />}\r\n                    onColor=\"#007943\"\r\n                    id=\"check3\"\r\n                    disabled={props?.previsualizar ? true : false}\r\n                    className=\"form-label\"\r\n                    onChange={() => {\r\n                      setswitch3(!switch3); setTimeout(() => {\r\n                        validatePreClasification();\r\n                      }, 500);\r\n                    }}\r\n                    checked={switch3}\r\n                  />\r\n                  {'   '}\r\n                  <Label style={{ textAlign: \"left\" }} htmlFor=\"isPresentationEnvironmentalPermitsNecessary\">3-{t(\"Is the presentation of environmental permits necessary for the execution of the project\")}</Label>\r\n                </AvGroup>\r\n              </Col> : null}\r\n            {pregunta4 ?\r\n              <Col md=\"12\">\r\n                <AvGroup check className=\"mb-3\">\r\n                  <Switch name=\"isProjectNew\"\r\n                    uncheckedIcon={<Offsymbol />}\r\n                    checkedIcon={<OnSymbol />}\r\n                    onColor=\"#007943\"\r\n                    id=\"check4\"\r\n                    disabled={props?.previsualizar ? true : false}\r\n                    className=\"form-label\"\r\n                    onChange={() => {\r\n                      setswitch4(!switch4); setTimeout(() => {\r\n                        validatePreClasification();\r\n                      }, 500);\r\n                    }}\r\n                    checked={switch4}\r\n                  />\r\n                  {'   '}\r\n                  <Label style={{ textAlign: \"left\" }} htmlFor=\"isProjectNew\">4-{t(\"Is the project new and involves the use of more than 35 hectares of land\")}</Label>\r\n                </AvGroup>\r\n              </Col> : null}\r\n            {pregunta5 ?\r\n              <Col md=\"12\">\r\n                <AvGroup check className=\"mb-3\">\r\n                  <Switch name=\"doesActivityEmployMoreThan50Workers\"\r\n                    uncheckedIcon={<Offsymbol />}\r\n                    checkedIcon={<OnSymbol />}\r\n                    onColor=\"#007943\"\r\n                    id=\"check5\"\r\n                    disabled={props?.previsualizar ? true : false}\r\n                    className=\"form-label\"\r\n                    onChange={() => {\r\n                      setswitch5(!switch5); setTimeout(() => {\r\n                        validatePreClasification();\r\n                      }, 500);\r\n                    }}\r\n                    checked={switch5}\r\n                  />\r\n                  {'   '}\r\n                  <Label style={{ textAlign: \"left\" }} htmlFor=\"doesActivityEmployMoreThan50Workers\">5-{t(\"Does the activity employ more than 50 workers and handle more than 15 contractors\")}</Label>  {'  '}\r\n                </AvGroup>\r\n              </Col>\r\n              : null}\r\n          </Row>\r\n          {locationData ? (props?.activeTab == 18 ?\r\n            props?.previsualizar ? null : (\r\n              <AttachmentFileCore attachmentFileInputModel={new AttachmentFileInputModel(locationData.transactionId, OPTs.PROCESS_INFORMEGESTION, OPTs.ACT_ASPECTOSAMBIENTALES)} />\r\n            ) : null) : null}\r\n\r\n        </AvForm>\r\n      </LoadingOverlay>\r\n\r\n    </React.Fragment>\r\n  );\r\n});\r\nAspectosAmbientales.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n  locationData: PropTypes.any,\r\n}\r\nexport default AspectosAmbientales;\r\n"]},"metadata":{},"sourceType":"module"}