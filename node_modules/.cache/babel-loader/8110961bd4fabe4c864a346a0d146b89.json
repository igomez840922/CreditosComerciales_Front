{"ast":null,"code":"import _regeneratorRuntime from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from\"react\";import{useLocation,useHistory,Link}from'react-router-dom';import moment from\"moment\";import classnames from\"classnames\";import{CreditProposalProvider}from'../../../../components/PropuestaCreditoComercial/CreditProposalContext';import*as url from\"../../../../helpers/url_helper\";import*as OPTs from\"../../../../helpers/options_helper\";import HorizontalSteeper from\"../../../../components/Common/HorizontalSteeper\";import{Row,Col,Button,Card,CardBody,CardHeader,CardFooter,TabPane,Nav,NavLink,TabContent,Table}from\"reactstrap\";import LoadingOverlay from\"react-loading-overlay\";import{Tabs,Tab}from'react-bootstrap';// UI Components\nimport Breadcrumbs from\"../../../../components/Common/Breadcrumb\";import LoadingIndicator from\"../../../../components/UI/LoadingIndicator\";import SuccessMessage from\"../../../../components/UI/SuccessMessage\";import ModalListaDesembolso from\"../Desembolso/Components/ModalViewListDesembolso\";// Services\nimport{BackendServices,CoreServices,BpmServices}from\"../../../../services\";import SweetAlert from\"react-bootstrap-sweetalert\";import{useTranslation}from\"react-i18next\";import HeaderSections from\"../../../../components/Common/HeaderSections\";import ModalEndProcess from\"../../../../components/EndProcess/ModalEndProcess\";import{InfoBpmModel}from'../../../../models/Common/InfoBpmModel';import{LogProcessModel}from'../../../../models/Common/LogProcessModel';import LogProcess from\"../../../../components/LogProcess/index\";import Currency from\"../../../../helpers/currency\";import{saveLogProcess}from\"../../../../helpers/logs_helper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DesembolsoLista=function DesembolsoLista(props){var currencyData=new Currency();var location=useLocation();var history=useHistory();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),usuarioProspecto=_useState2[0],setusuarioProspecto=_useState2[1];var _useState3=useState({requestId:null}),_useState4=_slicedToArray(_useState3,2),dataGlobal=_useState4[0],setdataGlobal=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showSuccess=_useState8[0],setShowSuccess=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),successSave_dlg=_useState10[0],setsuccessSave_dlg=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),error_dlg=_useState12[0],seterror_dlg=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),error_msg=_useState14[0],seterror_msg=_useState14[1];var _useState15=useState({}),_useState16=_slicedToArray(_useState15,2),context=_useState16[0],setContext=_useState16[1];var _useState17=useState({}),_useState18=_slicedToArray(_useState17,2),dataSet=_useState18[0],setdataSet=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),datosUsuario=_useState20[0],setdatosUsuario=_useState20[1];var _useState21=useState(null),_useState22=_slicedToArray(_useState21,2),dataPignoracion=_useState22[0],setdataPignoracion=_useState22[1];var _useState23=useState(null),_useState24=_slicedToArray(_useState23,2),dataRows=_useState24[0],setdataRows=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),ModalPrevisualizardata=_useState26[0],setModalPrevisualizardata=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),isActiveLoading=_useState28[0],setIsActiveLoading=_useState28[1];//loading de la pagina\n// Services\n// Component Refs\nvar _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;//On Mounting (componentDidMount)\nvar _useState29=useState(undefined),_useState30=_slicedToArray(_useState29,2),dataLocation=_useState30[0],setdataLocation=_useState30[1];var _useState31=useState(null),_useState32=_slicedToArray(_useState31,2),dataFacilidad=_useState32[0],setdataFacilidad=_useState32[1];var _useState33=useState(null),_useState34=_slicedToArray(_useState33,2),dataFacilidadSet=_useState34[0],setdataFacilidadSet=_useState34[1];var _useState35=useState(null),_useState36=_slicedToArray(_useState35,2),idFacilidad=_useState36[0],setidFacilidad=_useState36[1];var _useState37=useState(null),_useState38=_slicedToArray(_useState37,2),dataLinea=_useState38[0],setdataLinea=_useState38[1];var _useState39=useState(null),_useState40=_slicedToArray(_useState39,2),dataDelete=_useState40[0],setdataDelete=_useState40[1];var _useState41=useState(null),_useState42=_slicedToArray(_useState41,2),type=_useState42[0],settype=_useState42[1];var _useState43=useState(null),_useState44=_slicedToArray(_useState43,2),dataGarantias=_useState44[0],setdataGarantias=_useState44[1];var _useState45=useState(false),_useState46=_slicedToArray(_useState45,2),confirm_alert=_useState46[0],setconfirm_alert=_useState46[1];var _useState47=useState(null),_useState48=_slicedToArray(_useState47,2),dataBienUsados=_useState48[0],setdataBienUsados=_useState48[1];var _useState49=useState(null),_useState50=_slicedToArray(_useState49,2),dataBienMueble=_useState50[0],setdataBienMueble=_useState50[1];var _useState51=useState(null),_useState52=_slicedToArray(_useState51,2),dataOtrasGarantias=_useState52[0],setdataOtrasGarantias=_useState52[1];var _useState53=useState(null),_useState54=_slicedToArray(_useState53,2),locationData=_useState54[0],setLocationData=_useState54[1];//Servicios\nvar _useState55=useState(new BackendServices()),_useState56=_slicedToArray(_useState55,2),backendServices=_useState56[0],setbackendServices=_useState56[1];var _useState57=useState(new BpmServices()),_useState58=_slicedToArray(_useState57,2),bpmServices=_useState58[0],setbpmServices=_useState58[1];var _useState59=useState(new CoreServices()),_useState60=_slicedToArray(_useState59,2),coreServices=_useState60[0],setcoreServices=_useState60[1];var _useState61=useState(2),_useState62=_slicedToArray(_useState61,2),activeTab=_useState62[0],setactiveTab=_useState62[1];var _useState63=useState(null),_useState64=_slicedToArray(_useState63,2),mainDebtor=_useState64[0],setmainDebtor=_useState64[1];var _useState65=useState(false),_useState66=_slicedToArray(_useState65,2),displayModalEndProcess=_useState66[0],setdisplayModalEndProcess=_useState66[1];var _useState67=useState({msg:\"\",show:false,error:false}),_useState68=_slicedToArray(_useState67,2),messageDlg=_useState68[0],setmessageDlg=_useState68[1];//On Mounting (componentDidMount)\nReact.useEffect(function(){if(location.data!==null&&location.data!==undefined){if(location.data.transactionId===undefined||location.data.transactionId.length<=0){//location.data.transactionId = 0;\n//checkAndCreateProcedure(location.data);\nhistory.push(url.URL_DASHBOARD);}else{sessionStorage.setItem('locationData',JSON.stringify(location.data));setLocationData(location.data);setdataLocation(location.data);fetchData(location.data);}}else{//chequeamos si tenemos guardado en session\nvar result=sessionStorage.getItem('locationData');if(result!==undefined&&result!==null){result=JSON.parse(result);setLocationData(result);setdataLocation(result);fetchData(result);}}},[]);//Caraga Inicial de datos\nfunction fetchData(locationData){//chequear si la tarea no ha sido iniciada\nbpmServices.checkAndStartTask(locationData).then(function(iniresult){if(iniresult===false){history.push(url.URL_DASHBOARD);}});loadUserProspect(locationData.transactionId);loadData(locationData);}function toggleTab(tab){if(activeTab!==tab){if(tab>=1&&tab<=5){setactiveTab(tab);window.scrollTo(0,0);}}}function loadUserProspect(transactionId){// consultarDeudorPrincipal\nbackendServices.consultPrincipalDebtor(transactionId).then(function(data){if(data!==undefined){setmainDebtor(data);}});}function loadData(data1){setdataBienMueble(null);setdataLinea(null);setdataBienUsados(null);backendServices.consultPrincipalDebtor(data1.transactionId).then(function(data){if(data!==undefined){setusuarioProspecto(data);}});backendServices.consultGeneralDataPropCred(data1.transactionId).then(function(data){console.log(data);dataGlobal.requestId=data[0].requestId;setdataGlobal(dataGlobal);// [\n//     {\n//         \"Code\": \"100\",\n//         \"Description\": \"GARANTIA HIPOTECARIA MUEBLE\"\n//     },\n//     {\n//         \"Code\": \"200\",\n//         \"Description\": \"GARANTIA HIPOTECARIA INMUEBLE\"\n//     },\n//     {\n//         \"Code\": \"300\",\n//         \"Description\": \"DEPOSITOS PIGNORADOS EN EL BANCO\"\n//     },\n//     {\n//         \"Code\": \"400\",\n//         \"Description\": \"DEPOSITOS PIGNORADOS EN OTROS BANCO\"\n//     },\n//     {\n//         \"Code\": \"500\",\n//         \"Description\": \"GARANTIA PRENDARIA\"\n//     },\n//     {\n//         \"Code\": \"600\",\n//         \"Description\": \"OTRAS GARANTIAS\"\n//     },\n//     {\n//         \"Code\": \"700\",\n//         \"Description\": \"SIN GARANTIAS\"\n//     }\n// ]\nbackendServices.retrieveFacilityType().then(function(facilidad){backendServices.consultarFacilidades(data[0].requestId).then(function(resp){if(resp.length>0){var _facilidad=resp.find(function(x){var _ref;return(_ref=x.facilityId==(data1===null||data1===void 0?void 0:data1.facilityId))!==null&&_ref!==void 0?_ref:0;});backendServices.consultarGarantiaPropCred(_facilidad.facilityId).then(function(respGarantia){console.log(\"respGarantia\",respGarantia);setdataGarantias(respGarantia);});setdataFacilidadSet(resp);setidFacilidad(_facilidad.facilityId);cargarDatosListas(data1,_facilidad.facilityId,data1.transactionId);setdataFacilidad(resp.map(function(items,index){var _facilidad$find;return items.debtor!=\"  \"?/*#__PURE__*/_jsx(Tab,{onSelect:function onSelect(e){cargarDatosGenerales(e);},className:\"m-4\",eventKey:index,title:(_facilidad$find=_facilidad.find(function(x){return x.id===items.facilityTypeId;}))===null||_facilidad$find===void 0?void 0:_facilidad$find.description},index):null;}));}});});});}function formatDate(date){return!date?'':moment(date).format(\"DD/MM/YYYY\");}function cargarDatosListas(data,facilidad,transactId){var _data$transactionId,_data$transactionId2,_data$transactionId3,_data$transactionId4,_data$transactionId5;backendServices.getCreditLine((_data$transactionId=data===null||data===void 0?void 0:data.transactionId)!==null&&_data$transactionId!==void 0?_data$transactionId:0).then(function(resp){if(resp.length>0&&resp!=undefined){setdataLinea(resp.map(function(data){var _data$amount,_data$maxTotal;return data.status?/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"No. Línea\"),children:data.lineId}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"Moneda\"),children:data.currency}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"País de Riesgo\"),children:data.riskCountry}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"Provincia\"),children:data.province}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"Actividad Económica\"),children:data.economicActivity}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"Fecha de Propuesta\"),children:data.proposalDate}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"Fecha de Aprobación\"),children:data.approvalDate}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"Fecha de Vencimiento\"),children:data.dueDate}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"Fecha de Límite\"),children:data.limitDate}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"Frecuencia de Revisión\"),children:data.additionalInfo}),/*#__PURE__*/_jsxs(\"td\",{\"data-label\":t(\"Monto\"),children:[\"$\",currencyData.formatTable((_data$amount=data===null||data===void 0?void 0:data.amount)!==null&&_data$amount!==void 0?_data$amount:0)]}),/*#__PURE__*/_jsxs(\"td\",{\"data-label\":t(\"Total Máximo\"),children:[\"$\",currencyData.formatTable((_data$maxTotal=data===null||data===void 0?void 0:data.maxTotal)!==null&&_data$maxTotal!==void 0?_data$maxTotal:0)]}),/*#__PURE__*/_jsxs(\"td\",{\"data-label\":t(\"Actions\"),style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Link,{to:{pathname:'/creditocomercial/AdminDesembolso/MantenimientoLinea',data:{facilityId:facilidad!==null&&facilidad!==void 0?facilidad:0,transactionId:transactId!==null&&transactId!==void 0?transactId:0,dataGeneral:data}},children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){setdataDelete(data);settype(\"LINEACREDITO\");setconfirm_alert(true);},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},data.lineId):null;}));}else{setdataLinea(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"12\",style:{textAlign:'center'},children:t(\"NoData\")})},1));}});backendServices.getGuaranteeMoveableAsset((_data$transactionId2=data===null||data===void 0?void 0:data.transactionId)!==null&&_data$transactionId2!==void 0?_data$transactionId2:0).then(function(resp){if(resp.length>0&&resp!=undefined){setdataBienMueble(resp.map(function(data){var _data$assignAmount,_data$guaranteedAmoun,_data$initialValue;return data.status&&data.facilityId==facilidad?/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.guaranteeNumber}),/*#__PURE__*/_jsx(\"td\",{children:data.creditId}),/*#__PURE__*/_jsx(\"td\",{children:data.disbursementNumber}),/*#__PURE__*/_jsx(\"td\",{children:data.currency}),/*#__PURE__*/_jsx(\"td\",{children:data.customerNumber}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",currencyData.formatTable((_data$assignAmount=data===null||data===void 0?void 0:data.assignAmount)!==null&&_data$assignAmount!==void 0?_data$assignAmount:0)]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",currencyData.formatTable((_data$guaranteedAmoun=data===null||data===void 0?void 0:data.guaranteedAmount)!==null&&_data$guaranteedAmoun!==void 0?_data$guaranteedAmoun:0)]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",currencyData.formatTable((_data$initialValue=data===null||data===void 0?void 0:data.initialValue)!==null&&_data$initialValue!==void 0?_data$initialValue:0)]}),/*#__PURE__*/_jsx(\"td\",{children:data.guaranteeType}),/*#__PURE__*/_jsx(\"td\",{children:data.assetCode}),/*#__PURE__*/_jsx(\"td\",{children:data.guaranteeCurrency}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Link,{to:{pathname:'/creditocomercial/AdminDesembolso/GarantiasMuebles',data:{facilityId:facilidad!==null&&facilidad!==void 0?facilidad:0,transactionId:transactId!==null&&transactId!==void 0?transactId:0,dataGeneral:data}},children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){setdataDelete(data);settype(\"BIENMUEBLE\");setconfirm_alert(true);},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},data.lineId):null;}));}else{setdataBienMueble(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"12\",style:{textAlign:'center'},children:t(\"NoData\")})},1));}});backendServices.getOtherGuarantees((_data$transactionId3=data===null||data===void 0?void 0:data.transactionId)!==null&&_data$transactionId3!==void 0?_data$transactionId3:0).then(function(resp){if(resp.length>0&&resp!=undefined){setdataOtrasGarantias(resp.map(function(data){var _data$asignedAmount,_data$guaranteedType,_data$initialValue2;return data.status&&data.facilityId==facilidad?/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.guaranteeNumber}),/*#__PURE__*/_jsx(\"td\",{children:data.attachedNumber}),/*#__PURE__*/_jsx(\"td\",{children:data.loanNumber}),/*#__PURE__*/_jsx(\"td\",{children:data.currency}),/*#__PURE__*/_jsx(\"td\",{children:data.customerNumber}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",currencyData.formatTable((_data$asignedAmount=data===null||data===void 0?void 0:data.asignedAmount)!==null&&_data$asignedAmount!==void 0?_data$asignedAmount:0)]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",currencyData.formatTable((_data$guaranteedType=data===null||data===void 0?void 0:data.guaranteedType)!==null&&_data$guaranteedType!==void 0?_data$guaranteedType:0)]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",currencyData.formatTable((_data$initialValue2=data===null||data===void 0?void 0:data.initialValue)!==null&&_data$initialValue2!==void 0?_data$initialValue2:0)]}),/*#__PURE__*/_jsx(\"td\",{children:data.guaranteeType}),/*#__PURE__*/_jsx(\"td\",{children:data.ownerAsset}),/*#__PURE__*/_jsx(\"td\",{children:data.guaranteeCurrency}),/*#__PURE__*/_jsx(\"td\",{children:data.bank}),/*#__PURE__*/_jsx(\"td\",{children:data.agency}),/*#__PURE__*/_jsx(\"td\",{children:data.instrumentType}),/*#__PURE__*/_jsx(\"td\",{children:data.documentId}),/*#__PURE__*/_jsx(\"td\",{children:data.trustNumber}),/*#__PURE__*/_jsx(\"td\",{children:formatDate(data.issuedDate)}),/*#__PURE__*/_jsx(\"td\",{children:data.guaranteeIdd}),/*#__PURE__*/_jsx(\"td\",{children:data.guarantorName}),/*#__PURE__*/_jsx(\"td\",{children:data.entityName}),/*#__PURE__*/_jsx(\"td\",{children:data.organismCode}),/*#__PURE__*/_jsx(\"td\",{children:data.issuedCountry}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Link,{to:{pathname:'/creditocomercial/AdminDesembolso/OtrasGarantias',data:{facilityId:facilidad!==null&&facilidad!==void 0?facilidad:0,transactionId:transactId!==null&&transactId!==void 0?transactId:0,dataGeneral:data}},children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){setdataDelete(data);settype(\"OTRAGARANTIA\");setconfirm_alert(true);},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},data.lineId):null;}));}else{setdataOtrasGarantias(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"12\",style:{textAlign:'center'},children:t(\"NoData\")})},1));}});backendServices.getGuaranteeUsedNewEquipments((_data$transactionId4=data===null||data===void 0?void 0:data.transactionId)!==null&&_data$transactionId4!==void 0?_data$transactionId4:0).then(function(resp){if(resp.length>0&&resp!=undefined){setdataBienUsados(resp.map(function(data){var _data$guaranteeAmount;return data.status&&data.facilityId==facilidad?/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"Numero de Adjunto\"),children:data.attachedNumber}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"Numero de Prestamo\"),children:data.loanNumber}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"Moneda\"),children:data.currency}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"Numero de cliente\"),children:data.customerNumber}),/*#__PURE__*/_jsxs(\"td\",{\"data-label\":t(\"Monto de la Garantia\"),children:[\"$\",currencyData.formatTable((_data$guaranteeAmount=data===null||data===void 0?void 0:data.guaranteeAmount)!==null&&_data$guaranteeAmount!==void 0?_data$guaranteeAmount:0)]}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"Tipos de Garantia\"),children:data.guaranteeType}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"Banco\"),children:data.bank}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"Agencia(Banca)\"),children:data.agency}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"Codigo del Bien Mueble\"),children:data.assetCode}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"Fecha de Vencimiento transacción\"),children:formatDate(data.dueDate)}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"No. Fideicomiso\"),children:data.trust}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"Fecha Emision Del Fideicomiso\"),children:formatDate(data.trustDate)}),/*#__PURE__*/_jsxs(\"td\",{\"data-label\":t(\"Actions\"),style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Link,{to:{pathname:'/creditocomercial/AdminDesembolso/GarantiaEquiposNuevosyUsados',data:{facilityId:facilidad!==null&&facilidad!==void 0?facilidad:0,transactionId:transactId!==null&&transactId!==void 0?transactId:0,dataGeneral:data}},children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){setdataDelete(data);settype(\"BIENUSADOS\");setconfirm_alert(true);},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},data.lineId):null;}));}else{setdataBienUsados(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"12\",style:{textAlign:'center'},children:t(\"NoData\")})},1));}});backendServices.getPledge((_data$transactionId5=data===null||data===void 0?void 0:data.transactionId)!==null&&_data$transactionId5!==void 0?_data$transactionId5:0).then(function(resp){if(resp.length>0&&resp!=undefined){setdataPignoracion(resp.map(function(data){var _data$guaranteeAmount2;return data.status&&data.facilityId==facilidad?/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.guaranteeNumber}),/*#__PURE__*/_jsx(\"td\",{children:data.attachedNumber}),/*#__PURE__*/_jsx(\"td\",{children:data.loanNumber}),/*#__PURE__*/_jsx(\"td\",{children:data.currency}),/*#__PURE__*/_jsx(\"td\",{children:data.customerNumber}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",currencyData.formatTable((_data$guaranteeAmount2=data===null||data===void 0?void 0:data.guaranteeAmount)!==null&&_data$guaranteeAmount2!==void 0?_data$guaranteeAmount2:0)]}),/*#__PURE__*/_jsx(\"td\",{children:data.guaranteeType}),/*#__PURE__*/_jsx(\"td\",{children:data.bank}),/*#__PURE__*/_jsx(\"td\",{children:data.agency}),/*#__PURE__*/_jsx(\"td\",{children:data.accountNumber}),/*#__PURE__*/_jsx(\"td\",{children:formatDate(data.dueDate)}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Link,{to:{pathname:'/creditocomercial/AdminDesembolso/Pignoracion',data:{facilityId:facilidad!==null&&facilidad!==void 0?facilidad:0,transactionId:transactId!==null&&transactId!==void 0?transactId:0,dataGeneral:data}},children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){setdataDelete(data);settype(\"PIGNORACION\");setconfirm_alert(true);},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},data.lineId):null;}));}else{setdataPignoracion(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"12\",style:{textAlign:'center'},children:t(\"NoData\")})},1));}});}function updateData(data){}function deleteData(data){}function cargarDatosGenerales(datos){console.log(datos);}function removeBodyCss(){document.body.classList.add(\"no_padding\");}function toogleModalListaDesembolso(){setModalPrevisualizardata(!ModalPrevisualizardata);removeBodyCss();}function handleSelect(key){var _locationData$transac;cargarDatosListas(locationData,dataFacilidadSet[key].facilityId,(_locationData$transac=locationData.transactionId)!==null&&_locationData$transac!==void 0?_locationData$transac:0);setidFacilidad(dataFacilidadSet[key].facilityId);}function checkToContinue(){return _checkToContinue.apply(this,arguments);}////////// PARTE ES LA FINAL DEL PROCESO ///////\n//Modal Para mostrar Comentario de Fin de Proceso\nfunction _checkToContinue(){_checkToContinue=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0://Chequear el guardado de las garantias y generarlas en T24\nsetTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:/*\r\n            if(!formIsValid){\r\n              showMessage({ msg: t(\"PleaseSaveDescicionBeforeContinue\"), error: true, show: true });\r\n              return;\r\n            }\r\n            */saveJBPMProcess(OPTs.PROCESS_VALIDATEFILE);case 1:case\"end\":return _context.stop();}}},_callee);})),2000);case 1:case\"end\":return _context2.stop();}}},_callee2);}));return _checkToContinue.apply(this,arguments);}function showModalEndProcess(){var show=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;setdisplayModalEndProcess(show);}//salvar comentario de end process\nfunction onSaveEndProcess(values){onSaveProcess(OPTs.PROCESS_CANCELPROCESS);}function onSaveProcess(option){switch(option){case OPTs.PROCESS_CANCELPROCESS:{break;}}saveJBPMProcess(option);}function saveJBPMProcess(_x){return _saveJBPMProcess.apply(this,arguments);}function _saveJBPMProcess(){_saveJBPMProcess=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(option){var maindebtor,infoBpmModel,values;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return backendServices.consultPrincipalDebtor(locationData.transactionId);case 2:maindebtor=_context3.sent;infoBpmModel=new InfoBpmModel(locationData.instanceId,locationData.transactionId,locationData.processId,OPTs.ACT_NONE,maindebtor===null||maindebtor===void 0?void 0:maindebtor.personId);infoBpmModel.personName=maindebtor!==undefined?maindebtor.typePerson==\"2\"?maindebtor.name:maindebtor.name+\" \"+maindebtor.name2+\" \"+maindebtor.lastName+\" \"+maindebtor.lastName2:\"\";_context3.t0=option;_context3.next=_context3.t0===OPTs.PROCESS_CANCELPROCESS?8:_context3.t0===OPTs.PROCESS_GUARANTEE?10:_context3.t0===OPTs.PROCESS_VALIDATEFILE?15:21;break;case 8:bpmServices.abortProcess(infoBpmModel.instanceId).then(function(data){if(data!==undefined){saveAutoLog(OPTs.APPLICATION_STATUS_CANC,\"\");history.push(url.URL_DASHBOARD);}else{showMessage({msg:t(\"TheProcessCouldNotFinish\"),error:true,show:true});}});return _context3.abrupt(\"break\",21);case 10:infoBpmModel.processId=OPTs.PROCESS_GUARANTEE;infoBpmModel.activityId=OPTs.ACT_NONE;values={\"info\":JSON.stringify(infoBpmModel),\"processId\":OPTs.PROCESS_GUARANTEE.toString(),\"activityId\":OPTs.ACT_NONE.toString(),\"transactionId\":locationData.transactionId.toString()};bpmServices.updatevariables(locationData.instanceId,values).then(function(data){if(data!==undefined){showMessage({msg:t(\"Datahasbeensavedsuccessfully\"),error:false,show:true});history.push(url.URL_DASHBOARD);}else{showMessage({msg:t(\"ErrorSaveMessage\"),error:true,show:true});}});return _context3.abrupt(\"break\",21);case 15:infoBpmModel.processId=OPTs.PROCESS_VALIDATEFILE;infoBpmModel.activityId=OPTs.ACT_NONE;infoBpmModel.fromProcess=OPTs.PROCESS_GUARANTEE;values={\"info\":JSON.stringify(infoBpmModel),\"processId\":OPTs.PROCESS_VALIDATEFILE.toString(),\"activityId\":OPTs.ACT_NONE.toString(),\"transactionId\":locationData.transactionId,\"requestId\":locationData.requestId};bpmServices.completedStatusTask(locationData.taskId,values).then(function(data){if(data!==undefined){saveAutoLog(null);history.push(url.URL_DASHBOARD);}else{//Mensaje ERROR              \nshowMessage({msg:t(\"ErrorSaveMessage\"),error:true,show:true});}});return _context3.abrupt(\"break\",21);case 21:case\"end\":return _context3.stop();}}},_callee3);}));return _saveJBPMProcess.apply(this,arguments);}function showMessage(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(data!==null){setmessageDlg(data);}else{setmessageDlg({msg:\"\",show:false,error:false});}}function saveAutoLog(){return _saveAutoLog.apply(this,arguments);}function _saveAutoLog(){_saveAutoLog=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var _mainDebtor$personId,_APPLICATION_STATUS$i,_APPLICATION_STATUS$n;var APPLICATION_STATUS,observations,mainDebtor,log,_args4=arguments;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:APPLICATION_STATUS=_args4.length>0&&_args4[0]!==undefined?_args4[0]:null;observations=_args4.length>1&&_args4[1]!==undefined?_args4[1]:null;_context4.next=4;return backendServices.consultPrincipalDebtor(locationData.transactionId);case 4:mainDebtor=_context4.sent;log=new LogProcessModel(locationData.instanceId,locationData.transactionId,0,\"\",\"\",OPTs.PROCESS_GUARANTEE,OPTs.ACT_NONE,OPTs.BPM_ACTIVITY_16);log.clientId=(_mainDebtor$personId=mainDebtor===null||mainDebtor===void 0?void 0:mainDebtor.personId)!==null&&_mainDebtor$personId!==void 0?_mainDebtor$personId:log.clientId;log.observations=observations!==null?t(\"ActivityHasBeenFinishedSuccessfully\"):observations;log.requestId=(_APPLICATION_STATUS$i=APPLICATION_STATUS===null||APPLICATION_STATUS===void 0?void 0:APPLICATION_STATUS.id)!==null&&_APPLICATION_STATUS$i!==void 0?_APPLICATION_STATUS$i:0;log.statusDescription=(_APPLICATION_STATUS$n=APPLICATION_STATUS===null||APPLICATION_STATUS===void 0?void 0:APPLICATION_STATUS.name)!==null&&_APPLICATION_STATUS$n!==void 0?_APPLICATION_STATUS$n:\"\";saveLogProcess(log);case 11:case\"end\":return _context4.stop();}}},_callee4);}));return _saveAutoLog.apply(this,arguments);}return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(CreditProposalProvider,{value:context,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(Breadcrumbs,{title:t(\"Commercial Credit\"),breadcrumbItem:t(\"Guarantee\")}),/*#__PURE__*/_jsx(HorizontalSteeper,{processNumber:3,activeStep:2}),/*#__PURE__*/_jsxs(Row,{style:{marginTop:\"0px\",marginBottom:\"15px\"},children:[/*#__PURE__*/_jsx(Col,{md:6,style:{textAlign:\"left\"}}),/*#__PURE__*/_jsxs(Col,{md:6,style:{textAlign:\"right\",marginTop:\"10px\"},children:[/*#__PURE__*/_jsxs(Button,{color:\"primary\",type:\"button\",style:{margin:'5px'},onClick:function onClick(){onSaveProcess(OPTs.PROCESS_GUARANTEE);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-content-save-outline mid-12px\"}),\" \",t(\"Exit\")]}),/*#__PURE__*/_jsxs(Button,{color:\"success\",type:\"button\",onClick:function onClick(){checkToContinue();},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-arrow-right-bold-circle-outline mid-12px\"}),\" \",t(\"Continue\")]})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"card-title\",children:t(\"Guarantee\")}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\",children:t(\"This form is official and must be filled out correctly\")})]})}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{sm:6,children:/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title title-header\",children:[mainDebtor!=null?mainDebtor.typePerson===\"1\"?mainDebtor.name+\" \"+mainDebtor.name2+\" \"+mainDebtor.lastName+\" \"+mainDebtor.lastName2:mainDebtor.name:\"\",\" \"]})}),/*#__PURE__*/_jsx(Col,{sm:6,children:/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",style:{textAlign:\"right\"},children:[t(\"Tramit\"),\":\",\" \",\"#\",locationData===null||locationData===void 0?void 0:locationData.transactionId]})})]})]}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(Nav,{pills:true,className:\"flex-column\",children:[dataGarantias&&dataGarantias.find(function(x){return x.guaranteeTypeName==\"100\";})?/*#__PURE__*/_jsx(NavLink,{className:classnames({active:activeTab===2}),onClick:function onClick(){toggleTab(2);},children:t(\"Garantías Muebles Nuevos Y Usados\")}):null,dataGarantias&&dataGarantias.find(function(x){return x.guaranteeTypeName==\"100\";})?/*#__PURE__*/_jsx(NavLink,{className:classnames({active:activeTab===3}),onClick:function onClick(){toggleTab(3);},children:t(\"Garantías Bien Mueble\")}):null,dataGarantias&&dataGarantias.find(function(x){return x.guaranteeTypeName==\"500\";})?/*#__PURE__*/_jsx(NavLink,{className:classnames({active:activeTab===4}),onClick:function onClick(){toggleTab(4);},children:t(\"Otras Garantías\")}):null,dataGarantias&&dataGarantias.find(function(x){return x.guaranteeTypeName==\"300\"||x.guaranteeTypeName==\"400\";})?/*#__PURE__*/_jsx(NavLink,{className:classnames({active:activeTab===5}),onClick:function onClick(){toggleTab(5);},children:t(\"Garatías Pignoración\")}):null]})}),/*#__PURE__*/_jsx(Col,{md:9,children:/*#__PURE__*/_jsxs(TabContent,{activeTab:activeTab,className:\"body\",children:[/*#__PURE__*/_jsxs(TabPane,{tabId:2,children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"card-sub-title\",children:t(\"Warranties New and Used Furniture\")})}),/*#__PURE__*/_jsx(Col,{md:\"6\",style:{textAlign:\"right\"},children:/*#__PURE__*/_jsxs(Button,{className:\"btn\",color:\"success\",type:\"button\",style:{margin:'5px'},onClick:function onClick(){var _locationData$transac2;history.push({pathname:'/creditocomercial/AdminDesembolso/GarantiaEquiposNuevosyUsados',data:{facilityId:idFacilidad!==null&&idFacilidad!==void 0?idFacilidad:0,transactionId:(_locationData$transac2=locationData===null||locationData===void 0?void 0:locationData.transactionId)!==null&&_locationData$transac2!==void 0?_locationData$transac2:0}});},title:t(\"Add\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lg fa-plus-circle\"}),\" \",\" \"]})})]}),/*#__PURE__*/_jsx(Col,{md:\"12\",className:\"table-responsive styled-table-div\",children:/*#__PURE__*/_jsxs(Table,{className:\"table table-striped table-hover styled-table table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Attachment Number\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Loan number\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Coin\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Client number\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Guarantee Amount\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"GuaranteeType\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Bank\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Agency(Banking)\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Movable Property Code\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Transaction Expiration Date\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"TrustNumber\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Trust Issuance Date\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Actions\")})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataBienUsados})]})})]}),/*#__PURE__*/_jsxs(TabPane,{tabId:3,children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"card-sub-title\",children:t(\"Movable property guarantee\")})}),/*#__PURE__*/_jsx(Col,{md:\"6\",style:{textAlign:\"right\"},children:/*#__PURE__*/_jsxs(Button,{className:\"btn\",color:\"success\",type:\"button\",style:{margin:'5px'},onClick:function onClick(){var _locationData$transac3;history.push({pathname:'/creditocomercial/AdminDesembolso/GarantiasMuebles',data:{facilityId:idFacilidad!==null&&idFacilidad!==void 0?idFacilidad:0,transactionId:(_locationData$transac3=locationData===null||locationData===void 0?void 0:locationData.transactionId)!==null&&_locationData$transac3!==void 0?_locationData$transac3:0}});},title:t(\"Add\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lg fa-plus-circle\"}),\" \",\" \"]})})]}),/*#__PURE__*/_jsx(Col,{md:\"12\",className:\"table-responsive styled-table-div\",children:/*#__PURE__*/_jsxs(Table,{className:\"table table-striped table-hover styled-table table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Warranty ID\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Credit ID\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Loan or Disbursement Number\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Coin\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Client number\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Amount Assigned in Guarantee\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Guaranteed amount\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Initial value of the Guarantee\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Warrant Type\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Movable Property Code\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Guarantee Currency\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Actions\")})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataBienMueble})]})})]}),/*#__PURE__*/_jsxs(TabPane,{tabId:4,children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"card-sub-title\",children:t(\"Other Guarantees\")})}),/*#__PURE__*/_jsx(Col,{md:\"6\",style:{textAlign:\"right\"},children:/*#__PURE__*/_jsxs(Button,{className:\"btn\",color:\"success\",type:\"button\",style:{margin:'5px'},onClick:function onClick(){var _locationData$transac4;history.push({pathname:'/creditocomercial/AdminDesembolso/OtrasGarantias',data:{facilityId:idFacilidad!==null&&idFacilidad!==void 0?idFacilidad:0,transactionId:(_locationData$transac4=locationData===null||locationData===void 0?void 0:locationData.transactionId)!==null&&_locationData$transac4!==void 0?_locationData$transac4:0}});},title:t(\"Add\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lg fa-plus-circle\"}),\" \",\" \"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive styled-table-div\",children:/*#__PURE__*/_jsxs(Table,{className:\"table table-striped table-hover styled-table table mt-1\",responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Warranty ID\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Credit ID\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Loan or Disbursement Number\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Currency\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Client number\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Amount Assigned in Guarantee\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Guaranteed amount\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Initial Value of the Guarantee\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Type of Guarantee\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Asset Code (Guarantee Subtype)\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Guarantee Currency\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Bank\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Agency (Banking)\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Type of Financial Instrument\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Document ID\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Trust Number\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Trust Issuance Date\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Warranty ID\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Guarantor's Name\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Appraiser\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Agency Code\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Issuing Countries\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Actions\")})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataOtrasGarantias})]})})]}),/*#__PURE__*/_jsxs(TabPane,{tabId:5,children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"card-sub-title\",children:t(\"Guarantees Pledge\")})}),/*#__PURE__*/_jsx(Col,{md:\"6\",style:{textAlign:\"right\"},children:/*#__PURE__*/_jsxs(Button,{className:\"btn\",color:\"success\",type:\"button\",style:{margin:'5px'},onClick:function onClick(){var _locationData$transac5;history.push({pathname:'/creditocomercial/AdminDesembolso/Pignoracion',data:{facilityId:idFacilidad!==null&&idFacilidad!==void 0?idFacilidad:0,transactionId:(_locationData$transac5=locationData===null||locationData===void 0?void 0:locationData.transactionId)!==null&&_locationData$transac5!==void 0?_locationData$transac5:0}});},title:t(\"Add\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lg fa-plus-circle\"}),\" \",\" \"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive styled-table-div\",children:/*#__PURE__*/_jsxs(Table,{className:\"table table-striped table-hover styled-table table mt-1\",responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Warranty ID\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Attachment Number\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Loan or Disbursement Number\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Currency\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Client number\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Guarantee Amount\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Type of Guarantee\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Bank\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Agencia\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Account or Deposit No\")})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"strong\",{children:t(\"Expiration date\")})}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataPignoracion})]})})]})]})})]})})]}),locationData?/*#__PURE__*/_jsx(LogProcess,{logProcessModel:new LogProcessModel(locationData.instanceId,locationData.transactionId,0,\"\",\"\",OPTs.PROCESS_GUARANTEE,OPTs.ACT_NONE,OPTs.BPM_ACTIVITY_15)}):null,/*#__PURE__*/_jsxs(Row,{style:{marginTop:\"0px\",marginBottom:\"15px\"},children:[/*#__PURE__*/_jsx(Col,{md:6,style:{textAlign:\"left\"}}),/*#__PURE__*/_jsxs(Col,{md:6,style:{textAlign:\"right\",marginTop:\"10px\"},children:[/*#__PURE__*/_jsxs(Button,{color:\"primary\",type:\"button\",style:{margin:'5px'},onClick:function onClick(){onSaveProcess(OPTs.PROCESS_GUARANTEE);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-content-save-outline mid-12px\"}),\" \",t(\"Exit\")]}),/*#__PURE__*/_jsxs(Button,{color:\"success\",type:\"button\",onClick:function onClick(){checkToContinue();},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-arrow-right-bold-circle-outline mid-12px\"}),\" \",t(\"Continue\")]})]})]}),/*#__PURE__*/_jsx(ModalEndProcess,{onSaveEndProcess:onSaveEndProcess,isOpen:displayModalEndProcess,toggle:function toggle(){showModalEndProcess(false);}}),messageDlg&&messageDlg.show?/*#__PURE__*/_jsx(SweetAlert,{type:messageDlg.error?\"error\":\"success\",title:messageDlg.error?t(\"Error\"):t(\"Message\"),confirmButtonText:t(\"Confirm\"),cancelButtonText:t(\"Cancel\"),onConfirm:function onConfirm(){showMessage();},children:messageDlg.msg}):null,successSave_dlg?/*#__PURE__*/_jsx(SweetAlert,{success:true,title:t(\"SuccessDialog\"),confirmButtonText:t(\"Confirm\"),cancelButtonText:t(\"Cancel\"),onConfirm:function onConfirm(){setsuccessSave_dlg(false);loadData(locationData);},children:t(\"SuccessSaveMessage\")}):null,error_dlg?/*#__PURE__*/_jsx(SweetAlert,{error:true,title:t(\"ErrorDialog\"),confirmButtonText:t(\"Confirm\"),cancelButtonText:t(\"Cancel\"),onConfirm:function onConfirm(){seterror_dlg(false);},children:error_msg}):null,confirm_alert?/*#__PURE__*/_jsx(SweetAlert,{title:t(\"Areyousure\"),warning:true,showCancel:true,confirmButtonText:t(\"Yesdeleteit\"),cancelButtonText:t(\"Cancel\"),confirmBtnBsStyle:\"success\",cancelBtnBsStyle:\"danger\",onConfirm:function onConfirm(){var apiBack=new BackendServices();// eliminarClienteIGR\nif(type==\"BIENUSADOS\"){var _dataDelete$transactI,_dataDelete$facilityI,_dataDelete$guarantee;apiBack.deleteGuaranteeUsedNewEquipments((_dataDelete$transactI=dataDelete===null||dataDelete===void 0?void 0:dataDelete.transactId)!==null&&_dataDelete$transactI!==void 0?_dataDelete$transactI:0,(_dataDelete$facilityI=dataDelete===null||dataDelete===void 0?void 0:dataDelete.facilityId)!==null&&_dataDelete$facilityI!==void 0?_dataDelete$facilityI:0,(_dataDelete$guarantee=dataDelete===null||dataDelete===void 0?void 0:dataDelete.guaranteeId)!==null&&_dataDelete$guarantee!==void 0?_dataDelete$guarantee:0).then(function(resp){if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(false);}else{setconfirm_alert(false);setsuccessSave_dlg(true);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(false);});}if(type==\"LINEACREDITO\"){var _dataDelete$transactI2,_dataDelete$lineId;apiBack.deleteCreditLine((_dataDelete$transactI2=dataDelete===null||dataDelete===void 0?void 0:dataDelete.transactId)!==null&&_dataDelete$transactI2!==void 0?_dataDelete$transactI2:0,(_dataDelete$lineId=dataDelete===null||dataDelete===void 0?void 0:dataDelete.lineId)!==null&&_dataDelete$lineId!==void 0?_dataDelete$lineId:0).then(function(resp){if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(false);}else{setconfirm_alert(false);setsuccessSave_dlg(true);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(false);});}if(type==\"BIENMUEBLE\"){var _dataDelete$transactI3,_dataDelete$facilityI2,_dataDelete$guarantee2;apiBack.deleteGuaranteeMoveableAsset((_dataDelete$transactI3=dataDelete===null||dataDelete===void 0?void 0:dataDelete.transactId)!==null&&_dataDelete$transactI3!==void 0?_dataDelete$transactI3:0,(_dataDelete$facilityI2=dataDelete===null||dataDelete===void 0?void 0:dataDelete.facilityId)!==null&&_dataDelete$facilityI2!==void 0?_dataDelete$facilityI2:0,(_dataDelete$guarantee2=dataDelete===null||dataDelete===void 0?void 0:dataDelete.guaranteeId)!==null&&_dataDelete$guarantee2!==void 0?_dataDelete$guarantee2:0).then(function(resp){if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(false);}else{setconfirm_alert(false);setsuccessSave_dlg(true);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(false);});}if(type==\"OTRAGARANTIA\"){var _dataDelete$transactI4,_dataDelete$facilityI3,_dataDelete$guarantee3;apiBack.deleteOtherGuarantees((_dataDelete$transactI4=dataDelete===null||dataDelete===void 0?void 0:dataDelete.transactId)!==null&&_dataDelete$transactI4!==void 0?_dataDelete$transactI4:0,(_dataDelete$facilityI3=dataDelete===null||dataDelete===void 0?void 0:dataDelete.facilityId)!==null&&_dataDelete$facilityI3!==void 0?_dataDelete$facilityI3:0,(_dataDelete$guarantee3=dataDelete===null||dataDelete===void 0?void 0:dataDelete.guaranteeId)!==null&&_dataDelete$guarantee3!==void 0?_dataDelete$guarantee3:0).then(function(resp){if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(false);}else{setconfirm_alert(false);setsuccessSave_dlg(true);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(false);});}if(type==\"PIGNORACION\"){var _dataDelete$transactI5,_dataDelete$facilityI4,_dataDelete$guarantee4;apiBack.deletePledge((_dataDelete$transactI5=dataDelete===null||dataDelete===void 0?void 0:dataDelete.transactId)!==null&&_dataDelete$transactI5!==void 0?_dataDelete$transactI5:0,(_dataDelete$facilityI4=dataDelete===null||dataDelete===void 0?void 0:dataDelete.facilityId)!==null&&_dataDelete$facilityI4!==void 0?_dataDelete$facilityI4:0,(_dataDelete$guarantee4=dataDelete===null||dataDelete===void 0?void 0:dataDelete.guaranteeId)!==null&&_dataDelete$guarantee4!==void 0?_dataDelete$guarantee4:0).then(function(resp){if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(false);}else{setconfirm_alert(false);setsuccessSave_dlg(true);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(false);});}},onCancel:function onCancel(){return setconfirm_alert(false);},children:t(\"Youwontbeabletorevertthis\")}):null]}),loading&&/*#__PURE__*/_jsx(LoadingIndicator,{message:t(\"Please Wait\")}),showSuccess&&/*#__PURE__*/_jsx(SuccessMessage,{title:t(\"Operation Complete\"),message:t(\"Credit Proposal Saved\")})]})});};export default DesembolsoLista;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/23_bandejaInstructivo/Colateral/index.js"],"names":["React","useState","useRef","useEffect","useLocation","useHistory","Link","moment","classnames","CreditProposalProvider","url","OPTs","HorizontalSteeper","Row","Col","Button","Card","CardBody","CardHeader","CardFooter","TabPane","Nav","NavLink","TabContent","Table","LoadingOverlay","Tabs","Tab","Breadcrumbs","LoadingIndicator","SuccessMessage","ModalListaDesembolso","BackendServices","CoreServices","BpmServices","SweetAlert","useTranslation","HeaderSections","ModalEndProcess","InfoBpmModel","LogProcessModel","LogProcess","Currency","saveLogProcess","DesembolsoLista","props","currencyData","location","history","usuarioProspecto","setusuarioProspecto","requestId","dataGlobal","setdataGlobal","loading","setLoading","showSuccess","setShowSuccess","successSave_dlg","setsuccessSave_dlg","error_dlg","seterror_dlg","error_msg","seterror_msg","context","setContext","dataSet","setdataSet","datosUsuario","setdatosUsuario","dataPignoracion","setdataPignoracion","dataRows","setdataRows","ModalPrevisualizardata","setModalPrevisualizardata","isActiveLoading","setIsActiveLoading","t","i18n","undefined","dataLocation","setdataLocation","dataFacilidad","setdataFacilidad","dataFacilidadSet","setdataFacilidadSet","idFacilidad","setidFacilidad","dataLinea","setdataLinea","dataDelete","setdataDelete","type","settype","dataGarantias","setdataGarantias","confirm_alert","setconfirm_alert","dataBienUsados","setdataBienUsados","dataBienMueble","setdataBienMueble","dataOtrasGarantias","setdataOtrasGarantias","locationData","setLocationData","backendServices","setbackendServices","bpmServices","setbpmServices","coreServices","setcoreServices","activeTab","setactiveTab","mainDebtor","setmainDebtor","displayModalEndProcess","setdisplayModalEndProcess","msg","show","error","messageDlg","setmessageDlg","data","transactionId","length","push","URL_DASHBOARD","sessionStorage","setItem","JSON","stringify","fetchData","result","getItem","parse","checkAndStartTask","then","iniresult","loadUserProspect","loadData","toggleTab","tab","window","scrollTo","consultPrincipalDebtor","data1","consultGeneralDataPropCred","console","log","retrieveFacilityType","facilidad","consultarFacilidades","resp","find","x","facilityId","consultarGarantiaPropCred","respGarantia","cargarDatosListas","map","items","index","debtor","e","cargarDatosGenerales","id","facilityTypeId","description","formatDate","date","format","transactId","getCreditLine","status","lineId","currency","riskCountry","province","economicActivity","proposalDate","approvalDate","dueDate","limitDate","additionalInfo","formatTable","amount","maxTotal","textAlign","pathname","dataGeneral","getGuaranteeMoveableAsset","guaranteeNumber","creditId","disbursementNumber","customerNumber","assignAmount","guaranteedAmount","initialValue","guaranteeType","assetCode","guaranteeCurrency","getOtherGuarantees","attachedNumber","loanNumber","asignedAmount","guaranteedType","ownerAsset","bank","agency","instrumentType","documentId","trustNumber","issuedDate","guaranteeIdd","guarantorName","entityName","organismCode","issuedCountry","getGuaranteeUsedNewEquipments","guaranteeAmount","trust","trustDate","getPledge","accountNumber","updateData","deleteData","datos","removeBodyCss","document","body","classList","add","toogleModalListaDesembolso","handleSelect","key","checkToContinue","setTimeout","saveJBPMProcess","PROCESS_VALIDATEFILE","showModalEndProcess","onSaveEndProcess","values","onSaveProcess","PROCESS_CANCELPROCESS","option","maindebtor","infoBpmModel","instanceId","processId","ACT_NONE","personId","personName","typePerson","name","name2","lastName","lastName2","PROCESS_GUARANTEE","abortProcess","saveAutoLog","APPLICATION_STATUS_CANC","showMessage","activityId","toString","updatevariables","fromProcess","completedStatusTask","taskId","APPLICATION_STATUS","observations","BPM_ACTIVITY_16","clientId","statusDescription","marginTop","marginBottom","margin","guaranteeTypeName","active","BPM_ACTIVITY_15","apiBack","deleteGuaranteeUsedNewEquipments","guaranteeId","statusCode","catch","deleteCreditLine","deleteGuaranteeMoveableAsset","deleteOtherGuarantees","deletePledge"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\"\r\nimport { useLocation, useHistory, Link } from 'react-router-dom'\r\nimport moment from \"moment\";\r\nimport classnames from \"classnames\"\r\nimport { CreditProposalProvider } from '../../../../components/PropuestaCreditoComercial/CreditProposalContext';\r\nimport * as url from \"../../../../helpers/url_helper\";\r\nimport * as OPTs from \"../../../../helpers/options_helper\";\r\nimport HorizontalSteeper from \"../../../../components/Common/HorizontalSteeper\";\r\n\r\nimport {\r\n    Row,\r\n    Col,\r\n    Button,\r\n    Card,\r\n    CardBody, CardHeader,\r\n    CardFooter,\r\n    TabPane,\r\n    Nav,\r\n    NavLink,\r\n    TabContent,\r\n    Table\r\n} from \"reactstrap\"\r\nimport LoadingOverlay from \"react-loading-overlay\";\r\nimport { Tabs, Tab } from 'react-bootstrap';\r\n// UI Components\r\nimport Breadcrumbs from \"../../../../components/Common/Breadcrumb\"\r\nimport LoadingIndicator from \"../../../../components/UI/LoadingIndicator\";\r\nimport SuccessMessage from \"../../../../components/UI/SuccessMessage\";\r\nimport ModalListaDesembolso from \"../Desembolso/Components/ModalViewListDesembolso\";\r\n// Services\r\nimport { BackendServices, CoreServices, BpmServices, } from \"../../../../services\";\r\nimport SweetAlert from \"react-bootstrap-sweetalert\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport HeaderSections from \"../../../../components/Common/HeaderSections\";\r\n\r\nimport ModalEndProcess from \"../../../../components/EndProcess/ModalEndProcess\"\r\nimport { InfoBpmModel } from '../../../../models/Common/InfoBpmModel';\r\nimport { LogProcessModel } from '../../../../models/Common/LogProcessModel';\r\nimport LogProcess from \"../../../../components/LogProcess/index\";\r\nimport Currency from \"../../../../helpers/currency\";\r\n\r\nimport { saveLogProcess } from \"../../../../helpers/logs_helper\";\r\n\r\nconst DesembolsoLista = (props) => {\r\n    const currencyData = new Currency();\r\n\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n    const [usuarioProspecto, setusuarioProspecto] = useState(null);\r\n    const [dataGlobal, setdataGlobal] = useState({\r\n        requestId: null,\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n    const [showSuccess, setShowSuccess] = useState(false);\r\n    const [successSave_dlg, setsuccessSave_dlg] = useState(false);\r\n    const [error_dlg, seterror_dlg] = useState(false);\r\n    const [error_msg, seterror_msg] = useState(\"\");\r\n    const [context, setContext] = useState({});\r\n    const [dataSet, setdataSet] = useState({});\r\n    const [datosUsuario, setdatosUsuario] = useState(null);\r\n    const [dataPignoracion, setdataPignoracion] = useState(null);\r\n    const [dataRows, setdataRows] = useState(null);\r\n    const [ModalPrevisualizardata, setModalPrevisualizardata] = useState(false);\r\n    const [isActiveLoading, setIsActiveLoading] = useState(false); //loading de la pagina\r\n    // Services\r\n    // Component Refs\r\n    const { t, i18n } = useTranslation();\r\n    //On Mounting (componentDidMount)\r\n    const [dataLocation, setdataLocation] = useState(undefined);\r\n    const [dataFacilidad, setdataFacilidad] = useState(null);\r\n    const [dataFacilidadSet, setdataFacilidadSet] = useState(null);\r\n    const [idFacilidad, setidFacilidad] = useState(null);\r\n    const [dataLinea, setdataLinea] = useState(null);\r\n    const [dataDelete, setdataDelete] = useState(null);\r\n    const [type, settype] = useState(null);\r\n\r\n    const [dataGarantias, setdataGarantias] = useState(null);\r\n    const [confirm_alert, setconfirm_alert] = useState(false)\r\n    const [dataBienUsados, setdataBienUsados] = useState(null);\r\n    const [dataBienMueble, setdataBienMueble] = useState(null);\r\n    const [dataOtrasGarantias, setdataOtrasGarantias] = useState(null);\r\n\r\n    const [locationData, setLocationData] = useState(null);\r\n    //Servicios\r\n    const [backendServices, setbackendServices] = useState(new BackendServices());\r\n    const [bpmServices, setbpmServices] = useState(new BpmServices());\r\n    const [coreServices, setcoreServices] = useState(new CoreServices());\r\n    const [activeTab, setactiveTab] = useState(2);\r\n\r\n    const [mainDebtor, setmainDebtor] = useState(null);\r\n\r\n    const [displayModalEndProcess, setdisplayModalEndProcess] = useState(false);\r\n    const [messageDlg, setmessageDlg] = useState({ msg: \"\", show: false, error: false });\r\n\r\n    //On Mounting (componentDidMount)\r\n    React.useEffect(() => {\r\n        if (location.data !== null && location.data !== undefined) {\r\n            if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n                //location.data.transactionId = 0;\r\n                //checkAndCreateProcedure(location.data);\r\n                history.push(url.URL_DASHBOARD);\r\n            }\r\n            else {\r\n                sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n                setLocationData(location.data);\r\n                setdataLocation(location.data);\r\n                fetchData(location.data);\r\n            }\r\n        }\r\n        else {\r\n            //chequeamos si tenemos guardado en session\r\n            var result = sessionStorage.getItem('locationData');\r\n            if (result !== undefined && result !== null) {\r\n                result = JSON.parse(result);\r\n                setLocationData(result);\r\n                setdataLocation(result);\r\n                fetchData(result);\r\n            }\r\n        }\r\n    }, []);\r\n    //Caraga Inicial de datos\r\n    function fetchData(locationData) {\r\n\r\n        //chequear si la tarea no ha sido iniciada\r\n        bpmServices.checkAndStartTask(locationData)\r\n            .then((iniresult) => {\r\n                if (iniresult === false) {\r\n                    history.push(url.URL_DASHBOARD);\r\n                }\r\n            })\r\n        loadUserProspect(locationData.transactionId)\r\n\r\n        loadData(locationData)\r\n    }\r\n    function toggleTab(tab) {\r\n        if (activeTab !== tab) {\r\n            if (tab >= 1 && tab <= 5) {\r\n                setactiveTab(tab)\r\n                window.scrollTo(0, 0)\r\n            }\r\n        }\r\n    }\r\n    function loadUserProspect(transactionId) {\r\n        // consultarDeudorPrincipal\r\n        backendServices.consultPrincipalDebtor(transactionId)\r\n            .then((data) => {\r\n                if (data !== undefined) {\r\n                    setmainDebtor(data);\r\n                }\r\n            });\r\n    }\r\n\r\n    function loadData(data1) {\r\n\r\n        setdataBienMueble(null)\r\n        setdataLinea(null)\r\n        setdataBienUsados(null)\r\n        backendServices.consultPrincipalDebtor(data1.transactionId)\r\n            .then((data) => {\r\n                if (data !== undefined) {\r\n                    setusuarioProspecto(data);\r\n                }\r\n            });\r\n        backendServices.consultGeneralDataPropCred(data1.transactionId)\r\n            .then((data) => {\r\n                console.log(data);\r\n                dataGlobal.requestId = data[0].requestId;\r\n                setdataGlobal(dataGlobal);\r\n                // [\r\n                //     {\r\n                //         \"Code\": \"100\",\r\n                //         \"Description\": \"GARANTIA HIPOTECARIA MUEBLE\"\r\n                //     },\r\n                //     {\r\n                //         \"Code\": \"200\",\r\n                //         \"Description\": \"GARANTIA HIPOTECARIA INMUEBLE\"\r\n                //     },\r\n                //     {\r\n                //         \"Code\": \"300\",\r\n                //         \"Description\": \"DEPOSITOS PIGNORADOS EN EL BANCO\"\r\n                //     },\r\n                //     {\r\n                //         \"Code\": \"400\",\r\n                //         \"Description\": \"DEPOSITOS PIGNORADOS EN OTROS BANCO\"\r\n                //     },\r\n                //     {\r\n                //         \"Code\": \"500\",\r\n                //         \"Description\": \"GARANTIA PRENDARIA\"\r\n                //     },\r\n                //     {\r\n                //         \"Code\": \"600\",\r\n                //         \"Description\": \"OTRAS GARANTIAS\"\r\n                //     },\r\n                //     {\r\n                //         \"Code\": \"700\",\r\n                //         \"Description\": \"SIN GARANTIAS\"\r\n                //     }\r\n                // ]\r\n                backendServices.retrieveFacilityType()\r\n                    .then((facilidad) => {\r\n                        backendServices.consultarFacilidades(data[0].requestId).then(resp => {\r\n                            if (resp.length > 0) {\r\n                                let facilidad = resp.find(x => x.facilityId == data1?.facilityId ?? 0)\r\n                                backendServices.consultarGarantiaPropCred(facilidad.facilityId).then(respGarantia => {\r\n                                    console.log(\"respGarantia\", respGarantia);\r\n                                    setdataGarantias(respGarantia)\r\n                                })\r\n                                setdataFacilidadSet(resp)\r\n                                setidFacilidad(facilidad.facilityId)\r\n                                cargarDatosListas(data1, facilidad.facilityId, data1.transactionId)\r\n                                setdataFacilidad(resp.map((items, index) => (\r\n                                    items.debtor != \"  \" ?\r\n                                        <Tab onSelect={(e) => { cargarDatosGenerales(e) }} className=\"m-4\" key={index} eventKey={index} title={facilidad.find(x => x.id === items.facilityTypeId)?.description}>\r\n\r\n                                        </Tab> : null\r\n                                )));\r\n                            }\r\n                        });\r\n                    });\r\n            });\r\n    }\r\n    function formatDate(date) {\r\n        return !date ? '' : moment(date).format(\"DD/MM/YYYY\");\r\n    }\r\n    function cargarDatosListas(data, facilidad, transactId) {\r\n        backendServices.getCreditLine(data?.transactionId ?? 0).then(resp => {\r\n            if (resp.length > 0 && resp != undefined) {\r\n                setdataLinea(resp.map((data) => (\r\n                    data.status ?\r\n                        <tr key={data.lineId}>\r\n                            <td data-label={t(\"No. Línea\")}>{data.lineId}</td>\r\n                            <td data-label={t(\"Moneda\")}>{data.currency}</td>\r\n                            <td data-label={t(\"País de Riesgo\")}>{data.riskCountry}</td>\r\n                            <td data-label={t(\"Provincia\")}>{data.province}</td>\r\n                            <td data-label={t(\"Actividad Económica\")}>{data.economicActivity}</td>\r\n                            <td data-label={t(\"Fecha de Propuesta\")}>{data.proposalDate}</td>\r\n                            <td data-label={t(\"Fecha de Aprobación\")}>{data.approvalDate}</td>\r\n                            <td data-label={t(\"Fecha de Vencimiento\")}>{data.dueDate}</td>\r\n                            <td data-label={t(\"Fecha de Límite\")}>{data.limitDate}</td>\r\n                            <td data-label={t(\"Frecuencia de Revisión\")}>{data.additionalInfo}</td>\r\n                            <td data-label={t(\"Monto\")}>${currencyData.formatTable(data?.amount ?? 0)}</td>\r\n                            <td data-label={t(\"Total Máximo\")}>${currencyData.formatTable(data?.maxTotal ?? 0)}</td>\r\n                            <td data-label={t(\"Actions\")} style={{ textAlign: \"right\" }}>\r\n                                <Link\r\n                                    to={{\r\n                                        pathname: '/creditocomercial/AdminDesembolso/MantenimientoLinea',\r\n                                        data: { facilityId: facilidad ?? 0, transactionId: transactId ?? 0, dataGeneral: data },\r\n                                    }}\r\n                                >\r\n                                    <i className=\"mdi mdi-border-color mdi-24px\"></i>\r\n                                </Link>\r\n                                <Button type=\"button\" color=\"link\" onClick={(resp) => { setdataDelete(data); settype(\"LINEACREDITO\"); setconfirm_alert(true) }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n                            </td>\r\n                        </tr> : null)\r\n                ));\r\n            } else {\r\n                setdataLinea(\r\n                    <tr key={1}>\r\n                        <td colSpan=\"12\" style={{ textAlign: 'center' }}>{t(\"NoData\")}</td>\r\n                    </tr>);\r\n            }\r\n        })\r\n        backendServices.getGuaranteeMoveableAsset(data?.transactionId ?? 0).then(resp => {\r\n            if (resp.length > 0 && resp != undefined) {\r\n                setdataBienMueble(resp.map((data) => (\r\n                    data.status && data.facilityId == facilidad ?\r\n                        <tr key={data.lineId}>\r\n                            <td>{data.guaranteeNumber}</td>\r\n                            <td>{data.creditId}</td>\r\n                            <td>{data.disbursementNumber}</td>\r\n                            <td>{data.currency}</td>\r\n                            <td>{data.customerNumber}</td>\r\n                            <td>${currencyData.formatTable(data?.assignAmount ?? 0)}</td>\r\n                            <td>${currencyData.formatTable(data?.guaranteedAmount ?? 0)}</td>\r\n                            <td>${currencyData.formatTable(data?.initialValue ?? 0)}</td>\r\n                            <td>{data.guaranteeType}</td>\r\n                            <td>{data.assetCode}</td>\r\n                            <td>{data.guaranteeCurrency}</td>\r\n                            <td style={{ textAlign: \"right\" }}>\r\n                                <Link\r\n                                    to={{\r\n                                        pathname: '/creditocomercial/AdminDesembolso/GarantiasMuebles',\r\n                                        data: { facilityId: facilidad ?? 0, transactionId: transactId ?? 0, dataGeneral: data },\r\n                                    }}\r\n                                >\r\n                                    <i className=\"mdi mdi-border-color mdi-24px\"></i>\r\n                                </Link>\r\n                                <Button type=\"button\" color=\"link\" onClick={(resp) => { setdataDelete(data); settype(\"BIENMUEBLE\"); setconfirm_alert(true) }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n                            </td>\r\n                        </tr> : null)\r\n                ));\r\n            } else {\r\n                setdataBienMueble(\r\n                    <tr key={1}>\r\n                        <td colSpan=\"12\" style={{ textAlign: 'center' }}>{t(\"NoData\")}</td>\r\n                    </tr>);\r\n            }\r\n        })\r\n        backendServices.getOtherGuarantees(data?.transactionId ?? 0).then(resp => {\r\n            if (resp.length > 0 && resp != undefined) {\r\n                setdataOtrasGarantias(resp.map((data) => (\r\n                    data.status && data.facilityId == facilidad ?\r\n                        <tr key={data.lineId}>\r\n                            <td>{data.guaranteeNumber}</td>\r\n                            <td>{data.attachedNumber}</td>\r\n                            <td>{data.loanNumber}</td>\r\n                            <td>{data.currency}</td>\r\n                            <td>{data.customerNumber}</td>\r\n                            <td>${currencyData.formatTable(data?.asignedAmount ?? 0)}</td>\r\n                            <td>${currencyData.formatTable(data?.guaranteedType ?? 0)}</td>\r\n                            <td>${currencyData.formatTable(data?.initialValue ?? 0)}</td>\r\n                            <td>{data.guaranteeType}</td>\r\n                            <td>{data.ownerAsset}</td>\r\n                            <td>{data.guaranteeCurrency}</td>\r\n                            <td>{data.bank}</td>\r\n                            <td>{data.agency}</td>\r\n                            <td>{data.instrumentType}</td>\r\n                            <td>{data.documentId}</td>\r\n                            <td>{data.trustNumber}</td>\r\n                            <td>{formatDate(data.issuedDate)}</td>\r\n                            <td>{data.guaranteeIdd}</td>\r\n                            <td>{data.guarantorName}</td>\r\n                            <td>{data.entityName}</td>\r\n                            <td>{data.organismCode}</td>\r\n                            <td>{data.issuedCountry}</td>\r\n                            <td style={{ textAlign: \"right\" }}>\r\n                                <Link\r\n                                    to={{\r\n                                        pathname: '/creditocomercial/AdminDesembolso/OtrasGarantias',\r\n                                        data: { facilityId: facilidad ?? 0, transactionId: transactId ?? 0, dataGeneral: data },\r\n                                    }}\r\n                                >\r\n                                    <i className=\"mdi mdi-border-color mdi-24px\"></i>\r\n                                </Link>\r\n                                <Button type=\"button\" color=\"link\" onClick={(resp) => { setdataDelete(data); settype(\"OTRAGARANTIA\"); setconfirm_alert(true) }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n                            </td>\r\n                        </tr> : null)\r\n                ));\r\n            } else {\r\n                setdataOtrasGarantias(\r\n                    <tr key={1}>\r\n                        <td colSpan=\"12\" style={{ textAlign: 'center' }}>{t(\"NoData\")}</td>\r\n                    </tr>);\r\n            }\r\n        })\r\n        backendServices.getGuaranteeUsedNewEquipments(data?.transactionId ?? 0).then(resp => {\r\n            if (resp.length > 0 && resp != undefined) {\r\n                setdataBienUsados(resp.map((data) => (\r\n                    data.status && data.facilityId == facilidad ?\r\n                        <tr key={data.lineId}>\r\n                            <td data-label={t(\"Numero de Adjunto\")}>{data.attachedNumber}</td>\r\n                            <td data-label={t(\"Numero de Prestamo\")}>{data.loanNumber}</td>\r\n                            <td data-label={t(\"Moneda\")}>{data.currency}</td>\r\n                            <td data-label={t(\"Numero de cliente\")}>{data.customerNumber}</td>\r\n                            <td data-label={t(\"Monto de la Garantia\")}>${currencyData.formatTable(data?.guaranteeAmount ?? 0)}</td>\r\n                            <td data-label={t(\"Tipos de Garantia\")}>{data.guaranteeType}</td>\r\n                            <td data-label={t(\"Banco\")}>{data.bank}</td>\r\n                            <td data-label={t(\"Agencia(Banca)\")}>{data.agency}</td>\r\n                            <td data-label={t(\"Codigo del Bien Mueble\")}>{data.assetCode}</td>\r\n                            <td data-label={t(\"Fecha de Vencimiento transacción\")}>{formatDate(data.dueDate)}</td>\r\n                            <td data-label={t(\"No. Fideicomiso\")}>{data.trust}</td>\r\n                            <td data-label={t(\"Fecha Emision Del Fideicomiso\")}>{formatDate(data.trustDate)}</td>\r\n                            <td data-label={t(\"Actions\")} style={{ textAlign: \"right\" }}>\r\n                                <Link\r\n                                    to={{\r\n                                        pathname: '/creditocomercial/AdminDesembolso/GarantiaEquiposNuevosyUsados',\r\n                                        data: { facilityId: facilidad ?? 0, transactionId: transactId ?? 0, dataGeneral: data },\r\n                                    }}\r\n                                >\r\n                                    <i className=\"mdi mdi-border-color mdi-24px\"></i>\r\n                                </Link>\r\n                                <Button type=\"button\" color=\"link\" onClick={(resp) => { setdataDelete(data); settype(\"BIENUSADOS\"); setconfirm_alert(true) }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n                            </td>\r\n                        </tr> : null)\r\n                ));\r\n            } else {\r\n                setdataBienUsados(\r\n                    <tr key={1}>\r\n                        <td colSpan=\"12\" style={{ textAlign: 'center' }}>{t(\"NoData\")}</td>\r\n                    </tr>);\r\n            }\r\n        })\r\n        backendServices.getPledge(data?.transactionId ?? 0).then(resp => {\r\n            if (resp.length > 0 && resp != undefined) {\r\n                setdataPignoracion(resp.map((data) => (\r\n                    data.status && data.facilityId == facilidad ?\r\n                        <tr key={data.lineId}>\r\n                            <td>{data.guaranteeNumber}</td>\r\n                            <td>{data.attachedNumber}</td>\r\n                            <td>{data.loanNumber}</td>\r\n                            <td>{data.currency}</td>\r\n                            <td>{data.customerNumber}</td>\r\n                            <td>${currencyData.formatTable(data?.guaranteeAmount ?? 0)}</td>\r\n                            <td>{data.guaranteeType}</td>\r\n                            <td>{data.bank}</td>\r\n                            <td>{data.agency}</td>\r\n                            <td>{data.accountNumber}</td>\r\n                            <td>{formatDate(data.dueDate)}</td>\r\n                            <td style={{ textAlign: \"right\" }}>\r\n                                <Link\r\n                                    to={{\r\n                                        pathname: '/creditocomercial/AdminDesembolso/Pignoracion',\r\n                                        data: { facilityId: facilidad ?? 0, transactionId: transactId ?? 0, dataGeneral: data },\r\n                                    }}\r\n                                >\r\n                                    <i className=\"mdi mdi-border-color mdi-24px\"></i>\r\n                                </Link>\r\n                                <Button type=\"button\" color=\"link\" onClick={(resp) => { setdataDelete(data); settype(\"PIGNORACION\"); setconfirm_alert(true) }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n                            </td>\r\n                        </tr> : null)\r\n                ));\r\n            } else {\r\n                setdataPignoracion(\r\n                    <tr key={1}>\r\n                        <td colSpan=\"12\" style={{ textAlign: 'center' }}>{t(\"NoData\")}</td>\r\n                    </tr>);\r\n            }\r\n        })\r\n    }\r\n    function updateData(data) {\r\n    }\r\n    function deleteData(data) {\r\n    }\r\n    function cargarDatosGenerales(datos) {\r\n        console.log(datos);\r\n    }\r\n    function removeBodyCss() {\r\n        document.body.classList.add(\"no_padding\")\r\n    }\r\n    function toogleModalListaDesembolso() {\r\n        setModalPrevisualizardata(!ModalPrevisualizardata);\r\n        removeBodyCss()\r\n    }\r\n    function handleSelect(key) {\r\n        cargarDatosListas(locationData, dataFacilidadSet[key].facilityId, locationData.transactionId ?? 0)\r\n        setidFacilidad(dataFacilidadSet[key].facilityId);\r\n    }\r\n\r\n\r\n\r\n    async function checkToContinue() {\r\n\r\n        //Chequear el guardado de las garantias y generarlas en T24\r\n\r\n        setTimeout(async function () {\r\n            /*\r\n            if(!formIsValid){\r\n              showMessage({ msg: t(\"PleaseSaveDescicionBeforeContinue\"), error: true, show: true });\r\n              return;\r\n            }\r\n            */\r\n            saveJBPMProcess(OPTs.PROCESS_VALIDATEFILE);\r\n        }, 2000)\r\n    }\r\n    ////////// PARTE ES LA FINAL DEL PROCESO ///////\r\n    //Modal Para mostrar Comentario de Fin de Proceso\r\n    function showModalEndProcess(show = true) {\r\n        setdisplayModalEndProcess(show);\r\n    }\r\n    //salvar comentario de end process\r\n    function onSaveEndProcess(values) {\r\n        onSaveProcess(OPTs.PROCESS_CANCELPROCESS);\r\n    }\r\n    function onSaveProcess(option) {\r\n\r\n        switch (option) {\r\n            case OPTs.PROCESS_CANCELPROCESS: {\r\n                break;\r\n            }\r\n        }\r\n        saveJBPMProcess(option);\r\n    }\r\n    async function saveJBPMProcess(option) {\r\n\r\n        var maindebtor = await backendServices.consultPrincipalDebtor(locationData.transactionId)\r\n        var infoBpmModel = new InfoBpmModel(locationData.instanceId, locationData.transactionId,\r\n            locationData.processId, OPTs.ACT_NONE,\r\n            maindebtor?.personId\r\n        );\r\n        infoBpmModel.personName = maindebtor !== undefined ? (maindebtor.typePerson == \"2\" ? maindebtor.name : (maindebtor.name + \" \" + maindebtor.name2 + \" \" + maindebtor.lastName + \" \" + maindebtor.lastName2)) : \"\";\r\n\r\n        switch (option) {\r\n            case OPTs.PROCESS_CANCELPROCESS: {\r\n                bpmServices.abortProcess(infoBpmModel.instanceId)\r\n                    .then((data) => {\r\n                        if (data !== undefined) {\r\n                            saveAutoLog(OPTs.APPLICATION_STATUS_CANC, \"\");\r\n                            history.push(url.URL_DASHBOARD);\r\n                        }\r\n                        else {\r\n                            showMessage({ msg: t(\"TheProcessCouldNotFinish\"), error: true, show: true });\r\n                        }\r\n                    });\r\n                break;\r\n            }\r\n            case OPTs.PROCESS_GUARANTEE: {\r\n                infoBpmModel.processId = OPTs.PROCESS_GUARANTEE;\r\n                infoBpmModel.activityId = OPTs.ACT_NONE;\r\n\r\n                var values = {\r\n                    \"info\": JSON.stringify(infoBpmModel),\r\n                    \"processId\": OPTs.PROCESS_GUARANTEE.toString(),\r\n                    \"activityId\": OPTs.ACT_NONE.toString(),\r\n                    \"transactionId\": locationData.transactionId.toString(),\r\n                };\r\n                bpmServices.updatevariables(locationData.instanceId, values)\r\n                    .then((data) => {\r\n                        if (data !== undefined) {\r\n                            showMessage({ msg: t(\"Datahasbeensavedsuccessfully\"), error: false, show: true });\r\n                            history.push(url.URL_DASHBOARD);\r\n                        }\r\n                        else {\r\n                            showMessage({ msg: t(\"ErrorSaveMessage\"), error: true, show: true });\r\n                        }\r\n                    });\r\n                break;\r\n            }\r\n            case OPTs.PROCESS_VALIDATEFILE: {\r\n                infoBpmModel.processId = OPTs.PROCESS_VALIDATEFILE;\r\n                infoBpmModel.activityId = OPTs.ACT_NONE;\r\n                infoBpmModel.fromProcess = OPTs.PROCESS_GUARANTEE;\r\n\r\n                var values = {\r\n                    \"info\": JSON.stringify(infoBpmModel),\r\n                    \"processId\": OPTs.PROCESS_VALIDATEFILE.toString(),\r\n                    \"activityId\": OPTs.ACT_NONE.toString(),\r\n                    \"transactionId\": locationData.transactionId,\r\n                    \"requestId\": locationData.requestId\r\n                };\r\n                bpmServices.completedStatusTask(locationData.taskId, values)\r\n                    .then((data) => {\r\n                        if (data !== undefined) {\r\n                            saveAutoLog(null);\r\n                            history.push(url.URL_DASHBOARD);\r\n                        }\r\n                        else {\r\n                            //Mensaje ERROR              \r\n                            showMessage({ msg: t(\"ErrorSaveMessage\"), error: true, show: true });\r\n                        }\r\n                    });\r\n                break;\r\n            }/*\r\n            case OPTs.PROCESS_REFUSED: {\r\n                infoBpmModel.processId = OPTs.PROCESS_REFUSED;\r\n                infoBpmModel.activityId = OPTs.ACT_NONE;\r\n\r\n                var values = {\r\n                    \"info\": JSON.stringify(infoBpmModel),\r\n                    \"processId\": OPTs.PROCESS_REFUSED.toString(),\r\n                    \"activityId\": OPTs.ACT_NONE.toString(),\r\n                    \"transactionId\": locationData.transactionId,\r\n                    \"requestId\": locationData.requestId,\r\n                    \"decision\": \"no\"\r\n                };\r\n                bpmServices.completedStatusTask(locationData.taskId, values)\r\n                    .then((data) => {\r\n                        if (data !== undefined) {\r\n                            saveAutoLog(OPTs.APPLICATION_STATUS_RECH, \"\");\r\n                            history.push(url.URL_DASHBOARD);\r\n                        }\r\n                        else {\r\n                            //Mensaje ERROR              \r\n                            showMessage({ msg: t(\"ErrorSaveMessage\"), error: true, show: true });\r\n                        }\r\n                    });\r\n                break;\r\n            }*/\r\n        }\r\n    }\r\n    function showMessage(data = null) {\r\n        if (data !== null) {\r\n            setmessageDlg(data)\r\n        }\r\n        else {\r\n            setmessageDlg({ msg: \"\", show: false, error: false })\r\n        }\r\n    }\r\n\r\n    async function saveAutoLog(APPLICATION_STATUS = null, observations = null) {\r\n        var mainDebtor = await backendServices.consultPrincipalDebtor(locationData.transactionId);\r\n        var log = new LogProcessModel(locationData.instanceId, locationData.transactionId, 0, \"\", \"\", OPTs.PROCESS_GUARANTEE, OPTs.ACT_NONE, OPTs.BPM_ACTIVITY_16)\r\n        log.clientId = mainDebtor?.personId ?? log.clientId;\r\n        log.observations = observations !== null ? t(\"ActivityHasBeenFinishedSuccessfully\") : observations;\r\n        log.requestId = APPLICATION_STATUS?.id ?? 0;\r\n        log.statusDescription = APPLICATION_STATUS?.name ?? \"\";\r\n        saveLogProcess(log);\r\n    }\r\n\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <CreditProposalProvider value={context}>\r\n                <div className=\"page-content\">\r\n                    <Breadcrumbs title={t(\"Commercial Credit\")} breadcrumbItem={t(\"Guarantee\")} />\r\n                    <HorizontalSteeper processNumber={3} activeStep={2}></HorizontalSteeper>\r\n                    <Row style={{ marginTop: \"0px\", marginBottom: \"15px\" }}>\r\n                        <Col md={6} style={{ textAlign: \"left\" }}>\r\n                            {/* <Button color=\"danger\" style={{ margin: '5px 0px' }} type=\"button\" onClick={() => { onSaveProcess(OPTs.PROCESS_CANCELPROCESS) }}><i className=\"mdi mdi-cancel mid-12px\"></i> {t(\"AdjustRequired\")}</Button> */}\r\n                        </Col>\r\n                        <Col md={6} style={{ textAlign: \"right\", marginTop: \"10px\" }}>\r\n                            <Button color=\"primary\" type=\"button\" style={{ margin: '5px' }} onClick={() => { onSaveProcess(OPTs.PROCESS_GUARANTEE) }}><i className=\"mdi mdi-content-save-outline mid-12px\"></i> {t(\"Exit\")}</Button>\r\n                            <Button color=\"success\" type=\"button\"\r\n                                onClick={() => { checkToContinue() }}><i className=\"mdi mdi-arrow-right-bold-circle-outline mid-12px\"></i> {t(\"Continue\")}</Button>\r\n                        </Col>\r\n                    </Row>\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <Row>\r\n                                <Col>\r\n                                    <h4 className=\"card-title\">{t(\"Guarantee\")}</h4>\r\n                                    <p className=\"card-title-desc\">{t(\"This form is official and must be filled out correctly\")}</p>\r\n                                </Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col sm={6}>\r\n                                    <h5 className=\"card-title title-header\">{mainDebtor != null ? (mainDebtor.typePerson === \"1\" ? (mainDebtor.name + \" \" + mainDebtor.name2 + \" \" + mainDebtor.lastName + \" \" + mainDebtor.lastName2) : (mainDebtor.name)) : \"\"} </h5>\r\n                                </Col>\r\n                                <Col sm={6}>\r\n                                    <h5 className=\"card-title\" style={{ textAlign: \"right\" }}>{t(\"Tramit\")}:{\" \"}#{locationData?.transactionId}</h5>\r\n                                </Col>\r\n                            </Row>\r\n                        </CardHeader>\r\n                        <CardBody>\r\n                            <Row>\r\n                                <Col md={3}>\r\n                                    <Nav pills className=\"flex-column\">\r\n                                        {dataGarantias && dataGarantias.find(x => x.guaranteeTypeName == \"100\") ?\r\n                                            <NavLink className={classnames({ active: activeTab === 2 })}\r\n                                                onClick={() => {\r\n                                                    toggleTab(2)\r\n                                                }}>\r\n                                                {t(\"Garantías Muebles Nuevos Y Usados\")}\r\n                                            </NavLink> : null}\r\n                                        {dataGarantias && dataGarantias.find(x => x.guaranteeTypeName == \"100\") ?\r\n                                            <NavLink className={classnames({ active: activeTab === 3 })}\r\n                                                onClick={() => {\r\n                                                    toggleTab(3)\r\n                                                }}>\r\n                                                {t(\"Garantías Bien Mueble\")}\r\n                                            </NavLink> : null}\r\n                                        {dataGarantias && dataGarantias.find(x => x.guaranteeTypeName == \"500\") ?\r\n                                            <NavLink className={classnames({ active: activeTab === 4 })}\r\n                                                onClick={() => {\r\n                                                    toggleTab(4)\r\n                                                }}>\r\n                                                {t(\"Otras Garantías\")}\r\n                                            </NavLink> : null}\r\n                                        {dataGarantias && dataGarantias.find(x => x.guaranteeTypeName == \"300\" || x.guaranteeTypeName == \"400\") ?\r\n                                            <NavLink className={classnames({ active: activeTab === 5 })}\r\n                                                onClick={() => {\r\n                                                    toggleTab(5)\r\n                                                }}>\r\n                                                {t(\"Garatías Pignoración\")}\r\n                                            </NavLink> : null}\r\n\r\n                                    </Nav>\r\n                                </Col>\r\n                                <Col md={9}>\r\n                                    <TabContent activeTab={activeTab} className=\"body\">\r\n                                        <TabPane tabId={2}>\r\n                                            {/* <Row>\r\n                                                <Tabs defaultActiveKey=\"0\" id=\"uncontrolled-tab-example\" className=\"mb-3\" onSelect={(e) => { handleSelect(e) }}>\r\n                                                    {dataFacilidad}\r\n                                                </Tabs>\r\n                                            </Row> */}\r\n                                            <Row>\r\n                                                <Col md=\"6\">\r\n                                                    <h5 className=\"card-sub-title\">{t(\"Warranties New and Used Furniture\")}</h5>\r\n                                                </Col>\r\n                                                <Col md=\"6\" style={{ textAlign: \"right\" }}>\r\n                                                    {/* <Link\r\n                                                        to={{\r\n                                                            pathname: '/creditocomercial/AdminDesembolso/GarantiaEquiposNuevosyUsados',\r\n                                                            data: { facilityId: idFacilidad ?? 0, transactionId: locationData?.transactionId ?? 0 },\r\n                                                        }}\r\n                                                    >\r\n                                                        <i className=\"mdi mdi-plus-box-multiple-outline mdi-24px\"></i>\r\n                                                    </Link> */}\r\n                                                    <Button className=\"btn\" color=\"success\" type=\"button\" style={{ margin: '5px' }} onClick={() => {\r\n                                                        history.push({\r\n                                                            pathname: '/creditocomercial/AdminDesembolso/GarantiaEquiposNuevosyUsados',\r\n                                                            data: { facilityId: idFacilidad ?? 0, transactionId: locationData?.transactionId ?? 0 },\r\n                                                        });\r\n                                                    }} title={t(\"Add\")}><i className=\"fas fa-lg fa-plus-circle\"></i> {(\" \")}</Button>\r\n                                                </Col>\r\n                                            </Row>\r\n                                            <Col md=\"12\" className=\"table-responsive styled-table-div\">\r\n                                                <Table className=\"table table-striped table-hover styled-table table\" >\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th><strong>{t(\"Attachment Number\")}</strong></th>\r\n                                                            <th><strong>{t(\"Loan number\")}</strong></th>\r\n                                                            <th><strong>{t(\"Coin\")}</strong></th>\r\n                                                            <th><strong>{t(\"Client number\")}</strong></th>\r\n                                                            <th><strong>{t(\"Guarantee Amount\")}</strong></th>\r\n                                                            <th><strong>{t(\"GuaranteeType\")}</strong></th>\r\n                                                            <th><strong>{t(\"Bank\")}</strong></th>\r\n                                                            <th><strong>{t(\"Agency(Banking)\")}</strong></th>\r\n                                                            <th><strong>{t(\"Movable Property Code\")}</strong></th>\r\n                                                            <th><strong>{t(\"Transaction Expiration Date\")}</strong></th>\r\n                                                            <th><strong>{t(\"TrustNumber\")}</strong></th>\r\n                                                            <th><strong>{t(\"Trust Issuance Date\")}</strong></th>\r\n                                                            <th><strong>{t(\"Actions\")}</strong></th>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        {dataBienUsados}\r\n                                                    </tbody>\r\n                                                </Table>\r\n                                            </Col>\r\n                                        </TabPane>\r\n                                        <TabPane tabId={3}>\r\n                                            {/* <Row>\r\n                                                <Tabs defaultActiveKey=\"0\" id=\"uncontrolled-tab-example\" className=\"mb-3\" onSelect={(e) => { handleSelect(e) }}>\r\n                                                    {dataFacilidad}\r\n                                                </Tabs>\r\n                                            </Row> */}\r\n                                            <Row>\r\n                                                <Col md=\"6\">\r\n                                                    <h5 className=\"card-sub-title\">{t(\"Movable property guarantee\")}</h5>\r\n                                                </Col>\r\n                                                <Col md=\"6\" style={{ textAlign: \"right\" }}>\r\n                                                    {/* <Link\r\n                                                        to={{\r\n                                                            pathname: '/creditocomercial/AdminDesembolso/GarantiasMuebles',\r\n                                                            data: { facilityId: idFacilidad ?? 0, transactionId: locationData?.transactionId ?? 0 },\r\n                                                        }}\r\n                                                    >\r\n                                                        <i className=\"mdi mdi-plus-box-multiple-outline mdi-24px\"></i>\r\n                                                    </Link> */}\r\n                                                    <Button className=\"btn\" color=\"success\" type=\"button\" style={{ margin: '5px' }} onClick={() => {\r\n                                                        history.push({\r\n                                                            pathname: '/creditocomercial/AdminDesembolso/GarantiasMuebles',\r\n                                                            data: { facilityId: idFacilidad ?? 0, transactionId: locationData?.transactionId ?? 0 },\r\n                                                        });\r\n                                                    }} title={t(\"Add\")}><i className=\"fas fa-lg fa-plus-circle\"></i> {(\" \")}</Button>\r\n                                                </Col>\r\n                                            </Row>\r\n                                            <Col md=\"12\" className=\"table-responsive styled-table-div\">\r\n                                                <Table className=\"table table-striped table-hover styled-table table\" >\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th><strong>{t(\"Warranty ID\")}</strong></th>\r\n                                                            <th><strong>{t(\"Credit ID\")}</strong></th>\r\n                                                            <th><strong>{t(\"Loan or Disbursement Number\")}</strong></th>\r\n                                                            <th><strong>{t(\"Coin\")}</strong></th>\r\n                                                            <th><strong>{t(\"Client number\")}</strong></th>\r\n                                                            <th><strong>{t(\"Amount Assigned in Guarantee\")}</strong></th>\r\n                                                            <th><strong>{t(\"Guaranteed amount\")}</strong></th>\r\n                                                            <th><strong>{t(\"Initial value of the Guarantee\")}</strong></th>\r\n                                                            <th><strong>{t(\"Warrant Type\")}</strong></th>\r\n                                                            <th><strong>{t(\"Movable Property Code\")}</strong></th>\r\n                                                            <th><strong>{t(\"Guarantee Currency\")}</strong></th>\r\n                                                            <th><strong>{t(\"Actions\")}</strong></th>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        {dataBienMueble}\r\n                                                    </tbody>\r\n                                                </Table>\r\n                                            </Col>\r\n                                        </TabPane>\r\n                                        <TabPane tabId={4}>\r\n                                            {/* <Row>\r\n                                                <Tabs defaultActiveKey=\"0\" id=\"uncontrolled-tab-example\" className=\"mb-3\" onSelect={(e) => { handleSelect(e) }}>\r\n                                                    {dataFacilidad}\r\n                                                </Tabs>\r\n                                            </Row> */}\r\n                                            <Row>\r\n                                                <Col md=\"6\">\r\n                                                    <h5 className=\"card-sub-title\">{t(\"Other Guarantees\")}</h5>\r\n                                                </Col>\r\n                                                <Col md=\"6\" style={{ textAlign: \"right\" }}>\r\n                                                    {/* <Link\r\n                                                        to={{\r\n                                                            pathname: '/creditocomercial/AdminDesembolso/OtrasGarantias',\r\n                                                            data: { facilityId: idFacilidad ?? 0, transactionId: locationData?.transactionId ?? 0 },\r\n                                                        }}\r\n                                                    >\r\n                                                        <i className=\"mdi mdi-plus-box-multiple-outline mdi-24px\"></i>\r\n                                                    </Link> */}\r\n                                                    <Button className=\"btn\" color=\"success\" type=\"button\" style={{ margin: '5px' }} onClick={() => {\r\n                                                        history.push({\r\n                                                            pathname: '/creditocomercial/AdminDesembolso/OtrasGarantias',\r\n                                                            data: { facilityId: idFacilidad ?? 0, transactionId: locationData?.transactionId ?? 0 },\r\n                                                        });\r\n                                                    }} title={t(\"Add\")}><i className=\"fas fa-lg fa-plus-circle\"></i> {(\" \")}</Button>\r\n                                                </Col>\r\n                                            </Row>\r\n\r\n                                            <div className=\"table-responsive styled-table-div\">\r\n                                                <Table className=\"table table-striped table-hover styled-table table mt-1\" responsive>\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th><strong>{t(\"Warranty ID\")}</strong></th>\r\n                                                            <th><strong>{t(\"Credit ID\")}</strong></th>\r\n                                                            <th><strong>{t(\"Loan or Disbursement Number\")}</strong></th>\r\n                                                            <th><strong>{t(\"Currency\")}</strong></th>\r\n                                                            <th><strong>{t(\"Client number\")}</strong></th>\r\n                                                            <th><strong>{t(\"Amount Assigned in Guarantee\")}</strong></th>\r\n                                                            <th><strong>{t(\"Guaranteed amount\")}</strong></th>\r\n                                                            <th><strong>{t(\"Initial Value of the Guarantee\")}</strong></th>\r\n                                                            <th><strong>{t(\"Type of Guarantee\")}</strong></th>\r\n                                                            <th><strong>{t(\"Asset Code (Guarantee Subtype)\")}</strong></th>\r\n                                                            <th><strong>{t(\"Guarantee Currency\")}</strong></th>\r\n                                                            <th><strong>{t(\"Bank\")}</strong></th>\r\n                                                            <th><strong>{t(\"Agency (Banking)\")}</strong></th>\r\n                                                            <th><strong>{t(\"Type of Financial Instrument\")}</strong></th>\r\n                                                            <th><strong>{t(\"Document ID\")}</strong></th>\r\n                                                            <th><strong>{t(\"Trust Number\")}</strong></th>\r\n                                                            <th><strong>{t(\"Trust Issuance Date\")}</strong></th>\r\n                                                            <th><strong>{t(\"Warranty ID\")}</strong></th>\r\n                                                            <th><strong>{t(\"Guarantor's Name\")}</strong></th>\r\n                                                            <th><strong>{t(\"Appraiser\")}</strong></th>\r\n                                                            <th><strong>{t(\"Agency Code\")}</strong></th>\r\n                                                            <th><strong>{t(\"Issuing Countries\")}</strong></th>\r\n                                                            <th><strong>{t(\"Actions\")}</strong></th>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        {dataOtrasGarantias}\r\n                                                    </tbody>\r\n                                                </Table>\r\n                                            </div>\r\n                                        </TabPane>\r\n                                        <TabPane tabId={5}>\r\n                                            {/* <Row>\r\n                                                <Tabs defaultActiveKey=\"0\" id=\"uncontrolled-tab-example\" className=\"mb-3\" onSelect={(e) => { handleSelect(e) }}>\r\n                                                    {dataFacilidad}\r\n                                                </Tabs>\r\n                                            </Row> */}\r\n                                            <Row>\r\n\r\n                                                <Col md=\"6\">\r\n                                                    <h5 className=\"card-sub-title\">{t(\"Guarantees Pledge\")}</h5>\r\n                                                </Col>\r\n                                                <Col md=\"6\" style={{ textAlign: \"right\" }}>\r\n                                                    {/* <Link\r\n                                                        to={{\r\n                                                            pathname: '/creditocomercial/AdminDesembolso/Pignoracion',\r\n                                                            data: { facilityId: idFacilidad ?? 0, transactionId: locationData?.transactionId ?? 0 },\r\n                                                        }}\r\n                                                    >\r\n                                                        <i className=\"mdi mdi-plus-box-multiple-outline mdi-24px\"></i>\r\n                                                    </Link> */}\r\n                                                    <Button className=\"btn\" color=\"success\" type=\"button\" style={{ margin: '5px' }} onClick={() => {\r\n                                                        history.push({\r\n                                                            pathname: '/creditocomercial/AdminDesembolso/Pignoracion',\r\n                                                            data: { facilityId: idFacilidad ?? 0, transactionId: locationData?.transactionId ?? 0 },\r\n                                                        });\r\n                                                    }} title={t(\"Add\")}><i className=\"fas fa-lg fa-plus-circle\"></i> {(\" \")}</Button>\r\n                                                </Col>\r\n                                            </Row>\r\n                                            <div className=\"table-responsive styled-table-div\">\r\n                                                <Table className=\"table table-striped table-hover styled-table table mt-1\" responsive>\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th><strong>{t(\"Warranty ID\")}</strong></th>\r\n                                                            <th><strong>{t(\"Attachment Number\")}</strong></th>\r\n                                                            <th><strong>{t(\"Loan or Disbursement Number\")}</strong></th>\r\n                                                            <th><strong>{t(\"Currency\")}</strong></th>\r\n                                                            <th><strong>{t(\"Client number\")}</strong></th>\r\n                                                            <th><strong>{t(\"Guarantee Amount\")}</strong></th>\r\n                                                            <th><strong>{t(\"Type of Guarantee\")}</strong></th>\r\n                                                            <th><strong>{t(\"Bank\")}</strong></th>\r\n                                                            <th><strong>{t(\"Agencia\")}</strong></th>\r\n                                                            <th><strong>{t(\"Account or Deposit No\")}</strong></th>\r\n                                                            <th><strong>{t(\"Expiration date\")}</strong></th>\r\n                                                            <th></th>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        {dataPignoracion}\r\n                                                    </tbody>\r\n                                                </Table>\r\n                                            </div>\r\n                                        </TabPane>\r\n                                    </TabContent>\r\n                                </Col>\r\n                            </Row>\r\n                        </CardBody>\r\n\r\n                    </Card>\r\n\r\n                    {locationData ?\r\n                        <LogProcess logProcessModel={new LogProcessModel(locationData.instanceId, locationData.transactionId, 0, \"\", \"\", OPTs.PROCESS_GUARANTEE, OPTs.ACT_NONE, OPTs.BPM_ACTIVITY_15)} />\r\n                        : null}\r\n\r\n                    <Row style={{ marginTop: \"0px\", marginBottom: \"15px\" }}>\r\n                        <Col md={6} style={{ textAlign: \"left\" }}>\r\n                            {/* <Button color=\"danger\" style={{ margin: '5px 0px' }} type=\"button\" onClick={() => { onSaveProcess(OPTs.PROCESS_CANCELPROCESS) }}><i className=\"mdi mdi-cancel mid-12px\"></i> {t(\"AdjustRequired\")}</Button> */}\r\n                        </Col>\r\n                        <Col md={6} style={{ textAlign: \"right\", marginTop: \"10px\" }}>\r\n                            <Button color=\"primary\" type=\"button\" style={{ margin: '5px' }} onClick={() => { onSaveProcess(OPTs.PROCESS_GUARANTEE) }}><i className=\"mdi mdi-content-save-outline mid-12px\"></i> {t(\"Exit\")}</Button>\r\n                            <Button color=\"success\" type=\"button\"\r\n                                onClick={() => { checkToContinue() }}><i className=\"mdi mdi-arrow-right-bold-circle-outline mid-12px\"></i> {t(\"Continue\")}</Button>\r\n                        </Col>\r\n                    </Row>\r\n\r\n                    <ModalEndProcess onSaveEndProcess={onSaveEndProcess} isOpen={displayModalEndProcess} toggle={() => { showModalEndProcess(false) }} />\r\n\r\n                    {\r\n                        messageDlg && messageDlg.show ? (\r\n                            <SweetAlert\r\n                                type={messageDlg.error ? \"error\" : \"success\"}\r\n                                title={messageDlg.error ? t(\"Error\") : t(\"Message\")}\r\n                                confirmButtonText={t(\"Confirm\")}\r\n                                cancelButtonText={t(\"Cancel\")}\r\n                                onConfirm={() => { showMessage(); }}>\r\n                                {messageDlg.msg}\r\n                            </SweetAlert>\r\n                        ) : null\r\n                    }\r\n\r\n                    {successSave_dlg ? (\r\n                        <SweetAlert\r\n                            success\r\n                            title={t(\"SuccessDialog\")}\r\n                            confirmButtonText={t(\"Confirm\")}\r\n                            cancelButtonText={t(\"Cancel\")}\r\n                            onConfirm={() => {\r\n                                setsuccessSave_dlg(false);\r\n                                loadData(locationData)\r\n                            }}\r\n                        >\r\n                            {t(\"SuccessSaveMessage\")}\r\n                        </SweetAlert>\r\n                    ) : null}\r\n                    {error_dlg ? (\r\n                        <SweetAlert\r\n                            error\r\n                            title={t(\"ErrorDialog\")}\r\n                            confirmButtonText={t(\"Confirm\")}\r\n                            cancelButtonText={t(\"Cancel\")}\r\n                            onConfirm={() => {\r\n                                seterror_dlg(false)\r\n                            }}\r\n                        >\r\n                            {error_msg}\r\n                        </SweetAlert>\r\n                    ) : null}\r\n                    {confirm_alert ? (\r\n                        <SweetAlert\r\n                            title={t(\"Areyousure\")}\r\n                            warning\r\n                            showCancel\r\n                            confirmButtonText={t(\"Yesdeleteit\")}\r\n                            cancelButtonText={t(\"Cancel\")}\r\n                            confirmBtnBsStyle=\"success\"\r\n                            cancelBtnBsStyle=\"danger\"\r\n                            onConfirm={() => {\r\n                                const apiBack = new BackendServices();\r\n                                // eliminarClienteIGR\r\n                                if (type == \"BIENUSADOS\") {\r\n                                    apiBack.deleteGuaranteeUsedNewEquipments(dataDelete?.transactId ?? 0, dataDelete?.facilityId ?? 0, dataDelete?.guaranteeId ?? 0).then(resp => {\r\n                                        if (resp.statusCode == \"500\") {\r\n                                            setconfirm_alert(false)\r\n                                            seterror_dlg(false)\r\n                                        } else {\r\n                                            setconfirm_alert(false)\r\n                                            setsuccessSave_dlg(true)\r\n                                        }\r\n                                    }).catch(error => {\r\n                                        setconfirm_alert(false)\r\n                                        seterror_dlg(false)\r\n                                    })\r\n                                }\r\n                                if (type == \"LINEACREDITO\") {\r\n                                    apiBack.deleteCreditLine(dataDelete?.transactId ?? 0, dataDelete?.lineId ?? 0).then(resp => {\r\n                                        if (resp.statusCode == \"500\") {\r\n                                            setconfirm_alert(false)\r\n                                            seterror_dlg(false)\r\n                                        } else {\r\n                                            setconfirm_alert(false)\r\n                                            setsuccessSave_dlg(true)\r\n                                        }\r\n                                    }).catch(error => {\r\n                                        setconfirm_alert(false)\r\n                                        seterror_dlg(false)\r\n                                    })\r\n                                }\r\n                                if (type == \"BIENMUEBLE\") {\r\n                                    apiBack.deleteGuaranteeMoveableAsset(dataDelete?.transactId ?? 0, dataDelete?.facilityId ?? 0, dataDelete?.guaranteeId ?? 0).then(resp => {\r\n                                        if (resp.statusCode == \"500\") {\r\n                                            setconfirm_alert(false)\r\n                                            seterror_dlg(false)\r\n                                        } else {\r\n                                            setconfirm_alert(false)\r\n                                            setsuccessSave_dlg(true)\r\n                                        }\r\n                                    }).catch(error => {\r\n                                        setconfirm_alert(false)\r\n                                        seterror_dlg(false)\r\n                                    })\r\n                                }\r\n                                if (type == \"OTRAGARANTIA\") {\r\n                                    apiBack.deleteOtherGuarantees(dataDelete?.transactId ?? 0, dataDelete?.facilityId ?? 0, dataDelete?.guaranteeId ?? 0).then(resp => {\r\n                                        if (resp.statusCode == \"500\") {\r\n                                            setconfirm_alert(false)\r\n                                            seterror_dlg(false)\r\n                                        } else {\r\n                                            setconfirm_alert(false)\r\n                                            setsuccessSave_dlg(true)\r\n                                        }\r\n                                    }).catch(error => {\r\n                                        setconfirm_alert(false)\r\n                                        seterror_dlg(false)\r\n                                    })\r\n                                }\r\n                                if (type == \"PIGNORACION\") {\r\n                                    apiBack.deletePledge(dataDelete?.transactId ?? 0, dataDelete?.facilityId ?? 0, dataDelete?.guaranteeId ?? 0).then(resp => {\r\n                                        if (resp.statusCode == \"500\") {\r\n                                            setconfirm_alert(false)\r\n                                            seterror_dlg(false)\r\n                                        } else {\r\n                                            setconfirm_alert(false)\r\n                                            setsuccessSave_dlg(true)\r\n                                        }\r\n                                    }).catch(error => {\r\n                                        setconfirm_alert(false)\r\n                                        seterror_dlg(false)\r\n                                    })\r\n                                }\r\n\r\n                            }}\r\n                            onCancel={() => setconfirm_alert(false)}\r\n                        >\r\n                            {t(\"Youwontbeabletorevertthis\")}\r\n                        </SweetAlert>\r\n                    ) : null}\r\n                </div>\r\n                {loading && (\r\n                    <LoadingIndicator message={t(\"Please Wait\")} />\r\n                )}\r\n                {showSuccess && (\r\n                    <SuccessMessage title={t(\"Operation Complete\")} message={t(\"Credit Proposal Saved\")} />\r\n                )}\r\n            </CreditProposalProvider>\r\n        </React.Fragment >\r\n    );\r\n\r\n}\r\n\r\nexport default DesembolsoLista;\r\n"]},"metadata":{},"sourceType":"module"}