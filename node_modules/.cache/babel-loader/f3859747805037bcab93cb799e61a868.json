{"ast":null,"code":"var _jsxFileName = \"D:\\\\_PROJECTS\\\\_SOAINT\\\\JBPM\\\\App\\\\banescocreditoscomerciales\\\\src\\\\pages\\\\CommercialCredit\\\\10_Fideicomiso\\\\AsignarNumeroFideicomiso\\\\Fideicomiso.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport PropTypes from 'prop-types';\nimport { Row, Col, Card, CardBody, CardHeader, Button, Label, Table } from \"reactstrap\";\nimport { AvForm, AvField } from \"availity-reactstrap-validation\"; //i18n\n\nimport { withTranslation } from \"react-i18next\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport { BackendServices } from \"../../../../services\";\nimport * as url from \"../../../../helpers/url_helper\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Fideicomiso = props => {\n  _s();\n\n  const location = useLocation();\n  const apiBack = new BackendServices();\n  const [dataLocation, setData] = useState(location.data);\n  const [dataTrust, setdataTrust] = useState({\n    name: \"\",\n    number: 0\n  });\n  const [locationData, setLocationData] = useState(null);\n  const history = useHistory();\n  React.useEffect(() => {\n    let dataSession;\n\n    if (location.data !== null && location.data !== undefined) {\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\n        //location.data.transactionId = 0;\n        //checkAndCreateProcedure(location.data);\n        history.push(url.URL_DASHBOARD);\n      } else {\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\n        setLocationData(location.data);\n        dataSession = location.data;\n      }\n    } else {\n      //chequeamos si tenemos guardado en session\n      var result = sessionStorage.getItem('locationData');\n\n      if (result !== undefined && result !== null) {\n        result = JSON.parse(result);\n        setLocationData(result);\n        dataSession = result;\n      }\n    } // Read Api Service data\n\n\n    initializeData(dataSession);\n  }, []);\n\n  function initializeData(dataLocation) {\n    apiBack.consultarNumeroFideicomiso(dataLocation.transactionId).then(resp => {\n      if (resp == undefined || (resp === null || resp === void 0 ? void 0 : resp.length) == 0) {\n        apiBack.guardarNumeroFideicomiso({\n          \"transactId\": Number(dataLocation.transactionId),\n          \"conclusions\": \" \"\n        }).then(response => {\n          let trustName = response.trustName.split(' ');\n          trustName.splice(trustName.length - 1, 1);\n          trustName = trustName.join(' ');\n          setdataTrust({\n            name: trustName,\n            number: response.trustNumber\n          });\n        });\n      } else {\n        let trustName = resp[0].trustName.split(' ');\n        trustName.splice(trustName.length - 1, 1);\n        trustName = trustName.join(' ');\n        setdataTrust({\n          name: trustName,\n          number: resp[0].trustNumber\n        });\n      }\n    });\n  }\n\n  function handleSubmit(event, errors, values) {\n    event.preventDefaulprops.t();\n\n    if (errors.length > 0) {\n      return;\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        lg: \"12\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-title-desc\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"card-title\",\n          children: props.t(\"Escrow\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-title-desc\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AvForm, {\n          id: \"frmSearch\",\n          className: \"needs-validation\",\n          onSubmit: handleSubmit,\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: \"6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  htmlFor: \"fideicomisoName\",\n                  children: props.t(\"Escrowname\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                  className: \"form-control\",\n                  name: \"fideicomisoName\",\n                  type: \"text\",\n                  readOnly: true,\n                  id: \"fideicomisoName\",\n                  value: dataTrust.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: \"3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  htmlFor: \"fideicomisoNumber\",\n                  children: props.t(\"Escrownumber\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                  className: \"form-control\",\n                  name: \"fideicomisoNumber\",\n                  type: \"number\",\n                  readOnly: true,\n                  id: \"fideicomisoNumber\",\n                  value: dataTrust.number\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Fideicomiso, \"T9WyFMhK6ZXd/WsZlrViLU6J2mk=\", false, function () {\n  return [useLocation, useHistory];\n});\n\n_c = Fideicomiso;\nexport default withTranslation()(Fideicomiso);\n\nvar _c;\n\n$RefreshReg$(_c, \"Fideicomiso\");","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/10_Fideicomiso/AsignarNumeroFideicomiso/Fideicomiso.js"],"names":["React","useState","PropTypes","Row","Col","Card","CardBody","CardHeader","Button","Label","Table","AvForm","AvField","withTranslation","useLocation","useHistory","BackendServices","url","Fideicomiso","props","location","apiBack","dataLocation","setData","data","dataTrust","setdataTrust","name","number","locationData","setLocationData","history","useEffect","dataSession","undefined","transactionId","length","push","URL_DASHBOARD","sessionStorage","setItem","JSON","stringify","result","getItem","parse","initializeData","consultarNumeroFideicomiso","then","resp","guardarNumeroFideicomiso","Number","response","trustName","split","splice","join","trustNumber","handleSubmit","event","errors","values","preventDefaulprops","t"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  Button,\r\n  Label,\r\n  Table\r\n} from \"reactstrap\"\r\nimport { AvForm, AvField } from \"availity-reactstrap-validation\"\r\n//i18n\r\nimport { withTranslation } from \"react-i18next\"\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport { BackendServices } from \"../../../../services\";\r\nimport * as url from \"../../../../helpers/url_helper\"\r\n\r\nconst Fideicomiso = (props) => {\r\n  const location = useLocation()\r\n  const apiBack = new BackendServices();\r\n  const [dataLocation, setData] = useState(location.data);\r\n  const [dataTrust, setdataTrust] = useState({ name: \"\", number: 0 });\r\n  const [locationData, setLocationData] = useState(null);\r\n  const history = useHistory();\r\n\r\n  React.useEffect(() => {\r\n\r\n    let dataSession;\r\n\r\n    if (location.data !== null && location.data !== undefined) {\r\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n        //location.data.transactionId = 0;\r\n        //checkAndCreateProcedure(location.data);\r\n        history.push(url.URL_DASHBOARD);\r\n      }\r\n      else {\r\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n        setLocationData(location.data);\r\n        dataSession = location.data;\r\n      }\r\n    }\r\n    else {\r\n      //chequeamos si tenemos guardado en session\r\n      var result = sessionStorage.getItem('locationData');\r\n      if (result !== undefined && result !== null) {\r\n        result = JSON.parse(result);\r\n        setLocationData(result);\r\n        dataSession = result;\r\n      }\r\n    }\r\n\r\n\r\n    // Read Api Service data\r\n    initializeData(dataSession);\r\n  }, []);\r\n  function initializeData(dataLocation) {\r\n    apiBack.consultarNumeroFideicomiso(dataLocation.transactionId).then(resp => {\r\n      if (resp == undefined || resp?.length == 0) {\r\n        apiBack.guardarNumeroFideicomiso({\r\n          \"transactId\": Number(dataLocation.transactionId),\r\n          \"conclusions\": \" \"\r\n        }).then(response => {\r\n          let trustName = response.trustName.split(' ');\r\n          trustName.splice(trustName.length - 1, 1);\r\n          trustName = trustName.join(' ');\r\n          setdataTrust({ name: trustName, number: response.trustNumber })\r\n        })\r\n      } else {\r\n        let trustName = resp[0].trustName.split(' ');\r\n        trustName.splice(trustName.length - 1, 1);\r\n        trustName = trustName.join(' ');\r\n        setdataTrust({ name: trustName, number: resp[0].trustNumber })\r\n\r\n      }\r\n    })\r\n  }\r\n  function handleSubmit(event, errors, values) {\r\n    event.preventDefaulprops.t();\r\n    if (errors.length > 0) {\r\n      return;\r\n    }\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <Row>\r\n        <Col lg=\"12\">\r\n          <p className=\"card-title-desc\"></p>\r\n          <h4 className=\"card-title\">{props.t(\"Escrow\")}</h4>\r\n          <p className=\"card-title-desc\"></p>\r\n          <AvForm id=\"frmSearch\" className=\"needs-validation\" onSubmit={handleSubmit}>\r\n            <Row>\r\n              <Col md=\"6\">\r\n                <div className=\"mb-3\">\r\n                  <Label htmlFor=\"fideicomisoName\">{props.t(\"Escrowname\")}</Label>\r\n                  <AvField\r\n                    className=\"form-control\"\r\n                    name=\"fideicomisoName\"\r\n                    type=\"text\"\r\n                    readOnly={true}\r\n                    id=\"fideicomisoName\" value={dataTrust.name} />\r\n                </div>\r\n              </Col>\r\n              <Col md=\"3\">\r\n                <div className=\"mb-3\">\r\n                  <Label htmlFor=\"fideicomisoNumber\">{props.t(\"Escrownumber\")}</Label>\r\n                  <AvField\r\n                    className=\"form-control\"\r\n                    name=\"fideicomisoNumber\"\r\n                    type=\"number\"\r\n                    readOnly={true}\r\n                    id=\"fideicomisoNumber\" value={dataTrust.number} />\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n          </AvForm>\r\n        </Col>\r\n      </Row>\r\n    </React.Fragment>\r\n  );\r\n}\r\nexport default (withTranslation()(Fideicomiso))\r\n"]},"metadata":{},"sourceType":"module"}