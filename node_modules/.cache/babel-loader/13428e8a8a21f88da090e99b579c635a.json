{"ast":null,"code":"import { WatchListModel, DocumentModel, ClientInfoModel, PartiesStaffModel } from \"../../models/Core\";\nimport ApiServiceCore from \"../ApiServiceCore\";\nimport * as url from \"../../helpers/url_helper\";\nimport qs from \"qs\";\nimport { ACT_FACILIDADACTIVOSFIJOS } from \"../../helpers/options_helper\";\nimport * as OPTs from \"../../helpers/options_helper\";\nimport { ResponseModel } from '../../models/Common/ResponseModel';\nimport moment from \"moment\";\nexport default class Services extends ApiServiceCore {\n  //analysis/customers -> retorna la info de lista de vigilancia\n  //ConsultarListaCriterioCORE    \n  async postWhatchList(params) {\n    try {\n      /*\r\n      {\r\n      \"pCustomerId\": \"06--00711-002304\",\r\n      \"pTypeId\": \"CEDULA_IDENTIDAD\",\r\n      \"pModelId\": \"LISTA_VIGILANCIA\",\r\n      \"pCustomerListParams\": {\r\n      \"KeyValueParam\": [\r\n        {\r\n            \"_x003C_Key_x003E_k__BackingField\": \"NOMBRE\",\r\n            \"_x003C_Value_x003E_k__BackingField\": \"Librada\"\r\n        },\r\n        {\r\n            \"_x003C_Key_x003E_k__BackingField\": \"SEGUNDO_NOMBRE\",\r\n            \"_x003C_Value_x003E_k__BackingField\": \"Emilio\"\r\n        },\r\n        {\r\n            \"_x003C_Key_x003E_k__BackingField\": \"PRIMER_APELLIDO\",\r\n            \"_x003C_Value_x003E_k__BackingField\": \"Rivera\"\r\n        },\r\n        {\r\n            \"_x003C_Key_x003E_k__BackingField\": \"SEGUNDO_APELLIDO\",\r\n            \"_x003C_Value_x003E_k__BackingField\": \"Gaviria\"\r\n        },\r\n        {\r\n            \"_x003C_Key_x003E_k__BackingField\": \"TIPO_ID\",\r\n            \"_x003C_Value_x003E_k__BackingField\": \"CEDULA_IDENTIDAD\"\r\n        },\r\n        {\r\n            \"_x003C_Key_x003E_k__BackingField\": \"CEDULA\",\r\n            \"_x003C_Value_x003E_k__BackingField\": \"06--00711-002304\"\r\n        }\r\n      ]\r\n      },\r\n      \"pUser\": \"wallytech_ws_user\",\r\n      \"pWaitingInterval\": 180000000,\r\n      \"pPriority\": 1\r\n      }\r\n      */\n      var result = await this.post(url.URL_CORE_WATCHLIST, params);\n      return {\n        status: 200,\n        result: WatchListModel.fromJson(result).results\n      };\n    } catch (err) {\n      return {\n        status: err.response.status,\n        error: err.response.data\n      }; //errorMessage, //errorCode\n    }\n  } //documents -> salva documento en gestor documental ONBASE\n  //GuardarDocumentoECM\n\n\n  async postDocument(data) {\n    var config = {\n      headers: {\n        //\"Accept\":\"*/*\",\n        //\"Accept-Encoding\":\"gzip, deflate, sdch, br\",\n        //\"Accept-Language\":\"fr-FR,fr;q=0.8,en-US;q=0.6,en;q=0.4\",\n        //\"Access-Control-Request-Headers\":\"accept, content-type\",\n        //\"Content-Type\":\"text/plain\",\n        //\"Content-Length\":JSON.stringify(data).length.toString(),\n        //\"Host\":\"https://qa.api.ob.banesco.com.pa/\",\n        //Connection: \"keep-alive\",\n        //\"User-Agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36\",\n        \"userId\": \"mq3898\",\n        //Usuario\n        \"clientDt\": \"clientDt\",\n        //\"Fecha de ejecución del cliente.\"\n        \"appName\": \"ReactJs\",\n        //\"Aplicacion que consume el servicio\"\n        \"requestId\": \"202112202\",\n        //\"Identificador de la solicitud.\"\n        \"channelId\": \"channelID\" //\"Canal consumidor\",                \n\n      }\n    };\n    var result = await this.post(url.URL_CORE_DOCUMENTS, data, config);\n    console.log(\"Result Document: \", result);\n    /*\r\n    var result = {\r\n        \"Status\": {\r\n            \"StatusCode\": \"M0000\",\r\n            \"StatusDesc\": \"OK\"\r\n        },\r\n        \"Token\": \"e793-ddb2-ab0e-6626-5d3e-5f19-b79b-1f5d\",\r\n        \"Result\": {\r\n            \"DocName\": \"TDC - Contrato de TDC  (98765432)\",\r\n            \"DocumentID\": \"34589873\",\r\n            \"FormType\": \"HTML\"\r\n        }\r\n    }\r\n    */\n    //console.log(result);\n\n    if (result.Status.StatusCode === \"M0000\") {\n      var dataresult = {\n        docName: result.Result['DocName'],\n        documentId: result.Result['DocumentID'],\n        formType: result.Result['FormType']\n      };\n      return dataresult;\n    }\n\n    return undefined;\n  } //documents -> Ver documento en gestor documental ONBASE\n  //VerDocumentoECM\n\n\n  async postViewDocument(docId) {\n    try {\n      console.log(docId);\n      var data = {\n        DocumentHandle: docId,\n        ReturnBase64: false\n      };\n      var result = await this.post(url.URL_CORE_DOCUMENTSVIEW, data);\n      console.log(\"Result Document: \", result);\n      return result.Documents[0].DocPop;\n    } catch (e) {}\n\n    return null;\n  } //v1/parties/information -> retorna la info del cliente\n  //BuscarClienteCORE\n\n\n  async getPartiesInformation(params) {\n    /*var item =[ {id:800120843,clientnumber:800120843,clientname:\"Israel Michel Gomez Alfonso\",firstname:\"Israel\",secondname:\"Michel\",\r\n    lastname:\"Gomez\",secondlastname:\"Alfonso\",idtype:\"CED\",idnumber:\"456123\"},\r\n    {id:800120845,clientnumber:800120845,clientname:\"Pancho Pedro Gomez Alfonso\",firstname:\"Pancho\",secondname:\"Pedro\",\r\n    lastname:\"Gomez\",secondlastname:\"Alfonso\",idtype:\"RUC\",idnumber:\"456456\"}];\r\n    return item;*/\n    //params = {PartyType:Juridico,PartyId:600088018}\n    var data = qs.stringify(params);\n    console.log(data); //url.URL_CORSBYPASS +\n\n    var result = await this.get(url.URL_CORE_PARTIEINFO + \"?\" + data);\n    console.log(result);\n\n    if (result.Status.StatusCode === \"M0000\") {\n      return ClientInfoModel.fromJson(result);\n    } else {\n      result[\"error\"] = result.Status.StatusDesc;\n      result[\"errorCode\"] = result.Status.StatusCode;\n      return result;\n    }\n  }\n\n  async getPartiesInformationAddress(params) {\n    try {\n      //params = {PartyType:Juridico,PartyId:600088018}\n      var result = await this.getPartiesInformation(params);\n\n      if (result !== undefined && result.length > 0) {\n        var address = {\n          \"AddrDesc\": result[0].AddrDesc,\n          \"City\": result[0].City.Desc,\n          \"CountyDistrict\": result[0].CountyDistrict.Cod,\n          \"HouseNumber\": result[0].HouseNumber.Cod,\n          \"Jurisdiction\": result[0].Jurisdiction.Cod\n        };\n      }\n    } catch (err) {}\n\n    return undefined;\n  } //Accionistas\n\n\n  async getPartiesStaff(PartyId) {\n    var params = {\n      PartyId: PartyId\n    }; //{PartyId:600235373}\n\n    params = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_PARTIESTAFF + \"?\" + params);\n    return PartiesStaffModel.fromJson(result);\n  } ///v1/parties/staff\n\n\n  async putPartiesStaff(data) {\n    data = {\n      \"Party\": {\n        \"PartyKey\": {\n          \"PartyId\": \"600235373\"\n        },\n        \"OrgPartyInfo\": {\n          \"OrgData\": {\n            \"Staff\": [{\n              \"BirthDt\": \"1959-02-12\",\n              \"FATCA\": null,\n              \"Gender\": \"MALE\",\n              \"PartyData\": {\n                \"Contact\": {\n                  \"Locator\": {\n                    \"PostAddr\": [{\n                      \"City\": {\n                        \"Cod\": \"PANAMA\"\n                      },\n                      \"CountyDistrict\": {\n                        \"Cod\": \"8047\"\n                      },\n                      \"Jurisdiction\": {\n                        \"Cod\": \"8606\"\n                      },\n                      \"Province\": {\n                        \"Cod\": \"PA08\"\n                      },\n                      \"Street\": \"PRINCIPAL\",\n                      \"Country\": {\n                        \"CountryCode\": \"PA\"\n                      }\n                    }],\n                    \"Phone\": [{\n                      \"PhoneNum\": \"66669999\",\n                      \"PhoneType\": \"Home\"\n                    }]\n                  }\n                },\n                \"Nationality\": \"ES\",\n                \"IssuedIdent\": [{\n                  \"Ident\": {\n                    \"IssuedIdentValue\": \"E-8-101498\"\n                  }\n                }]\n              },\n              \"PartyKey\": {\n                \"PartyType\": \"1\"\n              },\n              \"PEPData\": {\n                \"IsPEP\": false\n              },\n              \"PersonName\": {\n                \"FirstName\": \"LUIS\",\n                \"LastName\": \"MELLA\",\n                \"SecondLastName\": \"RODRIGUEZ\",\n                \"SecondName\": \"FRANCISCO\"\n              },\n              \"Shareholding\": \"100\",\n              \"SharesType\": {\n                \"Cod\": \"1\"\n              },\n              \"StaffPosition\": \"08\",\n              \"OrgName\": null\n            }, {\n              \"BirthDt\": \"1959-02-12\",\n              \"FATCA\": {\n                \"OtherNationality\": false,\n                \"US183Permanence\": false,\n                \"USRelated\": false,\n                \"USResid\": false,\n                \"USSignor\": false\n              },\n              \"Gender\": \"MALE\",\n              \"PartyData\": {\n                \"Contact\": {\n                  \"Locator\": {\n                    \"PostAddr\": [{\n                      \"CountyDistrict\": {\n                        \"Cod\": \"8047\"\n                      },\n                      \"Province\": {\n                        \"Cod\": \"PA08\"\n                      },\n                      \"Country\": {\n                        \"CountryCode\": \"PA\"\n                      }\n                    }]\n                  }\n                },\n                \"Nationality\": \"PA\",\n                \"IssuedIdent\": [{\n                  \"Ident\": {\n                    \"IssuedIdentValue\": \"E-8-101498\"\n                  }\n                }]\n              },\n              \"PartyKey\": {\n                \"PartyType\": \"1\"\n              },\n              \"PEPData\": {\n                \"IsPEP\": false\n              },\n              \"PersonName\": {\n                \"FirstName\": \"LUIS\",\n                \"LastName\": \"MELLA\",\n                \"SecondLastName\": \"RODRIGUEZ\",\n                \"SecondName\": \"FRANCISCO\"\n              },\n              \"Profession\": {\n                \"Value\": \"1007\"\n              },\n              \"SharesType\": {\n                \"Cod\": \"1\"\n              },\n              \"StaffPosition\": \"09\",\n              \"OrgName\": null\n            }, {\n              \"BirthDt\": \"1959-02-12\",\n              \"FATCA\": null,\n              \"Gender\": \"MALE\",\n              \"PartyData\": {\n                \"Contact\": {\n                  \"Locator\": {\n                    \"PostAddr\": [{\n                      \"City\": {\n                        \"Cod\": \"PANAMA\"\n                      },\n                      \"CountyDistrict\": {\n                        \"Cod\": \"8047\"\n                      },\n                      \"Jurisdiction\": {\n                        \"Cod\": \"8606\"\n                      },\n                      \"Province\": {\n                        \"Cod\": \"PA08\"\n                      },\n                      \"Street\": \"PRINCIPAL\",\n                      \"Country\": {\n                        \"CountryCode\": \"PA\"\n                      }\n                    }],\n                    \"Phone\": [{\n                      \"PhoneNum\": \"65263673\",\n                      \"PhoneType\": \"Home\"\n                    }]\n                  }\n                },\n                \"Nationality\": \"ES\",\n                \"IssuedIdent\": [{\n                  \"Ident\": {\n                    \"IssuedIdentValue\": \"E-8-101498\"\n                  }\n                }]\n              },\n              \"PartyKey\": {\n                \"PartyType\": \"1\"\n              },\n              \"PEPData\": {\n                \"IsPEP\": false\n              },\n              \"PersonName\": {\n                \"FirstName\": \"LUIS\",\n                \"LastName\": \"MELLA\",\n                \"SecondLastName\": \"RODRIGUEZ\",\n                \"SecondName\": \"FRANCISCO\"\n              },\n              \"SharesType\": {\n                \"Cod\": \"1\"\n              },\n              \"StaffPosition\": \"10\",\n              \"OrgName\": null\n            }, {\n              \"BirthDt\": \"1982-02-15\",\n              \"FATCA\": null,\n              \"Gender\": \"MALE\",\n              \"PartyData\": {\n                \"Contact\": {\n                  \"Locator\": {\n                    \"PostAddr\": [{\n                      \"Province\": {\n                        \"Cod\": \"PA08\"\n                      },\n                      \"Country\": {\n                        \"CountryCode\": \"PA\"\n                      }\n                    }]\n                  }\n                },\n                \"Nationality\": \"PA\",\n                \"IssuedIdent\": [{\n                  \"Ident\": {\n                    \"IssuedIdentValue\": \"02--00710-002013\"\n                  }\n                }]\n              },\n              \"PartyKey\": {\n                \"PartyType\": \"1\"\n              },\n              \"PersonName\": {\n                \"FirstName\": \"JONATHAN\",\n                \"LastName\": \"DELGADO\",\n                \"SecondLastName\": \"MARIN\",\n                \"SecondName\": \"IVES\"\n              },\n              \"SharesType\": {\n                \"Cod\": \"1\"\n              },\n              \"StaffPosition\": \"10\",\n              \"OrgName\": null\n            }, {\n              \"BirthDt\": \"1958-09-29\",\n              \"FATCA\": null,\n              \"Gender\": \"MALE\",\n              \"PartyData\": {\n                \"Contact\": {\n                  \"Locator\": {\n                    \"PostAddr\": [{\n                      \"Province\": {\n                        \"Cod\": \"PA08\"\n                      },\n                      \"Country\": {\n                        \"CountryCode\": \"PA\"\n                      }\n                    }]\n                  }\n                },\n                \"Nationality\": \"ES\",\n                \"IssuedIdent\": [{\n                  \"Ident\": {\n                    \"IssuedIdentValue\": \"ANT119629\"\n                  }\n                }]\n              },\n              \"PartyKey\": {\n                \"PartyType\": \"1\"\n              },\n              \"PersonName\": {\n                \"FirstName\": \"RAMON\",\n                \"LastName\": \"MAÑAS\",\n                \"SecondLastName\": \"SEGURA\"\n              },\n              \"SharesType\": {\n                \"Cod\": \"1\"\n              },\n              \"StaffPosition\": \"10\",\n              \"OrgName\": null\n            }]\n          }\n        }\n      }\n    };\n    var result = await this.put(url.URL_CORE_PARTIESTAFF, data);\n    return PartiesStaffModel.fromJson(result);\n  } //ConsultarListaEmpresasRelacionadas\n\n\n  async getCompaniesRelations(params) {\n    //params = {PartyId:600012387}\n    var data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_COMPANIESRELATIONS + \"?\" + data);\n    return PartiesStaffModel.fromJson(result);\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                       Api para obtener todos los paises desde el catalogo                      */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getPaisesCatalogo() {\n    try {\n      var result = sessionStorage.getItem('catPaises');\n\n      if (result !== undefined && result !== null) {\n        return JSON.parse(result);\n      } //sessionStorage.setItem('catPaises', JSON.stringify(result.roles));\n\n\n      let params = {\n        catalog_name: 'PAIS',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      sessionStorage.setItem('catPaises', JSON.stringify(result.catalog));\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*       Api para obtener las provincias de un pais, pasandole como parametro el id del pais      */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getProvinciasCatalogo(pais) {\n    try {\n      let params = {\n        catalog_name: 'PROVINCIA',\n        parent_catalog_name: pais,\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*    API para obtener los distrito de cada provincia pasandole como parametro el id provincia    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getDistritoCatalogo(provincia) {\n    try {\n      let params = {\n        catalog_name: 'DISTRITO',\n        parent_catalog_name: provincia,\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                      Api para obtener los corregimientos de cada distrito                      */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getCorregimientoCatalogo(distrito) {\n    try {\n      let params = {\n        catalog_name: 'CORREGIMIENTO',\n        parent_catalog_name: distrito,\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                         Api para obtener las ciudades de cada provincia                        */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getCiudadCatalogo(provincia) {\n    try {\n      let params = {\n        catalog_name: 'CIUDAD',\n        parent_catalog_name: provincia,\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                      Api para obtener el grupo economico de los catalogos                      */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getGrupoEconomicoCatalogo() {\n    try {\n      let params = {\n        catalog_name: 'GRUPO ECONOMICO',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      result.catalog.Records.unshift({\n        Description: \"N/A\",\n        Code: \"N/A\"\n      });\n      return result.catalog;\n    } catch (err) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                   Api para obtener las bancas esta api proviene de catalogos                   */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getBancaCatalogo() {\n    try {\n      let params = {\n        catalog_name: 'BANCA',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (err) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                   Api muestra todos los cargos que retorna desde el catalogo                   */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getCargosCatalogo() {\n    try {\n      let params = {\n        catalog_name: 'CARGO',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                     Api retorna todos los bancos exitentes para el catalogo                    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getBancosCatalogo() {\n    try {\n      let params = {\n        catalog_name: 'BANCOS',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                     CATALOGO DE ACTIVIDAD ECONOMICA                    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getActividadEconomicaCatalogo() {\n    try {\n      let params = {\n        catalog_name: 'ACTIVIDAD ECONOMICA',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (err) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                     CATALOGO DE ACTIVIDAD ECONOMICA                    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getSubActividadEconomicaCatalogo(codeActividad) {\n    try {\n      let params = {\n        catalog_name: 'SUB ACTIVIDAD ECONOMICA',\n        parent_catalog_name: codeActividad,\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (err) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                     CATALOGO DE SECTOR ECONOMICO                    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getSectorEconomicoCatalogo() {\n    try {\n      let params = {\n        catalog_name: 'SECTOR ECONOMICO',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                     CATALOGO RELACION                    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getRelacionCatalogo() {\n    try {\n      let params = {\n        catalog_name: 'RELACION',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                     CATALOGO TIPO DE GARANTIA                    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getTipoGarantiaCatalogo() {\n    try {\n      let params = {\n        catalog_name: 'TIPO DE GARANTIA',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /*\r\n  \"catalog\": {\r\n      \"type\": \"TIPO DE GARANTIA\",\r\n      \"records\": [\r\n          {\r\n              \"CODIGO\": \"100\",\r\n              \"DESCRIPCION\": \"Garantia Hipotecaria Mueble\"\r\n          },\r\n          {\r\n              \"CODIGO\": \"200\",\r\n              \"DESCRIPCION\": \"Garantia Hipotecaria Inmueble\"\r\n          },\r\n          {\r\n              \"CODIGO\": \"300\",\r\n              \"DESCRIPCION\": \"Depositos Pignorados en el Banco\"\r\n          },\r\n          {\r\n              \"CODIGO\": \"400\",\r\n              \"DESCRIPCION\": \"Depositos Pignorados en Otros Banco\"\r\n          },\r\n          {\r\n              \"CODIGO\": \"500\",\r\n              \"DESCRIPCION\": \"Garantia Prendaria\"\r\n          },\r\n          {\r\n              \"CODIGO\": \"600\",\r\n              \"DESCRIPCION\": \"Otras Garantias\"\r\n          },\r\n          {\r\n              \"CODIGO\": \"700\",\r\n              \"DESCRIPCION\": \"SIN GARANTIAS\"\r\n          }\r\n      ]\r\n  }\r\n  */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                     CATALOGO MONEDAS                    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getMonedaCatalogo() {\n    try {\n      let params = {\n        catalog_name: 'MONEDA',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                     CATALOGO SUCURSAL  o Agencias                    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getSucursalCatalogo() {\n    try {\n      let params = {\n        catalog_name: 'SUCURSAL',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                       Api para obtener todos los subproductos catalogo                      */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getSubProductosCatalogo() {\n    try {\n      // return json;\n      let params = {\n        catalog_name: 'SUBPRODUCTO',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                       Api para obtener todos las sucursales o agencias catalogo                      */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getSucursalesCatalogo() {\n    try {\n      // return json;\n      let params = {\n        catalog_name: 'SUCURSAL',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  } //CATALOGO - Tipo de Limites de Credito\n\n\n  async getTypeOfCreditLimitsCatalog() {\n    try {\n      // return json;\n      let params = {\n        catalog_name: 'LIMIT REFERENCE',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  } //CATALOGO - Aseguradoras\n\n\n  async getInsurersCatalog() {\n    try {\n      // return json;\n      let params = {\n        catalog_name: 'ASEGURADORAS',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  } //CATALOGO - Marcas de Auto\n\n\n  async getCarBrandCatalog() {\n    try {\n      // return json;\n      let params = {\n        catalog_name: 'MARCA DE AUTOS',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  } //CATALOGO - Modelos de Auto\n\n\n  async getCarModelCatalog() {\n    try {\n      // return json;\n      let params = {\n        catalog_name: 'MODELO DE AUTO',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  } //CATALOGO - Corredoras\n\n\n  async getBrokersCatalog() {\n    try {\n      // return json;\n      let params = {\n        catalog_name: 'BROKER',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  } //CATALOGO - Fiduciaria\n\n\n  async getTrusteeCatalog() {\n    try {\n      // return json;\n      let params = {\n        catalog_name: 'FIDUCIARIAS',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  } //CATALOGO - SubProducto\n\n\n  async getSubProductCatalog() {\n    try {\n      // return json;\n      let params = {\n        catalog_name: 'SUBPRODUCTO',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  } //CATALOGO - Categorias\n\n\n  async getCategoriesCatalog() {\n    try {\n      // return json;\n      let params = {\n        catalog_name: 'CATEGORIA',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  } //CATALOGO - Tipo de poliza\n\n\n  async getPolicyTypeCatalog() {\n    try {\n      // return json;\n      let params = {\n        catalog_name: 'TIPO POLIZA',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  } //CATALOGO - Sub tipo de Garantia\n\n\n  async getSubTypeWarrantyCatalog() {\n    try {\n      // return json;\n      let params = {\n        catalog_name: 'SUB TIPO GARANTIA',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  } //CATALOGO - Clases de Auto\n\n\n  async getAutoClassCatalog() {\n    try {\n      // return json;\n      let params = {\n        catalog_name: 'CLASE AUTO',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  } //CATALOGO - Avaluadora\n\n\n  async getAppraiserCatalog() {\n    try {\n      // return json;\n      let params = {\n        catalog_name: 'AVALUADORA',\n        parent_catalog_name: \"\",\n        keyword: \"\"\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\n      return result.catalog;\n    } catch (ex) {}\n\n    return null;\n  }\n  /*------------------------------------------------------------------------------------*/\n  ///v1/loans/details/informations\n  //Retorna las facilidades de un cliente ... partyId -> numero del cliente en T24\n  //getFacilidades\n\n\n  async getFacilities(partyId) {\n    try {\n      let params = {\n        PartyId: partyId\n      };\n      let data = qs.stringify(params);\n      var result = await this.get(url.URL_CORE_FACILIDADES + \"?\" + data); //return result.AcctLoans.AcctLoan;\n\n      var dataResult = [];\n\n      try {\n        //Armamos la data a mostrar en pantalla\n        result.AcctLoans.AcctLoan.map(function (item, i) {\n          try {\n            dataResult.push({\n              \"facilityType\": item.ProductDesc,\n              \"approvedAmount\": item.AcctOpeningInfo.InitialAmt.Amt,\n              \"approvedDate\": item.AcctOpeningInfo.OpenDt,\n              \"actualBalance\": item.AcctBal[0].CurAmt.Amt,\n              \"debtorName\": item.AcctMember[0].PartyName.ShortName\n            });\n          } catch (err) {}\n        });\n      } catch (err) {\n        console.error(err);\n      }\n\n      console.log(\"getFacilities\", dataResult);\n      return dataResult; //Tipo de facilidad ProductDesc\n      //Monto Aprobadp AcctOpeningInfo.InitialAmt.Amt\n      //fecha AcctOpeningInfo.OpenDt\n      //Balance Actual AcctBal[0].CurAmt.Amt\n      //Deudor AcctMember[0].PartyName.ShortName\n    } catch (err) {\n      console.error(err);\n    }\n\n    return undefined;\n  } //retorna los Clientes Relacionados se le pasa el Numero de Cliente de T24\n\n\n  async getRelatedClients(partyId) {\n    let params = {\n      PartyId: partyId\n    };\n    let data = qs.stringify(params);\n    var dataResult = [];\n\n    try {\n      //servicio retorna clientes relacionados\n      var resultData = await this.get(url.URL_CORE_COMPANIESRELATIONS + \"?\" + data); //Armamos la data a mostrar en pantalla\n\n      for (var client in resultData) {\n        var partyNumber = client.PartyPartyRelInfo.PartyRef[0].RelPartyRef[0].PartyKey[0].PartyId;\n\n        if (partyNumber !== undefined && partyNumber !== null && partyNumber.length > 0) {\n          var resultData = await this.get(url.URL_CORE_COMPANIESRELATIONS + \"?\" + data);\n          dataResult.push(partyNumber);\n        }\n      }\n    } catch (err) {\n      console.error(\"URL_CORE_FACILIDADES\", err);\n    }\n\n    return dataResult;\n  } //ExposicionCorporativa se le pasa el Numero de Cliente de T24\n\n\n  async getCorporateExhibition(partyId) {\n    let params = {\n      PartyId: partyId\n    };\n    let data = qs.stringify(params);\n    var dataResult = [];\n    var longTerm = {\n      name: \"Facilidades Largo Plazo\",\n      approvalRisk: 0,\n      proposalRisk: 0,\n      variationRisk: 0\n    };\n    var shortTerm = {\n      name: \"Facilidades Corto Plazo\",\n      approvalRisk: 0,\n      proposalRisk: 0,\n      variationRisk: 0\n    };\n    var totalTerm = {\n      name: \"Total de Facilidades\",\n      approvalRisk: 0,\n      proposalRisk: 0,\n      variationRisk: 0\n    };\n    var pledged = {\n      name: \"Monto Pignorado\",\n      approvalRisk: 0,\n      proposalRisk: 0,\n      variationRisk: 0\n    };\n    var netExposition = {\n      name: \"Exposicion Neta\",\n      approvalRisk: 0,\n      proposalRisk: 0,\n      variationRisk: 0\n    };\n\n    try {\n      //servicio retorna CP y LP (Corto y Largo Plazo)\n      var result = await this.get(url.URL_CORE_FACILIDADES + \"?\" + data);\n      console.log(\"getCorporateExhibition result\", result); //Armamos la data a mostrar en pantalla\n\n      result.AcctLoans.AcctLoan.map(function (item, i) {\n        var openYear = parseInt(String(item.AcctOpeningInfo.OpenDt).split('-')[0]);\n        var dueYear = parseInt(String(item.CreditAcctData.DueDt).split('-')[0]);\n\n        if (dueYear - openYear > 1) {\n          //Largo Plazo\n          longTerm.approvalRisk += Number(item.AcctOpeningInfo.InitialAmt.Amt);\n          longTerm.proposalRisk += Number(item.AcctBal[0].CurAmt.Amt);\n        } else {\n          //Corto Pazo                    \n          shortTerm.approvalRisk += Number(item.AcctOpeningInfo.InitialAmt.Amt);\n          shortTerm.proposalRisk += Number(item.AcctBal[0].CurAmt.Amt);\n        }\n      });\n      console.log(\"getCorporateExhibition item\", longTerm);\n      longTerm.variationRisk = longTerm.approvalRisk - longTerm.proposalRisk;\n      shortTerm.variationRisk = shortTerm.approvalRisk - shortTerm.proposalRisk;\n      dataResult.push(longTerm);\n      dataResult.push(shortTerm);\n      totalTerm.approvalRisk = shortTerm.approvalRisk + longTerm.approvalRisk;\n      totalTerm.proposalRisk = shortTerm.proposalRisk + longTerm.proposalRisk;\n      totalTerm.variationRisk = totalTerm.approvalRisk - totalTerm.proposalRisk;\n      dataResult.push(totalTerm);\n    } catch (err) {\n      console.error(\"URL_CORE_FACILIDADES\", err);\n    }\n\n    try {\n      //servicio retorna Pignorados\n      var result = await this.get(url.URL_CORE_PIGNORADO + \"?\" + data); //Armamos la data a mostrar en pantalla\n\n      result.Collaterals.CollateralInfo.map(function (item, i) {\n        if (item.AcctKey.AcctReference !== null) {\n          pledged.approvalRisk += Number(item.Collateral.CollateralAmt.Amt);\n          pledged.proposalRisk += Number(item.Collateral.CollateralAmt.Amt);\n          pledged.variationRisk += Number(item.Collateral.CollateralAmt.Amt);\n        }\n      });\n      dataResult.push(pledged);\n    } catch (err) {\n      console.error(\"URL_CORE_PIGNORADO\", err);\n    }\n\n    if (dataResult.length > 0) {\n      netExposition.approvalRisk = totalTerm.approvalRisk - pledged.approvalRisk;\n      netExposition.proposalRisk = totalTerm.proposalRisk - pledged.proposalRisk;\n      netExposition.variationRisk = totalTerm.approvalRisk - pledged.proposalRisk;\n      dataResult.push(netExposition);\n    }\n\n    return dataResult;\n  } //ExposicionCorporativa se le pasa el Numero de Cliente de T24\n\n\n  async getCorporateExhibitionByClients(partyId) {\n    let clients = await this.getRelatedClients(partyId);\n    var dataResult = [];\n\n    for (var i = 0; i < clients.length; i++) {\n      let result = await this.getCorporateExhibition(clients[i]);\n      console.log(\"getCorporateExhibition\", result);\n\n      if (result !== null && result.length > 0) {\n        dataResult.push({\n          clientId: \"Cliente \" + i,\n          data: result\n        });\n      }\n    }\n\n    console.log(\"dataResult\", dataResult);\n    return dataResult;\n  } //Deudas a Corto Plazo... se le pasa el Numero de Cliente de T24\n\n  /*async getShortTermDebts(partyId) {\r\n        let params = {\r\n          PartyId: partyId\r\n      }\r\n        let data = qs.stringify(params);\r\n        var dataResult = [];\r\n      //var shortTerm ={name:\"Facilidades Corto Plazo\",approvalRisk:0,proposalRisk:0,variationRisk:0};\r\n      var totalTerm = { name: \"Total\", approvalRisk: 0, proposalRisk: 0, variationRisk: 0, date: moment().format(\"YYYY-MM-DD\") };\r\n        try {\r\n            //servicio retorna CP y LP (Corto y Largo Plazo)\r\n          var result = await this.get(url.URL_CORE_FACILIDADES + \"?\" + data);\r\n            console.log(\"getCorporateExhibition result\", result);\r\n            //Armamos la data a mostrar en pantalla\r\n          result.AcctLoans.AcctLoan.map(function (item, i) {\r\n              var openYear = parseInt(String(item.AcctOpeningInfo.OpenDt).split('-')[0]);\r\n              var dueYear = parseInt(String(item.CreditAcctData.DueDt).split('-')[0]);\r\n              if (dueYear - openYear > 1) { //Largo Plazo\r\n              }\r\n              else{//Corto Plazo\r\n                  var shortTerm = { name: item.ProductDesc, approvalRisk: 0, proposalRisk: 0, variationRisk: 0 }\r\n                  shortTerm.approvalRisk = Number(item.AcctOpeningInfo.InitialAmt.Amt);\r\n                  shortTerm.proposalRisk = Number(item.AcctBal[0].CurAmt.Amt);\r\n                  shortTerm.variationRisk = shortTerm.approvalRisk - shortTerm.proposalRisk;\r\n                  shortTerm.name = item.ProductDesc\r\n                  shortTerm.date = item.AcctOpeningInfo.OpenDt\r\n                    totalTerm.approvalRisk += shortTerm.approvalRisk;\r\n                  totalTerm.proposalRisk += shortTerm.proposalRisk;\r\n                    dataResult.push(shortTerm);\r\n              }\r\n          })\r\n            totalTerm.variationRisk = totalTerm.approvalRisk - totalTerm.proposalRisk;\r\n          dataResult.push(totalTerm);\r\n      }\r\n      catch (err) {\r\n          console.error(\"URL_CORE_FACILIDADES\", err);\r\n      }\r\n          return dataResult;\r\n  }*/\n  //Deudas a Corto y Largo Plazo... se le pasa el Numero de Cliente de T24\n\n\n  async getShortLongTermDebts(partyId) {\n    let params = {\n      PartyId: partyId\n    };\n    let data = qs.stringify(params);\n    var longTermresult = []; //{name:\"Facilidades Corto Plazo\",approvalRisk:0,proposalRisk:0,variationRisk:0};\n\n    var longTermTotal = {\n      name: \"Total\",\n      approvalRisk: 0,\n      proposalRisk: 0,\n      variationRisk: 0,\n      date: moment().format(\"YYYY-MM-DD\")\n    };\n    var shortTermresult = []; //{name:\"Facilidades Corto Plazo\",approvalRisk:0,proposalRisk:0,variationRisk:0};\n\n    var shortTermTotal = {\n      name: \"Total\",\n      approvalRisk: 0,\n      proposalRisk: 0,\n      variationRisk: 0,\n      date: moment().format(\"YYYY-MM-DD\")\n    };\n\n    try {\n      //servicio retorna CP y LP (Corto y Largo Plazo)\n      var result = await this.get(url.URL_CORE_FACILIDADES + \"?\" + data);\n      console.log(\"getCorporateExhibition result\", result); //Armamos la data a mostrar en pantalla\n\n      result.AcctLoans.AcctLoan.map(function (item, i) {\n        var openYear = parseInt(String(item.AcctOpeningInfo.OpenDt).split('-')[0]);\n        var dueYear = parseInt(String(item.CreditAcctData.DueDt).split('-')[0]);\n\n        if (dueYear - openYear > 1) {\n          //Largo Plazo\n          var longTerm = {\n            name: \"Facilidades Largo Plazo\",\n            approvalRisk: 0,\n            proposalRisk: 0,\n            variationRisk: 0\n          };\n          longTerm.approvalRisk = Number(item.AcctOpeningInfo.InitialAmt.Amt);\n          longTerm.proposalRisk = Number(item.AcctBal[0].CurAmt.Amt);\n          longTerm.variationRisk = longTerm.approvalRisk - longTerm.proposalRisk;\n          longTerm.name = item.ProductDesc;\n          longTerm.date = item.AcctOpeningInfo.OpenDt;\n          longTermTotal.approvalRisk += longTerm.approvalRisk;\n          longTermTotal.proposalRisk += longTerm.proposalRisk;\n          longTermresult.push(longTerm);\n        } else {\n          //Corto Pazo  \n          var shortTerm = {\n            name: item.ProductDesc,\n            approvalRisk: 0,\n            proposalRisk: 0,\n            variationRisk: 0\n          };\n          shortTerm.approvalRisk = Number(item.AcctOpeningInfo.InitialAmt.Amt);\n          shortTerm.proposalRisk = Number(item.AcctBal[0].CurAmt.Amt);\n          shortTerm.variationRisk = shortTerm.approvalRisk - shortTerm.proposalRisk;\n          shortTerm.name = item.ProductDesc;\n          shortTerm.date = item.AcctOpeningInfo.OpenDt;\n          shortTermTotal.approvalRisk += shortTerm.approvalRisk;\n          shortTermTotal.proposalRisk += shortTerm.proposalRisk;\n          shortTermresult.push(shortTerm);\n        }\n      });\n      longTermTotal.variationRisk = longTermTotal.approvalRisk - longTermTotal.proposalRisk;\n      longTermresult.push(longTermTotal);\n      shortTermTotal.variationRisk = shortTermTotal.approvalRisk - shortTermTotal.proposalRisk;\n      shortTermresult.push(shortTermTotal);\n    } catch (err) {\n      console.error(\"URL_CORE_FACILIDADES\", err);\n    }\n\n    return {\n      longTermresult,\n      shortTermresult\n    };\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                                 Retorna los balances por meses                                 */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getAverages(AcctReference) {\n    let params = {\n      AcctReference: AcctReference\n    };\n    let data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_AVERAGES + \"?\" + data);\n    return result;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                     Obtenemos una lista de las importaciones que se generen                    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getListaImportaciones(PartyId) {\n    let params = {\n      PartyId: PartyId\n    };\n    let data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_IMPORTACIONES + \"?\" + data);\n    return result;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                 Obtenemos una lista de las exportaciones que se hayan generado                 */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getListaExportaciones(PartyId) {\n    let params = {\n      PartyId: PartyId\n    };\n    let data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_EXPORTACIONES + \"?\" + data);\n    return result;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                          Obtenemos los prestamos entrantes existentes                          */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getPrestamosEntrantes(PartyId) {\n    let params = {\n      PartyId: PartyId\n    };\n    let data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_INGOING + \"?\" + data);\n    return result;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                    Obtenemos una lista de todos los presstamos que ya salen                    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getPrestamosSalientes(PartyId) {\n    let params = {\n      PartyId: PartyId\n    };\n    let data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_OUTOGOING + \"?\" + data);\n    return result;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*               Obtenemos la lista de creditos que existen en la actualidad activos              */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getCreditosExistentes(PartyId) {\n    let params = {\n      PartyId: PartyId\n    };\n    let data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_CREDITOS + \"?\" + data);\n    return result;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                                        Creditos en linea                                       */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getCreditosLine(PartyId) {\n    let params = {\n      PartyId: PartyId\n    };\n    let data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_CREDITOS_LINE + \"?\" + data);\n    return result;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*     Nos devuelve todas las transacciones que ha realizado el usuario por un rango de fechas    */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getTransactions(AcctId, EndDt, StartDt) {\n    // ejemplo del dataField\n    // AcctId=1001553287&EndDt=2021-10-16T09:32:51&StartDt=2021-09-16T00:00:00\n    let params = {\n      AcctId: AcctId,\n      EndDt: EndDt,\n      StartDt: StartDt\n    };\n    let data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_TRANSACCTIONS + \"?\" + data);\n    return result;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*                                  Obtenemos todos los prestamos                                 */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getPrestamos(PartyId) {\n    let params = {\n      PartyId: PartyId\n    };\n    let data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_PRESTAMOS + \"?\" + data);\n    return result;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*               Obtenemos toda la informacion del prestamos dentro de una actividad              */\n\n  /* ---------------------------------------------------------------------------------------------- */\n\n\n  async getPrestamosInfo(AcctId) {\n    let params = {\n      AcctId: AcctId\n    };\n    let data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_PRESTAMOS_INFORMATION + \"?\" + data);\n    return result;\n  }\n  /* ---------------------------------------------------------------------------------------------- */\n\n  /*               Obtenemos toda la informacion del Reporting Services                            */\n\n  /* ---------------------------------------------------------------------------------------------- */\n  //https://qa.api.ob.banesco.com.pa/APIUtil/v1/reports/atoms?FECHA=20210930&CLIENTE=600167424\n\n\n  async getReportingServices(partyId) {\n    //partyId -> numero del cliente en T24\n    let params = {\n      FECHA: moment().format(\"YYYYMMDD\"),\n      //preguntar pq la fecha no se puede cambiar\n      CLIENTE: partyId\n    };\n    let data = qs.stringify(params);\n    var result = await this.get(url.URL_CORE_REPORTINGSERVICES + \"?\" + data);\n    return result;\n    /*{\r\n    \"records\": [\r\n    {\r\n        \"FECHA\": \"20210930\",\r\n        \"T_CREDITO\": \"002\",\r\n        \"T_FACILIDAD\": \"05\",\r\n        \"CLASIFICACION\": \"02\",\r\n        \"LOC_EXT\": \"L\",\r\n        \"REGION\": \"014\",\r\n        \"CLIENTE_RUC\": \"8-805-442\",\r\n        \"TNO_EMPRESA\": \"06\",\r\n        \"NOMBRE_CLIENTE\": \"ROBERTO ANTONIO SANCHEZ CONCEPCION\",\r\n        \"GRUPO_ECON\": \"ROBERTO ANTONIO SANCHEZ CONCEPCION\",\r\n        \"GRUPO_RUC\": \"8-805-442\",\r\n        \"T_RELACION\": \"P999\",\r\n        \"ACT_ECON\": \"2103\",\r\n        \"TASA_INT\": \"10.5\",\r\n        \"MONTO_IN\": 5400,\r\n        \"INT_PC\": 0,\r\n        \"FECHA_INI\": \"20150616\",\r\n        \"FECHA_FIN\": \"20230116\",\r\n        \"FECHA_REFIN\": \"NA\",\r\n        \"FECHA_RENEG\": \"20200817\",\r\n        \"G1\": \"0701\",\r\n        \"MONTO_G1\": 0,\r\n        \"G2\": \"NA\",\r\n        \"MONTO_G2\": 0,\r\n        \"G3\": \"NA\",\r\n        \"MONTO_G3\": 0,\r\n        \"G4\": \"NA\",\r\n        \"MONTO_G4\": 0,\r\n        \"G5\": \"NA\",\r\n        \"MONTO_G5\": 0,\r\n        \"PROV_REG\": 0,\r\n        \"PROV_NIIF\": 119.05,\r\n        \"PROV_PAIS\": 0,\r\n        \"SALDO\": 6401.61,\r\n        \"N_CUOTAS_VENCER\": \"7\",\r\n        \"X_VENCER30\": \"100.86\",\r\n        \"X_VENCER60\": \"100.86\",\r\n        \"X_VENCER90\": \"100.86\",\r\n        \"X_VENCER120\": \"100.86\",\r\n        \"X_VENCER180\": \"100.86\",\r\n        \"X_VENCER1A\": \"100.86\",\r\n        \"X_VENCER5A\": \"5796.45\",\r\n        \"X_VENCER10A\": \"0.00\",\r\n        \"X_VENCERM10A\": \"0.00\",\r\n        \"N_CUOTA_VENCIDAS\": \"0\",\r\n        \"VENCIDOS30\": \"0.00\",\r\n        \"VENCIDOS60\": \"0.00\",\r\n        \"VENCIDOS90\": \"0.00\",\r\n        \"VENCIDOS120\": \"0.00\",\r\n        \"VENCIDOS180\": \"0.00\",\r\n        \"VENCIDOS1A\": \"0.00\",\r\n        \"VENCIDOSM1A\": \"0.00\",\r\n        \"RANGO_MORA\": \"1. Al día\",\r\n        \"DIAS_MORA\": 0,\r\n        \"PROX_CAP\": \"20211016\",\r\n        \"PER_CAP\": \"01\",\r\n        \"PROX_INT\": \"20211016\",\r\n        \"PER_INT\": \"01\",\r\n        \"CUOTA_XPAGAR\": \"100.86\",\r\n        \"SUCURSAL\": \"201\",\r\n        \"MONEDA\": \"USD\",\r\n        \"CUENTA_CONTABLE\": \"\",\r\n        \"PRODUCTO\": \"TDC\",\r\n        \"BANCA\": \"\",\r\n        \"SECTOR1\": \"PRESTACARD\",\r\n        \"SECTOR2\": \"\",\r\n        \"SECTOR3\": \"\",\r\n        \"SECTOR4\": \"PRESTACARD\",\r\n        \"PRODUCTO1\": \"TARJETA DE CREDITO CONSUMO\",\r\n        \"PRODUCTO2\": \"TDC\",\r\n        \"PRODUCTO3\": \"Prestacard Visa\",\r\n        \"NUM_OPS\": \"4466840182907004\",\r\n        \"NUM_CLIENTE\": \"600167424\",\r\n        \"CENTRO_COSTO\": \"\",\r\n        \"NUM_LINEA\": \"\",\r\n        \"COD_OFIC\": \"\",\r\n        \"COD_OFIC2\": \"\"\r\n    }\r\n    ],\r\n    \"Status\": {\r\n    \"StatusCode\": \"M0000\",\r\n    \"StatusDesc\": \"SUCCESS\"\r\n    }\r\n    } */\n  } //Retorna todos los colateralsId por numero de cliente\n\n\n  async getColaterals(partyId) {\n    //Numero del cliente en T24\n    let params = {\n      PartyId: partyId\n    };\n    let data = qs.stringify(params);\n    var dataResult = [];\n\n    try {\n      console.log(\"plage\"); //servicio retorna Pignorados\n\n      var result = await this.get(url.URL_CORE_PIGNORADO + \"?\" + data); //Armamos la data a mostrar en pantalla\n\n      result.Collaterals.CollateralInfo.map(function (item, i) {\n        if (item.Collateral.CollateralKey.CollateralId !== null) {\n          dataResult.push({\n            collateralId: item.Collateral.CollateralKey.CollateralId,\n            facilityAmt: item.Collateral.CollateralAmt.Amt\n          });\n        }\n      });\n    } catch (err) {\n      console.error(\"URL_CORE_PIGNORADO\", err);\n    }\n\n    console.log(\"dataResult\", dataResult);\n    return dataResult;\n  } // retorna Detalle de Garantias\n\n\n  async getWarrantyDetails(collateralId, warrantyType) {\n    //Numero del id colateral ... warrytype = Muebles, Inmuebles, Otros, Depositos\n    let params = {\n      CollateralId: collateralId,\n      InqType: warrantyType\n    };\n    let data = qs.stringify(params);\n\n    try {\n      //servicio retorna Pignorados\n      const result = await this.get(url.URL_CORE_COLLATERALS + \"?\" + data);\n      return result; //Armamos la data a mostrar en pantalla\n\n      /*result.Collaterals.CollateralInfo.map(function(item, i){\r\n          if(item.Collateral.CollateralKey.CollateralId!==null){\r\n              dataResult.push({collateralId: item.Collateral.CollateralKey.CollateralId,facilityAmt: item.Collateral.CollateralAmt.Amt});\r\n          }                                \r\n      })*/\n    } catch (err) {\n      console.error(\"URL_CORE_PIGNORADO\", err);\n      return undefined;\n    }\n  } //retorna movimientos de cuentas\n\n\n  async getAccountMovements(partyId) {\n    //Numero de Cliente de T24\n    let params = {\n      PartyId: partyId\n    };\n    let data = qs.stringify(params); //servicio retorna las cuentas del cliente\n\n    var result = await this.get(url.URL_CORE_ACCOUNTSPARTIES + \"?\" + data);\n\n    if (result.Status.StatusCode !== OPTs.ResponseT24_STATUSOK) {\n      throw new Error(result.Status.StatusCode + \" - \" + result.Status.StatusDesc);\n      return;\n    }\n\n    var dataResult = [];\n\n    for (var i = 0; i < result.Accounts.Acct.length; i++) {\n      var item = result.Accounts.Acct[i];\n      params = {\n        AcctReference: item.AcctKey.AcctReference\n      };\n      data = qs.stringify(params);\n\n      try {\n        //servicio retorna los movimientos de cuentas del cliente\n        var dtResult = await this.get(url.URL_CORE_AVERAGES + \"?\" + data);\n        dtResult.Acct.AcctBal.map(function (accItem, i) {\n          dataResult.push({\n            \"year\": accItem.AverageBalanceDt.split(' ')[1],\n            \"month\": accItem.AverageBalanceDt.split(' ')[0],\n            \"amount\": accItem.CurAmt.Amt\n          });\n        });\n      } catch (err) {}\n    }\n\n    return dataResult;\n    /*{\r\n    \"Accounts\": {\r\n    \"Acct\": [\r\n        {\r\n            \"AcctApplIdent\": \"0\",\r\n            \"AcctPartyType\": \"1\",\r\n            \"AcctSubtype\": {\r\n                \"Cod\": \"CAHO Local\"\r\n            },\r\n            \"AcctType\": {\r\n                \"Cod\": \"1\"\r\n            },\r\n            \"ClubBanesco\": false,\r\n            \"CurCode\": \"USD\",\r\n            \"MovType\": \"Unipersonal\",\r\n            \"ProductType\": \"1201\",\r\n            \"OpenDt\": \"2019-08-02\",\r\n            \"AcctKey\": {\r\n                \"AcctId\": \"201001879012\",\r\n                \"AcctReference\": \"1001062243\"\r\n            },\r\n            \"AcctStatus\": {\r\n                \"AcctStatusCode\": \"VIG\"\r\n            },\r\n            \"AcctBal\": [\r\n                {\r\n                    \"BalType\": \"WorkingBalance\",\r\n                    \"CurAmt\": {\r\n                        \"Amt\": \"27.56\"\r\n                    }\r\n                },\r\n                {\r\n                    \"BalType\": \"AvailBalance\",\r\n                    \"CurAmt\": {\r\n                        \"Amt\": \"27.56\"\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n    },\r\n    \"PartyKey\": {\r\n    \"PartyType\": \"1\"\r\n    },\r\n    \"Status\": {\r\n    \"StatusCode\": \"M0000\",\r\n    \"StatusDesc\": \"OK\"\r\n    }\r\n    } */\n\n    /*{\r\n        \"Acct\": {\r\n            \"AcctBal\": [\r\n                {\r\n                    \"AverageBalanceDt\": \"ENERO 2021\",\r\n                    \"BalType\": \"MonthAverageBalance\",\r\n                    \"CurAmt\": {\r\n                        \"Amt\": \"714.20\"\r\n                    }\r\n                },\r\n                {\r\n                    \"AverageBalanceDt\": \"FEBRERO 2021\",\r\n                    \"BalType\": \"MonthAverageBalance\",\r\n                    \"CurAmt\": {\r\n                        \"Amt\": \"959.29\"\r\n                    }\r\n                },\r\n                {\r\n                    \"AverageBalanceDt\": \"MARZO 2021\",\r\n                    \"BalType\": \"MonthAverageBalance\",\r\n                    \"CurAmt\": {\r\n                        \"Amt\": \"548.68\"\r\n                    }\r\n                },\r\n                {\r\n                    \"AverageBalanceDt\": \"ABRIL 2021\",\r\n                    \"BalType\": \"MonthAverageBalance\",\r\n                    \"CurAmt\": {\r\n                        \"Amt\": \"260.73\"\r\n                    }\r\n                },\r\n                {\r\n                    \"AverageBalanceDt\": \"MAYO 2021\",\r\n                    \"BalType\": \"MonthAverageBalance\",\r\n                    \"CurAmt\": {\r\n                        \"Amt\": \"383.75\"\r\n                    }\r\n                },\r\n                {\r\n                    \"AverageBalanceDt\": \"JUNIO 2021\",\r\n                    \"BalType\": \"MonthAverageBalance\",\r\n                    \"CurAmt\": {\r\n                        \"Amt\": \"331.64\"\r\n                    }\r\n                },\r\n                {\r\n                    \"AverageBalanceDt\": \"JULIO 2021\",\r\n                    \"BalType\": \"MonthAverageBalance\",\r\n                    \"CurAmt\": {\r\n                        \"Amt\": \"195.59\"\r\n                    }\r\n                },\r\n                {\r\n                    \"AverageBalanceDt\": \"AGOSTO 2021\",\r\n                    \"BalType\": \"MonthAverageBalance\",\r\n                    \"CurAmt\": {\r\n                        \"Amt\": \"323.00\"\r\n                    }\r\n                },\r\n                {\r\n                    \"AverageBalanceDt\": \"SEPTIEMBRE 2021\",\r\n                    \"BalType\": \"MonthAverageBalance\",\r\n                    \"CurAmt\": {\r\n                        \"Amt\": \"399.36\"\r\n                    }\r\n                },\r\n                {\r\n                    \"AverageBalanceDt\": \"OCTUBRE 2021\",\r\n                    \"BalType\": \"MonthAverageBalance\",\r\n                    \"CurAmt\": {\r\n                        \"Amt\": \"315.92\"\r\n                    }\r\n                },\r\n                {\r\n                    \"AverageBalanceDt\": \"NOVIEMBRE 2021\",\r\n                    \"BalType\": \"MonthAverageBalance\",\r\n                    \"CurAmt\": {\r\n                        \"Amt\": \"151.21\"\r\n                    }\r\n                },\r\n                {\r\n                    \"AverageBalanceDt\": \"DICIEMBRE 2021\",\r\n                    \"BalType\": \"MonthAverageBalance\",\r\n                    \"CurAmt\": {\r\n                        \"Amt\": \"235.04\"\r\n                    }\r\n                },\r\n                {\r\n                    \"AverageBalanceDt\": \"ENERO 2022\",\r\n                    \"BalType\": \"MonthAverageBalance\",\r\n                    \"CurAmt\": {\r\n                        \"Amt\": \"84.73\"\r\n                    }\r\n                },\r\n                {\r\n                    \"AverageBalanceDt\": \"FEBRERO 2022\",\r\n                    \"BalType\": \"MonthAverageBalance\",\r\n                    \"CurAmt\": {\r\n                        \"Amt\": \"55.14\"\r\n                    }\r\n                }\r\n            ]\r\n        },\r\n        \"Status\": {\r\n            \"StatusCode\": \"M0000\",\r\n            \"StatusDesc\": \"OK\"\r\n        }\r\n    } */\n  } //retorna movimientos de cuentas\n\n\n  async getApcInfo(identification) {\n    //Numero de identificacion del cliente\n    var params = {\n      \"ConsultarAPC\": {\n        \"Model\": {\n          \"EsPrueba\": 0,\n          \"ForzarBusqueda\": 0,\n          \"IdentificacionConsulta\": identification,\n          //\"8-773-1899\",\n          \"PasswordAPC\": \"Banesco19.\",\n          \"UltimusProcess\": 7,\n          \"UsuarioAPC\": \"WTIBANESCO001\"\n        }\n      }\n    }; //servicio retorna la info de APC del cliente\n\n    const result = await this.post(url.URL_CORE_APCINFO, params);\n    console.log(\"getApcInfo\", result);\n    var dataResult = [];\n\n    try {\n      //Armamos la data a mostrar en pantalla\n      result.ConsultarAPCResponse.ConsultarAPCResult.DetCompromisoAPC.DetCompromisoAPC.map(function (item, i) {\n        try {\n          dataResult.push({\n            \"year\": moment(item.dc_fec_inicio_rel).format(\"YYYY\"),\n            \"month\": moment(item.dc_fec_inicio_rel).format(\"MMMM\"),\n            \"initialAmount\": item.dc_monto_original,\n            \"actualAmount\": item.dc_saldo_actual,\n            \"asociation\": item.dc_nom_asoc,\n            \"source\": item.dc_descr_corta_rela\n          });\n        } catch (err) {}\n      });\n    } catch (err) {\n      console.error(err);\n    }\n\n    return dataResult;\n  }\n\n}","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/services/CoreServices/Services.js"],"names":["WatchListModel","DocumentModel","ClientInfoModel","PartiesStaffModel","ApiServiceCore","url","qs","ACT_FACILIDADACTIVOSFIJOS","OPTs","ResponseModel","moment","Services","postWhatchList","params","result","post","URL_CORE_WATCHLIST","status","fromJson","results","err","response","error","data","postDocument","config","headers","URL_CORE_DOCUMENTS","console","log","Status","StatusCode","dataresult","docName","Result","documentId","formType","undefined","postViewDocument","docId","DocumentHandle","ReturnBase64","URL_CORE_DOCUMENTSVIEW","Documents","DocPop","e","getPartiesInformation","stringify","get","URL_CORE_PARTIEINFO","StatusDesc","getPartiesInformationAddress","length","address","AddrDesc","City","Desc","CountyDistrict","Cod","HouseNumber","Jurisdiction","getPartiesStaff","PartyId","URL_CORE_PARTIESTAFF","putPartiesStaff","put","getCompaniesRelations","URL_CORE_COMPANIESRELATIONS","getPaisesCatalogo","sessionStorage","getItem","JSON","parse","catalog_name","parent_catalog_name","keyword","URL_CORE_CATALOGO","setItem","catalog","ex","getProvinciasCatalogo","pais","getDistritoCatalogo","provincia","getCorregimientoCatalogo","distrito","getCiudadCatalogo","getGrupoEconomicoCatalogo","Records","unshift","Description","Code","getBancaCatalogo","getCargosCatalogo","getBancosCatalogo","getActividadEconomicaCatalogo","getSubActividadEconomicaCatalogo","codeActividad","getSectorEconomicoCatalogo","getRelacionCatalogo","getTipoGarantiaCatalogo","getMonedaCatalogo","getSucursalCatalogo","getSubProductosCatalogo","getSucursalesCatalogo","getTypeOfCreditLimitsCatalog","getInsurersCatalog","getCarBrandCatalog","getCarModelCatalog","getBrokersCatalog","getTrusteeCatalog","getSubProductCatalog","getCategoriesCatalog","getPolicyTypeCatalog","getSubTypeWarrantyCatalog","getAutoClassCatalog","getAppraiserCatalog","getFacilities","partyId","URL_CORE_FACILIDADES","dataResult","AcctLoans","AcctLoan","map","item","i","push","ProductDesc","AcctOpeningInfo","InitialAmt","Amt","OpenDt","AcctBal","CurAmt","AcctMember","PartyName","ShortName","getRelatedClients","resultData","client","partyNumber","PartyPartyRelInfo","PartyRef","RelPartyRef","PartyKey","getCorporateExhibition","longTerm","name","approvalRisk","proposalRisk","variationRisk","shortTerm","totalTerm","pledged","netExposition","openYear","parseInt","String","split","dueYear","CreditAcctData","DueDt","Number","URL_CORE_PIGNORADO","Collaterals","CollateralInfo","AcctKey","AcctReference","Collateral","CollateralAmt","getCorporateExhibitionByClients","clients","clientId","getShortLongTermDebts","longTermresult","longTermTotal","date","format","shortTermresult","shortTermTotal","getAverages","URL_CORE_AVERAGES","getListaImportaciones","URL_CORE_IMPORTACIONES","getListaExportaciones","URL_CORE_EXPORTACIONES","getPrestamosEntrantes","URL_CORE_INGOING","getPrestamosSalientes","URL_CORE_OUTOGOING","getCreditosExistentes","URL_CORE_CREDITOS","getCreditosLine","URL_CORE_CREDITOS_LINE","getTransactions","AcctId","EndDt","StartDt","URL_CORE_TRANSACCTIONS","getPrestamos","URL_CORE_PRESTAMOS","getPrestamosInfo","URL_CORE_PRESTAMOS_INFORMATION","getReportingServices","FECHA","CLIENTE","URL_CORE_REPORTINGSERVICES","getColaterals","CollateralKey","CollateralId","collateralId","facilityAmt","getWarrantyDetails","warrantyType","InqType","URL_CORE_COLLATERALS","getAccountMovements","URL_CORE_ACCOUNTSPARTIES","ResponseT24_STATUSOK","Error","Accounts","Acct","dtResult","accItem","AverageBalanceDt","getApcInfo","identification","URL_CORE_APCINFO","ConsultarAPCResponse","ConsultarAPCResult","DetCompromisoAPC","dc_fec_inicio_rel","dc_monto_original","dc_saldo_actual","dc_nom_asoc","dc_descr_corta_rela"],"mappings":"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,CAACqM,8BAAJ,GAAqC,GAArC,GAA2CnL,IAApD,CAAnB;AAEA,WAAOT,MAAP;AACH;AAED;;AACA;;AACA;AAEA;;;AAE0B,QAApB6L,oBAAoB,CAACrF,OAAD,EAAU;AAAE;AAClC,QAAIzG,MAAM,GAAG;AACT+L,MAAAA,KAAK,EAAElM,MAAM,GAAGuK,MAAT,CAAgB,UAAhB,CADE;AAC2B;AACpC4B,MAAAA,OAAO,EAAEvF;AAFA,KAAb;AAIA,QAAI/F,IAAI,GAAGjB,EAAE,CAACyC,SAAH,CAAalC,MAAb,CAAX;AACA,QAAIC,MAAM,GAAG,MAAM,KAAKkC,GAAL,CAAS3C,GAAG,CAACyM,0BAAJ,GAAiC,GAAjC,GAAuCvL,IAAhD,CAAnB;AAEA,WAAOT,MAAP;AAEA;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACK,GA1jDgD,CA6jDjD;;;AACmB,QAAbiM,aAAa,CAACzF,OAAD,EAAU;AAAE;AAE3B,QAAIzG,MAAM,GAAG;AACTiD,MAAAA,OAAO,EAAEwD;AADA,KAAb;AAIA,QAAI/F,IAAI,GAAGjB,EAAE,CAACyC,SAAH,CAAalC,MAAb,CAAX;AAEA,QAAI2G,UAAU,GAAG,EAAjB;;AACA,QAAI;AAEA5F,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAFA,CAIA;;AACA,UAAIf,MAAM,GAAG,MAAM,KAAKkC,GAAL,CAAS3C,GAAG,CAAC8J,kBAAJ,GAAyB,G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AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACK,GAvzDgD,CAyzDjD;;;AACgB,QAAVyG,UAAU,CAACC,cAAD,EAAgB;AAAE;AAC9B,QAAIrN,MAAM,GAAG;AACT,sBAAgB;AACZ,iBAAS;AACL,sBAAY,CADP;AAEL,4BAAkB,CAFb;AAGL,oCAA0BqN,cAHrB;AAGoC;AACzC,yBAAe,YAJV;AAKL,4BAAkB,CALb;AAML,wBAAc;AANT;AADG;AADP,KAAb,CAD4B,CAc5B;;AACA,UAAMpN,MAAM,GAAG,MAAM,KAAKC,IAAL,CAAUV,GAAG,CAAC8N,gBAAd,EAAgCtN,MAAhC,CAArB;AACAe,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAAyBf,MAAzB;AAEA,QAAI0G,UAAU,GAAC,EAAf;;AACI,QAAI;AACA;AACA1G,MAAAA,MAAM,CAACsN,oBAAP,CAA4BC,kBAA5B,CAA+CC,gBAA/C,CAAgEA,gBAAhE,CAAiF3G,GAAjF,CAAqF,UAAUC,IAAV,EAAgBC,CAAhB,EAAmB;AACpG,YAAG;AACCL,UAAAA,UAAU,CAACM,IAAX,CAAgB;AAAC,oBAAOpH,MAAM,CAACkH,IAAI,CAAC2G,iBAAN,CAAN,CAA+BtD,MAA/B,CAAsC,MAAtC,CAAR;AAAuD,qBAAQvK,MAAM,CAACkH,IAAI,CAAC2G,iBAAN,CAAN,CAA+BtD,MAA/B,CAAsC,MAAtC,CAA/D;AACZ,6BAAgBrD,IAAI,CAAC4G,iBADT;AAC2B,4BAAe5G,IAAI,CAAC6G,eAD/C;AAC+D,0BAAa7G,IAAI,CAAC8G,WADjF;AAC6F,sBAAS9G,IAAI,CAAC+G;AAD3G,WAAhB;AAEH,SAHD,CAIA,OAAMvN,GAAN,EAAU,CAAE;AACf,OAND;AAOH,KATD,CAUA,OAAOA,GAAP,EAAY;AAACQ,MAAAA,OAAO,CAACN,KAAR,CAAcF,GAAd;AAAoB;;AAErC,WAAOoG,UAAP;AACH;;AA11DgD","sourcesContent":["\r\nimport { WatchListModel, DocumentModel, ClientInfoModel, PartiesStaffModel } from \"../../models/Core\";\r\nimport ApiServiceCore from \"../ApiServiceCore\";\r\nimport * as url from \"../../helpers/url_helper\"\r\nimport qs from \"qs\";\r\nimport { ACT_FACILIDADACTIVOSFIJOS } from \"../../helpers/options_helper\";\r\nimport * as OPTs from \"../../helpers/options_helper\"\r\nimport { ResponseModel } from '../../models/Common/ResponseModel';\r\nimport moment from \"moment\";\r\n\r\nexport default class Services extends ApiServiceCore {\r\n\r\n    //analysis/customers -> retorna la info de lista de vigilancia\r\n    //ConsultarListaCriterioCORE    \r\n    async postWhatchList(params) {\r\n        try {\r\n            /*\r\n        {\r\n      \"pCustomerId\": \"06--00711-002304\",\r\n      \"pTypeId\": \"CEDULA_IDENTIDAD\",\r\n      \"pModelId\": \"LISTA_VIGILANCIA\",\r\n      \"pCustomerListParams\": {\r\n          \"KeyValueParam\": [\r\n              {\r\n                  \"_x003C_Key_x003E_k__BackingField\": \"NOMBRE\",\r\n                  \"_x003C_Value_x003E_k__BackingField\": \"Librada\"\r\n              },\r\n              {\r\n                  \"_x003C_Key_x003E_k__BackingField\": \"SEGUNDO_NOMBRE\",\r\n                  \"_x003C_Value_x003E_k__BackingField\": \"Emilio\"\r\n              },\r\n              {\r\n                  \"_x003C_Key_x003E_k__BackingField\": \"PRIMER_APELLIDO\",\r\n                  \"_x003C_Value_x003E_k__BackingField\": \"Rivera\"\r\n              },\r\n              {\r\n                  \"_x003C_Key_x003E_k__BackingField\": \"SEGUNDO_APELLIDO\",\r\n                  \"_x003C_Value_x003E_k__BackingField\": \"Gaviria\"\r\n              },\r\n              {\r\n                  \"_x003C_Key_x003E_k__BackingField\": \"TIPO_ID\",\r\n                  \"_x003C_Value_x003E_k__BackingField\": \"CEDULA_IDENTIDAD\"\r\n              },\r\n              {\r\n                  \"_x003C_Key_x003E_k__BackingField\": \"CEDULA\",\r\n                  \"_x003C_Value_x003E_k__BackingField\": \"06--00711-002304\"\r\n              }\r\n          ]\r\n      },\r\n      \"pUser\": \"wallytech_ws_user\",\r\n      \"pWaitingInterval\": 180000000,\r\n      \"pPriority\": 1\r\n  }\r\n        */\r\n            var result = await this.post(url.URL_CORE_WATCHLIST, params);\r\n\r\n            return { status: 200, result: WatchListModel.fromJson(result).results };\r\n\r\n        }\r\n        catch (err) {\r\n            return { status: err.response.status, error: err.response.data }; //errorMessage, //errorCode\r\n        }\r\n    }\r\n\r\n    //documents -> salva documento en gestor documental ONBASE\r\n    //GuardarDocumentoECM\r\n    async postDocument(data) {\r\n\r\n        var config = {\r\n            headers: {\r\n                //\"Accept\":\"*/*\",\r\n                //\"Accept-Encoding\":\"gzip, deflate, sdch, br\",\r\n                //\"Accept-Language\":\"fr-FR,fr;q=0.8,en-US;q=0.6,en;q=0.4\",\r\n                //\"Access-Control-Request-Headers\":\"accept, content-type\",\r\n                //\"Content-Type\":\"text/plain\",\r\n                //\"Content-Length\":JSON.stringify(data).length.toString(),\r\n                //\"Host\":\"https://qa.api.ob.banesco.com.pa/\",\r\n                //Connection: \"keep-alive\",\r\n                //\"User-Agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36\",\r\n                \"userId\": \"mq3898\", //Usuario\r\n                \"clientDt\": \"clientDt\", //\"Fecha de ejecución del cliente.\"\r\n                \"appName\": \"ReactJs\",//\"Aplicacion que consume el servicio\"\r\n                \"requestId\": \"202112202\",//\"Identificador de la solicitud.\"\r\n                \"channelId\": \"channelID\", //\"Canal consumidor\",                \r\n            }\r\n        }\r\n\r\n        var result = await this.post(url.URL_CORE_DOCUMENTS, data, config);\r\n\r\n        console.log(\"Result Document: \", result);\r\n\r\n        /*\r\n        var result = {\r\n            \"Status\": {\r\n                \"StatusCode\": \"M0000\",\r\n                \"StatusDesc\": \"OK\"\r\n            },\r\n            \"Token\": \"e793-ddb2-ab0e-6626-5d3e-5f19-b79b-1f5d\",\r\n            \"Result\": {\r\n                \"DocName\": \"TDC - Contrato de TDC  (98765432)\",\r\n                \"DocumentID\": \"34589873\",\r\n                \"FormType\": \"HTML\"\r\n            }\r\n        }\r\n        */\r\n        //console.log(result);\r\n        if (result.Status.StatusCode === \"M0000\") {\r\n            var dataresult = { docName: result.Result['DocName'], documentId: result.Result['DocumentID'], formType: result.Result['FormType'] }\r\n            return dataresult;\r\n        }\r\n\r\n        return undefined;\r\n    }\r\n\r\n    //documents -> Ver documento en gestor documental ONBASE\r\n    //VerDocumentoECM\r\n    async postViewDocument(docId) {\r\n\r\n        try {\r\n            console.log(docId);\r\n            var data = {\r\n                DocumentHandle: docId,\r\n                ReturnBase64: false\r\n            }\r\n\r\n            var result = await this.post(url.URL_CORE_DOCUMENTSVIEW, data);\r\n\r\n            console.log(\"Result Document: \", result);\r\n\r\n            return result.Documents[0].DocPop;\r\n        }\r\n        catch (e) { }\r\n        return null;\r\n\r\n\r\n\r\n    }\r\n\r\n    //v1/parties/information -> retorna la info del cliente\r\n    //BuscarClienteCORE\r\n    async getPartiesInformation(params) {\r\n        \r\n        /*var item =[ {id:800120843,clientnumber:800120843,clientname:\"Israel Michel Gomez Alfonso\",firstname:\"Israel\",secondname:\"Michel\",\r\n        lastname:\"Gomez\",secondlastname:\"Alfonso\",idtype:\"CED\",idnumber:\"456123\"},\r\n        {id:800120845,clientnumber:800120845,clientname:\"Pancho Pedro Gomez Alfonso\",firstname:\"Pancho\",secondname:\"Pedro\",\r\n        lastname:\"Gomez\",secondlastname:\"Alfonso\",idtype:\"RUC\",idnumber:\"456456\"}];\r\n        return item;*/\r\n        //params = {PartyType:Juridico,PartyId:600088018}\r\n        var data = qs.stringify(params);\r\n        console.log(data);\r\n        //url.URL_CORSBYPASS +\r\n        var result = await this.get(url.URL_CORE_PARTIEINFO + \"?\" + data);\r\n        console.log(result);\r\n        if(result.Status.StatusCode===\"M0000\"){\r\n            return ClientInfoModel.fromJson(result);\r\n        }\r\n        else{      \r\n            result[\"error\"] = result.Status.StatusDesc;            \r\n            result[\"errorCode\"] = result.Status.StatusCode;      \r\n            return result;          \r\n        }\r\n    }\r\n\r\n    async getPartiesInformationAddress(params){\r\n        try{\r\n            //params = {PartyType:Juridico,PartyId:600088018}\r\n            var result = await this.getPartiesInformation(params);\r\n            if(result!==undefined && result.length>0){\r\n                var address = {\r\n                    \"AddrDesc\":result[0].AddrDesc,\r\n                    \"City\":result[0].City.Desc,\r\n                    \"CountyDistrict\":result[0].CountyDistrict.Cod,\r\n                    \"HouseNumber\":result[0].HouseNumber.Cod,\r\n                    \"Jurisdiction\":result[0].Jurisdiction.Cod,\r\n                }\r\n            }\r\n        }\r\n        catch(err){}\r\n        return undefined\r\n    }\r\n\r\n    //Accionistas\r\n    async getPartiesStaff(PartyId) {\r\n\r\n        var params = {PartyId:PartyId}//{PartyId:600235373}\r\n        params = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_PARTIESTAFF + \"?\" + params);\r\n\r\n        return PartiesStaffModel.fromJson(result);\r\n    }\r\n\r\n    ///v1/parties/staff\r\n    async putPartiesStaff(data) {\r\n\r\n        data = {\r\n            \"Party\": {\r\n                \"PartyKey\": {\r\n                    \"PartyId\": \"600235373\"\r\n                },\r\n                \"OrgPartyInfo\": {\r\n                    \"OrgData\": {\r\n                        \"Staff\": [\r\n                            {\r\n                                \"BirthDt\": \"1959-02-12\",\r\n                                \"FATCA\": null,\r\n                                \"Gender\": \"MALE\",\r\n                                \"PartyData\": {\r\n                                    \"Contact\": {\r\n                                        \"Locator\": {\r\n                                            \"PostAddr\": [\r\n                                                {\r\n                                                    \"City\": {\r\n                                                        \"Cod\": \"PANAMA\"\r\n                                                    },\r\n                                                    \"CountyDistrict\": {\r\n                                                        \"Cod\": \"8047\"\r\n                                                    },\r\n                                                    \"Jurisdiction\": {\r\n                                                        \"Cod\": \"8606\"\r\n                                                    },\r\n                                                    \"Province\": {\r\n                                                        \"Cod\": \"PA08\"\r\n                                                    },\r\n                                                    \"Street\": \"PRINCIPAL\",\r\n                                                    \"Country\": {\r\n                                                        \"CountryCode\": \"PA\"\r\n                                                    }\r\n                                                }\r\n                                            ],\r\n                                            \"Phone\": [\r\n                                                {\r\n                                                    \"PhoneNum\": \"66669999\",\r\n                                                    \"PhoneType\": \"Home\"\r\n                                                }\r\n                                            ]\r\n                                        }\r\n                                    },\r\n                                    \"Nationality\": \"ES\",\r\n                                    \"IssuedIdent\": [\r\n                                        {\r\n                                            \"Ident\": {\r\n                                                \"IssuedIdentValue\": \"E-8-101498\"\r\n                                            }\r\n                                        }\r\n                                    ]\r\n                                },\r\n                                \"PartyKey\": {\r\n                                    \"PartyType\": \"1\"\r\n                                },\r\n                                \"PEPData\": {\r\n                                    \"IsPEP\": false\r\n                                },\r\n                                \"PersonName\": {\r\n                                    \"FirstName\": \"LUIS\",\r\n                                    \"LastName\": \"MELLA\",\r\n                                    \"SecondLastName\": \"RODRIGUEZ\",\r\n                                    \"SecondName\": \"FRANCISCO\"\r\n                                },\r\n                                \"Shareholding\": \"100\",\r\n                                \"SharesType\": {\r\n                                    \"Cod\": \"1\"\r\n                                },\r\n                                \"StaffPosition\": \"08\",\r\n                                \"OrgName\": null\r\n                            },\r\n                            {\r\n                                \"BirthDt\": \"1959-02-12\",\r\n                                \"FATCA\": {\r\n                                    \"OtherNationality\": false,\r\n                                    \"US183Permanence\": false,\r\n                                    \"USRelated\": false,\r\n                                    \"USResid\": false,\r\n                                    \"USSignor\": false\r\n                                },\r\n                                \"Gender\": \"MALE\",\r\n                                \"PartyData\": {\r\n                                    \"Contact\": {\r\n                                        \"Locator\": {\r\n                                            \"PostAddr\": [\r\n                                                {\r\n                                                    \"CountyDistrict\": {\r\n                                                        \"Cod\": \"8047\"\r\n                                                    },\r\n                                                    \"Province\": {\r\n                                                        \"Cod\": \"PA08\"\r\n                                                    },\r\n                                                    \"Country\": {\r\n                                                        \"CountryCode\": \"PA\"\r\n                                                    }\r\n                                                }\r\n                                            ]\r\n                                        }\r\n                                    },\r\n                                    \"Nationality\": \"PA\",\r\n                                    \"IssuedIdent\": [\r\n                                        {\r\n                                            \"Ident\": {\r\n                                                \"IssuedIdentValue\": \"E-8-101498\"\r\n                                            }\r\n                                        }\r\n                                    ]\r\n                                },\r\n                                \"PartyKey\": {\r\n                                    \"PartyType\": \"1\"\r\n                                },\r\n                                \"PEPData\": {\r\n                                    \"IsPEP\": false\r\n                                },\r\n                                \"PersonName\": {\r\n                                    \"FirstName\": \"LUIS\",\r\n                                    \"LastName\": \"MELLA\",\r\n                                    \"SecondLastName\": \"RODRIGUEZ\",\r\n                                    \"SecondName\": \"FRANCISCO\"\r\n                                },\r\n                                \"Profession\": {\r\n                                    \"Value\": \"1007\"\r\n                                },\r\n                                \"SharesType\": {\r\n                                    \"Cod\": \"1\"\r\n                                },\r\n                                \"StaffPosition\": \"09\",\r\n                                \"OrgName\": null\r\n                            },\r\n                            {\r\n                                \"BirthDt\": \"1959-02-12\",\r\n                                \"FATCA\": null,\r\n                                \"Gender\": \"MALE\",\r\n                                \"PartyData\": {\r\n                                    \"Contact\": {\r\n                                        \"Locator\": {\r\n                                            \"PostAddr\": [\r\n                                                {\r\n                                                    \"City\": {\r\n                                                        \"Cod\": \"PANAMA\"\r\n                                                    },\r\n                                                    \"CountyDistrict\": {\r\n                                                        \"Cod\": \"8047\"\r\n                                                    },\r\n                                                    \"Jurisdiction\": {\r\n                                                        \"Cod\": \"8606\"\r\n                                                    },\r\n                                                    \"Province\": {\r\n                                                        \"Cod\": \"PA08\"\r\n                                                    },\r\n                                                    \"Street\": \"PRINCIPAL\",\r\n                                                    \"Country\": {\r\n                                                        \"CountryCode\": \"PA\"\r\n                                                    }\r\n                                                }\r\n                                            ],\r\n                                            \"Phone\": [\r\n                                                {\r\n                                                    \"PhoneNum\": \"65263673\",\r\n                                                    \"PhoneType\": \"Home\"\r\n                                                }\r\n                                            ]\r\n                                        }\r\n                                    },\r\n                                    \"Nationality\": \"ES\",\r\n                                    \"IssuedIdent\": [\r\n                                        {\r\n                                            \"Ident\": {\r\n                                                \"IssuedIdentValue\": \"E-8-101498\"\r\n                                            }\r\n                                        }\r\n                                    ]\r\n                                },\r\n                                \"PartyKey\": {\r\n                                    \"PartyType\": \"1\"\r\n                                },\r\n                                \"PEPData\": {\r\n                                    \"IsPEP\": false\r\n                                },\r\n                                \"PersonName\": {\r\n                                    \"FirstName\": \"LUIS\",\r\n                                    \"LastName\": \"MELLA\",\r\n                                    \"SecondLastName\": \"RODRIGUEZ\",\r\n                                    \"SecondName\": \"FRANCISCO\"\r\n                                },\r\n                                \"SharesType\": {\r\n                                    \"Cod\": \"1\"\r\n                                },\r\n                                \"StaffPosition\": \"10\",\r\n                                \"OrgName\": null\r\n                            },\r\n                            {\r\n                                \"BirthDt\": \"1982-02-15\",\r\n                                \"FATCA\": null,\r\n                                \"Gender\": \"MALE\",\r\n                                \"PartyData\": {\r\n                                    \"Contact\": {\r\n                                        \"Locator\": {\r\n                                            \"PostAddr\": [\r\n                                                {\r\n                                                    \"Province\": {\r\n                                                        \"Cod\": \"PA08\"\r\n                                                    },\r\n                                                    \"Country\": {\r\n                                                        \"CountryCode\": \"PA\"\r\n                                                    }\r\n                                                }\r\n                                            ]\r\n                                        }\r\n                                    },\r\n                                    \"Nationality\": \"PA\",\r\n                                    \"IssuedIdent\": [\r\n                                        {\r\n                                            \"Ident\": {\r\n                                                \"IssuedIdentValue\": \"02--00710-002013\"\r\n                                            }\r\n                                        }\r\n                                    ]\r\n                                },\r\n                                \"PartyKey\": {\r\n                                    \"PartyType\": \"1\"\r\n                                },\r\n                                \"PersonName\": {\r\n                                    \"FirstName\": \"JONATHAN\",\r\n                                    \"LastName\": \"DELGADO\",\r\n                                    \"SecondLastName\": \"MARIN\",\r\n                                    \"SecondName\": \"IVES\"\r\n                                },\r\n                                \"SharesType\": {\r\n                                    \"Cod\": \"1\"\r\n                                },\r\n                                \"StaffPosition\": \"10\",\r\n                                \"OrgName\": null\r\n                            },\r\n                            {\r\n                                \"BirthDt\": \"1958-09-29\",\r\n                                \"FATCA\": null,\r\n                                \"Gender\": \"MALE\",\r\n                                \"PartyData\": {\r\n                                    \"Contact\": {\r\n                                        \"Locator\": {\r\n                                            \"PostAddr\": [\r\n                                                {\r\n                                                    \"Province\": {\r\n                                                        \"Cod\": \"PA08\"\r\n                                                    },\r\n                                                    \"Country\": {\r\n                                                        \"CountryCode\": \"PA\"\r\n                                                    }\r\n                                                }\r\n                                            ]\r\n                                        }\r\n                                    },\r\n                                    \"Nationality\": \"ES\",\r\n                                    \"IssuedIdent\": [\r\n                                        {\r\n                                            \"Ident\": {\r\n                                                \"IssuedIdentValue\": \"ANT119629\"\r\n                                            }\r\n                                        }\r\n                                    ]\r\n                                },\r\n                                \"PartyKey\": {\r\n                                    \"PartyType\": \"1\"\r\n                                },\r\n                                \"PersonName\": {\r\n                                    \"FirstName\": \"RAMON\",\r\n                                    \"LastName\": \"MAÑAS\",\r\n                                    \"SecondLastName\": \"SEGURA\"\r\n                                },\r\n                                \"SharesType\": {\r\n                                    \"Cod\": \"1\"\r\n                                },\r\n                                \"StaffPosition\": \"10\",\r\n                                \"OrgName\": null\r\n                            }\r\n                        ]\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        var result = await this.put(url.URL_CORE_PARTIESTAFF, data);\r\n\r\n        return PartiesStaffModel.fromJson(result);\r\n    }\r\n\r\n    //ConsultarListaEmpresasRelacionadas\r\n    async getCompaniesRelations(params) {\r\n\r\n        //params = {PartyId:600012387}\r\n        var data = qs.stringify(params);\r\n\r\n        var result = await this.get(url.URL_CORE_COMPANIESRELATIONS + \"?\" + data);\r\n\r\n        return PartiesStaffModel.fromJson(result);\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                       Api para obtener todos los paises desde el catalogo                      */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getPaisesCatalogo() {\r\n        try {\r\n            var result = sessionStorage.getItem('catPaises');\r\n            if (result !== undefined && result !== null) {\r\n                return JSON.parse(result);\r\n            }\r\n            //sessionStorage.setItem('catPaises', JSON.stringify(result.roles));\r\n\r\n            let params = {\r\n                catalog_name: 'PAIS',\r\n                parent_catalog_name: \"\",\r\n                keyword: \"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n\r\n            sessionStorage.setItem('catPaises', JSON.stringify(result.catalog));\r\n\r\n            return result.catalog;\r\n        }\r\n        catch (ex) { }\r\n        return null;\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*       Api para obtener las provincias de un pais, pasandole como parametro el id del pais      */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getProvinciasCatalogo(pais) {\r\n        try {\r\n            let params = {\r\n                catalog_name: 'PROVINCIA',\r\n                parent_catalog_name: pais,\r\n                keyword: \"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch (ex) { }\r\n        return null;\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*    API para obtener los distrito de cada provincia pasandole como parametro el id provincia    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getDistritoCatalogo(provincia) {\r\n        try {\r\n            let params = {\r\n                catalog_name: 'DISTRITO',\r\n                parent_catalog_name: provincia,\r\n                keyword: \"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch (ex) { }\r\n        return null;\r\n\r\n\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                      Api para obtener los corregimientos de cada distrito                      */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getCorregimientoCatalogo(distrito) {\r\n        try {\r\n            let params = {\r\n                catalog_name: 'CORREGIMIENTO',\r\n                parent_catalog_name: distrito,\r\n                keyword: \"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch (ex) { }\r\n        return null;\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                         Api para obtener las ciudades de cada provincia                        */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getCiudadCatalogo(provincia) {\r\n        try {\r\n            let params = {\r\n                catalog_name: 'CIUDAD',\r\n                parent_catalog_name: provincia,\r\n                keyword: \"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch (ex) { }\r\n        return null;\r\n\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                      Api para obtener el grupo economico de los catalogos                      */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getGrupoEconomicoCatalogo() {\r\n        try {\r\n            let params = {\r\n                catalog_name: 'GRUPO ECONOMICO',\r\n                parent_catalog_name: \"\",\r\n                keyword: \"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            result.catalog.Records.unshift({ Description: \"N/A\", Code: \"N/A\" })\r\n            return result.catalog;\r\n        }\r\n        catch (err) { }\r\n        return null;\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                   Api para obtener las bancas esta api proviene de catalogos                   */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getBancaCatalogo() {\r\n        try {\r\n            let params = {\r\n                catalog_name: 'BANCA',\r\n                parent_catalog_name: \"\",\r\n                keyword: \"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch (err) { }\r\n        return null;\r\n\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                   Api muestra todos los cargos que retorna desde el catalogo                   */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getCargosCatalogo() {\r\n        try {\r\n            let params = {\r\n                catalog_name: 'CARGO',\r\n                parent_catalog_name: \"\",\r\n                keyword: \"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch (ex) { }\r\n        return null;\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                     Api retorna todos los bancos exitentes para el catalogo                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getBancosCatalogo() {\r\n        try {\r\n            let params = {\r\n                catalog_name: 'BANCOS',\r\n                parent_catalog_name: \"\",\r\n                keyword: \"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch (ex) { }\r\n        return null;\r\n\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                     CATALOGO DE ACTIVIDAD ECONOMICA                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getActividadEconomicaCatalogo() {\r\n        try {\r\n            let params = {\r\n                catalog_name: 'ACTIVIDAD ECONOMICA',\r\n                parent_catalog_name: \"\",\r\n                keyword: \"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch (err) { }\r\n        return null;\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                     CATALOGO DE ACTIVIDAD ECONOMICA                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getSubActividadEconomicaCatalogo(codeActividad) {\r\n        try {\r\n            let params = {\r\n                catalog_name: 'SUB ACTIVIDAD ECONOMICA',\r\n                parent_catalog_name: codeActividad,\r\n                keyword: \"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch (err) { }\r\n        return null;\r\n    }\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                     CATALOGO DE SECTOR ECONOMICO                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getSectorEconomicoCatalogo() {\r\n        try {\r\n            let params = {\r\n                catalog_name: 'SECTOR ECONOMICO',\r\n                parent_catalog_name: \"\",\r\n                keyword: \"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch (ex) { }\r\n        return null;\r\n\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                     CATALOGO RELACION                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getRelacionCatalogo() {\r\n        try {\r\n            let params = {\r\n                catalog_name: 'RELACION',\r\n                parent_catalog_name: \"\",\r\n                keyword: \"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch (ex) { }\r\n        return null;\r\n\r\n\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                     CATALOGO TIPO DE GARANTIA                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getTipoGarantiaCatalogo() {\r\n        try {\r\n            let params = {\r\n                catalog_name: 'TIPO DE GARANTIA',\r\n                parent_catalog_name: \"\",\r\n                keyword: \"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch (ex) { }\r\n        return null;\r\n\r\n\r\n    }\r\n    /*\r\n    \"catalog\": {\r\n        \"type\": \"TIPO DE GARANTIA\",\r\n        \"records\": [\r\n            {\r\n                \"CODIGO\": \"100\",\r\n                \"DESCRIPCION\": \"Garantia Hipotecaria Mueble\"\r\n            },\r\n            {\r\n                \"CODIGO\": \"200\",\r\n                \"DESCRIPCION\": \"Garantia Hipotecaria Inmueble\"\r\n            },\r\n            {\r\n                \"CODIGO\": \"300\",\r\n                \"DESCRIPCION\": \"Depositos Pignorados en el Banco\"\r\n            },\r\n            {\r\n                \"CODIGO\": \"400\",\r\n                \"DESCRIPCION\": \"Depositos Pignorados en Otros Banco\"\r\n            },\r\n            {\r\n                \"CODIGO\": \"500\",\r\n                \"DESCRIPCION\": \"Garantia Prendaria\"\r\n            },\r\n            {\r\n                \"CODIGO\": \"600\",\r\n                \"DESCRIPCION\": \"Otras Garantias\"\r\n            },\r\n            {\r\n                \"CODIGO\": \"700\",\r\n                \"DESCRIPCION\": \"SIN GARANTIAS\"\r\n            }\r\n        ]\r\n    }\r\n    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                     CATALOGO MONEDAS                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getMonedaCatalogo() {\r\n\r\n        try {\r\n            let params = {\r\n                catalog_name: 'MONEDA',\r\n                parent_catalog_name: \"\",\r\n                keyword: \"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch (ex) { }\r\n        return null;\r\n\r\n\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                     CATALOGO SUCURSAL  o Agencias                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getSucursalCatalogo() {\r\n        try {\r\n            let params = {\r\n                catalog_name: 'SUCURSAL',\r\n                parent_catalog_name: \"\",\r\n                keyword: \"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch (ex) { }\r\n        return null;\r\n\r\n\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                       Api para obtener todos los subproductos catalogo                      */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getSubProductosCatalogo() {\r\n        try {\r\n            // return json;\r\n            let params = {\r\n                catalog_name: 'SUBPRODUCTO',\r\n                parent_catalog_name: \"\",\r\n                keyword: \"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch (ex) { }\r\n        return null;\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                       Api para obtener todos las sucursales o agencias catalogo                      */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getSucursalesCatalogo() {\r\n        try {\r\n            // return json;\r\n            let params = {\r\n                catalog_name: 'SUCURSAL',\r\n                parent_catalog_name: \"\",\r\n                keyword: \"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch (ex) { }\r\n        return null;\r\n    }\r\n\r\n    //CATALOGO - Tipo de Limites de Credito\r\n    async getTypeOfCreditLimitsCatalog() {\r\n        try{\r\n            // return json;\r\n            let params = {\r\n                catalog_name: 'LIMIT REFERENCE',\r\n                parent_catalog_name: \"\",\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;\r\n    }\r\n\r\n    //CATALOGO - Aseguradoras\r\n    async getInsurersCatalog() {\r\n        try{\r\n            // return json;\r\n            let params = {\r\n                catalog_name: 'ASEGURADORAS',\r\n                parent_catalog_name: \"\",\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;\r\n    }\r\n\r\n    //CATALOGO - Marcas de Auto\r\n    async getCarBrandCatalog() {\r\n        try{\r\n            // return json;\r\n            let params = {\r\n                catalog_name: 'MARCA DE AUTOS',\r\n                parent_catalog_name: \"\",\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;\r\n    }\r\n\r\n    //CATALOGO - Modelos de Auto\r\n    async getCarModelCatalog() {\r\n        try{\r\n            // return json;\r\n            let params = {\r\n                catalog_name: 'MODELO DE AUTO',\r\n                parent_catalog_name: \"\",\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;\r\n    }\r\n\r\n    //CATALOGO - Corredoras\r\n    async getBrokersCatalog() {\r\n        try{\r\n            // return json;\r\n            let params = {\r\n                catalog_name: 'BROKER',\r\n                parent_catalog_name: \"\",\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;\r\n    }\r\n\r\n    //CATALOGO - Fiduciaria\r\n    async getTrusteeCatalog() {\r\n        try{\r\n            // return json;\r\n            let params = {\r\n                catalog_name: 'FIDUCIARIAS',\r\n                parent_catalog_name: \"\",\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;\r\n    }\r\n\r\n    //CATALOGO - SubProducto\r\n    async getSubProductCatalog() {\r\n        try{\r\n            // return json;\r\n            let params = {\r\n                catalog_name: 'SUBPRODUCTO',\r\n                parent_catalog_name: \"\",\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;\r\n    }\r\n\r\n    //CATALOGO - Categorias\r\n    async getCategoriesCatalog() {\r\n        try{\r\n            // return json;\r\n            let params = {\r\n                catalog_name: 'CATEGORIA',\r\n                parent_catalog_name: \"\",\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;\r\n    }\r\n\r\n    //CATALOGO - Tipo de poliza\r\n    async getPolicyTypeCatalog() {\r\n        try{\r\n            // return json;\r\n            let params = {\r\n                catalog_name: 'TIPO POLIZA',\r\n                parent_catalog_name: \"\",\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;\r\n    }\r\n\r\n    //CATALOGO - Sub tipo de Garantia\r\n    async getSubTypeWarrantyCatalog() {\r\n        try{\r\n            // return json;\r\n            let params = {\r\n                catalog_name: 'SUB TIPO GARANTIA',\r\n                parent_catalog_name: \"\",\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;\r\n    }\r\n\r\n    //CATALOGO - Clases de Auto\r\n    async getAutoClassCatalog() {\r\n        try{\r\n            // return json;\r\n            let params = {\r\n                catalog_name: 'CLASE AUTO',\r\n                parent_catalog_name: \"\",\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;\r\n    }\r\n\r\n    //CATALOGO - Avaluadora\r\n    async getAppraiserCatalog() {\r\n        try{\r\n            // return json;\r\n            let params = {\r\n                catalog_name: 'AVALUADORA',\r\n                parent_catalog_name: \"\",\r\n                keyword:\"\"\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_CATALOGO + \"?\" + data);\r\n            return result.catalog;\r\n        }\r\n        catch(ex){}\r\n        return null;\r\n    }\r\n\r\n    /*------------------------------------------------------------------------------------*/\r\n    ///v1/loans/details/informations\r\n    //Retorna las facilidades de un cliente ... partyId -> numero del cliente en T24\r\n    //getFacilidades\r\n    async getFacilities(partyId) {\r\n        try{\r\n            let params = {\r\n                PartyId: partyId\r\n            }\r\n            let data = qs.stringify(params);\r\n            var result = await this.get(url.URL_CORE_FACILIDADES + \"?\" + data);\r\n    \r\n            //return result.AcctLoans.AcctLoan;\r\n\r\n            var dataResult=[];\r\n            try {\r\n                //Armamos la data a mostrar en pantalla\r\n                result.AcctLoans.AcctLoan.map(function (item, i) {    \r\n                    try{\r\n                        dataResult.push({\"facilityType\":item.ProductDesc,\"approvedAmount\":item.AcctOpeningInfo.InitialAmt.Amt,\r\n                            \"approvedDate\":item.AcctOpeningInfo.OpenDt,\"actualBalance\":item.AcctBal[0].CurAmt.Amt,\r\n                            \"debtorName\":item.AcctMember[0].PartyName.ShortName});\r\n                    }\r\n                    catch(err){}\r\n                })\r\n            }\r\n            catch (err) {console.error(err);}\r\n\r\n            console.log(\"getFacilities\",dataResult)\r\n            return dataResult;\r\n            //Tipo de facilidad ProductDesc\r\n            //Monto Aprobadp AcctOpeningInfo.InitialAmt.Amt\r\n            //fecha AcctOpeningInfo.OpenDt\r\n            //Balance Actual AcctBal[0].CurAmt.Amt\r\n            //Deudor AcctMember[0].PartyName.ShortName\r\n        }\r\n        catch(err){console.error(err)}\r\n        return undefined;\r\n    }\r\n\r\n    //retorna los Clientes Relacionados se le pasa el Numero de Cliente de T24\r\n    async getRelatedClients(partyId) {\r\n\r\n        let params = {\r\n            PartyId: partyId\r\n        }\r\n\r\n        let data = qs.stringify(params);\r\n\r\n        var dataResult = [];\r\n\r\n        try {\r\n\r\n            //servicio retorna clientes relacionados\r\n            var resultData = await this.get(url.URL_CORE_COMPANIESRELATIONS + \"?\" + data);\r\n\r\n            //Armamos la data a mostrar en pantalla\r\n            for(var client in resultData){\r\n                var partyNumber = client.PartyPartyRelInfo.PartyRef[0].RelPartyRef[0].PartyKey[0].PartyId;\r\n                if (partyNumber !== undefined && partyNumber !== null && partyNumber.length > 0) {     \r\n                                   \r\n                    var resultData = await this.get(url.URL_CORE_COMPANIESRELATIONS + \"?\" + data);\r\n                    dataResult.push(partyNumber);\r\n                }\r\n            }            \r\n        }\r\n        catch (err) {\r\n            console.error(\"URL_CORE_FACILIDADES\", err);\r\n        }\r\n\r\n        return dataResult;\r\n    }\r\n\r\n    //ExposicionCorporativa se le pasa el Numero de Cliente de T24\r\n    async getCorporateExhibition(partyId) {\r\n\r\n        let params = {\r\n            PartyId: partyId\r\n        }\r\n\r\n        let data = qs.stringify(params);\r\n\r\n        var dataResult = [];\r\n        var longTerm = { name: \"Facilidades Largo Plazo\", approvalRisk: 0, proposalRisk: 0, variationRisk: 0 };\r\n        var shortTerm = { name: \"Facilidades Corto Plazo\", approvalRisk: 0, proposalRisk: 0, variationRisk: 0 };\r\n        var totalTerm = { name: \"Total de Facilidades\", approvalRisk: 0, proposalRisk: 0, variationRisk: 0 };\r\n        var pledged = { name: \"Monto Pignorado\", approvalRisk: 0, proposalRisk: 0, variationRisk: 0 };\r\n        var netExposition = { name: \"Exposicion Neta\", approvalRisk: 0, proposalRisk: 0, variationRisk: 0 };\r\n\r\n        try {\r\n\r\n            //servicio retorna CP y LP (Corto y Largo Plazo)\r\n            var result = await this.get(url.URL_CORE_FACILIDADES + \"?\" + data);\r\n\r\n            console.log(\"getCorporateExhibition result\", result);\r\n\r\n            //Armamos la data a mostrar en pantalla\r\n            result.AcctLoans.AcctLoan.map(function (item, i) {\r\n                var openYear = parseInt(String(item.AcctOpeningInfo.OpenDt).split('-')[0]);\r\n                var dueYear = parseInt(String(item.CreditAcctData.DueDt).split('-')[0]);\r\n                if (dueYear - openYear > 1) { //Largo Plazo\r\n                    longTerm.approvalRisk += Number(item.AcctOpeningInfo.InitialAmt.Amt);\r\n                    longTerm.proposalRisk += Number(item.AcctBal[0].CurAmt.Amt);\r\n                }\r\n                else { //Corto Pazo                    \r\n                    shortTerm.approvalRisk += Number(item.AcctOpeningInfo.InitialAmt.Amt);\r\n                    shortTerm.proposalRisk += Number(item.AcctBal[0].CurAmt.Amt);\r\n                }\r\n            })\r\n\r\n            console.log(\"getCorporateExhibition item\", longTerm);\r\n\r\n            longTerm.variationRisk = longTerm.approvalRisk - longTerm.proposalRisk;\r\n            shortTerm.variationRisk = shortTerm.approvalRisk - shortTerm.proposalRisk;\r\n\r\n            dataResult.push(longTerm);\r\n            dataResult.push(shortTerm);\r\n\r\n            totalTerm.approvalRisk = shortTerm.approvalRisk + longTerm.approvalRisk;\r\n            totalTerm.proposalRisk = shortTerm.proposalRisk + longTerm.proposalRisk;\r\n            totalTerm.variationRisk = totalTerm.approvalRisk - totalTerm.proposalRisk;\r\n\r\n            dataResult.push(totalTerm);\r\n\r\n        }\r\n        catch (err) {\r\n            console.error(\"URL_CORE_FACILIDADES\", err);\r\n        }\r\n\r\n        try {\r\n\r\n\r\n            //servicio retorna Pignorados\r\n            var result = await this.get(url.URL_CORE_PIGNORADO + \"?\" + data);\r\n\r\n            //Armamos la data a mostrar en pantalla\r\n            result.Collaterals.CollateralInfo.map(function (item, i) {\r\n\r\n                if (item.AcctKey.AcctReference !== null) {\r\n                    pledged.approvalRisk += Number(item.Collateral.CollateralAmt.Amt);\r\n                    pledged.proposalRisk += Number(item.Collateral.CollateralAmt.Amt);\r\n                    pledged.variationRisk += Number(item.Collateral.CollateralAmt.Amt);\r\n                }\r\n\r\n            })\r\n\r\n            dataResult.push(pledged);\r\n        }\r\n        catch (err) {\r\n            console.error(\"URL_CORE_PIGNORADO\", err);\r\n        }\r\n\r\n        if (dataResult.length > 0) {\r\n            netExposition.approvalRisk = totalTerm.approvalRisk - pledged.approvalRisk;\r\n            netExposition.proposalRisk = totalTerm.proposalRisk - pledged.proposalRisk;\r\n            netExposition.variationRisk = totalTerm.approvalRisk - pledged.proposalRisk;\r\n\r\n            dataResult.push(netExposition);\r\n        }\r\n\r\n        return dataResult;\r\n    }\r\n\r\n    //ExposicionCorporativa se le pasa el Numero de Cliente de T24\r\n    async getCorporateExhibitionByClients(partyId) {\r\n\r\n        let clients = await this.getRelatedClients(partyId);\r\n        var dataResult = [];\r\n        for (var i = 0; i < clients.length; i++) {\r\n            let result = await this.getCorporateExhibition(clients[i]);\r\n            console.log(\"getCorporateExhibition\", result)\r\n            if (result !== null && result.length > 0) {\r\n                dataResult.push({ clientId: \"Cliente \" + i, data: result });\r\n            }\r\n        }\r\n        console.log(\"dataResult\", dataResult);\r\n        return dataResult;\r\n    }\r\n\r\n    //Deudas a Corto Plazo... se le pasa el Numero de Cliente de T24\r\n    /*async getShortTermDebts(partyId) {\r\n\r\n        let params = {\r\n            PartyId: partyId\r\n        }\r\n\r\n        let data = qs.stringify(params);\r\n\r\n        var dataResult = [];\r\n        //var shortTerm ={name:\"Facilidades Corto Plazo\",approvalRisk:0,proposalRisk:0,variationRisk:0};\r\n        var totalTerm = { name: \"Total\", approvalRisk: 0, proposalRisk: 0, variationRisk: 0, date: moment().format(\"YYYY-MM-DD\") };\r\n\r\n        try {\r\n\r\n            //servicio retorna CP y LP (Corto y Largo Plazo)\r\n            var result = await this.get(url.URL_CORE_FACILIDADES + \"?\" + data);\r\n\r\n            console.log(\"getCorporateExhibition result\", result);\r\n\r\n            //Armamos la data a mostrar en pantalla\r\n            result.AcctLoans.AcctLoan.map(function (item, i) {\r\n                var openYear = parseInt(String(item.AcctOpeningInfo.OpenDt).split('-')[0]);\r\n                var dueYear = parseInt(String(item.CreditAcctData.DueDt).split('-')[0]);\r\n                if (dueYear - openYear > 1) { //Largo Plazo\r\n                }\r\n                else{//Corto Plazo\r\n                    var shortTerm = { name: item.ProductDesc, approvalRisk: 0, proposalRisk: 0, variationRisk: 0 }\r\n                    shortTerm.approvalRisk = Number(item.AcctOpeningInfo.InitialAmt.Amt);\r\n                    shortTerm.proposalRisk = Number(item.AcctBal[0].CurAmt.Amt);\r\n                    shortTerm.variationRisk = shortTerm.approvalRisk - shortTerm.proposalRisk;\r\n                    shortTerm.name = item.ProductDesc\r\n                    shortTerm.date = item.AcctOpeningInfo.OpenDt\r\n\r\n                    totalTerm.approvalRisk += shortTerm.approvalRisk;\r\n                    totalTerm.proposalRisk += shortTerm.proposalRisk;\r\n\r\n                    dataResult.push(shortTerm);\r\n                }\r\n            })\r\n\r\n            totalTerm.variationRisk = totalTerm.approvalRisk - totalTerm.proposalRisk;\r\n            dataResult.push(totalTerm);\r\n        }\r\n        catch (err) {\r\n            console.error(\"URL_CORE_FACILIDADES\", err);\r\n        }\r\n\r\n\r\n        return dataResult;\r\n    }*/\r\n\r\n    //Deudas a Corto y Largo Plazo... se le pasa el Numero de Cliente de T24\r\n    async getShortLongTermDebts(partyId) {\r\n\r\n        let params = {\r\n            PartyId: partyId\r\n        }\r\n\r\n        let data = qs.stringify(params);\r\n\r\n        var longTermresult = [] //{name:\"Facilidades Corto Plazo\",approvalRisk:0,proposalRisk:0,variationRisk:0};\r\n        var longTermTotal = { name: \"Total\", approvalRisk: 0, proposalRisk: 0, variationRisk: 0, date: moment().format(\"YYYY-MM-DD\") };\r\n\r\n        var shortTermresult = [] //{name:\"Facilidades Corto Plazo\",approvalRisk:0,proposalRisk:0,variationRisk:0};\r\n        var shortTermTotal = { name: \"Total\", approvalRisk: 0, proposalRisk: 0, variationRisk: 0, date: moment().format(\"YYYY-MM-DD\") };\r\n\r\n        try {\r\n\r\n            //servicio retorna CP y LP (Corto y Largo Plazo)\r\n            var result = await this.get(url.URL_CORE_FACILIDADES + \"?\" + data);\r\n\r\n            console.log(\"getCorporateExhibition result\", result);\r\n\r\n            //Armamos la data a mostrar en pantalla\r\n            result.AcctLoans.AcctLoan.map(function (item, i) {\r\n                var openYear = parseInt(String(item.AcctOpeningInfo.OpenDt).split('-')[0]);\r\n                var dueYear = parseInt(String(item.CreditAcctData.DueDt).split('-')[0]);\r\n                if (dueYear - openYear > 1) { //Largo Plazo\r\n                    var longTerm = { name: \"Facilidades Largo Plazo\", approvalRisk: 0, proposalRisk: 0, variationRisk: 0 }\r\n                    longTerm.approvalRisk = Number(item.AcctOpeningInfo.InitialAmt.Amt);\r\n                    longTerm.proposalRisk = Number(item.AcctBal[0].CurAmt.Amt);\r\n                    longTerm.variationRisk = longTerm.approvalRisk - longTerm.proposalRisk;\r\n                    longTerm.name = item.ProductDesc\r\n                    longTerm.date = item.AcctOpeningInfo.OpenDt\r\n\r\n                    longTermTotal.approvalRisk += longTerm.approvalRisk;\r\n                    longTermTotal.proposalRisk += longTerm.proposalRisk;\r\n\r\n                    longTermresult.push(longTerm);\r\n                }\r\n                else { //Corto Pazo  \r\n                    var shortTerm = { name: item.ProductDesc, approvalRisk: 0, proposalRisk: 0, variationRisk: 0 }\r\n                    shortTerm.approvalRisk = Number(item.AcctOpeningInfo.InitialAmt.Amt);\r\n                    shortTerm.proposalRisk = Number(item.AcctBal[0].CurAmt.Amt);\r\n                    shortTerm.variationRisk = shortTerm.approvalRisk - shortTerm.proposalRisk;\r\n                    shortTerm.name = item.ProductDesc\r\n                    shortTerm.date = item.AcctOpeningInfo.OpenDt\r\n\r\n                    shortTermTotal.approvalRisk += shortTerm.approvalRisk;\r\n                    shortTermTotal.proposalRisk += shortTerm.proposalRisk;\r\n\r\n                    shortTermresult.push(shortTerm);\r\n                }\r\n            })\r\n            longTermTotal.variationRisk = longTermTotal.approvalRisk - longTermTotal.proposalRisk;\r\n            longTermresult.push(longTermTotal);\r\n\r\n            shortTermTotal.variationRisk = shortTermTotal.approvalRisk - shortTermTotal.proposalRisk;\r\n            shortTermresult.push(shortTermTotal);\r\n        }\r\n        catch (err) {\r\n            console.error(\"URL_CORE_FACILIDADES\", err);\r\n        }\r\n\r\n        return {longTermresult,shortTermresult};\r\n    }\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                                 Retorna los balances por meses                                 */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getAverages(AcctReference) {\r\n        let params = {\r\n            AcctReference: AcctReference\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_AVERAGES + \"?\" + data);\r\n\r\n        return result;\r\n    }\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                     Obtenemos una lista de las importaciones que se generen                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getListaImportaciones(PartyId) {\r\n        let params = {\r\n            PartyId: PartyId\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_IMPORTACIONES + \"?\" + data);\r\n\r\n        return result;\r\n    }\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                 Obtenemos una lista de las exportaciones que se hayan generado                 */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getListaExportaciones(PartyId) {\r\n        let params = {\r\n            PartyId: PartyId\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_EXPORTACIONES + \"?\" + data);\r\n\r\n        return result;\r\n    }\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                          Obtenemos los prestamos entrantes existentes                          */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getPrestamosEntrantes(PartyId) {\r\n        let params = {\r\n            PartyId: PartyId\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_INGOING + \"?\" + data);\r\n\r\n        return result;\r\n    }\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                    Obtenemos una lista de todos los presstamos que ya salen                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getPrestamosSalientes(PartyId) {\r\n        let params = {\r\n            PartyId: PartyId\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_OUTOGOING + \"?\" + data);\r\n\r\n        return result;\r\n    }\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*               Obtenemos la lista de creditos que existen en la actualidad activos              */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getCreditosExistentes(PartyId) {\r\n        let params = {\r\n            PartyId: PartyId\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_CREDITOS + \"?\" + data);\r\n\r\n        return result;\r\n    }\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                                        Creditos en linea                                       */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getCreditosLine(PartyId) {\r\n        let params = {\r\n            PartyId: PartyId\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_CREDITOS_LINE + \"?\" + data);\r\n\r\n        return result;\r\n    }\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*     Nos devuelve todas las transacciones que ha realizado el usuario por un rango de fechas    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getTransactions(AcctId, EndDt, StartDt) {\r\n        // ejemplo del dataField\r\n        // AcctId=1001553287&EndDt=2021-10-16T09:32:51&StartDt=2021-09-16T00:00:00\r\n        let params = {\r\n            AcctId: AcctId,\r\n            EndDt: EndDt,\r\n            StartDt: StartDt,\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_TRANSACCTIONS + \"?\" + data);\r\n\r\n        return result;\r\n    }\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                                  Obtenemos todos los prestamos                                 */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getPrestamos(PartyId) {\r\n        let params = {\r\n            PartyId: PartyId\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_PRESTAMOS + \"?\" + data);\r\n\r\n        return result;\r\n    }\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*               Obtenemos toda la informacion del prestamos dentro de una actividad              */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    async getPrestamosInfo(AcctId) {\r\n        let params = {\r\n            AcctId: AcctId\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_PRESTAMOS_INFORMATION + \"?\" + data);\r\n\r\n        return result;\r\n    }\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*               Obtenemos toda la informacion del Reporting Services                            */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n\r\n    //https://qa.api.ob.banesco.com.pa/APIUtil/v1/reports/atoms?FECHA=20210930&CLIENTE=600167424\r\n\r\n    async getReportingServices(partyId) { //partyId -> numero del cliente en T24\r\n        let params = {\r\n            FECHA: moment().format(\"YYYYMMDD\"), //preguntar pq la fecha no se puede cambiar\r\n            CLIENTE: partyId\r\n        }\r\n        let data = qs.stringify(params);\r\n        var result = await this.get(url.URL_CORE_REPORTINGSERVICES + \"?\" + data);\r\n\r\n        return result;\r\n\r\n        /*{\r\n    \"records\": [\r\n        {\r\n            \"FECHA\": \"20210930\",\r\n            \"T_CREDITO\": \"002\",\r\n            \"T_FACILIDAD\": \"05\",\r\n            \"CLASIFICACION\": \"02\",\r\n            \"LOC_EXT\": \"L\",\r\n            \"REGION\": \"014\",\r\n            \"CLIENTE_RUC\": \"8-805-442\",\r\n            \"TNO_EMPRESA\": \"06\",\r\n            \"NOMBRE_CLIENTE\": \"ROBERTO ANTONIO SANCHEZ CONCEPCION\",\r\n            \"GRUPO_ECON\": \"ROBERTO ANTONIO SANCHEZ CONCEPCION\",\r\n            \"GRUPO_RUC\": \"8-805-442\",\r\n            \"T_RELACION\": \"P999\",\r\n            \"ACT_ECON\": \"2103\",\r\n            \"TASA_INT\": \"10.5\",\r\n            \"MONTO_IN\": 5400,\r\n            \"INT_PC\": 0,\r\n            \"FECHA_INI\": \"20150616\",\r\n            \"FECHA_FIN\": \"20230116\",\r\n            \"FECHA_REFIN\": \"NA\",\r\n            \"FECHA_RENEG\": \"20200817\",\r\n            \"G1\": \"0701\",\r\n            \"MONTO_G1\": 0,\r\n            \"G2\": \"NA\",\r\n            \"MONTO_G2\": 0,\r\n            \"G3\": \"NA\",\r\n            \"MONTO_G3\": 0,\r\n            \"G4\": \"NA\",\r\n            \"MONTO_G4\": 0,\r\n            \"G5\": \"NA\",\r\n            \"MONTO_G5\": 0,\r\n            \"PROV_REG\": 0,\r\n            \"PROV_NIIF\": 119.05,\r\n            \"PROV_PAIS\": 0,\r\n            \"SALDO\": 6401.61,\r\n            \"N_CUOTAS_VENCER\": \"7\",\r\n            \"X_VENCER30\": \"100.86\",\r\n            \"X_VENCER60\": \"100.86\",\r\n            \"X_VENCER90\": \"100.86\",\r\n            \"X_VENCER120\": \"100.86\",\r\n            \"X_VENCER180\": \"100.86\",\r\n            \"X_VENCER1A\": \"100.86\",\r\n            \"X_VENCER5A\": \"5796.45\",\r\n            \"X_VENCER10A\": \"0.00\",\r\n            \"X_VENCERM10A\": \"0.00\",\r\n            \"N_CUOTA_VENCIDAS\": \"0\",\r\n            \"VENCIDOS30\": \"0.00\",\r\n            \"VENCIDOS60\": \"0.00\",\r\n            \"VENCIDOS90\": \"0.00\",\r\n            \"VENCIDOS120\": \"0.00\",\r\n            \"VENCIDOS180\": \"0.00\",\r\n            \"VENCIDOS1A\": \"0.00\",\r\n            \"VENCIDOSM1A\": \"0.00\",\r\n            \"RANGO_MORA\": \"1. Al día\",\r\n            \"DIAS_MORA\": 0,\r\n            \"PROX_CAP\": \"20211016\",\r\n            \"PER_CAP\": \"01\",\r\n            \"PROX_INT\": \"20211016\",\r\n            \"PER_INT\": \"01\",\r\n            \"CUOTA_XPAGAR\": \"100.86\",\r\n            \"SUCURSAL\": \"201\",\r\n            \"MONEDA\": \"USD\",\r\n            \"CUENTA_CONTABLE\": \"\",\r\n            \"PRODUCTO\": \"TDC\",\r\n            \"BANCA\": \"\",\r\n            \"SECTOR1\": \"PRESTACARD\",\r\n            \"SECTOR2\": \"\",\r\n            \"SECTOR3\": \"\",\r\n            \"SECTOR4\": \"PRESTACARD\",\r\n            \"PRODUCTO1\": \"TARJETA DE CREDITO CONSUMO\",\r\n            \"PRODUCTO2\": \"TDC\",\r\n            \"PRODUCTO3\": \"Prestacard Visa\",\r\n            \"NUM_OPS\": \"4466840182907004\",\r\n            \"NUM_CLIENTE\": \"600167424\",\r\n            \"CENTRO_COSTO\": \"\",\r\n            \"NUM_LINEA\": \"\",\r\n            \"COD_OFIC\": \"\",\r\n            \"COD_OFIC2\": \"\"\r\n        }\r\n    ],\r\n    \"Status\": {\r\n        \"StatusCode\": \"M0000\",\r\n        \"StatusDesc\": \"SUCCESS\"\r\n    }\r\n} */\r\n    }\r\n\r\n\r\n    //Retorna todos los colateralsId por numero de cliente\r\n    async getColaterals(partyId) { //Numero del cliente en T24\r\n\r\n        let params = {\r\n            PartyId: partyId\r\n        }\r\n\r\n        let data = qs.stringify(params);\r\n\r\n        var dataResult = [];\r\n        try {\r\n\r\n            console.log(\"plage\");\r\n\r\n            //servicio retorna Pignorados\r\n            var result = await this.get(url.URL_CORE_PIGNORADO + \"?\" + data);\r\n\r\n            //Armamos la data a mostrar en pantalla\r\n            result.Collaterals.CollateralInfo.map(function (item, i) {\r\n                if (item.Collateral.CollateralKey.CollateralId !== null) {\r\n                    dataResult.push({ collateralId: item.Collateral.CollateralKey.CollateralId, facilityAmt: item.Collateral.CollateralAmt.Amt });\r\n                }\r\n\r\n            })\r\n        }\r\n        catch (err) {\r\n            console.error(\"URL_CORE_PIGNORADO\", err);\r\n        }\r\n\r\n        console.log(\"dataResult\", dataResult);\r\n        return dataResult;\r\n    }\r\n\r\n    // retorna Detalle de Garantias\r\n    async getWarrantyDetails(collateralId, warrantyType) { //Numero del id colateral ... warrytype = Muebles, Inmuebles, Otros, Depositos\r\n\r\n        let params = {\r\n            CollateralId: collateralId,\r\n            InqType: warrantyType\r\n        }\r\n\r\n        let data = qs.stringify(params);\r\n\r\n        try {\r\n            //servicio retorna Pignorados\r\n            const result = await this.get(url.URL_CORE_COLLATERALS + \"?\" + data);\r\n            return result\r\n            //Armamos la data a mostrar en pantalla\r\n            /*result.Collaterals.CollateralInfo.map(function(item, i){\r\n                if(item.Collateral.CollateralKey.CollateralId!==null){\r\n                    dataResult.push({collateralId: item.Collateral.CollateralKey.CollateralId,facilityAmt: item.Collateral.CollateralAmt.Amt});\r\n                }                                \r\n            })*/\r\n        }\r\n        catch (err) {\r\n            console.error(\"URL_CORE_PIGNORADO\", err);\r\n            return undefined;\r\n        }\r\n    }\r\n\r\n    //retorna movimientos de cuentas\r\n    async getAccountMovements(partyId){ //Numero de Cliente de T24\r\n        let params = {PartyId: partyId}\r\n        let data = qs.stringify(params);\r\n\r\n        //servicio retorna las cuentas del cliente\r\n        var result = await this.get(url.URL_CORE_ACCOUNTSPARTIES + \"?\" + data);\r\n        \r\n        if(result.Status.StatusCode!==OPTs.ResponseT24_STATUSOK){\r\n            throw new Error(result.Status.StatusCode + \" - \" + result.Status.StatusDesc);\r\n            return;  \r\n        }\r\n\r\n        var dataResult=[];\r\n        for (var i = 0; i < result.Accounts.Acct.length; i++) {\r\n            var item = result.Accounts.Acct[i];\r\n            params = {AcctReference: item.AcctKey.AcctReference}\r\n            data = qs.stringify(params);                \r\n            try{\r\n                //servicio retorna los movimientos de cuentas del cliente\r\n                var dtResult = await this.get(url.URL_CORE_AVERAGES + \"?\" + data);                \r\n                dtResult.Acct.AcctBal.map(function (accItem, i) {\r\n                    dataResult.push({\"year\": accItem.AverageBalanceDt.split(' ')[1] ,\"month\":accItem.AverageBalanceDt.split(' ')[0],\r\n                    \"amount\":accItem.CurAmt.Amt});\r\n                })\r\n            }\r\n            catch(err){}            \r\n          }\r\n        \r\n        return dataResult;        \r\n\r\n\r\n        /*{\r\n    \"Accounts\": {\r\n        \"Acct\": [\r\n            {\r\n                \"AcctApplIdent\": \"0\",\r\n                \"AcctPartyType\": \"1\",\r\n                \"AcctSubtype\": {\r\n                    \"Cod\": \"CAHO Local\"\r\n                },\r\n                \"AcctType\": {\r\n                    \"Cod\": \"1\"\r\n                },\r\n                \"ClubBanesco\": false,\r\n                \"CurCode\": \"USD\",\r\n                \"MovType\": \"Unipersonal\",\r\n                \"ProductType\": \"1201\",\r\n                \"OpenDt\": \"2019-08-02\",\r\n                \"AcctKey\": {\r\n                    \"AcctId\": \"201001879012\",\r\n                    \"AcctReference\": \"1001062243\"\r\n                },\r\n                \"AcctStatus\": {\r\n                    \"AcctStatusCode\": \"VIG\"\r\n                },\r\n                \"AcctBal\": [\r\n                    {\r\n                        \"BalType\": \"WorkingBalance\",\r\n                        \"CurAmt\": {\r\n                            \"Amt\": \"27.56\"\r\n                        }\r\n                    },\r\n                    {\r\n                        \"BalType\": \"AvailBalance\",\r\n                        \"CurAmt\": {\r\n                            \"Amt\": \"27.56\"\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    \"PartyKey\": {\r\n        \"PartyType\": \"1\"\r\n    },\r\n    \"Status\": {\r\n        \"StatusCode\": \"M0000\",\r\n        \"StatusDesc\": \"OK\"\r\n    }\r\n} */\r\n        \r\n/*{\r\n    \"Acct\": {\r\n        \"AcctBal\": [\r\n            {\r\n                \"AverageBalanceDt\": \"ENERO 2021\",\r\n                \"BalType\": \"MonthAverageBalance\",\r\n                \"CurAmt\": {\r\n                    \"Amt\": \"714.20\"\r\n                }\r\n            },\r\n            {\r\n                \"AverageBalanceDt\": \"FEBRERO 2021\",\r\n                \"BalType\": \"MonthAverageBalance\",\r\n                \"CurAmt\": {\r\n                    \"Amt\": \"959.29\"\r\n                }\r\n            },\r\n            {\r\n                \"AverageBalanceDt\": \"MARZO 2021\",\r\n                \"BalType\": \"MonthAverageBalance\",\r\n                \"CurAmt\": {\r\n                    \"Amt\": \"548.68\"\r\n                }\r\n            },\r\n            {\r\n                \"AverageBalanceDt\": \"ABRIL 2021\",\r\n                \"BalType\": \"MonthAverageBalance\",\r\n                \"CurAmt\": {\r\n                    \"Amt\": \"260.73\"\r\n                }\r\n            },\r\n            {\r\n                \"AverageBalanceDt\": \"MAYO 2021\",\r\n                \"BalType\": \"MonthAverageBalance\",\r\n                \"CurAmt\": {\r\n                    \"Amt\": \"383.75\"\r\n                }\r\n            },\r\n            {\r\n                \"AverageBalanceDt\": \"JUNIO 2021\",\r\n                \"BalType\": \"MonthAverageBalance\",\r\n                \"CurAmt\": {\r\n                    \"Amt\": \"331.64\"\r\n                }\r\n            },\r\n            {\r\n                \"AverageBalanceDt\": \"JULIO 2021\",\r\n                \"BalType\": \"MonthAverageBalance\",\r\n                \"CurAmt\": {\r\n                    \"Amt\": \"195.59\"\r\n                }\r\n            },\r\n            {\r\n                \"AverageBalanceDt\": \"AGOSTO 2021\",\r\n                \"BalType\": \"MonthAverageBalance\",\r\n                \"CurAmt\": {\r\n                    \"Amt\": \"323.00\"\r\n                }\r\n            },\r\n            {\r\n                \"AverageBalanceDt\": \"SEPTIEMBRE 2021\",\r\n                \"BalType\": \"MonthAverageBalance\",\r\n                \"CurAmt\": {\r\n                    \"Amt\": \"399.36\"\r\n                }\r\n            },\r\n            {\r\n                \"AverageBalanceDt\": \"OCTUBRE 2021\",\r\n                \"BalType\": \"MonthAverageBalance\",\r\n                \"CurAmt\": {\r\n                    \"Amt\": \"315.92\"\r\n                }\r\n            },\r\n            {\r\n                \"AverageBalanceDt\": \"NOVIEMBRE 2021\",\r\n                \"BalType\": \"MonthAverageBalance\",\r\n                \"CurAmt\": {\r\n                    \"Amt\": \"151.21\"\r\n                }\r\n            },\r\n            {\r\n                \"AverageBalanceDt\": \"DICIEMBRE 2021\",\r\n                \"BalType\": \"MonthAverageBalance\",\r\n                \"CurAmt\": {\r\n                    \"Amt\": \"235.04\"\r\n                }\r\n            },\r\n            {\r\n                \"AverageBalanceDt\": \"ENERO 2022\",\r\n                \"BalType\": \"MonthAverageBalance\",\r\n                \"CurAmt\": {\r\n                    \"Amt\": \"84.73\"\r\n                }\r\n            },\r\n            {\r\n                \"AverageBalanceDt\": \"FEBRERO 2022\",\r\n                \"BalType\": \"MonthAverageBalance\",\r\n                \"CurAmt\": {\r\n                    \"Amt\": \"55.14\"\r\n                }\r\n            }\r\n        ]\r\n    },\r\n    \"Status\": {\r\n        \"StatusCode\": \"M0000\",\r\n        \"StatusDesc\": \"OK\"\r\n    }\r\n} */\r\n    }\r\n\r\n    //retorna movimientos de cuentas\r\n    async getApcInfo(identification){ //Numero de identificacion del cliente\r\n        var params = {\r\n            \"ConsultarAPC\": {\r\n                \"Model\": {\r\n                    \"EsPrueba\": 0,\r\n                    \"ForzarBusqueda\": 0,\r\n                    \"IdentificacionConsulta\": identification,//\"8-773-1899\",\r\n                    \"PasswordAPC\": \"Banesco19.\",\r\n                    \"UltimusProcess\": 7,\r\n                    \"UsuarioAPC\": \"WTIBANESCO001\"\r\n                }\r\n            }\r\n        }\r\n        \r\n        //servicio retorna la info de APC del cliente\r\n        const result = await this.post(url.URL_CORE_APCINFO, params);\r\n        console.log(\"getApcInfo\",result);\r\n        \r\n        var dataResult=[];\r\n            try {\r\n                //Armamos la data a mostrar en pantalla\r\n                result.ConsultarAPCResponse.ConsultarAPCResult.DetCompromisoAPC.DetCompromisoAPC.map(function (item, i) {    \r\n                    try{\r\n                        dataResult.push({\"year\":moment(item.dc_fec_inicio_rel).format(\"YYYY\") ,\"month\":moment(item.dc_fec_inicio_rel).format(\"MMMM\"),\r\n                            \"initialAmount\":item.dc_monto_original,\"actualAmount\":item.dc_saldo_actual,\"asociation\":item.dc_nom_asoc,\"source\":item.dc_descr_corta_rela});\r\n                    }\r\n                    catch(err){}\r\n                })\r\n            }\r\n            catch (err) {console.error(err);}\r\n\r\n        return dataResult;        \r\n    }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}