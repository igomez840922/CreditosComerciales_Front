{"ast":null,"code":"var _jsxFileName = \"D:\\\\_PROJECTS\\\\_SOAINT\\\\JBPM\\\\App\\\\banescocreditoscomerciales\\\\src\\\\components\\\\PropuestaCreditoComercial\\\\FormNewFacility.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from \"react\";\nimport PropTypes from 'prop-types';\nimport { translationHelpers } from '../../helpers';\nimport { Link, useLocation } from \"react-router-dom\";\nimport { Button, Row, Col } from \"reactstrap\";\nimport { AvForm } from \"availity-reactstrap-validation\";\nimport CustomerSection from \"./facilities/modalNewFacility/CustomerSection\";\nimport ProposalSection from \"./facilities/modalNewFacility/ProposalSection\";\nimport InterestRateSection from \"./facilities/modalNewFacility/InterestRateSection\";\nimport CommissionSection from \"./facilities/modalNewFacility/CommissionSection\";\nimport TermsSection from \"./facilities/modalNewFacility/TermsSection\";\nimport DisbursementSection from \"./facilities/modalNewFacility/DisbursementSection\";\nimport WarrantsSection from \"./facilities/modalNewFacility/WarrantsSection\";\nimport SuretiesSection from \"./facilities/modalNewFacility/SuretiesSection\";\nimport FinancialConditionsSection from \"./facilities/modalNewFacility/FinancialConditionsSection\";\nimport LtvSection from \"./facilities/modalNewFacility/LtvSection\";\nimport AmbientalRiskSection from \"./facilities/modalNewFacility/AmbientalRiskSection\";\nimport FinantialCovenantSection from \"./facilities/modalNewFacility/FinantialCovenantSection\";\nimport LegalDocumentationSection from \"./facilities/modalNewFacility/LegalDocumentationSection\";\nimport ProvisionSection from \"./facilities/modalNewFacility/ProvisionSection\";\nimport CreditRiskSection from \"./facilities/modalNewFacility/CreditRiskSection\";\nimport OtherConditionsSection from \"./facilities/modalNewFacility/OtherConditionsSection\";\nimport { BackendServices, CoreServices } from \"../../services\";\nimport CreditProposalContext from \"./CreditProposalContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FormNewFacility = props => {\n  _s();\n\n  const [dataSet, setdataSet] = useState({\n    \"requestId\": \"XYZ892022\",\n    \"cr\": \"\",\n    \"amount\": 0,\n    \"debtor\": \"\",\n    \"clientTypeId\": 0,\n    \"balance\": 0,\n    \"proposalTypeId\": \"\",\n    \"proposalTypeName\": \"\",\n    \"facilityTypeId\": \"\",\n    \"purpose\": \"\",\n    \"sublimits\": \"\",\n    \"proposalRate\": 0,\n    \"noSubsidyRate\": 0,\n    \"effectiveRate\": 0,\n    \"feci\": true,\n    \"termDays\": 0,\n    \"termDescription\": \"\",\n    \"ltv\": 0,\n    \"finantialConditions\": \"\",\n    \"environmentRiskCategory\": 0,\n    \"covenant\": \"\",\n    \"environmentRiskOpinion\": \"\",\n    \"finantialCovenant\": \"\",\n    \"legalDocumentation\": \"\",\n    \"creditRiskOpinion\": \"\",\n    \"provision\": \"\",\n    \"numero\": \"\",\n    \"otherConditions\": \"\"\n  });\n  const [dataValidation, setdataValidation] = useState({\n    tipoPropuestaRequerido: false,\n    subPropuestaRequerido: false,\n    tipoFacilidadRequerido: false\n  });\n  const propostalSectionRef = React.useRef();\n  const api = new BackendServices();\n  const apiCoreServices = new CoreServices();\n  const location = useLocation();\n  const [dataLocation, setData] = useState(location.data);\n  const context = useContext(CreditProposalContext);\n  const [commissions, setCommissions] = useState([]);\n  const [disbursementTerms, setDisbursementTerms] = useState([]);\n  const [paymentPrograms, setPaymentPrograms] = useState([]);\n  const [disbursementMethods, setDisbursementMethods] = useState([]);\n  const [warrants, setWarrants] = useState([]);\n  const [sureties, setSureties] = useState([]);\n  const [otherconditions, setOtherconditions] = useState([]);\n  const [t, c] = translationHelpers('commercial_credit', 'common'); // services\n\n  const backendServices = new BackendServices();\n  React.useEffect(() => {\n    // Read Api Service  ata    \n    backendServices.consultarUsuarioProspecto(dataLocation.transactionId).then(resp => {\n      dataSet.numero = resp.customerDocumentId;\n      setdataSet(dataSet);\n    });\n    backendServices.consultarFacilidadPropCred(12, \"XYZ892022\").then(resp => {\n      if (resp != undefined) {\n        dataSet.cr = resp.cr;\n        dataSet.amount = resp.amount;\n        dataSet.debtor = resp.debtor;\n        dataSet.clientTypeId = resp.clientTypeId;\n        dataSet.balance = resp.balance;\n        dataSet.proposalTypeId = resp.proposalTypeId;\n        dataSet.proposalTypeName = resp.proposalTypeName;\n        dataSet.facilityTypeId = resp.facilityTypeId;\n        dataSet.purpose = resp.purpose;\n        dataSet.sublimits = resp.sublimits;\n        dataSet.proposalRate = resp.proposalRate;\n        dataSet.noSubsidyRate = resp.noSubsidyRate;\n        dataSet.effectiveRate = resp.effectiveRate;\n        dataSet.feci = resp.feci;\n        dataSet.termDays = resp.termDays;\n        dataSet.termDescription = resp.termDescription;\n        dataSet.ltv = resp.ltv;\n        dataSet.finantialConditions = resp.finantialConditions;\n        dataSet.environmentRiskCategory = resp.environmentRiskCategory;\n        dataSet.covenant = resp.covenant;\n        dataSet.environmentRiskOpinion = resp.environmentRiskOpinion;\n        dataSet.finantialCovenant = resp.finantialCovenant;\n        dataSet.legalDocumentation = resp.legalDocumentation;\n        dataSet.creditRiskOpinion = resp.creditRiskOpinion;\n        dataSet.provision = resp.provision;\n        dataSet.otherConditions = resp.provision;\n        setdataSet(dataSet);\n      }\n    });\n  }, []);\n\n  function handleSubmit(event, errors, values) {\n    if (propostalSectionRef.current.dataReturn.proposalTypeId == null) {\n      dataValidation.tipoPropuestaRequerido = true;\n      setdataValidation(dataValidation);\n      return;\n    } else {\n      values.proposalTypeId = propostalSectionRef.current.dataReturn.proposalTypeId;\n      dataValidation.tipoPropuestaRequerido = false;\n      setdataValidation(dataValidation);\n    }\n\n    if (propostalSectionRef.current.dataReturn.proposalTypeName == null) {\n      dataValidation.subPropuestaRequerido = true;\n      setdataValidation(dataValidation);\n      return;\n    } else {\n      values.proposalTypeName = propostalSectionRef.current.dataReturn.proposalTypeName;\n      dataValidation.subPropuestaRequerido = false;\n      setdataValidation(dataValidation);\n    }\n\n    if (propostalSectionRef.current.dataReturn.facilityTypeId == null) {\n      dataValidation.tipoFacilidadRequerido = true;\n      setdataValidation(dataValidation);\n      return;\n    } else {\n      values.facilityTypeId = propostalSectionRef.current.dataReturn.facilityTypeId;\n      dataValidation.tipoFacilidadRequerido = false;\n      setdataValidation(dataValidation);\n    }\n\n    event.preventDefault();\n\n    if (errors.length > 0) {\n      return;\n    }\n\n    if (event.target.id !== 'formNewFacility') {\n      return;\n    }\n\n    values.amount = Number(values.amount);\n    values.clientTypeId = Number(1);\n    values.balance = Number(values.balance);\n    values.proposalRate = Number(values.proposalRate);\n    values.noSubsidyRate = Number(values.noSubsidyRate);\n    values.effectiveRate = Number(values.effectiveRate);\n    values.feci = values.feci == \"true\" ? true : false;\n    values.termDays = Number(values.termDays);\n    values.environmentRiskCategory = Number(values.environmentRiskCategory);\n    console.log('submit new facility', values);\n    saveNewFacility(values).then(result => {\n      // props.onSave(values); \n      props.onDismiss();\n    });\n  }\n\n  function saveNewFacility(values) {\n    const {\n      requestId\n    } = context;\n    const data = Object.assign({\n      requestId\n    }, values);\n    return backendServices.actualizarFacilidadPropCred(data);\n  }\n\n  function handleCancel() {\n    props.onDismiss();\n  }\n\n  function handleNewCommission(newItem) {\n    const newCommissions = [...commissions, newItem];\n    setCommissions(newCommissions);\n  }\n\n  function handleDeleteCommission(item) {\n    const itemIndex = commissions.indexOf(item);\n\n    if (itemIndex === -1) {\n      return;\n    }\n\n    const newCommissions = [...commissions];\n    newCommissions.splice(itemIndex, 1);\n    setCommissions(newCommissions);\n  }\n\n  function handleNewDisbursementTerm(newItem) {\n    const newDisbursementTerms = [...disbursementTerms, newItem];\n    setDisbursementTerms(newDisbursementTerms);\n  }\n\n  function handleDeleteDisbursementTerm(item) {\n    const itemIndex = disbursementTerms.indexOf(item);\n\n    if (itemIndex === -1) {\n      return;\n    }\n\n    const newDisbursementTerms = [...disbursementTerms];\n    newDisbursementTerms.splice(itemIndex, 1);\n    setDisbursementTerms(newDisbursementTerms);\n  }\n\n  function handleNewPaymentProgram(newItem) {\n    const newPaymentPrograms = [...paymentPrograms, newItem];\n    setPaymentPrograms(newPaymentPrograms);\n  }\n\n  function handleDeletePaymentProgram(item) {\n    const itemIndex = paymentPrograms.indexOf(item);\n\n    if (itemIndex === -1) {\n      return;\n    }\n\n    const newPaymentPrograms = [...paymentPrograms];\n    newPaymentPrograms.splice(itemIndex, 1);\n    setPaymentPrograms(newPaymentPrograms);\n  }\n\n  function handleNewDisbursementMethod(newItem) {\n    const newDisbursementMethods = [...disbursementMethods, newItem];\n    setDisbursementMethods(newDisbursementMethods);\n  }\n\n  function handleDeleteDisbursementMethod(item) {\n    const itemIndex = disbursementMethods.indexOf(item);\n\n    if (itemIndex === -1) {\n      return;\n    }\n\n    const newDisbursementMethods = [...disbursementMethods];\n    newDisbursementMethods.splice(itemIndex, 1);\n    setDisbursementMethods(newDisbursementMethods);\n  }\n\n  function handleNewWarrant(newItem) {\n    const newWarrants = [...warrants, newItem];\n    setWarrants(newWarrants);\n  }\n\n  function handleDeleteWarrant(item) {\n    const itemIndex = warrants.indexOf(item);\n\n    if (itemIndex === -1) {\n      return;\n    }\n\n    const newWarrants = [...warrants];\n    newWarrants.splice(itemIndex, 1);\n    setWarrants(newWarrants);\n  }\n\n  function handleNewSurety(newItem) {\n    const newSureties = [...sureties, newItem];\n    setSureties(newSureties);\n  }\n\n  function handleDeleteSurety(item) {\n    console.log('delete surety', item);\n    const itemIndex = sureties.indexOf(item);\n\n    if (itemIndex === -1) {\n      return;\n    }\n\n    const newSureties = [...sureties];\n    newSureties.splice(itemIndex, 1);\n    setSureties(newSureties);\n  }\n\n  function handleNewOtherCondition(newItem) {\n    const newOtherConditions = [...otherconditions, newItem];\n    setOtherconditions(newOtherConditions);\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      children: t(\"Facility\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"card-title-desc\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AvForm, {\n      id: \"formNewFacility\",\n      className: \"needs-validation\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(CustomerSection, {\n            dataLocation: dataLocation,\n            validation: dataValidation,\n            dataSet: dataSet,\n            identificationList: props.identificationList\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(ProposalSection, {\n            validation: dataValidation,\n            dataSet: dataSet,\n            ref: propostalSectionRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(InterestRateSection, {\n            validation: dataValidation,\n            dataSet: dataSet\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(CommissionSection, {\n            validation: dataValidation,\n            dataSet: dataSet,\n            items: commissions,\n            onSaveItem: handleNewCommission,\n            onDeleteItem: handleDeleteCommission\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(TermsSection, {\n            validation: dataValidation,\n            dataSet: dataSet\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(DisbursementSection, {\n            validation: dataValidation,\n            dataSet: dataSet,\n            disbursementTerms: disbursementTerms,\n            onSaveDisbursementTerm: handleNewDisbursementTerm,\n            onDeleteDisbursementTerm: handleDeleteDisbursementTerm,\n            paymentPrograms: paymentPrograms,\n            onSavePaymentProgram: handleNewPaymentProgram,\n            onDeletePaymentProgram: handleDeletePaymentProgram,\n            disbursementMethods: disbursementMethods,\n            onSaveDisbursementMethod: handleNewDisbursementMethod,\n            onDeleteDisbursementMethod: handleDeleteDisbursementMethod\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(WarrantsSection, {\n            validation: dataValidation,\n            dataSet: dataSet,\n            warrants: warrants,\n            onSaveItem: handleNewWarrant,\n            onDeleteItem: handleDeleteWarrant\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(LtvSection, {\n            validation: dataValidation,\n            dataSet: dataSet\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(SuretiesSection, {\n            validation: dataValidation,\n            dataSet: dataSet,\n            sureties: sureties,\n            onSaveItem: handleNewSurety,\n            onDeleteItem: handleDeleteSurety\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(FinancialConditionsSection, {\n            validation: dataValidation,\n            dataSet: dataSet\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(AmbientalRiskSection, {\n            validation: dataValidation,\n            dataSet: dataSet\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(FinantialCovenantSection, {\n            validation: dataValidation,\n            dataSet: dataSet\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(LegalDocumentationSection, {\n            validation: dataValidation,\n            dataSet: dataSet\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(OtherConditionsSection, {\n            validation: dataValidation,\n            dataSet: dataSet,\n            otherconditions: otherconditions,\n            onSaveOtherConditions: handleNewOtherCondition\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(CreditRiskSection, {\n            validation: dataValidation,\n            dataSet: dataSet\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(ProvisionSection, {\n            validation: dataValidation,\n            dataSet: dataSet\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"my-2\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          xl: \"12 text-end\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"#\",\n            className: \"btn btn-dark\",\n            onClick: handleCancel,\n            style: {\n              margin: '5px'\n            },\n            children: c(\"Cancel\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"btn btn-primary\",\n            type: \"submit\",\n            color: \"success\",\n            style: {\n              margin: '5px'\n            },\n            children: c(\"Save\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 284,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FormNewFacility, \"gV/K5ePBZ//oqqYmGmMpGj8Hb2o=\", false, function () {\n  return [useLocation];\n});\n\n_c = FormNewFacility;\nFormNewFacility.propTypes = {\n  isOpen: PropTypes.bool,\n  onDismiss: PropTypes.func,\n  onSave: PropTypes.func\n};\nexport default FormNewFacility;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormNewFacility\");","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/components/PropuestaCreditoComercial/FormNewFacility.js"],"names":["React","useContext","useState","PropTypes","translationHelpers","Link","useLocation","Button","Row","Col","AvForm","CustomerSection","ProposalSection","InterestRateSection","CommissionSection","TermsSection","DisbursementSection","WarrantsSection","SuretiesSection","FinancialConditionsSection","LtvSection","AmbientalRiskSection","FinantialCovenantSection","LegalDocumentationSection","ProvisionSection","CreditRiskSection","OtherConditionsSection","BackendServices","CoreServices","CreditProposalContext","FormNewFacility","props","dataSet","setdataSet","dataValidation","setdataValidation","tipoPropuestaRequerido","subPropuestaRequerido","tipoFacilidadRequerido","propostalSectionRef","useRef","api","apiCoreServices","location","dataLocation","setData","data","context","commissions","setCommissions","disbursementTerms","setDisbursementTerms","paymentPrograms","setPaymentPrograms","disbursementMethods","setDisbursementMethods","warrants","setWarrants","sureties","setSureties","otherconditions","setOtherconditions","t","c","backendServices","useEffect","consultarUsuarioProspecto","transactionId","then","resp","numero","customerDocumentId","consultarFacilidadPropCred","undefined","cr","amount","debtor","clientTypeId","balance","proposalTypeId","proposalTypeName","facilityTypeId","purpose","sublimits","proposalRate","noSubsidyRate","effectiveRate","feci","termDays","termDescription","ltv","finantialConditions","environmentRiskCategory","covenant","environmentRiskOpinion","finantialCovenant","legalDocumentation","creditRiskOpinion","provision","otherConditions","handleSubmit","event","errors","values","current","dataReturn","preventDefault","length","target","id","Number","console","log","saveNewFacility","result","onDismiss","requestId","Object","assign","actualizarFacilidadPropCred","handleCancel","handleNewCommission","newItem","newCommissions","handleDeleteCommission","item","itemIndex","indexOf","splice","handleNewDisbursementTerm","newDisbursementTerms","handleDeleteDisbursementTerm","handleNewPaymentProgram","newPaymentPrograms","handleDeletePaymentProgram","handleNewDisbursementMethod","newDisbursementMethods","handleDeleteDisbursementMethod","handleNewWarrant","newWarrants","handleDeleteWarrant","handleNewSurety","newSureties","handleDeleteSurety","handleNewOtherCondition","newOtherConditions","identificationList","margin","propTypes","isOpen","bool","func","onSave"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from \"react\"\r\nimport PropTypes from 'prop-types'\r\nimport { translationHelpers } from '../../helpers';\r\nimport { Link, useLocation } from \"react-router-dom\"\r\nimport {\r\n  Button,\r\n  Row,\r\n  Col,\r\n} from \"reactstrap\"\r\nimport { AvForm } from \"availity-reactstrap-validation\"\r\nimport CustomerSection from \"./facilities/modalNewFacility/CustomerSection\";\r\nimport ProposalSection from \"./facilities/modalNewFacility/ProposalSection\"\r\nimport InterestRateSection from \"./facilities/modalNewFacility/InterestRateSection\"\r\nimport CommissionSection from \"./facilities/modalNewFacility/CommissionSection\"\r\nimport TermsSection from \"./facilities/modalNewFacility/TermsSection\"\r\nimport DisbursementSection from \"./facilities/modalNewFacility/DisbursementSection\"\r\nimport WarrantsSection from \"./facilities/modalNewFacility/WarrantsSection\"\r\nimport SuretiesSection from \"./facilities/modalNewFacility/SuretiesSection\"\r\nimport FinancialConditionsSection from \"./facilities/modalNewFacility/FinancialConditionsSection\"\r\nimport LtvSection from \"./facilities/modalNewFacility/LtvSection\"\r\nimport AmbientalRiskSection from \"./facilities/modalNewFacility/AmbientalRiskSection\"\r\nimport FinantialCovenantSection from \"./facilities/modalNewFacility/FinantialCovenantSection\"\r\nimport LegalDocumentationSection from \"./facilities/modalNewFacility/LegalDocumentationSection\"\r\nimport ProvisionSection from \"./facilities/modalNewFacility/ProvisionSection\"\r\nimport CreditRiskSection from \"./facilities/modalNewFacility/CreditRiskSection\"\r\nimport OtherConditionsSection from \"./facilities/modalNewFacility/OtherConditionsSection\"\r\nimport { BackendServices, CoreServices } from \"../../services\";\r\nimport CreditProposalContext from \"./CreditProposalContext\";\r\n\r\n\r\nconst FormNewFacility = (props) => {\r\n  const [dataSet, setdataSet] = useState({\r\n    \"requestId\": \"XYZ892022\",\r\n    \"cr\": \"\",\r\n    \"amount\": 0,\r\n    \"debtor\": \"\",\r\n    \"clientTypeId\": 0,\r\n    \"balance\": 0,\r\n    \"proposalTypeId\": \"\",\r\n    \"proposalTypeName\": \"\",\r\n    \"facilityTypeId\": \"\",\r\n    \"purpose\": \"\",\r\n    \"sublimits\": \"\",\r\n    \"proposalRate\": 0,\r\n    \"noSubsidyRate\": 0,\r\n    \"effectiveRate\": 0,\r\n    \"feci\": true,\r\n    \"termDays\": 0,\r\n    \"termDescription\": \"\",\r\n    \"ltv\": 0,\r\n    \"finantialConditions\": \"\",\r\n    \"environmentRiskCategory\": 0,\r\n    \"covenant\": \"\",\r\n    \"environmentRiskOpinion\": \"\",\r\n    \"finantialCovenant\": \"\",\r\n    \"legalDocumentation\": \"\",\r\n    \"creditRiskOpinion\": \"\",\r\n    \"provision\": \"\",\r\n    \"numero\": \"\",\r\n    \"otherConditions\": \"\",\r\n  });\r\n\r\n  const [dataValidation, setdataValidation] = useState({\r\n    tipoPropuestaRequerido: false,\r\n    subPropuestaRequerido: false,\r\n    tipoFacilidadRequerido: false,\r\n  });\r\n  const propostalSectionRef = React.useRef();\r\n  const api = new BackendServices();\r\n  const apiCoreServices = new CoreServices();\r\n  const location = useLocation()\r\n  const [dataLocation, setData] = useState(location.data);\r\n  const context = useContext(CreditProposalContext);\r\n  const [commissions, setCommissions] = useState([]);\r\n  const [disbursementTerms, setDisbursementTerms] = useState([]);\r\n  const [paymentPrograms, setPaymentPrograms] = useState([]);\r\n  const [disbursementMethods, setDisbursementMethods] = useState([]);\r\n  const [warrants, setWarrants] = useState([]);\r\n  const [sureties, setSureties] = useState([]);\r\n  const [otherconditions, setOtherconditions] = useState([]);\r\n  const [t, c] = translationHelpers('commercial_credit', 'common');\r\n  // services\r\n  const backendServices = new BackendServices();\r\n  React.useEffect(() => {\r\n    // Read Api Service  ata    \r\n    backendServices.consultarUsuarioProspecto(dataLocation.transactionId).then(resp => {\r\n      dataSet.numero = resp.customerDocumentId\r\n      setdataSet(dataSet);\r\n    })  \r\n    backendServices.consultarFacilidadPropCred(12, \"XYZ892022\").then(resp => {\r\n      if (resp != undefined) {\r\n        dataSet.cr = resp.cr;\r\n        dataSet.amount = resp.amount;\r\n        dataSet.debtor = resp.debtor;\r\n        dataSet.clientTypeId = resp.clientTypeId;\r\n        dataSet.balance = resp.balance;\r\n        dataSet.proposalTypeId = resp.proposalTypeId;\r\n        dataSet.proposalTypeName = resp.proposalTypeName;\r\n        dataSet.facilityTypeId = resp.facilityTypeId;\r\n        dataSet.purpose = resp.purpose;\r\n        dataSet.sublimits = resp.sublimits;\r\n        dataSet.proposalRate = resp.proposalRate;\r\n        dataSet.noSubsidyRate = resp.noSubsidyRate;\r\n        dataSet.effectiveRate = resp.effectiveRate;\r\n        dataSet.feci = resp.feci;\r\n        dataSet.termDays = resp.termDays;\r\n        dataSet.termDescription = resp.termDescription;\r\n        dataSet.ltv = resp.ltv;\r\n        dataSet.finantialConditions = resp.finantialConditions;\r\n        dataSet.environmentRiskCategory = resp.environmentRiskCategory;\r\n        dataSet.covenant = resp.covenant;\r\n        dataSet.environmentRiskOpinion = resp.environmentRiskOpinion;\r\n        dataSet.finantialCovenant = resp.finantialCovenant;\r\n        dataSet.legalDocumentation = resp.legalDocumentation;\r\n        dataSet.creditRiskOpinion = resp.creditRiskOpinion;\r\n        dataSet.provision = resp.provision;\r\n        dataSet.otherConditions = resp.provision;\r\n        setdataSet(dataSet);\r\n      }\r\n    })\r\n  }, []);\r\n\r\n  function handleSubmit(event, errors, values) {\r\n    if (propostalSectionRef.current.dataReturn.proposalTypeId == null) {\r\n      dataValidation.tipoPropuestaRequerido = true;\r\n      setdataValidation(dataValidation);\r\n      return;\r\n    } else {\r\n      values.proposalTypeId = propostalSectionRef.current.dataReturn.proposalTypeId;\r\n      dataValidation.tipoPropuestaRequerido = false;\r\n      setdataValidation(dataValidation);\r\n    }\r\n    if (propostalSectionRef.current.dataReturn.proposalTypeName == null) {\r\n      dataValidation.subPropuestaRequerido = true;\r\n      setdataValidation(dataValidation);\r\n      return;\r\n    } else {\r\n      values.proposalTypeName = propostalSectionRef.current.dataReturn.proposalTypeName;\r\n      dataValidation.subPropuestaRequerido = false;\r\n      setdataValidation(dataValidation);\r\n    }\r\n    if (propostalSectionRef.current.dataReturn.facilityTypeId == null) {\r\n      dataValidation.tipoFacilidadRequerido = true;\r\n      setdataValidation(dataValidation);\r\n      return;\r\n    } else {\r\n      values.facilityTypeId = propostalSectionRef.current.dataReturn.facilityTypeId;\r\n      dataValidation.tipoFacilidadRequerido = false;\r\n      setdataValidation(dataValidation);\r\n    }\r\n    event.preventDefault();\r\n    if (errors.length > 0) {\r\n      return;\r\n    }\r\n    if (event.target.id !== 'formNewFacility') {\r\n      return;\r\n    }\r\n    values.amount = Number(values.amount);\r\n    values.clientTypeId = Number(1);\r\n    values.balance = Number(values.balance);\r\n    values.proposalRate = Number(values.proposalRate);\r\n    values.noSubsidyRate = Number(values.noSubsidyRate);\r\n    values.effectiveRate = Number(values.effectiveRate);\r\n    values.feci = values.feci == \"true\" ? true : false;\r\n    values.termDays = Number(values.termDays);\r\n    values.environmentRiskCategory = Number(values.environmentRiskCategory);\r\n    console.log('submit new facility', values);\r\n    saveNewFacility(values)\r\n      .then((result) => {\r\n        // props.onSave(values); \r\n        props.onDismiss();\r\n      });\r\n  }\r\n\r\n  function saveNewFacility(values) {\r\n    const { requestId } = context;\r\n    const data = Object.assign({\r\n      requestId\r\n    }, values);\r\n    return backendServices.actualizarFacilidadPropCred(data);\r\n  }\r\n\r\n  function handleCancel() {\r\n    props.onDismiss();\r\n  }\r\n\r\n  function handleNewCommission(newItem) {\r\n    const newCommissions = [...commissions, newItem];\r\n    setCommissions(newCommissions);\r\n  }\r\n\r\n  function handleDeleteCommission(item) {\r\n    const itemIndex = commissions.indexOf(item);\r\n    if (itemIndex === -1) {\r\n      return;\r\n    }\r\n    const newCommissions = [...commissions];\r\n    newCommissions.splice(itemIndex, 1);\r\n    setCommissions(newCommissions);\r\n  }\r\n\r\n  function handleNewDisbursementTerm(newItem) {\r\n    const newDisbursementTerms = [...disbursementTerms, newItem];\r\n    setDisbursementTerms(newDisbursementTerms);\r\n  }\r\n\r\n  function handleDeleteDisbursementTerm(item) {\r\n    const itemIndex = disbursementTerms.indexOf(item);\r\n    if (itemIndex === -1) {\r\n      return;\r\n    }\r\n    const newDisbursementTerms = [...disbursementTerms];\r\n    newDisbursementTerms.splice(itemIndex, 1);\r\n    setDisbursementTerms(newDisbursementTerms);\r\n  }\r\n\r\n  function handleNewPaymentProgram(newItem) {\r\n    const newPaymentPrograms = [...paymentPrograms, newItem];\r\n    setPaymentPrograms(newPaymentPrograms);\r\n  }\r\n\r\n  function handleDeletePaymentProgram(item) {\r\n    const itemIndex = paymentPrograms.indexOf(item);\r\n    if (itemIndex === -1) {\r\n      return;\r\n    }\r\n    const newPaymentPrograms = [...paymentPrograms];\r\n    newPaymentPrograms.splice(itemIndex, 1);\r\n    setPaymentPrograms(newPaymentPrograms);\r\n  }\r\n\r\n  function handleNewDisbursementMethod(newItem) {\r\n    const newDisbursementMethods = [...disbursementMethods, newItem];\r\n    setDisbursementMethods(newDisbursementMethods);\r\n  }\r\n\r\n  function handleDeleteDisbursementMethod(item) {\r\n    const itemIndex = disbursementMethods.indexOf(item);\r\n    if (itemIndex === -1) {\r\n      return;\r\n    }\r\n    const newDisbursementMethods = [...disbursementMethods];\r\n    newDisbursementMethods.splice(itemIndex, 1);\r\n    setDisbursementMethods(newDisbursementMethods);\r\n  }\r\n\r\n  function handleNewWarrant(newItem) {\r\n    const newWarrants = [...warrants, newItem];\r\n    setWarrants(newWarrants);\r\n  }\r\n\r\n  function handleDeleteWarrant(item) {\r\n    const itemIndex = warrants.indexOf(item);\r\n    if (itemIndex === -1) {\r\n      return;\r\n    }\r\n    const newWarrants = [...warrants];\r\n    newWarrants.splice(itemIndex, 1);\r\n    setWarrants(newWarrants);\r\n  }\r\n\r\n  function handleNewSurety(newItem) {\r\n    const newSureties = [...sureties, newItem];\r\n    setSureties(newSureties);\r\n  }\r\n\r\n  function handleDeleteSurety(item) {\r\n    console.log('delete surety', item);\r\n    const itemIndex = sureties.indexOf(item);\r\n    if (itemIndex === -1) {\r\n      return;\r\n    }\r\n    const newSureties = [...sureties];\r\n    newSureties.splice(itemIndex, 1);\r\n    setSureties(newSureties);\r\n  }\r\n\r\n  function handleNewOtherCondition(newItem) {\r\n    const newOtherConditions = [...otherconditions, newItem];\r\n    setOtherconditions(newOtherConditions);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <h5>{t(\"Facility\")}</h5>\r\n      <p className=\"card-title-desc\"></p>\r\n\r\n      <AvForm id=\"formNewFacility\" className=\"needs-validation\" onSubmit={handleSubmit}>\r\n        <Row className=\"mb-3\">\r\n          <Col md=\"12\">\r\n            <CustomerSection dataLocation={dataLocation} validation={dataValidation} dataSet={dataSet} identificationList={props.identificationList} />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md=\"12\">\r\n            <ProposalSection validation={dataValidation} dataSet={dataSet} ref={propostalSectionRef} />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md=\"12\">\r\n            <InterestRateSection validation={dataValidation} dataSet={dataSet} />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md=\"12\">\r\n            <CommissionSection validation={dataValidation} dataSet={dataSet} items={commissions}\r\n              onSaveItem={handleNewCommission}\r\n              onDeleteItem={handleDeleteCommission} />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md=\"12\">\r\n            <TermsSection validation={dataValidation} dataSet={dataSet} />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md=\"12\">\r\n            <DisbursementSection validation={dataValidation} dataSet={dataSet} disbursementTerms={disbursementTerms}\r\n              onSaveDisbursementTerm={handleNewDisbursementTerm}\r\n              onDeleteDisbursementTerm={handleDeleteDisbursementTerm}\r\n              paymentPrograms={paymentPrograms}\r\n              onSavePaymentProgram={handleNewPaymentProgram}\r\n              onDeletePaymentProgram={handleDeletePaymentProgram}\r\n              disbursementMethods={disbursementMethods}\r\n              onSaveDisbursementMethod={handleNewDisbursementMethod}\r\n              onDeleteDisbursementMethod={handleDeleteDisbursementMethod} />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md=\"12\">\r\n            <WarrantsSection validation={dataValidation} dataSet={dataSet} warrants={warrants}\r\n              onSaveItem={handleNewWarrant}\r\n              onDeleteItem={handleDeleteWarrant} />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md=\"12\">\r\n            <LtvSection validation={dataValidation} dataSet={dataSet} />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md=\"12\">\r\n            <SuretiesSection validation={dataValidation} dataSet={dataSet} sureties={sureties}\r\n              onSaveItem={handleNewSurety}\r\n              onDeleteItem={handleDeleteSurety} />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md=\"12\">\r\n            <FinancialConditionsSection validation={dataValidation} dataSet={dataSet} />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md=\"12\">\r\n            <AmbientalRiskSection validation={dataValidation} dataSet={dataSet} />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md=\"12\">\r\n            <FinantialCovenantSection validation={dataValidation} dataSet={dataSet} />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md=\"12\">\r\n            <LegalDocumentationSection validation={dataValidation} dataSet={dataSet} />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md=\"12\">\r\n            <OtherConditionsSection validation={dataValidation} dataSet={dataSet} otherconditions={otherconditions} onSaveOtherConditions={handleNewOtherCondition} />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md=\"12\">\r\n            <CreditRiskSection validation={dataValidation} dataSet={dataSet} />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md=\"12\">\r\n            <ProvisionSection validation={dataValidation} dataSet={dataSet} />\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row className=\"my-2\">\r\n          <Col xl=\"12 text-end\">\r\n            <Link to=\"#\" className=\"btn btn-dark\"\r\n              onClick={handleCancel} style={{ margin: '5px' }}>\r\n              {c(\"Cancel\")}\r\n            </Link>\r\n            <Button className=\"btn btn-primary\" type=\"submit\" color=\"success\" style={{ margin: '5px' }}>\r\n              {c(\"Save\")}\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </AvForm>\r\n\r\n    </React.Fragment>\r\n  )\r\n};\r\n\r\nFormNewFacility.propTypes = {\r\n  isOpen: PropTypes.bool,\r\n  onDismiss: PropTypes.func,\r\n  onSave: PropTypes.func\r\n};\r\n\r\n\r\nexport default FormNewFacility;\r\n"]},"metadata":{},"sourceType":"module"}