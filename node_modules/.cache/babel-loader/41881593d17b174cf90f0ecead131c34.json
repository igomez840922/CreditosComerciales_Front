{"ast":null,"code":"import _regeneratorRuntime from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import axios from\"axios\";import*as url from\"../helpers/url_helper\";import*as opt from\"../helpers/options_helper\";import qs from'qs';import LocalStorageHelper from\"../helpers/LocalStorageHelper\";var localStorageHelper=new LocalStorageHelper();//apply base url for axios\nvar API_URL=\"\";var axiosApi=axios.create({baseURL:API_URL,headers:{\"Content-Type\":\"application/json\"}});axiosApi.interceptors.request.use(function(config){var credentials=localStorageHelper.get(opt.VARNAME_USRCREDENTIAL);config.headers[\"Authorization\"]=\"Basic \"+btoa(credentials.usr+\":\"+credentials.psw);return config;},function(error){console.log(\"request error: \",error);return Promise.reject(error);});var ApiServiceCore=/*#__PURE__*/function(){function ApiServiceCore(){_classCallCheck(this,ApiServiceCore);}_createClass(ApiServiceCore,[{key:\"setDataError\",value:function setDataError(err){/*let jsonError = {\r\n      code: err.response.status,\r\n      error: true,\r\n      message: err.response.data,\r\n      method: err.response.config.method,\r\n      serviceType: \"bk\",\r\n      url: err.response.config.url,\r\n    }\r\n\r\n    localStorage.setItem(\"jsonError\", JSON.stringify(jsonError))\r\n    const event = new CustomEvent('errorSoaint', jsonError);\r\n    event.initEvent(\"errorSoaint\", true, true);\r\n    window.dispatchEvent(event);\r\n    */}},{key:\"get\",value:function(){var _get=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url){var _this=this;var config,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:config=_args.length>1&&_args[1]!==undefined?_args[1]:{};_context.next=3;return axiosApi.get(url,_objectSpread({},config)).then(function(response){return response.data;}).catch(function(err){_this.setDataError(err);});case 3:return _context.abrupt(\"return\",_context.sent);case 4:case\"end\":return _context.stop();}}},_callee);}));function get(_x){return _get.apply(this,arguments);}return get;}()},{key:\"post\",value:function(){var _post=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(url,data){var _this2=this;var config,_args2=arguments;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:config=_args2.length>2&&_args2[2]!==undefined?_args2[2]:{};return _context2.abrupt(\"return\",axiosApi.post(url,_objectSpread({},data),_objectSpread({},config)).then(function(response){return response.data;}).catch(function(err){_this2.setDataError(err);}));case 2:case\"end\":return _context2.stop();}}},_callee2);}));function post(_x2,_x3){return _post.apply(this,arguments);}return post;}()},{key:\"put\",value:function(){var _put=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(url,data){var _this3=this;var config,_args3=arguments;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:config=_args3.length>2&&_args3[2]!==undefined?_args3[2]:{};return _context3.abrupt(\"return\",axiosApi.put(url,_objectSpread({},data),_objectSpread({},config)).then(function(response){return response.data;}).catch(function(err){_this3.setDataError(err);}));case 2:case\"end\":return _context3.stop();}}},_callee3);}));function put(_x4,_x5){return _put.apply(this,arguments);}return put;}()},{key:\"del\",value:function(){var _del=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(url,data){var _this4=this;var config,_args4=arguments;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:config=_args4.length>2&&_args4[2]!==undefined?_args4[2]:{};_context4.next=3;return axiosApi.delete(url,{data:data},_objectSpread({},config)).then(function(response){return response.data;}).catch(function(err){_this4.setDataError(err);});case 3:return _context4.abrupt(\"return\",_context4.sent);case 4:case\"end\":return _context4.stop();}}},_callee4);}));function del(_x6,_x7){return _del.apply(this,arguments);}return del;}()}]);return ApiServiceCore;}();export{ApiServiceCore as default};","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/services/ApiServiceBpm.js"],"names":["axios","url","opt","qs","LocalStorageHelper","localStorageHelper","API_URL","axiosApi","create","baseURL","headers","interceptors","request","use","config","credentials","get","VARNAME_USRCREDENTIAL","btoa","usr","psw","error","console","log","Promise","reject","ApiServiceCore","err","then","response","data","catch","setDataError","post","put","delete"],"mappings":"q2BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,uBAArB,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,2BAArB,CACA,MAAOC,CAAAA,EAAP,KAAe,IAAf,CAEA,MAAOC,CAAAA,kBAAP,KAA+B,+BAA/B,CAEI,GAAMC,CAAAA,kBAAkB,CAAG,GAAID,CAAAA,kBAAJ,EAA3B,CACA;AACA,GAAME,CAAAA,OAAO,CAAG,EAAhB,CAEA,GAAMC,CAAAA,QAAQ,CAAGP,KAAK,CAACQ,MAAN,CAAa,CAC5BC,OAAO,CAAEH,OADmB,CAE5BI,OAAO,CAAE,CACP,eAAgB,kBADT,CAFmB,CAAb,CAAjB,CAOAH,QAAQ,CAACI,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CACE,SAACC,MAAD,CAAY,CACV,GAAIC,CAAAA,WAAW,CAAGV,kBAAkB,CAACW,GAAnB,CAAuBd,GAAG,CAACe,qBAA3B,CAAlB,CACAH,MAAM,CAACJ,OAAP,CAAe,eAAf,EAAkC,SAAWQ,IAAI,CAACH,WAAW,CAACI,GAAZ,CAAkB,GAAlB,CAAwBJ,WAAW,CAACK,GAArC,CAAjD,CACA,MAAON,CAAAA,MAAP,CACD,CALH,CAME,SAACO,KAAD,CAAW,CACTC,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA+BF,KAA/B,EACA,MAAOG,CAAAA,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP,CACD,CATH,E,GAYiBK,CAAAA,c,gJAEnB,sBAAaC,GAAb,CAAkB,CAEhB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MACG,C,+FAEC,iBAAU1B,GAAV,4JAAea,MAAf,+CAAwB,EAAxB,uBACeP,CAAAA,QAAQ,CACpBS,GADY,CACRf,GADQ,kBACEa,MADF,GAEZc,IAFY,CAEP,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAb,EAFD,EAEoBC,KAFpB,CAE0B,SAAAJ,GAAG,CAAI,CAC5C,KAAI,CAACK,YAAL,CAAkBL,GAAlB,EACD,CAJY,CADf,6G,sKASA,kBAAW1B,GAAX,CAAgB6B,IAAhB,kKAAqBhB,MAArB,kDAA8B,EAA9B,kCACSP,QAAQ,CACZ0B,IADI,CACChC,GADD,kBACW6B,IADX,mBACuBhB,MADvB,GAEJc,IAFI,CAEC,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAb,EAFT,EAE4BC,KAF5B,CAEkC,SAAAJ,GAAG,CAAI,CAC5C,MAAI,CAACK,YAAL,CAAkBL,GAAlB,EACD,CAJI,CADT,0D,4KAQA,kBAAU1B,GAAV,CAAe6B,IAAf,kKAAqBhB,MAArB,kDAA8B,EAA9B,kCACSP,QAAQ,CACZ2B,GADI,CACAjC,GADA,kBACU6B,IADV,mBACuBhB,MADvB,GAEJc,IAFI,CAEC,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAb,EAFT,EAE4BC,KAF5B,CAEkC,SAAAJ,GAAG,CAAI,CAC5C,MAAI,CAACK,YAAL,CAAkBL,GAAlB,EACD,CAJI,CADT,0D,yKAQA,kBAAU1B,GAAV,CAAc6B,IAAd,kKAAoBhB,MAApB,kDAA6B,EAA7B,wBACeP,CAAAA,QAAQ,CAClB4B,MADU,CACHlC,GADG,CACC,CAAE6B,IAAI,CAAEA,IAAR,CADD,kBACqBhB,MADrB,GAEVc,IAFU,CAEL,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAb,EAFH,EAEsBC,KAFtB,CAE4B,SAAAJ,GAAG,CAAI,CAC5C,MAAI,CAACK,YAAL,CAAkBL,GAAlB,EACD,CAJU,CADf,iH,+GA7CiBD,c","sourcesContent":["import axios from \"axios\"\r\nimport * as url from \"../helpers/url_helper\"\r\nimport * as opt from \"../helpers/options_helper\"\r\nimport qs from 'qs';\r\n\r\nimport LocalStorageHelper from \"../helpers/LocalStorageHelper\";\r\n    \r\n    const localStorageHelper = new LocalStorageHelper();\r\n    //apply base url for axios\r\n    const API_URL = \"\"\r\n    \r\n    const axiosApi = axios.create({\r\n      baseURL: API_URL,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n    })\r\n    \r\n    axiosApi.interceptors.request.use(\r\n      (config) => {  \r\n        var credentials = localStorageHelper.get(opt.VARNAME_USRCREDENTIAL);  \r\n        config.headers[\"Authorization\"] = \"Basic \" + btoa(credentials.usr + \":\" + credentials.psw);\r\n        return config;\r\n      },\r\n      (error) => {\r\n        console.log(\"request error: \", error)\r\n        return Promise.reject(error);\r\n      }\r\n    );\r\n    \r\nexport default class ApiServiceCore {\r\n\r\n  setDataError(err) {\r\n\r\n    /*let jsonError = {\r\n      code: err.response.status,\r\n      error: true,\r\n      message: err.response.data,\r\n      method: err.response.config.method,\r\n      serviceType: \"bk\",\r\n      url: err.response.config.url,\r\n    }\r\n\r\n    localStorage.setItem(\"jsonError\", JSON.stringify(jsonError))\r\n    const event = new CustomEvent('errorSoaint', jsonError);\r\n    event.initEvent(\"errorSoaint\", true, true);\r\n    window.dispatchEvent(event);\r\n    */\r\n  }\r\n\r\n    async get(url, config = {}) {\r\n      return await axiosApi\r\n      .get(url, { ...config })\r\n      .then(response => response.data).catch(err => {\r\n        this.setDataError(err);\r\n      });\r\n\r\n    } \r\n\r\n    async post(url, data,config = {}) {\r\n      return axiosApi\r\n        .post(url, { ...data },{ ...config })\r\n        .then(response => response.data).catch(err => {\r\n          this.setDataError(err);\r\n        });\r\n    }\r\n\r\n    async put(url, data, config = {}) {\r\n      return axiosApi\r\n        .put(url, { ...data }, { ...config })\r\n        .then(response => response.data).catch(err => {\r\n          this.setDataError(err);\r\n        });\r\n    }\r\n\r\n    async del(url,data, config = {}) {\r\n      return await axiosApi\r\n        .delete(url,{ data: data}, { ...config })\r\n        .then(response => response.data).catch(err => {\r\n          this.setDataError(err);\r\n        });\r\n    }\r\n}\r\n  \r\n\r\n  \r\n"]},"metadata":{},"sourceType":"module"}