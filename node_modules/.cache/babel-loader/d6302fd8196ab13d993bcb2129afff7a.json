{"ast":null,"code":"import _toConsumableArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from\"react\";import{translationHelpers}from\"../../../helpers\";import{useLocation,useHistory}from'react-router-dom';import*as OPTs from\"../../../helpers/options_helper\";import*as url from\"../../../helpers/url_helper\";import moment from\"moment\";import classnames from\"classnames\";import{CreditProposalProvider}from'../../../components/PropuestaCreditoComercial/CreditProposalContext';import{Row,Col,Button,Card,CardBody,CardFooter,TabPane,Nav,NavLink,TabContent}from\"reactstrap\";import{ChangeSummary,CorporateExposure,CorporateExposureClient,FacilityList,FormCreditProposal,Refinancing}from\"../../../components/PropuestaCreditoComercial\";import LoadingOverlay from\"react-loading-overlay\";// UI Components\nimport Breadcrumbs from\"../../../components/Common/Breadcrumb\";import LogProcess from\"../../../components/LogProcess\";import LoadingIndicator from\"../../../components/UI/LoadingIndicator\";import SuccessMessage from\"../../../components/UI/SuccessMessage\";import ModalCloseOptions from\"../../../components/UI/ModalCloseOptions\";import WizardSidebar from\"../../../components/UI/WizardSidebar\";// Services\nimport{BackendServices,CoreServices,BpmServices}from\"../../../services\";import SweetAlert from\"react-bootstrap-sweetalert\";import{ServicioExposicionCorporativa,ServicioResumenCambios,ServicioFacilidades,ServicioRefinanciamiento,ServicioChecklist,ServicioPropuestaCredito}from\"../../../services/PropuestaCredito\";import DatosGeneralesPropuesta from\"./Secciones/DatosGenerales\";import{useTranslation}from\"react-i18next/\";import ListaFacilidad from\"./Secciones/FacilidadesSeccion\";import ExposicionCorportativa from\"./Secciones/ExposicionCorporativa\";import ExposicionCorporativaClientes from\"./Secciones/ExposicionCorporativaCliente\";import CheckList from\"./Secciones/CheckList\";import ModalPrevisualizarPropCred from\"./previsualizarPropCred\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreditProposalPage=function CreditProposalPage(props){var location=useLocation();var history=useHistory();// modelo.datosGenerales.transactId=location.data.transactionId;\n//Data que recibimos en el location\nvar _useState=useState(location.data),_useState2=_slicedToArray(_useState,2),locationData=_useState2[0],setLocationData=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),usuarioProspecto=_useState4[0],setusuarioProspecto=_useState4[1];var _useState5=useState({requestId:null}),_useState6=_slicedToArray(_useState5,2),dataGlobal=_useState6[0],setdataGlobal=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showSuccess=_useState10[0],setShowSuccess=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),changeSummaryItems=_useState12[0],setChangeSummaryItems=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),facilityListItems=_useState14[0],setFacilityListItems=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),identificationList=_useState16[0],setIdentificationList=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),refinancing=_useState18[0],setRefinancing=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),documentAuthors=_useState20[0],setDocumentAuthors=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),checkListItems=_useState22[0],setCheckListItems=_useState22[1];var _useState23=useState(0),_useState24=_slicedToArray(_useState23,2),currentTab=_useState24[0],setCurrentTab=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),displayModalCloseOptions=_useState26[0],setDisplayModalCloseOptions=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),displayModalEndProcess=_useState28[0],setDisplayModalEndProcess=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),successSave_dlg=_useState30[0],setsuccessSave_dlg=_useState30[1];var _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),error_dlg=_useState32[0],seterror_dlg=_useState32[1];var _useState33=useState(\"\"),_useState34=_slicedToArray(_useState33,2),error_msg=_useState34[0],seterror_msg=_useState34[1];var _useState35=useState({}),_useState36=_slicedToArray(_useState35,2),context=_useState36[0],setContext=_useState36[1];var _useState37=useState({}),_useState38=_slicedToArray(_useState37,2),datosGenerales=_useState38[0],setDatosGenerales=_useState38[1];var _useState39=useState(1),_useState40=_slicedToArray(_useState39,2),activeTab=_useState40[0],setactiveTab=_useState40[1];var _useState41=useState(null),_useState42=_slicedToArray(_useState41,2),datosUsuario=_useState42[0],setdatosUsuario=_useState42[1];var _useState43=useState(false),_useState44=_slicedToArray(_useState43,2),isActiveLoading=_useState44[0],setIsActiveLoading=_useState44[1];//loading de la pagina\n// Services\nvar _useState45=useState(false),_useState46=_slicedToArray(_useState45,2),ModalPrevisualizardata=_useState46[0],settoogleModalPrevisualizar=_useState46[1];var coreServices=new CoreServices();var backendServices=new BackendServices();var servicioPropuestaCredito=new ServicioPropuestaCredito();var servicioExposicionCorporativa=new ServicioExposicionCorporativa();var servicioResumenCambios=new ServicioResumenCambios();var servicioRefinanciamiento=new ServicioRefinanciamiento();var servicioChecklist=new ServicioChecklist();// Component Refs\nvar wizardRef=useRef();var creditProposalRef=useRef();var FacilidadesRef=useRef();var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;// const sections = [\n//   t('General Data'),\n//   t('Corporate Exposure'),\n//   t('Change Summary'),\n//   t('Facilities'),\n//   t('Checklist')\n// ];\n//On Mounting (componentDidMount)\nuseEffect(function(){setLocationData(location.data);//guardamos los datos que se pasan como parametros\ninitializeData(location.data);// update context\nsetContext({transactionId:location.data.transactionId,customerId:location.data.customerId,instanceId:location.data.instanceId,requestId:location.data.requestId// debe venir del resultado de guardar datos generales\n});},[]);//Caraga Inicial\nfunction initializeData(params){var transactionId=params.transactionId,requestId=params.requestId,customerId=params.customerId;console.log(params);cargarUsuarioProspecto(params.transactionId);cargarDatosGenerales(params);cargarIdentificaciones();cargarListaFacilidades(customerId);fetchReport(transactionId);}function cargarUsuarioProspecto(transactionId){backendServices.consultarUsuarioProspecto(transactionId).then(function(data){if(data!==undefined){setusuarioProspecto(data);}});}function cargarDatosGenerales(params){backendServices.consultarDatosGeneralesPropCred(params.transactionId).then(function(data){if(data!==undefined){var datosgenerales=data.find(function(record){return record.requestId===params.requestId;});if(datosgenerales===undefined||datosgenerales!==null){datosgenerales=data[data.length-1];}dataGlobal.requestId=datosgenerales.requestId;setdataGlobal(dataGlobal);setDatosGenerales(datosgenerales);}else{nuevosDatosGenerales(params);}});}function nuevosDatosGenerales(params){var data={\"transactId\":params.transactionId,\"customerNumber\":usuarioProspecto===null||usuarioProspecto===void 0?void 0:usuarioProspecto.customerNumberT24,\"revision\":\"\",\"preapproval\":true,\"economicGroupNumber\":\"\",\"economicGroupName\":\"\",\"country\":\"\",\"activityCompany\":\"\",\"riskClassification\":\"\",\"minimumProvisionSIB\":0,\"relatedPart\":true,\"approvalLevel\":\"\",\"accountExecutive\":\"\",\"responsibleUnit\":\"\",\"countryRisk\":\"\",\"requestDate\":moment().format(\"YYYY-MM-DD\"),\"lastRequestDate\":moment().format(\"YYYY-MM-DD\"),\"nextRevisionDate\":moment().format(\"YYYY-MM-DD\"),\"proposedExpirationDate\":moment().format(\"YYYY-MM-DD\"),\"flow\":\"\"};backendServices.nuevoDatosGeneralesPropCred(data).then(function(data){if(data!==undefined){//setDatosGenerales(data);\n//Setear en variables de BPMN el requestId\ndataGlobal.requestId=data.requestId;setdataGlobal(dataGlobal);console.log(\"nuevoDatosGeneralesPropCred\",data);cargarDatosGenerales(data.requestId);}});}function cargarListaFacilidades(idcliente){coreServices.getFacilidades(\"600133774\").then(function(resp){setFacilityListItems(resp);}).catch(function(err){console.log(err);});}function cargarIdentificaciones(){backendServices.consultarCatalogoTipoIdentificacion().then(function(data){if(data!==null&&data!==undefined){setIdentificationList(data);}}).catch(function(error){console.error('api error: ',error);});}function fetchReport(transactionId){servicioResumenCambios.consultarResumenCambios(transactionId).then(function(results){setChangeSummaryItems(results);});servicioRefinanciamiento.consultarBitacoraRefinanciamiento(transactionId).then(function(results){setRefinancing(results);});servicioChecklist.consultarListaCheckList(transactionId).then(function(results){setCheckListItems(results);});setDocumentAuthors({owner:{name:'Carolina Delgado'},ceo:{name:'Carolina Delgado'}});}function handleSaveFacility(newItem){var newFacilities=[].concat(_toConsumableArray(facilityListItems),[newItem]);setFacilityListItems(newFacilities);}function toogleModalPrevisualizar(){settoogleModalPrevisualizar(!ModalPrevisualizardata);removeBodyCss();}function handleSaveCheckListItem(newItem){var newCheckListItems=[].concat(_toConsumableArray(checkListItems),[newItem]);setCheckListItems(newCheckListItems);}//Modal Opciones al Salir\nfunction toggleModalCloseOptions(){setDisplayModalCloseOptions(!displayModalCloseOptions);removeBodyCss();}//Salvando el Proceso y le pasamos una opcion: 1-Finalizar Proceso, 2- Salvarlo, 3- A Cumplimmineto, 4- Avanzar a IGR\nfunction onSaveProcess(option){switch(option){case OPTs.OPT_FINALIZARPROCESO:{/* ---------------------------------------------------------------------------------------------- */ /*                     Procedemos a llamar al servicio de finalizar el proceso                    */ /* ---------------------------------------------------------------------------------------------- */var api=new BpmServices();console.log(location.data.instanceId);var data=location.data.instanceId;api.abortProcess(data).then(function(resp){if(resp!==undefined){setsuccessSave_dlg(true);}else{//Mensaje ERROR\nseterror_msg(props.t(\"TheProcessCouldNotFinish\"));seterror_dlg(true);}});toggleModalEndProcess();// navigate to dashboard\nhistory.push(url.URL_DASHBOARD);return;}case OPTs.OPT_SALVAPARCIAL:{submitData();wizardRef.current.next();break;}case OPTs.OPT_SALVAFULL:{submitData();break;}default:{// do nothing\nreturn;}}}//Modal Para mostrar Comentario de Fin de Proceso\nfunction toggleModalEndProcess(){setDisplayModalEndProcess(!displayModalEndProcess);}function guardarDatos(){var apiBack=new BackendServices();if(activeTab==1){if(!creditProposalRef.current.getFormValidation()){//mandamos a validar el formulario\ncreditProposalRef.current.validateForm();//nos movemos al tab para llenar los campos\nsetIsActiveLoading(false);return false;}apiBack.guardarSeccionDatosGeneralesPropCred(creditProposalRef.current.dataReturn).then(function(resp){if(resp!=undefined){toggleTab(activeTab+1);}else{seterror_dlg(true);}setIsActiveLoading(false);});}else if(activeTab==2){setIsActiveLoading(false);toggleTab(activeTab+1);}else if(activeTab==3){setIsActiveLoading(false);toggleTab(activeTab+1);setIsActiveLoading(false);}else if(activeTab==4){setIsActiveLoading(false);toggleTab(activeTab+1);}}function submitData(){var validate=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!creditProposalRef.current.getFormValidation()){//mandamos a validar el formulario\ncreditProposalRef.current.validateForm();//nos movemos al tab para llenar los campos\nsetIsActiveLoading(false);toggleTab(1);return false;}// Aqui pasamos a actualizar la variable\n}function removeBodyCss(){document.body.classList.add(\"no_padding\");}function toggleTab(tab){if(activeTab!==tab){if(tab>=1&&tab<=5){setactiveTab(tab);window.scrollTo(0,0);}}}return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(CreditProposalProvider,{value:context,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(Breadcrumbs,{title:t(\"Commercial Credit\"),breadcrumbItem:t(\"Credit Proposal\")}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"card-title\",children:[usuarioProspecto!=null?usuarioProspecto.firstName+\" \"+usuarioProspecto.secondName+\" \"+usuarioProspecto.firstLastName+\" \"+usuarioProspecto.secondLastName:\"\",\"    #\",locationData.transactionId]}),/*#__PURE__*/_jsx(\"h4\",{className:\"card-title\",children:t(\"Credit Proposal\")}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\",children:t(\"This form is official and must be filled out correctly\")}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(Nav,{pills:true,className:\"flex-column\",children:[/*#__PURE__*/_jsx(NavLink,{className:classnames({active:activeTab===1}),onClick:function onClick(){toggleTab(1);},children:t(\"General Data\")}),/*#__PURE__*/_jsx(NavLink,{className:classnames({active:activeTab===2}),onClick:function onClick(){toggleTab(2);},children:t(\"CorporateExhibition\")}),/*#__PURE__*/_jsx(NavLink,{className:classnames({active:activeTab===3}),onClick:function onClick(){toggleTab(3);},children:t(\"Change Summary\")}),/*#__PURE__*/_jsx(NavLink,{className:classnames({active:activeTab===4}),onClick:function onClick(){toggleTab(4);},children:t(\"FacilitiesList\")}),/*#__PURE__*/_jsx(NavLink,{className:classnames({active:activeTab===5}),onClick:function onClick(){toggleTab(5);},children:t(\"Check List\")})]})}),/*#__PURE__*/_jsx(Col,{md:9,children:/*#__PURE__*/_jsx(LoadingOverlay,{active:isActiveLoading,spinner:true,text:t(\"Processinginformation\"),children:/*#__PURE__*/_jsxs(TabContent,{activeTab:activeTab,className:\"body\",children:[/*#__PURE__*/_jsx(TabPane,{tabId:1,children:/*#__PURE__*/_jsx(DatosGeneralesPropuesta,{dataGlobal:dataGlobal,ref:creditProposalRef,title:t(\"General Data\"),values:datosGenerales})}),/*#__PURE__*/_jsxs(TabPane,{tabId:2,children:[/*#__PURE__*/_jsx(ExposicionCorportativa,{title:t(\"CorporateExhibition\"),customerNumberT24:\"600133774\"}),/*#__PURE__*/_jsx(ExposicionCorporativaClientes,{title:t(\"CorporateExhibition\"),customerNumberT24:\"600133774\"})]}),/*#__PURE__*/_jsx(TabPane,{tabId:3,children:/*#__PURE__*/_jsx(ChangeSummary,{title:t(\"Change Summary\"),items:changeSummaryItems})}),/*#__PURE__*/_jsx(TabPane,{tabId:4,children:/*#__PURE__*/_jsx(ListaFacilidad,{title:t(\"Facility List\"),items:facilityListItems,editMode:true,ref:FacilidadesRef,dataGlobal:dataGlobal,onSaveFacility:handleSaveFacility,identificationList:identificationList})}),/*#__PURE__*/_jsx(TabPane,{tabId:5,children:/*#__PURE__*/_jsx(CheckList,{title:t(\"Check List\"),items:checkListItems,onSaveItem:handleSaveCheckListItem})})]})})})]})]}),/*#__PURE__*/_jsxs(CardFooter,{className:\"text-end\",children:[/*#__PURE__*/_jsxs(Button,{color:\"info\",type:\"button\",style:{margin:'5px'},onClick:function onClick(){toogleModalPrevisualizar();},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-eye mdi-12px\"}),\" Previsualizar\"]}),/*#__PURE__*/_jsxs(Button,{color:\"dark\",type:\"button\",style:{margin:'5px'},onClick:function onClick(){toggleModalCloseOptions();},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-arrow-left-bold-circle-outline mid-12px\"}),\"\\xA0\",t(\"Exit\")]}),activeTab>1&&/*#__PURE__*/_jsxs(Button,{color:\"success\",type:\"button\",style:{margin:'5px'},onClick:function onClick(){wizardRef.current.prev();},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-arrow-left-bold mid-12px\"}),\"\\xA0\",t(\"Previous\")]}),activeTab<5&&/*#__PURE__*/_jsxs(Button,{color:\"success\",type:\"button\",style:{margin:'5px'},onClick:function onClick(){guardarDatos();setIsActiveLoading(true);setTimeout(function(){guardarDatos();},1000);},children:[t(\"Next\"),\"\\xA0\",/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-arrow-right-bold mid-12px\"})]}),/*#__PURE__*/_jsxs(Button,{color:\"success\",type:\"button\",style:{marginLeft:'5px'},onClick:function onClick(){onSaveProcess(OPTs.OPT_SALVAFULL);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-arrow-right-bold-circle-outline mid-12px\"}),\"\\xA0\",t(\"Continue\")]})]})]}),/*#__PURE__*/_jsx(LogProcess,{}),successSave_dlg?/*#__PURE__*/_jsx(SweetAlert,{success:true,title:props.t(\"SuccessDialog\"),onConfirm:function onConfirm(){setsuccessSave_dlg(false);},children:props.t(\"SuccessSaveMessage\")}):null,error_dlg?/*#__PURE__*/_jsx(SweetAlert,{error:true,title:props.t(\"ErrorDialog\"),onConfirm:function onConfirm(){seterror_dlg(false);},children:error_msg}):null]}),loading&&/*#__PURE__*/_jsx(LoadingIndicator,{message:t(\"Please Wait\")}),showSuccess&&/*#__PURE__*/_jsx(SuccessMessage,{title:t(\"Operation Complete\"),message:t(\"Credit Proposal Saved\")}),/*#__PURE__*/_jsx(ModalPrevisualizarPropCred,{isOpen:ModalPrevisualizardata,toggle:function toggle(){toogleModalPrevisualizar();}}),/*#__PURE__*/_jsx(ModalCloseOptions,{onSaveProcess:onSaveProcess,isOpen:displayModalCloseOptions,toggle:function toggle(){toggleModalCloseOptions();}})]})});};export default CreditProposalPage;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/5_PropuestaCredito/CreditProposalPage.js"],"names":["React","useState","useRef","useEffect","translationHelpers","useLocation","useHistory","OPTs","url","moment","classnames","CreditProposalProvider","Row","Col","Button","Card","CardBody","CardFooter","TabPane","Nav","NavLink","TabContent","ChangeSummary","CorporateExposure","CorporateExposureClient","FacilityList","FormCreditProposal","Refinancing","LoadingOverlay","Breadcrumbs","LogProcess","LoadingIndicator","SuccessMessage","ModalCloseOptions","WizardSidebar","BackendServices","CoreServices","BpmServices","SweetAlert","ServicioExposicionCorporativa","ServicioResumenCambios","ServicioFacilidades","ServicioRefinanciamiento","ServicioChecklist","ServicioPropuestaCredito","DatosGeneralesPropuesta","useTranslation","ListaFacilidad","ExposicionCorportativa","ExposicionCorporativaClientes","CheckList","ModalPrevisualizarPropCred","CreditProposalPage","props","location","history","data","locationData","setLocationData","usuarioProspecto","setusuarioProspecto","requestId","dataGlobal","setdataGlobal","loading","setLoading","showSuccess","setShowSuccess","changeSummaryItems","setChangeSummaryItems","facilityListItems","setFacilityListItems","identificationList","setIdentificationList","refinancing","setRefinancing","documentAuthors","setDocumentAuthors","checkListItems","setCheckListItems","currentTab","setCurrentTab","displayModalCloseOptions","setDisplayModalCloseOptions","displayModalEndProcess","setDisplayModalEndProcess","successSave_dlg","setsuccessSave_dlg","error_dlg","seterror_dlg","error_msg","seterror_msg","context","setContext","datosGenerales","setDatosGenerales","activeTab","setactiveTab","datosUsuario","setdatosUsuario","isActiveLoading","setIsActiveLoading","ModalPrevisualizardata","settoogleModalPrevisualizar","coreServices","backendServices","servicioPropuestaCredito","servicioExposicionCorporativa","servicioResumenCambios","servicioRefinanciamiento","servicioChecklist","wizardRef","creditProposalRef","FacilidadesRef","t","i18n","initializeData","transactionId","customerId","instanceId","params","console","log","cargarUsuarioProspecto","cargarDatosGenerales","cargarIdentificaciones","cargarListaFacilidades","fetchReport","consultarUsuarioProspecto","then","undefined","consultarDatosGeneralesPropCred","datosgenerales","find","record","length","nuevosDatosGenerales","customerNumberT24","format","nuevoDatosGeneralesPropCred","idcliente","getFacilidades","resp","catch","err","consultarCatalogoTipoIdentificacion","error","consultarResumenCambios","results","consultarBitacoraRefinanciamiento","consultarListaCheckList","owner","name","ceo","handleSaveFacility","newItem","newFacilities","toogleModalPrevisualizar","removeBodyCss","handleSaveCheckListItem","newCheckListItems","toggleModalCloseOptions","onSaveProcess","option","OPT_FINALIZARPROCESO","api","abortProcess","toggleModalEndProcess","push","URL_DASHBOARD","OPT_SALVAPARCIAL","submitData","current","next","OPT_SALVAFULL","guardarDatos","apiBack","getFormValidation","validateForm","guardarSeccionDatosGeneralesPropCred","dataReturn","toggleTab","validate","document","body","classList","add","tab","window","scrollTo","firstName","secondName","firstLastName","secondLastName","active","margin","prev","setTimeout","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\"\r\nimport { translationHelpers } from \"../../../helpers\";\r\nimport { useLocation, useHistory } from 'react-router-dom'\r\nimport * as OPTs from \"../../../helpers/options_helper\"\r\nimport * as url from \"../../../helpers/url_helper\"\r\nimport moment from \"moment\";\r\nimport classnames from \"classnames\"\r\nimport { CreditProposalProvider } from '../../../components/PropuestaCreditoComercial/CreditProposalContext';\r\nimport {\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Card,\r\n  CardBody,\r\n  CardFooter,\r\n  TabPane,\r\n  Nav,\r\n  NavLink,\r\n  TabContent\r\n} from \"reactstrap\"\r\n\r\nimport {\r\n  ChangeSummary, CorporateExposure, CorporateExposureClient,\r\n  FacilityList, FormCreditProposal,\r\n  Refinancing\r\n} from \"../../../components/PropuestaCreditoComercial\";\r\nimport LoadingOverlay from \"react-loading-overlay\";\r\n\r\n\r\n// UI Components\r\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\"\r\nimport LogProcess from \"../../../components/LogProcess\";\r\nimport LoadingIndicator from \"../../../components/UI/LoadingIndicator\";\r\nimport SuccessMessage from \"../../../components/UI/SuccessMessage\";\r\nimport ModalCloseOptions from \"../../../components/UI/ModalCloseOptions\";\r\nimport WizardSidebar from \"../../../components/UI/WizardSidebar\";\r\n\r\n// Services\r\nimport { BackendServices, CoreServices, BpmServices, } from \"../../../services\";\r\nimport SweetAlert from \"react-bootstrap-sweetalert\";\r\nimport {\r\n  ServicioExposicionCorporativa,\r\n  ServicioResumenCambios,\r\n  ServicioFacilidades,\r\n  ServicioRefinanciamiento,\r\n  ServicioChecklist,\r\n  ServicioPropuestaCredito,\r\n} from \"../../../services/PropuestaCredito\";\r\nimport DatosGeneralesPropuesta from \"./Secciones/DatosGenerales\";\r\nimport { useTranslation } from \"react-i18next/\";\r\nimport ListaFacilidad from \"./Secciones/FacilidadesSeccion\";\r\nimport ExposicionCorportativa from \"./Secciones/ExposicionCorporativa\";\r\nimport ExposicionCorporativaClientes from \"./Secciones/ExposicionCorporativaCliente\";\r\nimport CheckList from \"./Secciones/CheckList\";\r\nimport ModalPrevisualizarPropCred from \"./previsualizarPropCred\";\r\n\r\nconst CreditProposalPage = (props) => {\r\n\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  // modelo.datosGenerales.transactId=location.data.transactionId;\r\n\r\n  //Data que recibimos en el location\r\n  const [locationData, setLocationData] = useState(location.data);\r\n  const [usuarioProspecto, setusuarioProspecto] = useState(null);\r\n  const [dataGlobal, setdataGlobal] = useState({\r\n    requestId: null,\r\n  });\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [showSuccess, setShowSuccess] = useState(false);\r\n  const [changeSummaryItems, setChangeSummaryItems] = useState([]);\r\n  const [facilityListItems, setFacilityListItems] = useState([]);\r\n  const [identificationList, setIdentificationList] = useState([]);\r\n  const [refinancing, setRefinancing] = useState([]);\r\n  const [documentAuthors, setDocumentAuthors] = useState(null);\r\n  const [checkListItems, setCheckListItems] = useState([]);\r\n  const [currentTab, setCurrentTab] = useState(0);\r\n  const [displayModalCloseOptions, setDisplayModalCloseOptions] = useState(false);\r\n  const [displayModalEndProcess, setDisplayModalEndProcess] = useState(false);\r\n  const [successSave_dlg, setsuccessSave_dlg] = useState(false);\r\n  const [error_dlg, seterror_dlg] = useState(false);\r\n  const [error_msg, seterror_msg] = useState(\"\");\r\n  const [context, setContext] = useState({});\r\n  const [datosGenerales, setDatosGenerales] = useState({});\r\n  const [activeTab, setactiveTab] = useState(1);\r\n  const [datosUsuario, setdatosUsuario] = useState(null);\r\n  const [isActiveLoading, setIsActiveLoading] = useState(false); //loading de la pagina\r\n  // Services\r\n  const [ModalPrevisualizardata, settoogleModalPrevisualizar] = useState(false);\r\n\r\n  const coreServices = new CoreServices();\r\n  const backendServices = new BackendServices();\r\n  const servicioPropuestaCredito = new ServicioPropuestaCredito();\r\n  const servicioExposicionCorporativa = new ServicioExposicionCorporativa();\r\n  const servicioResumenCambios = new ServicioResumenCambios();\r\n  const servicioRefinanciamiento = new ServicioRefinanciamiento();\r\n  const servicioChecklist = new ServicioChecklist();\r\n\r\n  // Component Refs\r\n  const wizardRef = useRef();\r\n  const creditProposalRef = useRef();\r\n  const FacilidadesRef = useRef();\r\n\r\n  const { t, i18n } = useTranslation();\r\n\r\n  // const sections = [\r\n  //   t('General Data'),\r\n  //   t('Corporate Exposure'),\r\n  //   t('Change Summary'),\r\n  //   t('Facilities'),\r\n  //   t('Checklist')\r\n  // ];\r\n\r\n  //On Mounting (componentDidMount)\r\n  useEffect(() => {\r\n    setLocationData(location.data);//guardamos los datos que se pasan como parametros\r\n    initializeData(location.data);\r\n    // update context\r\n    setContext({\r\n      transactionId: location.data.transactionId,\r\n      customerId: location.data.customerId,\r\n      instanceId: location.data.instanceId,\r\n      requestId: location.data.requestId, // debe venir del resultado de guardar datos generales\r\n    });\r\n  }, []);\r\n\r\n  //Caraga Inicial\r\n  function initializeData(params) {\r\n    const { transactionId, requestId, customerId } = params;\r\n    console.log(params);\r\n    cargarUsuarioProspecto(params.transactionId);\r\n    cargarDatosGenerales(params);\r\n    cargarIdentificaciones();\r\n    cargarListaFacilidades(customerId);\r\n    fetchReport(transactionId);\r\n  }\r\n  function cargarUsuarioProspecto(transactionId) {\r\n    backendServices.consultarUsuarioProspecto(transactionId)\r\n      .then((data) => {\r\n        if (data !== undefined) {\r\n          setusuarioProspecto(data);\r\n        }\r\n      });\r\n  }\r\n  function cargarDatosGenerales(params) {\r\n    backendServices.consultarDatosGeneralesPropCred(params.transactionId)\r\n      .then((data) => {\r\n        if (data !== undefined) {\r\n          var datosgenerales = data.find(record => record.requestId === params.requestId)\r\n          if (datosgenerales === undefined || datosgenerales !== null) {\r\n            datosgenerales = data[data.length - 1];\r\n          }\r\n          dataGlobal.requestId = datosgenerales.requestId\r\n          setdataGlobal(dataGlobal)\r\n          setDatosGenerales(datosgenerales);\r\n        }\r\n        else {\r\n          nuevosDatosGenerales(params);\r\n        }\r\n      });\r\n  }\r\n  function nuevosDatosGenerales(params) {\r\n    var data = {\r\n      \"transactId\": params.transactionId,\r\n      \"customerNumber\": usuarioProspecto?.customerNumberT24,\r\n      \"revision\": \"\",\r\n      \"preapproval\": true,\r\n      \"economicGroupNumber\": \"\",\r\n      \"economicGroupName\": \"\",\r\n      \"country\": \"\",\r\n      \"activityCompany\": \"\",\r\n      \"riskClassification\": \"\",\r\n      \"minimumProvisionSIB\": 0,\r\n      \"relatedPart\": true,\r\n      \"approvalLevel\": \"\",\r\n      \"accountExecutive\": \"\",\r\n      \"responsibleUnit\": \"\",\r\n      \"countryRisk\": \"\",\r\n      \"requestDate\": moment().format(\"YYYY-MM-DD\"),\r\n      \"lastRequestDate\": moment().format(\"YYYY-MM-DD\"),\r\n      \"nextRevisionDate\": moment().format(\"YYYY-MM-DD\"),\r\n      \"proposedExpirationDate\": moment().format(\"YYYY-MM-DD\"),\r\n      \"flow\": \"\"\r\n    };\r\n    backendServices.nuevoDatosGeneralesPropCred(data).then((data) => {\r\n      if (data !== undefined) {\r\n        //setDatosGenerales(data);\r\n        //Setear en variables de BPMN el requestId\r\n        dataGlobal.requestId = data.requestId;\r\n        setdataGlobal(dataGlobal)\r\n        console.log(\"nuevoDatosGeneralesPropCred\", data);\r\n        cargarDatosGenerales(data.requestId);\r\n      }\r\n    });\r\n  }\r\n  function cargarListaFacilidades(idcliente) {\r\n    coreServices.getFacilidades(\"600133774\")\r\n      .then(resp => {\r\n        setFacilityListItems(resp);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  function cargarIdentificaciones() {\r\n    backendServices.consultarCatalogoTipoIdentificacion()\r\n      .then((data) => {\r\n        if (data !== null && data !== undefined) {\r\n          setIdentificationList(data);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error('api error: ', error);\r\n      });\r\n  }\r\n  function fetchReport(transactionId) {\r\n\r\n    servicioResumenCambios.consultarResumenCambios(transactionId)\r\n      .then((results) => {\r\n        setChangeSummaryItems(results);\r\n      });\r\n    servicioRefinanciamiento.consultarBitacoraRefinanciamiento(transactionId)\r\n      .then((results) => {\r\n        setRefinancing(results);\r\n      });\r\n    servicioChecklist.consultarListaCheckList(transactionId)\r\n      .then((results) => {\r\n        setCheckListItems(results);\r\n      });\r\n    setDocumentAuthors({\r\n      owner: { name: 'Carolina Delgado' },\r\n      ceo: { name: 'Carolina Delgado' }\r\n    });\r\n  }\r\n  function handleSaveFacility(newItem) {\r\n    const newFacilities = [...facilityListItems, newItem];\r\n    setFacilityListItems(newFacilities);\r\n  }\r\n  function toogleModalPrevisualizar() {\r\n    settoogleModalPrevisualizar(!ModalPrevisualizardata);\r\n    removeBodyCss()\r\n  }\r\n  function handleSaveCheckListItem(newItem) {\r\n    const newCheckListItems = [...checkListItems, newItem];\r\n    setCheckListItems(newCheckListItems);\r\n  }\r\n  //Modal Opciones al Salir\r\n  function toggleModalCloseOptions() {\r\n    setDisplayModalCloseOptions(!displayModalCloseOptions);\r\n    removeBodyCss();\r\n  }\r\n  //Salvando el Proceso y le pasamos una opcion: 1-Finalizar Proceso, 2- Salvarlo, 3- A Cumplimmineto, 4- Avanzar a IGR\r\n  function onSaveProcess(option) {\r\n    switch (option) {\r\n      case OPTs.OPT_FINALIZARPROCESO: {\r\n        /* ---------------------------------------------------------------------------------------------- */\r\n        /*                     Procedemos a llamar al servicio de finalizar el proceso                    */\r\n        /* ---------------------------------------------------------------------------------------------- */\r\n        const api = new BpmServices();\r\n        console.log(location.data.instanceId);\r\n        let data = location.data.instanceId;\r\n        api.abortProcess(data).then((resp) => {\r\n          if (resp !== undefined) {\r\n            setsuccessSave_dlg(true);\r\n          }\r\n          else {\r\n            //Mensaje ERROR\r\n            seterror_msg(props.t(\"TheProcessCouldNotFinish\"));\r\n            seterror_dlg(true);\r\n          }\r\n\r\n        });\r\n        toggleModalEndProcess();\r\n        // navigate to dashboard\r\n        history.push(url.URL_DASHBOARD);\r\n        return;\r\n      }\r\n      case OPTs.OPT_SALVAPARCIAL: {\r\n        submitData();\r\n        wizardRef.current.next();\r\n        break;\r\n      }\r\n      case OPTs.OPT_SALVAFULL: {\r\n        submitData();\r\n        break;\r\n      }\r\n      default: {\r\n        // do nothing\r\n        return;\r\n      }\r\n    }\r\n  }\r\n  //Modal Para mostrar Comentario de Fin de Proceso\r\n  function toggleModalEndProcess() {\r\n    setDisplayModalEndProcess(!displayModalEndProcess);\r\n  }\r\n  function guardarDatos() {\r\n    const apiBack = new BackendServices();\r\n    if (activeTab == 1) {\r\n      if (!creditProposalRef.current.getFormValidation()) {\r\n        //mandamos a validar el formulario\r\n        creditProposalRef.current.validateForm();\r\n        //nos movemos al tab para llenar los campos\r\n        setIsActiveLoading(false);\r\n        return false;\r\n      }\r\n      apiBack.guardarSeccionDatosGeneralesPropCred(creditProposalRef.current.dataReturn).then((resp) => {\r\n        if (resp != undefined) {\r\n          toggleTab(activeTab + 1);\r\n        } else {\r\n          seterror_dlg(true)\r\n        }\r\n        setIsActiveLoading(false);\r\n      })\r\n    } else if (activeTab == 2) {\r\n      setIsActiveLoading(false);\r\n      toggleTab(activeTab + 1);\r\n    } else if (activeTab == 3) {\r\n      setIsActiveLoading(false);\r\n      toggleTab(activeTab + 1);\r\n      setIsActiveLoading(false);\r\n    } else if (activeTab == 4) {\r\n      setIsActiveLoading(false);\r\n      toggleTab(activeTab + 1);\r\n    }\r\n  }\r\n  function submitData(validate = false) {\r\n    if (!creditProposalRef.current.getFormValidation()) {\r\n      //mandamos a validar el formulario\r\n      creditProposalRef.current.validateForm();\r\n      //nos movemos al tab para llenar los campos\r\n      setIsActiveLoading(false);\r\n      toggleTab(1);\r\n      return false;\r\n    }\r\n    // Aqui pasamos a actualizar la variable\r\n  }\r\n  function removeBodyCss() {\r\n    document.body.classList.add(\"no_padding\")\r\n  }\r\n  function toggleTab(tab) {\r\n    if (activeTab !== tab) {\r\n      if (tab >= 1 && tab <= 5) {\r\n        setactiveTab(tab)\r\n        window.scrollTo(0, 0)\r\n      }\r\n    }\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <CreditProposalProvider value={context}>\r\n        <div className=\"page-content\">\r\n          <Breadcrumbs title={t(\"Commercial Credit\")} breadcrumbItem={t(\"Credit Proposal\")} />\r\n          <Card>\r\n            <CardBody>\r\n\r\n              <h4 className=\"card-title\">{usuarioProspecto != null ? usuarioProspecto.firstName + \" \" + usuarioProspecto.secondName + \" \" + usuarioProspecto.firstLastName + \" \" + usuarioProspecto.secondLastName : \"\"}    #{locationData.transactionId}</h4>\r\n\r\n              <h4 className=\"card-title\">{t(\"Credit Proposal\")}</h4>\r\n              <p className=\"card-title-desc\">{t(\"This form is official and must be filled out correctly\")}</p>\r\n              <Row>\r\n                <Col md={3}>\r\n                  <Nav pills className=\"flex-column\">\r\n                    <NavLink className={classnames({ active: activeTab === 1 })}\r\n                      onClick={() => {\r\n                        toggleTab(1)\r\n                      }}>\r\n                      {t(\"General Data\")}\r\n                    </NavLink>\r\n                    <NavLink className={classnames({ active: activeTab === 2 })}\r\n                      onClick={() => {\r\n                        toggleTab(2)\r\n                      }}>\r\n                      {t(\"CorporateExhibition\")}\r\n                    </NavLink>\r\n                    <NavLink className={classnames({ active: activeTab === 3 })}\r\n                      onClick={() => {\r\n                        toggleTab(3)\r\n                      }}>\r\n                      {t(\"Change Summary\")}\r\n                    </NavLink>\r\n                    <NavLink className={classnames({ active: activeTab === 4 })}\r\n                      onClick={() => {\r\n                        toggleTab(4)\r\n                      }}>\r\n                      {t(\"FacilitiesList\")}\r\n                    </NavLink>\r\n                    <NavLink className={classnames({ active: activeTab === 5 })}\r\n                      onClick={() => {\r\n                        toggleTab(5)\r\n                      }}>\r\n                      {t(\"Check List\")}\r\n                    </NavLink>\r\n                  </Nav>\r\n                </Col>\r\n                <Col md={9}>\r\n                  <LoadingOverlay active={isActiveLoading} spinner text={t(\"Processinginformation\")}>\r\n                    <TabContent activeTab={activeTab} className=\"body\">\r\n                      <TabPane tabId={1}>\r\n                        <DatosGeneralesPropuesta dataGlobal={dataGlobal} ref={creditProposalRef}\r\n                          title={t(\"General Data\")}\r\n                          values={datosGenerales} />\r\n                      </TabPane>\r\n                      <TabPane tabId={2}>\r\n                        <ExposicionCorportativa title={t(\"CorporateExhibition\")} customerNumberT24={\"600133774\"} />\r\n                        <ExposicionCorporativaClientes title={t(\"CorporateExhibition\")} customerNumberT24={\"600133774\"} />\r\n                      </TabPane>\r\n                      <TabPane tabId={3}>\r\n                        <ChangeSummary title={t(\"Change Summary\")} items={changeSummaryItems} />\r\n                      </TabPane>\r\n                      <TabPane tabId={4}>\r\n                        <ListaFacilidad title={t(\"Facility List\")}\r\n                          items={facilityListItems}\r\n                          editMode={true}\r\n                          ref={FacilidadesRef}\r\n                          dataGlobal={dataGlobal}\r\n                          onSaveFacility={handleSaveFacility}\r\n                          identificationList={identificationList} />\r\n                      </TabPane>\r\n                      <TabPane tabId={5}>\r\n                        <CheckList title={t(\"Check List\")} items={checkListItems}\r\n                          onSaveItem={handleSaveCheckListItem} />\r\n                      </TabPane>\r\n                    </TabContent>\r\n                  </LoadingOverlay>\r\n                </Col>\r\n              </Row>\r\n            </CardBody>\r\n            <CardFooter className=\"text-end\">\r\n              <Button color=\"info\" type=\"button\" style={{ margin: '5px' }} onClick={() => { toogleModalPrevisualizar() }}><i className=\"mdi mdi-eye mdi-12px\"></i> Previsualizar</Button>\r\n\r\n              <Button color=\"dark\" type=\"button\" style={{ margin: '5px' }}\r\n                onClick={() => { toggleModalCloseOptions() }}>\r\n                <i className=\"mdi mdi-arrow-left-bold-circle-outline mid-12px\"></i>&nbsp;\r\n                {t(\"Exit\")}\r\n              </Button>\r\n              {activeTab > 1 && (\r\n                <Button color=\"success\" type=\"button\" style={{ margin: '5px' }} onClick={() => { wizardRef.current.prev() }}>\r\n                  <i className=\"mdi mdi-arrow-left-bold mid-12px\"></i>&nbsp;\r\n                  {t(\"Previous\")}\r\n                </Button>)\r\n              }\r\n              {activeTab < 5 && (\r\n                <Button color=\"success\" type=\"button\" style={{ margin: '5px' }} onClick={() => {\r\n                  guardarDatos(); setIsActiveLoading(true); setTimeout(() => {\r\n                    guardarDatos();\r\n                  }, 1000);\r\n                }}>\r\n                  {t(\"Next\")}&nbsp;\r\n                  <i className=\"mdi mdi-arrow-right-bold mid-12px\"></i>\r\n                </Button>)\r\n              }\r\n              <Button color=\"success\" type=\"button\" style={{ marginLeft: '5px' }} onClick={() => { onSaveProcess(OPTs.OPT_SALVAFULL) }}>\r\n                <i className=\"mdi mdi-arrow-right-bold-circle-outline mid-12px\"></i>&nbsp;\r\n                {t(\"Continue\")}\r\n              </Button>\r\n            </CardFooter>\r\n          </Card>\r\n          <LogProcess />\r\n          {successSave_dlg ? (\r\n            <SweetAlert\r\n              success\r\n              title={props.t(\"SuccessDialog\")}\r\n              onConfirm={() => {\r\n                setsuccessSave_dlg(false)\r\n              }}\r\n            >\r\n              {props.t(\"SuccessSaveMessage\")}\r\n            </SweetAlert>\r\n          ) : null}\r\n          {error_dlg ? (\r\n            <SweetAlert\r\n              error\r\n              title={props.t(\"ErrorDialog\")}\r\n              onConfirm={() => {\r\n                seterror_dlg(false)\r\n              }}\r\n            >\r\n              {error_msg}\r\n            </SweetAlert>\r\n          ) : null}\r\n        </div>\r\n        {loading && (\r\n          <LoadingIndicator message={t(\"Please Wait\")} />\r\n        )}\r\n        {showSuccess && (\r\n          <SuccessMessage title={t(\"Operation Complete\")} message={t(\"Credit Proposal Saved\")} />\r\n        )}\r\n        <ModalPrevisualizarPropCred isOpen={ModalPrevisualizardata} toggle={() => { toogleModalPrevisualizar() }} />\r\n\r\n        <ModalCloseOptions onSaveProcess={onSaveProcess} isOpen={displayModalCloseOptions} toggle={() => { toggleModalCloseOptions() }} />\r\n      </CreditProposalProvider>\r\n    </React.Fragment >\r\n  );\r\n\r\n}\r\n\r\nexport default CreditProposalPage;\r\n"]},"metadata":{},"sourceType":"module"}