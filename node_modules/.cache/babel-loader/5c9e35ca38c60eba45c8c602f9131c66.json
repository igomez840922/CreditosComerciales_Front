{"ast":null,"code":"import _regeneratorRuntime from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useTranslation,withTranslation}from\"react-i18next\";import{formatCurrency,translationHelpers}from'../../../../helpers';import*as url from\"../../../../helpers/url_helper\";import Breadcrumbs from\"../../../../components/Common/Breadcrumb\";import{Row,Col,Button,Label,Input,Modal,Card,CardBody,CardFooter,InputGroup,CardHeader,Table,Alert}from\"reactstrap\";import{AvForm,AvField,AvGroup}from\"availity-reactstrap-validation\";import{BackendServices,CoreServices}from\"../../../../services\";import{useHistory,useLocation}from\"react-router-dom\";import LoadingOverlay from\"react-loading-overlay\";import Currency from\"../../../../helpers/currency\";import{uniq_key}from'../../../../helpers/unq_key';import moment from\"moment\";import DatosServicioFiduciario from\"./DatosServicioFiduciario\";import DatosOtrosDatos from\"./DatosOtrosDatos\";import previewEscrow from'./preview.model';import{Form,Tabs}from\"react-bootstrap\";import HeaderSections from\"../../../../components/Common/HeaderSections\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PrevisualizarFideicomiso=function PrevisualizarFideicomiso(props){var _preview$basaFid,_preview$locationData,_preview$locationData2,_preview$customerID,_preview$dataGeneral$,_preview$dataGeneral,_preview$dataGeneral2,_preview$dataGeneral$2,_preview$dataGeneral3,_preview$dataGeneralI,_preview$dataGeneralI2,_preview$dataGeneralI3,_preview$dataGeneralI4,_preview$dataGeneral$3,_preview$dataGeneral4,_preview$dataGeneral$4,_preview$dataGeneral5,_preview$dataGeneralI5,_preview$dataGeneralI6,_preview$dataGeneralI7,_preview$dataGeneralE,_preview$dataGeneralE2,_preview$dataGeneral$5,_preview$dataGeneral6,_preview$dataGeneral$6,_preview$dataGeneral7,_preview$dataGeneral8,_preview$dataGeneral$7,_preview$dataGeneral9,_preview$dataGeneral$8,_preview$dataGeneral10,_preview$dataGeneral$9,_preview$dataGeneral11,_preview$dataGeneral$10,_preview$dataGeneral12,_preview$dataGeneral$11,_preview$dataGeneral13,_preview$dataGeneralI8,_preview$dataGeneralI9,_facilityType$find$de,_facilityType$find,_OtherServiciosFiduci;var currencyData=new Currency();var _translationHelpers=translationHelpers('translation'),_translationHelpers2=_slicedToArray(_translationHelpers,1),t=_translationHelpers2[0];var location=useLocation();var api=new BackendServices();var history=useHistory();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),ServiciosFiduciario=_useState2[0],setServiciosFiduciario=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),OtherServiciosFiduciario=_useState4[0],setOtherServiciosFiduciario=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),preview=_useState6[0],setPreview=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),levelAutonomy=_useState8[0],setLevelAutonomy=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),levelAutonomyPosition=_useState10[0],setLevelAutonomyPosition=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),isActiveLoading=_useState12[0],setIsActiveLoading=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),facility=_useState14[0],setFacility=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),facilities=_useState16[0],setFacilities=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),instructiveType=_useState18[0],setInstructiveType=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),facilityId=_useState20[0],setFacilityId=_useState20[1];var _useState21=useState(null),_useState22=_slicedToArray(_useState21,2),facilityType=_useState22[0],setFacilityType=_useState22[1];var _useState23=useState(null),_useState24=_slicedToArray(_useState23,2),proposalType=_useState24[0],setProposalType=_useState24[1];var _useState25=useState(null),_useState26=_slicedToArray(_useState25,2),tabsFacility=_useState26[0],setTabsFacility=_useState26[1];var _useState27=useState(null),_useState28=_slicedToArray(_useState27,2),guaranteesType=_useState28[0],setGuaranteesType=_useState28[1];var _useState29=useState({show:false,msg:\"\",isError:false}),_useState30=_slicedToArray(_useState29,2),msgDataND=_useState30[0],setmsgDataND=_useState30[1];useEffect(function(){initialData();},[]);useEffect(function(){saveAutonomy();},[levelAutonomy]);React.useEffect(function(){setOtherServiciosFiduciario(undefined);facilityId&&loadFiduciary();},[facilityId]);function loadFiduciary(){return _loadFiduciary.apply(this,arguments);}function _loadFiduciary(){_loadFiduciary=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsActiveLoading(true);_context.t0=setOtherServiciosFiduciario;_context.next=4;return preview.LoadOtherFiduciario();case 4:_context.t1=_context.sent;(0,_context.t0)(_context.t1);setIsActiveLoading(false);case 7:case\"end\":return _context.stop();}}},_callee);}));return _loadFiduciary.apply(this,arguments);}function initialData(){return _initialData.apply(this,arguments);}function _initialData(){_initialData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _location$pathname;var dataSession,preview;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dataSession={transactionId:atob(location===null||location===void 0?void 0:(_location$pathname=location.pathname)===null||_location$pathname===void 0?void 0:_location$pathname.split(\"PrevisualizarFideicomiso/\")[1])};preview=new previewEscrow(dataSession);preview.validateRoute&&history.push(url.URL_DASHBOARD);_context2.t0=setTabsFacility;_context2.next=6;return preview.loadOtherServiceFiduciary();case 6:_context2.t1=_context2.sent;(0,_context2.t0)(_context2.t1);setFacilityType(preview.facilityType);setFacilities(preview.facilities);setFacility(preview.facility);setPreview(preview);_context2.t2=setServiciosFiduciario;_context2.next=15;return preview.LoadFiduciario();case 15:_context2.t3=_context2.sent;(0,_context2.t2)(_context2.t3);_context2.t4=setOtherServiciosFiduciario;_context2.next=20;return preview.LoadOtherFiduciario();case 20:_context2.t5=_context2.sent;(0,_context2.t4)(_context2.t5);_context2.t6=setLevelAutonomy;_context2.next=25;return preview.getFacilityHistory();case 25:_context2.t7=_context2.sent;(0,_context2.t6)(_context2.t7);setFacilityId(preview.facilityId);case 28:case\"end\":return _context2.stop();}}},_callee2);}));return _initialData.apply(this,arguments);}function saveAutonomy(){return _saveAutonomy.apply(this,arguments);}function _saveAutonomy(){_saveAutonomy=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.t0=preview;if(!_context3.t0){_context3.next=7;break;}_context3.t1=setLevelAutonomyPosition;_context3.next=5;return preview.saveAutonomy(levelAutonomy);case 5:_context3.t2=_context3.sent;(0,_context3.t1)(_context3.t2);case 7:case\"end\":return _context3.stop();}}},_callee3);}));return _saveAutonomy.apply(this,arguments);}function handleSelect(e){var data=facilities.at(e);preview.facilityId=data.facilityId;preview.facility=data;setFacility(data);setFacilityId(data.facilityId);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(LoadingOverlay,{active:isActiveLoading,spinner:true,text:t(\"WaitingPlease\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(Breadcrumbs,{title:t(\"Commercial Credit\"),breadcrumbItem:t(\"Credit Proposal\")}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mx-4\",children:[/*#__PURE__*/_jsx(Col,{md:12,className:\"my-3\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{sm:6,style:{textAlign:\"left\"},children:/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",style:{textAlign:\"left\"},children:t(\"Fiduciary Services Proposal\")})}),/*#__PURE__*/_jsx(Col,{sm:6,style:{textAlign:\"right\"},children:/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",style:{textAlign:\"right\"},children:[t(\"Escrownumber\"),\":\",\" \",(_preview$basaFid=preview===null||preview===void 0?void 0:preview.basaFid)!==null&&_preview$basaFid!==void 0?_preview$basaFid:'']})})]})}),tabsFacility!=null?/*#__PURE__*/_jsx(Tabs,{defaultActiveKey:\"0\",id:\"uncontrolled-tab-example\",className:\"mb-4\",onSelect:function onSelect(e){handleSelect(e);},children:tabsFacility}):/*#__PURE__*/_jsx(Alert,{show:\"true\",variant:\"warning\",dismissible:\"true\",onClose:function onClose(){setmsgDataND({show:false,msg:\"\",isError:false});},children:t(\"No facilities\")}),/*#__PURE__*/_jsx(HeaderSections,{title:\"General Data\",t:t}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{sm:\"3\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"Tramit number\")}),/*#__PURE__*/_jsx(\"label\",{children:(_preview$locationData=preview===null||preview===void 0?void 0:(_preview$locationData2=preview.locationData)===null||_preview$locationData2===void 0?void 0:_preview$locationData2.transactionId)!==null&&_preview$locationData!==void 0?_preview$locationData:''})]}),/*#__PURE__*/_jsxs(Col,{sm:\"3\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"Customer ID\")}),/*#__PURE__*/_jsx(\"label\",{children:(_preview$customerID=preview===null||preview===void 0?void 0:preview.customerID)!==null&&_preview$customerID!==void 0?_preview$customerID:''})]}),/*#__PURE__*/_jsxs(Col,{sm:\"2\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"Revision Type\")}),/*#__PURE__*/_jsx(\"label\",{children:(_preview$dataGeneral$=preview===null||preview===void 0?void 0:(_preview$dataGeneral=preview.dataGeneral)===null||_preview$dataGeneral===void 0?void 0:_preview$dataGeneral.revision)!==null&&_preview$dataGeneral$!==void 0?_preview$dataGeneral$:''})]}),/*#__PURE__*/_jsxs(Col,{sm:\"2\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"Pre Approved\")}),/*#__PURE__*/_jsx(\"label\",{children:(preview===null||preview===void 0?void 0:(_preview$dataGeneral2=preview.dataGeneral)===null||_preview$dataGeneral2===void 0?void 0:_preview$dataGeneral2.preapproval)?'Si':'No'})]}),/*#__PURE__*/_jsxs(Col,{sm:\"2\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"Request\")}),/*#__PURE__*/_jsx(\"label\",{children:(_preview$dataGeneral$2=preview===null||preview===void 0?void 0:(_preview$dataGeneral3=preview.dataGeneral)===null||_preview$dataGeneral3===void 0?void 0:_preview$dataGeneral3.requestDate)!==null&&_preview$dataGeneral$2!==void 0?_preview$dataGeneral$2:''})]})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{sm:\"3\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"Economic Group Number\")}),/*#__PURE__*/_jsx(\"label\",{children:(_preview$dataGeneralI=preview===null||preview===void 0?void 0:(_preview$dataGeneralI2=preview.dataGeneralIGR)===null||_preview$dataGeneralI2===void 0?void 0:_preview$dataGeneralI2.economicGroup.code)!==null&&_preview$dataGeneralI!==void 0?_preview$dataGeneralI:''})]}),/*#__PURE__*/_jsxs(Col,{sm:\"5\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"Economic Group Name\")}),/*#__PURE__*/_jsx(\"label\",{children:(_preview$dataGeneralI3=preview===null||preview===void 0?void 0:(_preview$dataGeneralI4=preview.dataGeneralIGR)===null||_preview$dataGeneralI4===void 0?void 0:_preview$dataGeneralI4.economicGroup.name)!==null&&_preview$dataGeneralI3!==void 0?_preview$dataGeneralI3:''})]}),/*#__PURE__*/_jsxs(Col,{sm:\"2\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"CountryClass\")}),/*#__PURE__*/_jsx(\"label\",{children:(_preview$dataGeneral$3=preview===null||preview===void 0?void 0:(_preview$dataGeneral4=preview.dataGeneral)===null||_preview$dataGeneral4===void 0?void 0:_preview$dataGeneral4.country)!==null&&_preview$dataGeneral$3!==void 0?_preview$dataGeneral$3:''})]}),/*#__PURE__*/_jsxs(Col,{sm:\"2\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"Last Application Date\")}),/*#__PURE__*/_jsx(\"label\",{children:(_preview$dataGeneral$4=preview===null||preview===void 0?void 0:(_preview$dataGeneral5=preview.dataGeneral)===null||_preview$dataGeneral5===void 0?void 0:_preview$dataGeneral5.lastRequestDate)!==null&&_preview$dataGeneral$4!==void 0?_preview$dataGeneral$4:''})]})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{sm:\"3\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"CompanyActivity\")}),/*#__PURE__*/_jsx(\"label\",{children:(_preview$dataGeneralI5=preview===null||preview===void 0?void 0:(_preview$dataGeneralI6=preview.dataGeneralIGR)===null||_preview$dataGeneralI6===void 0?void 0:(_preview$dataGeneralI7=_preview$dataGeneralI6.economicActivity)===null||_preview$dataGeneralI7===void 0?void 0:_preview$dataGeneralI7.name)!==null&&_preview$dataGeneralI5!==void 0?_preview$dataGeneralI5:''})]}),/*#__PURE__*/_jsxs(Col,{sm:\"5\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"RiskAssesment\")}),/*#__PURE__*/_jsx(\"label\",{children:(_preview$dataGeneralE=preview===null||preview===void 0?void 0:(_preview$dataGeneralE2=preview.dataGeneralEnvironmentAspects)===null||_preview$dataGeneralE2===void 0?void 0:_preview$dataGeneralE2.riskPreClassification)!==null&&_preview$dataGeneralE!==void 0?_preview$dataGeneralE:''})]}),/*#__PURE__*/_jsxs(Col,{sm:\"2\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"SIB Minimum Provision\")}),/*#__PURE__*/_jsx(\"label\",{children:(_preview$dataGeneral$5=preview===null||preview===void 0?void 0:(_preview$dataGeneral6=preview.dataGeneral)===null||_preview$dataGeneral6===void 0?void 0:_preview$dataGeneral6.minimumProvisionSIB)!==null&&_preview$dataGeneral$5!==void 0?_preview$dataGeneral$5:''})]}),/*#__PURE__*/_jsxs(Col,{sm:\"2\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"Next Revision Date\")}),/*#__PURE__*/_jsx(\"label\",{children:(_preview$dataGeneral$6=preview===null||preview===void 0?void 0:(_preview$dataGeneral7=preview.dataGeneral)===null||_preview$dataGeneral7===void 0?void 0:_preview$dataGeneral7.nextRevisionDate)!==null&&_preview$dataGeneral$6!==void 0?_preview$dataGeneral$6:''})]})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{sm:\"3\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"RelatedPart\")}),/*#__PURE__*/_jsx(\"label\",{children:(preview===null||preview===void 0?void 0:(_preview$dataGeneral8=preview.dataGeneral)===null||_preview$dataGeneral8===void 0?void 0:_preview$dataGeneral8.relatedPart)?'Si':'No'})]}),/*#__PURE__*/_jsxs(Col,{sm:\"7\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"ApprovalLevel\")}),/*#__PURE__*/_jsx(\"label\",{children:levelAutonomyPosition})]}),/*#__PURE__*/_jsxs(Col,{sm:\"2\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"Proposal Expiration Date\")}),/*#__PURE__*/_jsx(\"label\",{children:(_preview$dataGeneral$7=preview===null||preview===void 0?void 0:(_preview$dataGeneral9=preview.dataGeneral)===null||_preview$dataGeneral9===void 0?void 0:_preview$dataGeneral9.proposedExpirationDate)!==null&&_preview$dataGeneral$7!==void 0?_preview$dataGeneral$7:''})]})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{sm:\"6\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"AccountExecutive\")}),/*#__PURE__*/_jsx(\"label\",{children:(_preview$dataGeneral$8=preview===null||preview===void 0?void 0:(_preview$dataGeneral10=preview.dataGeneral)===null||_preview$dataGeneral10===void 0?void 0:_preview$dataGeneral10.accountExecutive)!==null&&_preview$dataGeneral$8!==void 0?_preview$dataGeneral$8:''})]}),/*#__PURE__*/_jsxs(Col,{sm:\"2\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"ResponsibleUnit\")}),/*#__PURE__*/_jsx(\"label\",{children:(_preview$dataGeneral$9=preview===null||preview===void 0?void 0:(_preview$dataGeneral11=preview.dataGeneral)===null||_preview$dataGeneral11===void 0?void 0:_preview$dataGeneral11.responsibleUnit)!==null&&_preview$dataGeneral$9!==void 0?_preview$dataGeneral$9:''})]}),/*#__PURE__*/_jsxs(Col,{sm:\"2\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"Country Risk\")}),/*#__PURE__*/_jsx(\"label\",{children:(_preview$dataGeneral$10=preview===null||preview===void 0?void 0:(_preview$dataGeneral12=preview.dataGeneral)===null||_preview$dataGeneral12===void 0?void 0:_preview$dataGeneral12.countryRisk)!==null&&_preview$dataGeneral$10!==void 0?_preview$dataGeneral$10:''})]}),/*#__PURE__*/_jsxs(Col,{sm:\"2\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"Flow Type\")}),/*#__PURE__*/_jsx(\"label\",{children:(_preview$dataGeneral$11=preview===null||preview===void 0?void 0:(_preview$dataGeneral13=preview.dataGeneral)===null||_preview$dataGeneral13===void 0?void 0:_preview$dataGeneral13.flow)!==null&&_preview$dataGeneral$11!==void 0?_preview$dataGeneral$11:''})]})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{sm:\"3\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"Banking\")}),/*#__PURE__*/_jsx(\"label\",{children:(_preview$dataGeneralI8=preview===null||preview===void 0?void 0:(_preview$dataGeneralI9=preview.dataGeneralIGR)===null||_preview$dataGeneralI9===void 0?void 0:_preview$dataGeneralI9.bank.name)!==null&&_preview$dataGeneralI8!==void 0?_preview$dataGeneralI8:''})]}),/*#__PURE__*/_jsxs(Col,{sm:\"3\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"FacilityType\")}),/*#__PURE__*/_jsx(\"label\",{children:(_facilityType$find$de=facilityType===null||facilityType===void 0?void 0:(_facilityType$find=facilityType.find(function(facilityT){return facilityT.id===(facility===null||facility===void 0?void 0:facility.facilityTypeId);}))===null||_facilityType$find===void 0?void 0:_facilityType$find.description)!==null&&_facilityType$find$de!==void 0?_facilityType$find$de:''})]}),/*#__PURE__*/_jsxs(Col,{sm:\"2\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"strong\",{htmlFor:\"clientNumber\",children:t(\"ProposalType\")}),/*#__PURE__*/_jsx(\"label\",{children:(_OtherServiciosFiduci=OtherServiciosFiduciario===null||OtherServiciosFiduciario===void 0?void 0:OtherServiciosFiduciario.proposal)!==null&&_OtherServiciosFiduci!==void 0?_OtherServiciosFiduci:''})]})]})]}),/*#__PURE__*/_jsx(AvForm,{children:facilityId&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(DatosServicioFiduciario,{preview:true,ServiciosFiduciario:ServiciosFiduciario}),/*#__PURE__*/_jsx(DatosOtrosDatos,{preview:true,OtherServiciosFiduciario:OtherServiciosFiduciario})]})})]})})]})})})});};export default PrevisualizarFideicomiso;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/10_Fideicomiso/Relacionfiduciaria/PrevisualizarFideicomiso.js"],"names":["React","useEffect","useState","useTranslation","withTranslation","formatCurrency","translationHelpers","url","Breadcrumbs","Row","Col","Button","Label","Input","Modal","Card","CardBody","CardFooter","InputGroup","CardHeader","Table","Alert","AvForm","AvField","AvGroup","BackendServices","CoreServices","useHistory","useLocation","LoadingOverlay","Currency","uniq_key","moment","DatosServicioFiduciario","DatosOtrosDatos","previewEscrow","Form","Tabs","HeaderSections","PrevisualizarFideicomiso","props","currencyData","t","location","api","history","ServiciosFiduciario","setServiciosFiduciario","OtherServiciosFiduciario","setOtherServiciosFiduciario","preview","setPreview","levelAutonomy","setLevelAutonomy","levelAutonomyPosition","setLevelAutonomyPosition","isActiveLoading","setIsActiveLoading","facility","setFacility","facilities","setFacilities","instructiveType","setInstructiveType","facilityId","setFacilityId","facilityType","setFacilityType","proposalType","setProposalType","tabsFacility","setTabsFacility","guaranteesType","setGuaranteesType","show","msg","isError","msgDataND","setmsgDataND","initialData","saveAutonomy","undefined","loadFiduciary","LoadOtherFiduciario","dataSession","transactionId","atob","pathname","split","validateRoute","push","URL_DASHBOARD","loadOtherServiceFiduciary","LoadFiduciario","getFacilityHistory","handleSelect","e","data","at","textAlign","basaFid","locationData","customerID","dataGeneral","revision","preapproval","requestDate","dataGeneralIGR","economicGroup","code","name","country","lastRequestDate","economicActivity","dataGeneralEnvironmentAspects","riskPreClassification","minimumProvisionSIB","nextRevisionDate","relatedPart","proposedExpirationDate","accountExecutive","responsibleUnit","countryRisk","flow","bank","find","facilityT","id","facilityTypeId","description","proposal"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { useTranslation, withTranslation } from \"react-i18next\"\r\nimport { formatCurrency, translationHelpers } from '../../../../helpers';\r\nimport * as url from \"../../../../helpers/url_helper\"\r\nimport Breadcrumbs from \"../../../../components/Common/Breadcrumb\"\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Row,\r\n    Col,\r\n    Button,\r\n    Label,\r\n    Input,\r\n    Modal,\r\n    Card,\r\n    CardBody,\r\n    CardFooter,\r\n    InputGroup,\r\n    CardHeader,\r\n    Table,\r\n    Alert,\r\n} from \"reactstrap\"\r\n\r\nimport { AvForm, AvField, AvGroup } from \"availity-reactstrap-validation\"\r\nimport { BackendServices, CoreServices } from \"../../../../services\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\nimport LoadingOverlay from \"react-loading-overlay\";\r\nimport Currency from \"../../../../helpers/currency\";\r\nimport { uniq_key } from '../../../../helpers/unq_key'\r\nimport moment from \"moment\";\r\nimport DatosServicioFiduciario from \"./DatosServicioFiduciario\";\r\nimport DatosOtrosDatos from \"./DatosOtrosDatos\";\r\nimport previewEscrow from './preview.model'\r\nimport { Form, Tabs } from \"react-bootstrap\";\r\nimport HeaderSections from \"../../../../components/Common/HeaderSections\";\r\n\r\n\r\n\r\nconst PrevisualizarFideicomiso = (props) => {\r\n    const currencyData = new Currency();\r\n\r\n    const [t] = translationHelpers('translation');\r\n    const location = useLocation()\r\n\r\n    const api = new BackendServices();\r\n    const history = useHistory();\r\n\r\n    const [ServiciosFiduciario, setServiciosFiduciario] = useState(null);\r\n    const [OtherServiciosFiduciario, setOtherServiciosFiduciario] = useState(null);\r\n\r\n    const [preview, setPreview] = useState(null);\r\n\r\n    const [levelAutonomy, setLevelAutonomy] = useState(0);\r\n    const [levelAutonomyPosition, setLevelAutonomyPosition] = useState('');\r\n\r\n    const [isActiveLoading, setIsActiveLoading] = useState(true);\r\n    const [facility, setFacility] = useState(null);\r\n    const [facilities, setFacilities] = useState(null);\r\n    const [instructiveType, setInstructiveType] = useState(null);\r\n    const [facilityId, setFacilityId] = useState(null);\r\n    const [facilityType, setFacilityType] = useState(null);\r\n    const [proposalType, setProposalType] = useState(null);\r\n    const [tabsFacility, setTabsFacility] = useState(null);\r\n    const [guaranteesType, setGuaranteesType] = useState(null);\r\n    const [msgDataND, setmsgDataND] = useState({ show: false, msg: \"\", isError: false });\r\n\r\n    useEffect(() => {\r\n        initialData();\r\n    }, []);\r\n\r\n\r\n    useEffect(() => {\r\n        saveAutonomy();\r\n    }, [levelAutonomy])\r\n\r\n    React.useEffect(() => {\r\n        setOtherServiciosFiduciario(undefined)\r\n        facilityId && loadFiduciary();\r\n    }, [facilityId]);\r\n\r\n    async function loadFiduciary() {\r\n        setIsActiveLoading(true);\r\n        setOtherServiciosFiduciario(await preview.LoadOtherFiduciario());\r\n        setIsActiveLoading(false);\r\n    }\r\n\r\n    async function initialData() {\r\n        let dataSession = { transactionId: atob(location?.pathname?.split(\"PrevisualizarFideicomiso/\")[1]) };\r\n        let preview = new previewEscrow(dataSession)\r\n        preview.validateRoute && history.push(url.URL_DASHBOARD);\r\n\r\n        setTabsFacility(await preview.loadOtherServiceFiduciary());\r\n        setFacilityType(preview.facilityType)\r\n        setFacilities(preview.facilities)\r\n        setFacility(preview.facility)\r\n        setPreview(preview);\r\n        setServiciosFiduciario(await preview.LoadFiduciario());\r\n        setOtherServiciosFiduciario(await preview.LoadOtherFiduciario())\r\n        setLevelAutonomy(await preview.getFacilityHistory())\r\n        setFacilityId(preview.facilityId)\r\n    }\r\n\r\n    async function saveAutonomy() {\r\n        preview && setLevelAutonomyPosition(await preview.saveAutonomy(levelAutonomy))\r\n    }\r\n\r\n    function handleSelect(e) {\r\n        let data = facilities.at(e);\r\n        preview.facilityId = data.facilityId;\r\n        preview.facility = data;\r\n        setFacility(data);\r\n        setFacilityId(data.facilityId)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {\r\n                <React.Fragment>\r\n                    <LoadingOverlay active={isActiveLoading} spinner text={t(\"WaitingPlease\")}>\r\n                        <div className=\"page-content\">\r\n                            <Breadcrumbs title={t(\"Commercial Credit\")} breadcrumbItem={t(\"Credit Proposal\")} />\r\n                            {/* Previsualizacion de datos generales pantalla 1 */}\r\n                            <Card>\r\n                                <CardBody>\r\n                                    <div className=\"mx-4\">\r\n                                        <Col md={12} className=\"my-3\">\r\n                                            <Row>\r\n                                                <Col sm={6} style={{ textAlign: \"left\" }}>\r\n                                                    <h5 className=\"card-title\" style={{ textAlign: \"left\" }}>{t(\"Fiduciary Services Proposal\")}</h5>\r\n                                                </Col>\r\n                                                <Col sm={6} style={{ textAlign: \"right\" }}>\r\n                                                    <h5 className=\"card-title\" style={{ textAlign: \"right\" }}>{t(\"Escrownumber\")}:{\" \"}{preview?.basaFid ?? ''}</h5>\r\n                                                </Col>\r\n                                            </Row>\r\n                                        </Col>\r\n                                        {tabsFacility != null ?\r\n                                            <Tabs defaultActiveKey=\"0\" id=\"uncontrolled-tab-example\" className=\"mb-4\" onSelect={(e) => { handleSelect(e) }}>\r\n                                                {tabsFacility}\r\n                                            </Tabs>\r\n                                            : <Alert show=\"true\" variant=\"warning\" dismissible=\"true\" onClose={() => { setmsgDataND({ show: false, msg: \"\", isError: false }) }}>\r\n                                                {t(\"No facilities\")}\r\n                                            </Alert>}\r\n\r\n                                        <HeaderSections title=\"General Data\" t={t}></HeaderSections>\r\n                                        <Row>\r\n                                            <Col sm=\"3\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"Tramit number\")}</strong>\r\n                                                <label>{preview?.locationData?.transactionId ?? ''}</label>\r\n                                            </Col>\r\n                                            <Col sm=\"3\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"Customer ID\")}</strong>\r\n                                                <label>{preview?.customerID ?? ''}</label>\r\n                                            </Col>\r\n                                            <Col sm=\"2\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"Revision Type\")}</strong>\r\n                                                <label>{preview?.dataGeneral?.revision ?? ''}</label>\r\n                                            </Col>\r\n                                            <Col sm=\"2\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"Pre Approved\")}</strong>\r\n                                                <label>{preview?.dataGeneral?.preapproval ? 'Si' : 'No'}</label>\r\n                                            </Col>\r\n                                            <Col sm=\"2\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"Request\")}</strong>\r\n                                                <label>{preview?.dataGeneral?.requestDate ?? ''}</label>\r\n                                            </Col>\r\n                                        </Row>\r\n                                        <Row>\r\n                                            <Col sm=\"3\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"Economic Group Number\")}</strong>\r\n                                                <label>{preview?.dataGeneralIGR?.economicGroup.code ?? ''}</label>\r\n                                            </Col>\r\n                                            <Col sm=\"5\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"Economic Group Name\")}</strong>\r\n                                                <label>{preview?.dataGeneralIGR?.economicGroup.name ?? ''}</label>\r\n                                            </Col>\r\n                                            <Col sm=\"2\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"CountryClass\")}</strong>\r\n                                                <label>{preview?.dataGeneral?.country ?? ''}</label>\r\n                                            </Col>\r\n                                            <Col sm=\"2\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"Last Application Date\")}</strong>\r\n                                                <label>{preview?.dataGeneral?.lastRequestDate ?? ''}</label>\r\n                                            </Col>\r\n                                        </Row>\r\n                                        <Row>\r\n                                            <Col sm=\"3\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"CompanyActivity\")}</strong>\r\n                                                <label>{preview?.dataGeneralIGR?.economicActivity?.name ?? ''}</label>\r\n                                            </Col>\r\n                                            <Col sm=\"5\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"RiskAssesment\")}</strong>\r\n                                                <label>{preview?.dataGeneralEnvironmentAspects?.riskPreClassification ?? ''}</label>\r\n                                            </Col>\r\n                                            <Col sm=\"2\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"SIB Minimum Provision\")}</strong>\r\n                                                <label>{preview?.dataGeneral?.minimumProvisionSIB ?? ''}</label>\r\n                                            </Col>\r\n                                            <Col sm=\"2\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"Next Revision Date\")}</strong>\r\n                                                <label>{preview?.dataGeneral?.nextRevisionDate ?? ''}</label>\r\n                                            </Col>\r\n                                        </Row>\r\n                                        <Row>\r\n                                            <Col sm=\"3\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"RelatedPart\")}</strong>\r\n                                                <label>{preview?.dataGeneral?.relatedPart ? 'Si' : 'No'}</label>\r\n                                            </Col>\r\n                                            <Col sm=\"7\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"ApprovalLevel\")}</strong>\r\n                                                <label>{levelAutonomyPosition}</label>\r\n                                            </Col>\r\n                                            <Col sm=\"2\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"Proposal Expiration Date\")}</strong>\r\n                                                <label>{preview?.dataGeneral?.proposedExpirationDate ?? ''}</label>\r\n                                            </Col>\r\n                                        </Row>\r\n                                        <Row>\r\n                                            <Col sm=\"6\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"AccountExecutive\")}</strong>\r\n                                                <label>{preview?.dataGeneral?.accountExecutive ?? ''}</label>\r\n                                            </Col>\r\n                                            <Col sm=\"2\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"ResponsibleUnit\")}</strong>\r\n                                                <label>{preview?.dataGeneral?.responsibleUnit ?? ''}</label>\r\n                                            </Col>\r\n                                            <Col sm=\"2\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"Country Risk\")}</strong>\r\n                                                <label>{preview?.dataGeneral?.countryRisk ?? ''}</label>\r\n                                            </Col>\r\n                                            <Col sm=\"2\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"Flow Type\")}</strong>\r\n                                                <label>{preview?.dataGeneral?.flow ?? ''}</label>\r\n                                            </Col>\r\n                                        </Row>\r\n                                        <Row>\r\n                                            <Col sm=\"3\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"Banking\")}</strong>\r\n                                                <label>{preview?.dataGeneralIGR?.bank.name ?? ''}</label>\r\n                                            </Col>\r\n                                            <Col sm=\"3\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"FacilityType\")}</strong>\r\n                                                <label>{facilityType?.find(facilityT => facilityT.id === facility?.facilityTypeId)?.description ?? ''}</label>\r\n                                            </Col>\r\n                                            {/* <Col sm=\"4\" className=\"d-flex flex-column\">\r\n                                            <strong htmlFor=\"clientNumber\">{t(\"ExposureValue\")}</strong>\r\n                                            <label>{''}</label>\r\n                                        </Col> */}\r\n                                            <Col sm=\"2\" className=\"d-flex flex-column\">\r\n                                                <strong htmlFor=\"clientNumber\">{t(\"ProposalType\")}</strong>\r\n                                                <label>{OtherServiciosFiduciario?.proposal ?? ''}</label>\r\n                                            </Col>\r\n                                        </Row>\r\n                                    </div>\r\n\r\n                                    <AvForm>\r\n\r\n                                        {facilityId && <>\r\n                                            {<DatosServicioFiduciario preview={true} ServiciosFiduciario={ServiciosFiduciario} />}\r\n\r\n                                            {<DatosOtrosDatos preview={true} OtherServiciosFiduciario={OtherServiciosFiduciario} />}\r\n                                        </>}\r\n                                    </AvForm>\r\n\r\n                                </CardBody>\r\n                            </Card>\r\n                        </div>\r\n                    </LoadingOverlay>\r\n                </React.Fragment >\r\n            }\r\n        </>\r\n    );\r\n};\r\nPrevisualizarFideicomiso.propTypes = {\r\n    isOpen: PropTypes.bool,\r\n    toggle: PropTypes.func\r\n};\r\nexport default PrevisualizarFideicomiso;\r\n"]},"metadata":{},"sourceType":"module"}