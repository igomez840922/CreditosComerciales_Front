{"ast":null,"code":"import _regeneratorRuntime from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{translationHelpers}from'../../../helpers/translation-helper';import{BackendServices}from'../../../services';import{Link,useLocation}from\"react-router-dom\";import SweetAlert from\"react-bootstrap-sweetalert\";import{Table,Card,CardBody,Button}from\"reactstrap\";import ModalAnalisisCredito from\"../../../pages/CommercialCredit/6_AnalisisCredito/ModalAnalisisCredito\";import LoadingOverlay from\"react-loading-overlay\";import HeaderSections from\"../../Common/HeaderSections\";import Currency from\"../../../helpers/currency\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Balance=function Balance(props){var _location$data;var location=useLocation();var _useState=useState((_location$data=location.data)!==null&&_location$data!==void 0?_location$data:JSON.parse(sessionStorage.getItem('locationData'))),_useState2=_slicedToArray(_useState,2),dataLocation=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),successSave_dlg=_useState4[0],setsuccessSave_dlg=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error_dlg=_useState6[0],seterror_dlg=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),error_msg=_useState8[0],seterror_msg=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),info_dlg=_useState10[0],setinfo_dlg=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),info_msg=_useState12[0],setinfo_msg=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),dynamic_title=_useState14[0],setdynamic_title=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),confirm_alert=_useState16[0],setconfirm_alert=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),success_dlg=_useState18[0],setsuccess_dlg=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),dynamic_description=_useState20[0],setdynamic_description=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),isActiveLoading=_useState22[0],setIsActiveLoading=_useState22[1];var _useState23=useState({\"transactId\":0,\"itemActive\":\"\",\"year1\":0,\"year2\":0,\"year3\":0,\"year4\":0,\"presentYear\":0}),_useState24=_slicedToArray(_useState23,2),dataSet=_useState24[0],setdataSet=_useState24[1];var _useState25=useState([]),_useState26=_slicedToArray(_useState25,2),dataDelete=_useState26[0],setDataDelete=_useState26[1];var _useState27=useState(null),_useState28=_slicedToArray(_useState27,2),Type=_useState28[0],setType=_useState28[1];var _useState29=useState(null),_useState30=_slicedToArray(_useState29,2),items=_useState30[0],setitems=_useState30[1];var api=new BackendServices();var _translationHelpers=translationHelpers('commercial_credit','common'),_translationHelpers2=_slicedToArray(_translationHelpers,2),t=_translationHelpers2[0],c=_translationHelpers2[1];var _useState31=useState(null),_useState32=_slicedToArray(_useState31,2),dataRows=_useState32[0],setdataRows=_useState32[1];var _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),showModalAnalisisCredito=_useState34[0],setshowModalAnalisisCredito=_useState34[1];var _useState35=useState(true),_useState36=_slicedToArray(_useState35,2),botonValidation=_useState36[0],setbotonValidation=_useState36[1];var styleTd={maxWidth:'300px'};var currencyData=new Currency();function loadData(){if(props.type==\"BalanceActivo\"){var _dataLocation$transac;api.checkActiveBalanceAC((_dataLocation$transac=dataLocation===null||dataLocation===void 0?void 0:dataLocation.transactionId)!==null&&_dataLocation$transac!==void 0?_dataLocation$transac:0).then(function(resp){if((resp===null||resp===void 0?void 0:resp.length)>0){setdataRows(resp.map(function(item,index){var _item$year,_item$year2,_item$year3,_item$year4;return item.status?/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:styleTd,className:\"text-start\",children:item.itemActive}),/*#__PURE__*/_jsx(\"td\",{className:\"text-start\",children:currencyData.format(item.presentYear)}),/*#__PURE__*/_jsx(\"td\",{className:\"text-start\",children:currencyData.format((_item$year=item===null||item===void 0?void 0:item.year1)!==null&&_item$year!==void 0?_item$year:0)}),/*#__PURE__*/_jsx(\"td\",{className:\"text-start\",children:currencyData.format((_item$year2=item===null||item===void 0?void 0:item.year2)!==null&&_item$year2!==void 0?_item$year2:0)}),/*#__PURE__*/_jsx(\"td\",{className:\"text-start\",children:currencyData.format((_item$year3=item===null||item===void 0?void 0:item.year3)!==null&&_item$year3!==void 0?_item$year3:0)}),/*#__PURE__*/_jsx(\"td\",{className:\"text-start\",children:currencyData.format((_item$year4=item===null||item===void 0?void 0:item.year4)!==null&&_item$year4!==void 0?_item$year4:0)}),!props.preview&&/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){editData(item,\"E\"+props.type);},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){DeleteData(item,\"D\"+props.type);},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},'row-'+index):null;}));}else{setdataRows(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",style:{textAlign:'center'}})},1));}}).catch(function(err){setdataRows(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",style:{textAlign:'center'}})},1));});}if(props.type==\"BalancePasivo\"){var _dataLocation$transac2;api.checkBalancePassiveAC((_dataLocation$transac2=dataLocation===null||dataLocation===void 0?void 0:dataLocation.transactionId)!==null&&_dataLocation$transac2!==void 0?_dataLocation$transac2:0).then(function(resp){if((resp===null||resp===void 0?void 0:resp.length)>0){setdataRows(resp.map(function(item,index){var _item$year5,_item$year6,_item$year7,_item$year8;return item.status?/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:styleTd,className:\"text-start\",children:item.itemPassive}),/*#__PURE__*/_jsx(\"td\",{className:\"text-start\",children:currencyData.format(item.presentYear)}),/*#__PURE__*/_jsx(\"td\",{className:\"text-start\",children:currencyData.format((_item$year5=item===null||item===void 0?void 0:item.year1)!==null&&_item$year5!==void 0?_item$year5:0)}),/*#__PURE__*/_jsx(\"td\",{className:\"text-start\",children:currencyData.format((_item$year6=item===null||item===void 0?void 0:item.year2)!==null&&_item$year6!==void 0?_item$year6:0)}),/*#__PURE__*/_jsx(\"td\",{className:\"text-start\",children:currencyData.format((_item$year7=item===null||item===void 0?void 0:item.year3)!==null&&_item$year7!==void 0?_item$year7:0)}),/*#__PURE__*/_jsx(\"td\",{className:\"text-start\",children:currencyData.format((_item$year8=item===null||item===void 0?void 0:item.year4)!==null&&_item$year8!==void 0?_item$year8:0)}),!props.preview&&/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){editData({\"itemPassiveId\":item.itemPassiveId,\"itemPassive\":item.itemPassive,\"year1\":item.year1,\"year2\":item.year2,\"year3\":item.year3,\"year4\":item.year4,\"presentYear\":item.presentYear},\"E\"+props.type);},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){DeleteData({\"itemPassiveId\":item.itemPassiveId,\"itemPassive\":item.itemPassive,\"year1\":item.year1,\"year2\":item.year2,\"year3\":item.year3,\"year4\":item.year4,\"presentYear\":item.presentYear},\"D\"+props.type);},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},'row-'+index):null;}));}else{setdataRows(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",style:{textAlign:'center'}})},1));}}).catch(function(err){setdataRows(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",style:{textAlign:'center'}})},1));});}if(props.type==\"OrigenAplicacionn\"){var _dataLocation$transac3;api.consultarEstadoOrigenAplicacionesxDeudor((_dataLocation$transac3=dataLocation===null||dataLocation===void 0?void 0:dataLocation.transactionId)!==null&&_dataLocation$transac3!==void 0?_dataLocation$transac3:0).then(function(resp){if((resp===null||resp===void 0?void 0:resp.length)>0){setdataRows(resp.map(function(item,index){var _item$year9,_item$year10,_item$year11,_item$year12;return item.status?/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:styleTd,className:\"text-start\",children:item.sourceApplicationItem}),/*#__PURE__*/_jsx(\"td\",{className:\"text-start\",children:currencyData.format(item.presentYear)}),/*#__PURE__*/_jsx(\"td\",{className:\"text-start\",children:currencyData.format((_item$year9=item===null||item===void 0?void 0:item.year1)!==null&&_item$year9!==void 0?_item$year9:0)}),/*#__PURE__*/_jsx(\"td\",{className:\"text-start\",children:currencyData.format((_item$year10=item===null||item===void 0?void 0:item.year2)!==null&&_item$year10!==void 0?_item$year10:0)}),/*#__PURE__*/_jsx(\"td\",{className:\"text-start\",children:currencyData.format((_item$year11=item===null||item===void 0?void 0:item.year3)!==null&&_item$year11!==void 0?_item$year11:0)}),/*#__PURE__*/_jsx(\"td\",{className:\"text-start\",children:currencyData.format((_item$year12=item===null||item===void 0?void 0:item.year4)!==null&&_item$year12!==void 0?_item$year12:0)}),!props.preview&&/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){editData(item,\"E\"+props.type);},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){DeleteData(item,\"D\"+props.type);},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},'row-'+index):null;}));}else{setdataRows(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",style:{textAlign:'center'}})},1));}}).catch(function(err){setdataRows(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",style:{textAlign:'center'}})},1));});}if(props.type==\"indicadores\"){var _dataLocation$transac4;api.queryACIndicator((_dataLocation$transac4=dataLocation===null||dataLocation===void 0?void 0:dataLocation.transactionId)!==null&&_dataLocation$transac4!==void 0?_dataLocation$transac4:0).then(function(resp){if((resp===null||resp===void 0?void 0:resp.length)>0){setdataRows(resp.map(function(item,index){var _item$year13,_item$year14,_item$year15,_item$year16;return item.status?/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:styleTd,className:\"text-start\",children:item.itemIndicators}),/*#__PURE__*/_jsx(\"td\",{className:\"text-start\",children:currencyData.format(item.presentYear)}),/*#__PURE__*/_jsx(\"td\",{className:\"text-start\",children:currencyData.format((_item$year13=item===null||item===void 0?void 0:item.year1)!==null&&_item$year13!==void 0?_item$year13:0)}),/*#__PURE__*/_jsx(\"td\",{className:\"text-start\",children:currencyData.format((_item$year14=item===null||item===void 0?void 0:item.year2)!==null&&_item$year14!==void 0?_item$year14:0)}),/*#__PURE__*/_jsx(\"td\",{className:\"text-start\",children:currencyData.format((_item$year15=item===null||item===void 0?void 0:item.year3)!==null&&_item$year15!==void 0?_item$year15:0)}),/*#__PURE__*/_jsx(\"td\",{className:\"text-start\",children:currencyData.format((_item$year16=item===null||item===void 0?void 0:item.year4)!==null&&_item$year16!==void 0?_item$year16:0)}),!props.preview&&/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){editData(item,\"E\"+props.type);},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){DeleteData(item,\"D\"+props.type);},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},'row-'+index):null;}));}else{setdataRows(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",style:{textAlign:'center'}})},1));}}).catch(function(err){setdataRows(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",style:{textAlign:'center'}})},1));});}}React.useEffect(function(){// Read Api Servic e data \nloadData();setType(Type);},[props]);function DeleteData(data,typeData){setType(typeData);setDataDelete(data);setconfirm_alert(true);}function editData(data,typeData){setType(typeData);setdataSet(data);setbotonValidation(true);toogleModalAnalisisCredito();}function dataManagement(_x){return _dataManagement.apply(this,arguments);}function _dataManagement(){_dataManagement=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var _dataLocation$transac10;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsActiveLoading(true);data.transactId=Number((_dataLocation$transac10=dataLocation===null||dataLocation===void 0?void 0:dataLocation.transactionId)!==null&&_dataLocation$transac10!==void 0?_dataLocation$transac10:0);data.personId=props.debtorId;if(!(Type==\"BalanceActivo\")){_context.next=6;break;}_context.next=6;return api.newActiveBalanceAC(data).then(function(resp){if(resp!=undefined){setconfirm_alert(false);setsuccessSave_dlg(true);toogleModalAnalisisCredito();}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});case 6:if(!(Type==\"BalancePasivo\")){_context.next=10;break;}data.itemPassive=data.itemActive;_context.next=10;return api.nuevoBalancePasivoAC(data).then(function(resp){if(resp!=undefined){setconfirm_alert(false);setsuccessSave_dlg(true);toogleModalAnalisisCredito();}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});case 10:if(!(Type==\"OrigenAplicacionn\")){_context.next=15;break;}data.sourceApplicationItem=data.itemActive;console.log(props);_context.next=15;return api.guardarEstadoOrigenAplicacionesxDeudor(data).then(function(resp){if(resp!=undefined){setconfirm_alert(false);setsuccessSave_dlg(true);toogleModalAnalisisCredito();}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});case 15:if(!(Type==\"indicadores\")){_context.next=19;break;}data.itemIndicators=data.itemActive;_context.next=19;return api.guardarListaIndicadores(data).then(function(resp){if(resp!=undefined){setconfirm_alert(false);setsuccessSave_dlg(true);toogleModalAnalisisCredito();}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});case 19:if(!(Type==\"EBalanceActivo\")){_context.next=24;break;}data.itemActiveId=dataSet.itemActiveId;data.status=true;_context.next=24;return api.updateActiveBalanceAC(data).then(function(resp){if(resp!=undefined){setconfirm_alert(false);setsuccessSave_dlg(true);toogleModalAnalisisCredito();}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});case 24:if(!(Type==\"EBalancePasivo\")){_context.next=30;break;}data.itemPassive=data.itemActive;data.itemPassiveId=dataSet.itemPassiveId;data.status=true;_context.next=30;return api.actualizarBalancePasivoAC(data).then(function(resp){if(resp!=undefined){setconfirm_alert(false);setsuccessSave_dlg(true);toogleModalAnalisisCredito();}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});case 30:if(!(Type==\"EOrigenAplicacionn\")){_context.next=36;break;}data.sourceApplicationItem=data.itemActive;data.sourceApplicationItemId=dataSet.sourceApplicationItemId;data.status=true;_context.next=36;return api.actualizarEstadoOrigenAplicacionesxDeudor(data).then(function(resp){if(resp!=undefined){setconfirm_alert(false);setsuccessSave_dlg(true);toogleModalAnalisisCredito();}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});case 36:if(!(Type==\"Eindicadores\")){_context.next=42;break;}data.itemIndicatorsId=dataSet.itemIndicatorsId;data.itemIndicators=data.itemActive;data.status=true;_context.next=42;return api.actualizarListaIndicadores(data).then(function(resp){if(resp!=undefined){setconfirm_alert(false);setsuccessSave_dlg(true);toogleModalAnalisisCredito();}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});case 42:setIsActiveLoading(false);case 43:case\"end\":return _context.stop();}}},_callee);}));return _dataManagement.apply(this,arguments);}function toogleModalAnalisisCredito(){setshowModalAnalisisCredito(!showModalAnalisisCredito);removeBodyCss();}function removeBodyCss(){document.body.classList.add(\"no_padding\");}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(HeaderSections,{title:props.title,t:t}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive mt-2\",children:/*#__PURE__*/_jsx(LoadingOverlay,{active:isActiveLoading,spinner:true,text:t(\"WaitingPlease\"),children:/*#__PURE__*/_jsxs(Table,{className:\"table mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"Description\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"CurrentYear\")}),/*#__PURE__*/_jsxs(\"th\",{className:\"text-start\",children:[\"1 \",t(\"YearAgo\"),\" \"]}),/*#__PURE__*/_jsxs(\"th\",{className:\"text-start\",children:[\"2 \",t(\"YearAgo\")]}),/*#__PURE__*/_jsxs(\"th\",{className:\"text-start\",children:[\"3 \",t(\"YearAgo\")]}),/*#__PURE__*/_jsxs(\"th\",{className:\"text-start\",children:[\"4 \",t(\"YearAgo\")]}),!props.preview&&/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Link,{className:\"float-end\",onClick:function onClick(){var _dataLocation$transac5;setdataSet({\"transactId\":(_dataLocation$transac5=dataLocation===null||dataLocation===void 0?void 0:dataLocation.transactionId)!==null&&_dataLocation$transac5!==void 0?_dataLocation$transac5:0,\"itemActive\":\"\",\"year1\":null,\"year2\":null,\"year3\":null,\"year4\":null,\"presentYear\":null});setType(props.type);toogleModalAnalisisCredito();},children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-plus-box-multiple-outline mdi-24px\"})})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataRows})]})})}),/*#__PURE__*/_jsx(ModalAnalisisCredito,{titulo:props.title,dataSet:dataSet,tipo:Type,dataManagement:dataManagement,botones:botonValidation,isOpen:showModalAnalisisCredito,toggle:function toggle(){toogleModalAnalisisCredito();}}),successSave_dlg?/*#__PURE__*/_jsx(SweetAlert,{success:true,title:t(\"SuccessDialog\"),onConfirm:function onConfirm(){setsuccessSave_dlg(false);loadData();},children:t(\"SuccessSaveMessage\")}):null,error_dlg?/*#__PURE__*/_jsx(SweetAlert,{error:true,title:t(\"ErrorDialog\"),onConfirm:function onConfirm(){seterror_dlg(false);loadData();},children:error_msg}):null,confirm_alert?/*#__PURE__*/_jsx(SweetAlert,{title:t(\"Areyousure\"),warning:true,showCancel:true,confirmButtonText:t(\"Yesdeleteit\"),confirmBtnBsStyle:\"success\",cancelBtnBsStyle:\"danger\",onConfirm:function onConfirm(){var apiBack=new BackendServices();if(Type==\"DBalanceActivo\"){var _dataLocation$transac6;console.log(props.debtorId);apiBack.eliminarBalanceActivoAC((_dataLocation$transac6=dataLocation===null||dataLocation===void 0?void 0:dataLocation.transactionId)!==null&&_dataLocation$transac6!==void 0?_dataLocation$transac6:0,props.debtorId,dataDelete.itemActiveId).then(function(resp){if(resp.statusCode==\"500\"||undefined){setconfirm_alert(false);seterror_dlg(true);}else{setconfirm_alert(false);setsuccessSave_dlg(true);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(true);});}if(Type==\"DBalancePasivo\"){var _dataLocation$transac7;apiBack.eliminarBalancePasivoAC((_dataLocation$transac7=dataLocation===null||dataLocation===void 0?void 0:dataLocation.transactionId)!==null&&_dataLocation$transac7!==void 0?_dataLocation$transac7:0,props.debtorId,dataDelete.itemPassiveId).then(function(resp){if(resp.statusCode==\"500\"||undefined){setconfirm_alert(false);seterror_dlg(true);}else{setconfirm_alert(false);setsuccessSave_dlg(true);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(true);});}if(Type==\"DOrigenAplicacionn\"){var _dataLocation$transac8;apiBack.eliminarEstadoOrigenAplicacionesxDeudor((_dataLocation$transac8=dataLocation===null||dataLocation===void 0?void 0:dataLocation.transactionId)!==null&&_dataLocation$transac8!==void 0?_dataLocation$transac8:0,props.debtorId,dataDelete.sourceApplicationItemId).then(function(resp){if(resp.statusCode==\"500\"||undefined){setconfirm_alert(false);seterror_dlg(true);}else{setconfirm_alert(false);setsuccessSave_dlg(true);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(true);});}if(Type==\"Dindicadores\"){var _dataLocation$transac9;apiBack.eliminarListaIndicadores((_dataLocation$transac9=dataLocation===null||dataLocation===void 0?void 0:dataLocation.transactionId)!==null&&_dataLocation$transac9!==void 0?_dataLocation$transac9:0,props.debtorId,dataDelete.itemIndicatorsId).then(function(resp){if(resp.statusCode==\"500\"||undefined){setconfirm_alert(false);seterror_dlg(true);}else{setconfirm_alert(false);setsuccessSave_dlg(true);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(true);});}},onCancel:function onCancel(){return setconfirm_alert(false);},children:t(\"Youwontbeabletorevertthis\")}):null]});};export default Balance;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/components/PropuestaCreditoComercial/financialSummary/Balance.js"],"names":["React","useState","translationHelpers","BackendServices","Link","useLocation","SweetAlert","Table","Card","CardBody","Button","ModalAnalisisCredito","LoadingOverlay","HeaderSections","Currency","Balance","props","location","data","JSON","parse","sessionStorage","getItem","dataLocation","setData","successSave_dlg","setsuccessSave_dlg","error_dlg","seterror_dlg","error_msg","seterror_msg","info_dlg","setinfo_dlg","info_msg","setinfo_msg","dynamic_title","setdynamic_title","confirm_alert","setconfirm_alert","success_dlg","setsuccess_dlg","dynamic_description","setdynamic_description","isActiveLoading","setIsActiveLoading","dataSet","setdataSet","dataDelete","setDataDelete","Type","setType","items","setitems","api","t","c","dataRows","setdataRows","showModalAnalisisCredito","setshowModalAnalisisCredito","botonValidation","setbotonValidation","styleTd","maxWidth","currencyData","loadData","type","checkActiveBalanceAC","transactionId","then","resp","length","map","item","index","status","itemActive","format","presentYear","year1","year2","year3","year4","preview","textAlign","editData","DeleteData","catch","err","checkBalancePassiveAC","itemPassive","itemPassiveId","consultarEstadoOrigenAplicacionesxDeudor","sourceApplicationItem","queryACIndicator","itemIndicators","useEffect","typeData","toogleModalAnalisisCredito","dataManagement","transactId","Number","personId","debtorId","newActiveBalanceAC","undefined","nuevoBalancePasivoAC","console","log","guardarEstadoOrigenAplicacionesxDeudor","guardarListaIndicadores","itemActiveId","updateActiveBalanceAC","actualizarBalancePasivoAC","sourceApplicationItemId","actualizarEstadoOrigenAplicacionesxDeudor","itemIndicatorsId","actualizarListaIndicadores","removeBodyCss","document","body","classList","add","title","apiBack","eliminarBalanceActivoAC","statusCode","error","eliminarBalancePasivoAC","eliminarEstadoOrigenAplicacionesxDeudor","eliminarListaIndicadores"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\r\nimport PropTypes from 'prop-types';\r\nimport { translationHelpers } from '../../../helpers/translation-helper';\r\nimport { BackendServices } from '../../../services';\r\nimport { Link, useLocation } from \"react-router-dom\"\r\nimport SweetAlert from \"react-bootstrap-sweetalert\"\r\nimport {\r\n  Table,\r\n  Card,\r\n  CardBody,\r\n  Button\r\n} from \"reactstrap\"\r\nimport ModalAnalisisCredito from \"../../../pages/CommercialCredit/6_AnalisisCredito/ModalAnalisisCredito\";\r\nimport LoadingOverlay from \"react-loading-overlay\";\r\nimport HeaderSections from \"../../Common/HeaderSections\";\r\nimport Currency from \"../../../helpers/currency\";\r\nconst Balance = (props) => {\r\n  const location = useLocation();\r\n  const [dataLocation, setData] = useState(location.data ?? JSON.parse(sessionStorage.getItem('locationData')));\r\n\r\n  const [successSave_dlg, setsuccessSave_dlg] = useState(false);\r\n  const [error_dlg, seterror_dlg] = useState(false);\r\n  const [error_msg, seterror_msg] = useState(\"\");\r\n  const [info_dlg, setinfo_dlg] = useState(false)\r\n  const [info_msg, setinfo_msg] = useState(\"\")\r\n  const [dynamic_title, setdynamic_title] = useState(\"\")\r\n  const [confirm_alert, setconfirm_alert] = useState(false)\r\n  const [success_dlg, setsuccess_dlg] = useState(false)\r\n  const [dynamic_description, setdynamic_description] = useState(\"\")\r\n  const [isActiveLoading, setIsActiveLoading] = useState(false);\r\n\r\n  const [dataSet, setdataSet] = useState({\r\n    \"transactId\": 0,\r\n    \"itemActive\": \"\",\r\n    \"year1\": 0,\r\n    \"year2\": 0,\r\n    \"year3\": 0,\r\n    \"year4\": 0,\r\n    \"presentYear\": 0\r\n  });\r\n  const [dataDelete, setDataDelete] = useState([]);\r\n  const [Type, setType] = useState(null);\r\n  const [items, setitems] = useState(null);\r\n  const api = new BackendServices()\r\n  const [t, c] = translationHelpers('commercial_credit', 'common');\r\n  const [dataRows, setdataRows] = useState(null);\r\n  const [showModalAnalisisCredito, setshowModalAnalisisCredito] = useState(false);\r\n  const [botonValidation, setbotonValidation] = useState(true);\r\n\r\n  const styleTd = {\r\n    maxWidth: '300px'\r\n  }\r\n\r\n  const currencyData = new Currency();\r\n\r\n  function loadData() {\r\n    if (props.type == \"BalanceActivo\") {\r\n      api.checkActiveBalanceAC(dataLocation?.transactionId ?? 0).then(resp => {\r\n        if (resp?.length > 0) {\r\n\r\n          setdataRows(resp.map((item, index) => (\r\n            item.status ?\r\n              <tr key={'row-' + index}>\r\n                <td style={styleTd} className=\"text-start\">{item.itemActive}</td>\r\n                <td className=\"text-start\">{currencyData.format(item.presentYear)}</td>\r\n                <td className=\"text-start\">{currencyData.format(item?.year1 ?? 0)}</td>\r\n                <td className=\"text-start\">{currencyData.format(item?.year2 ?? 0)}</td>\r\n                <td className=\"text-start\">{currencyData.format(item?.year3 ?? 0)}</td>\r\n                <td className=\"text-start\">{currencyData.format(item?.year4 ?? 0)}</td>\r\n                {!props.preview && <td style={{ textAlign: \"right\" }}>\r\n                  <Button type=\"button\" color=\"link\" onClick={(resp) => {\r\n                    editData(item, \"E\" + props.type)\r\n                  }} className=\"btn btn-link\" ><i className=\"mdi mdi-border-color mdi-24px\"></i></Button>\r\n                  <Button type=\"button\" color=\"link\" onClick={(resp) => {\r\n                    DeleteData(item, \"D\" + props.type)\r\n                  }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n                </td>}\r\n              </tr> : null))\r\n          );\r\n        } else {\r\n          setdataRows(\r\n            <tr key={1}>\r\n              <td colSpan=\"6\" style={{ textAlign: 'center' }}></td>\r\n            </tr>);\r\n        }\r\n      }).catch(err => {\r\n        setdataRows(\r\n          <tr key={1}>\r\n            <td colSpan=\"6\" style={{ textAlign: 'center' }}></td>\r\n          </tr>);\r\n      });\r\n    }\r\n\r\n    if (props.type == \"BalancePasivo\") {\r\n      api.checkBalancePassiveAC(dataLocation?.transactionId ?? 0).then(resp => {\r\n        if (resp?.length > 0) {\r\n          setdataRows(resp.map((item, index) => (\r\n            item.status ?\r\n              <tr key={'row-' + index}>\r\n                <td style={styleTd} className=\"text-start\">{item.itemPassive}</td>\r\n                <td className=\"text-start\">{currencyData.format(item.presentYear)}</td>\r\n                <td className=\"text-start\">{currencyData.format(item?.year1 ?? 0)}</td>\r\n                <td className=\"text-start\">{currencyData.format(item?.year2 ?? 0)}</td>\r\n                <td className=\"text-start\">{currencyData.format(item?.year3 ?? 0)}</td>\r\n                <td className=\"text-start\">{currencyData.format(item?.year4 ?? 0)}</td>\r\n                {!props.preview && <td style={{ textAlign: \"right\" }}>\r\n                  <Button type=\"button\" color=\"link\" onClick={(resp) => {\r\n                    editData({\r\n                      \"itemPassiveId\": item.itemPassiveId,\r\n                      \"itemPassive\": item.itemPassive,\r\n                      \"year1\": item.year1,\r\n                      \"year2\": item.year2,\r\n                      \"year3\": item.year3,\r\n                      \"year4\": item.year4,\r\n                      \"presentYear\": item.presentYear\r\n                    }, \"E\" + props.type)\r\n                  }} className=\"btn btn-link\" ><i className=\"mdi mdi-border-color mdi-24px\"></i></Button>\r\n                  <Button type=\"button\" color=\"link\" onClick={(resp) => {\r\n                    DeleteData({\r\n                      \"itemPassiveId\": item.itemPassiveId,\r\n                      \"itemPassive\": item.itemPassive,\r\n                      \"year1\": item.year1,\r\n                      \"year2\": item.year2,\r\n                      \"year3\": item.year3,\r\n                      \"year4\": item.year4,\r\n                      \"presentYear\": item.presentYear\r\n                    }, \"D\" + props.type)\r\n                  }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n                </td>}\r\n              </tr> : null))\r\n          );\r\n        } else {\r\n          setdataRows(\r\n            <tr key={1}>\r\n              <td colSpan=\"6\" style={{ textAlign: 'center' }}></td>\r\n            </tr>);\r\n        }\r\n      }).catch(err => {\r\n        setdataRows(\r\n          <tr key={1}>\r\n            <td colSpan=\"6\" style={{ textAlign: 'center' }}></td>\r\n          </tr>);\r\n      });\r\n    }\r\n\r\n    if (props.type == \"OrigenAplicacionn\") {\r\n      api.consultarEstadoOrigenAplicacionesxDeudor(dataLocation?.transactionId ?? 0).then(resp => {\r\n        if (resp?.length > 0) {\r\n          setdataRows(resp.map((item, index) => (\r\n            item.status ?\r\n              <tr key={'row-' + index}>\r\n                <td style={styleTd} className=\"text-start\">{item.sourceApplicationItem}</td>\r\n                <td className=\"text-start\">{currencyData.format(item.presentYear)}</td>\r\n                <td className=\"text-start\">{currencyData.format(item?.year1 ?? 0)}</td>\r\n                <td className=\"text-start\">{currencyData.format(item?.year2 ?? 0)}</td>\r\n                <td className=\"text-start\">{currencyData.format(item?.year3 ?? 0)}</td>\r\n                <td className=\"text-start\">{currencyData.format(item?.year4 ?? 0)}</td>\r\n                {!props.preview && <td style={{ textAlign: \"right\" }}>\r\n                  <Button type=\"button\" color=\"link\" onClick={(resp) => { editData(item, \"E\" + props.type) }} className=\"btn btn-link\" ><i className=\"mdi mdi-border-color mdi-24px\"></i></Button>\r\n                  <Button type=\"button\" color=\"link\" onClick={(resp) => { DeleteData(item, \"D\" + props.type) }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n                </td>}\r\n              </tr> : null))\r\n          );\r\n        } else {\r\n          setdataRows(\r\n            <tr key={1}>\r\n              <td colSpan=\"6\" style={{ textAlign: 'center' }}></td>\r\n            </tr>);\r\n        }\r\n      }).catch(err => {\r\n        setdataRows(\r\n          <tr key={1}>\r\n            <td colSpan=\"6\" style={{ textAlign: 'center' }}></td>\r\n          </tr>);\r\n      });\r\n    }\r\n\r\n    if (props.type == \"indicadores\") {\r\n      api.queryACIndicator(dataLocation?.transactionId ?? 0).then(resp => {\r\n        if (resp?.length > 0) {\r\n          setdataRows(resp.map((item, index) => (\r\n            item.status ?\r\n              <tr key={'row-' + index}>\r\n                <td style={styleTd} className=\"text-start\">{item.itemIndicators}</td>\r\n                <td className=\"text-start\">{currencyData.format(item.presentYear)}</td>\r\n                <td className=\"text-start\">{currencyData.format(item?.year1 ?? 0)}</td>\r\n                <td className=\"text-start\">{currencyData.format(item?.year2 ?? 0)}</td>\r\n                <td className=\"text-start\">{currencyData.format(item?.year3 ?? 0)}</td>\r\n                <td className=\"text-start\">{currencyData.format(item?.year4 ?? 0)}</td>\r\n                {!props.preview && <td style={{ textAlign: \"right\" }}>\r\n                  <Button type=\"button\" color=\"link\" onClick={(resp) => { editData(item, \"E\" + props.type) }} className=\"btn btn-link\" ><i className=\"mdi mdi-border-color mdi-24px\"></i></Button>\r\n                  <Button type=\"button\" color=\"link\" onClick={(resp) => { DeleteData(item, \"D\" + props.type) }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n                </td>}\r\n              </tr> : null))\r\n          );\r\n        } else {\r\n          setdataRows(\r\n            <tr key={1}>\r\n              <td colSpan=\"6\" style={{ textAlign: 'center' }}></td>\r\n            </tr>);\r\n        }\r\n      }).catch(err => {\r\n        setdataRows(\r\n          <tr key={1}>\r\n            <td colSpan=\"6\" style={{ textAlign: 'center' }}></td>\r\n          </tr>);\r\n      });\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    // Read Api Servic e data \r\n    loadData()\r\n    setType(Type)\r\n  }, [props]);\r\n\r\n  function DeleteData(data, typeData) {\r\n    setType(typeData)\r\n    setDataDelete(data)\r\n    setconfirm_alert(true);\r\n  }\r\n  function editData(data, typeData) {\r\n    setType(typeData)\r\n    setdataSet(data)\r\n    setbotonValidation(true);\r\n    toogleModalAnalisisCredito()\r\n  }\r\n  async function dataManagement(data) {\r\n    setIsActiveLoading(true);\r\n    data.transactId = Number(dataLocation?.transactionId ?? 0);\r\n    data.personId = props.debtorId;\r\n    if (Type == \"BalanceActivo\") {\r\n      await api.newActiveBalanceAC(data).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          setsuccessSave_dlg(true)\r\n          toogleModalAnalisisCredito();\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n    if (Type == \"BalancePasivo\") {\r\n      data.itemPassive = data.itemActive;\r\n      await api.nuevoBalancePasivoAC(data).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          setsuccessSave_dlg(true)\r\n          toogleModalAnalisisCredito();\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n    if (Type == \"OrigenAplicacionn\") {\r\n      data.sourceApplicationItem = data.itemActive;\r\n      console.log(props);\r\n      await api.guardarEstadoOrigenAplicacionesxDeudor(data).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          setsuccessSave_dlg(true)\r\n          toogleModalAnalisisCredito();\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n    if (Type == \"indicadores\") {\r\n      data.itemIndicators = data.itemActive;\r\n      await api.guardarListaIndicadores(data).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          setsuccessSave_dlg(true)\r\n          toogleModalAnalisisCredito();\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n    if (Type == \"EBalanceActivo\") {\r\n      data.itemActiveId = dataSet.itemActiveId;\r\n      data.status = true;\r\n      await api.updateActiveBalanceAC(data).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          setsuccessSave_dlg(true)\r\n          toogleModalAnalisisCredito();\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n    if (Type == \"EBalancePasivo\") {\r\n      data.itemPassive = data.itemActive;\r\n      data.itemPassiveId = dataSet.itemPassiveId;\r\n      data.status = true;\r\n      await api.actualizarBalancePasivoAC(data).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          setsuccessSave_dlg(true)\r\n          toogleModalAnalisisCredito();\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n    if (Type == \"EOrigenAplicacionn\") {\r\n      data.sourceApplicationItem = data.itemActive;\r\n      data.sourceApplicationItemId = dataSet.sourceApplicationItemId;\r\n      data.status = true;\r\n      await api.actualizarEstadoOrigenAplicacionesxDeudor(data).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          setsuccessSave_dlg(true)\r\n          toogleModalAnalisisCredito();\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n    if (Type == \"Eindicadores\") {\r\n      data.itemIndicatorsId = dataSet.itemIndicatorsId;\r\n      data.itemIndicators = data.itemActive;\r\n      data.status = true;\r\n      await api.actualizarListaIndicadores(data).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          setsuccessSave_dlg(true)\r\n          toogleModalAnalisisCredito();\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n    setIsActiveLoading(false);\r\n  }\r\n  function toogleModalAnalisisCredito() {\r\n    setshowModalAnalisisCredito(!showModalAnalisisCredito);\r\n    removeBodyCss()\r\n  }\r\n  function removeBodyCss() {\r\n    document.body.classList.add(\"no_padding\")\r\n  }\r\n  return (\r\n    <>\r\n      <HeaderSections title={props.title} t={t}></HeaderSections>\r\n      {/* <p className=\"card-title-desc\"></p> */}\r\n      <div className=\"table-responsive mt-2\">\r\n        <LoadingOverlay active={isActiveLoading} spinner text={t(\"WaitingPlease\")}>\r\n\r\n          <Table className=\"table mb-0\">\r\n            <thead className=\"table-light\">\r\n              <tr>\r\n                <th>{t(\"Description\")}</th>\r\n                <th>{t(\"CurrentYear\")}</th>\r\n                <th className=\"text-start\">1 {t(\"YearAgo\")} </th>\r\n                <th className=\"text-start\">2 {t(\"YearAgo\")}</th>\r\n                <th className=\"text-start\">3 {t(\"YearAgo\")}</th>\r\n                <th className=\"text-start\">4 {t(\"YearAgo\")}</th>\r\n                {!props.preview && <th><Link className=\"float-end\" onClick={() => {\r\n                  setdataSet({\r\n                    \"transactId\": dataLocation?.transactionId ?? 0,\r\n                    \"itemActive\": \"\",\r\n                    \"year1\": null,\r\n                    \"year2\": null,\r\n                    \"year3\": null,\r\n                    \"year4\": null,\r\n                    \"presentYear\": null\r\n                  }); setType(props.type); toogleModalAnalisisCredito()\r\n                }}><i className=\"mdi mdi-plus-box-multiple-outline mdi-24px\"></i></Link></th>}\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {dataRows}\r\n            </tbody>\r\n          </Table>\r\n        </LoadingOverlay >\r\n\r\n      </div>\r\n      <ModalAnalisisCredito titulo={props.title} dataSet={dataSet} tipo={Type} dataManagement={dataManagement} botones={botonValidation} isOpen={showModalAnalisisCredito} toggle={() => { toogleModalAnalisisCredito() }} />\r\n      {successSave_dlg ? (\r\n        <SweetAlert\r\n          success\r\n          title={t(\"SuccessDialog\")}\r\n          onConfirm={() => {\r\n            setsuccessSave_dlg(false)\r\n            loadData();\r\n          }}\r\n        >\r\n          {t(\"SuccessSaveMessage\")}\r\n        </SweetAlert>\r\n      ) : null}\r\n\r\n      {error_dlg ? (\r\n        <SweetAlert\r\n          error\r\n          title={t(\"ErrorDialog\")}\r\n          onConfirm={() => {\r\n            seterror_dlg(false)\r\n            loadData();\r\n          }}\r\n        >\r\n          {error_msg}\r\n        </SweetAlert>\r\n      ) : null}\r\n      {confirm_alert ? (\r\n        <SweetAlert\r\n          title={t(\"Areyousure\")}\r\n          warning\r\n          showCancel\r\n          confirmButtonText={t(\"Yesdeleteit\")}\r\n          confirmBtnBsStyle=\"success\"\r\n          cancelBtnBsStyle=\"danger\"\r\n          onConfirm={() => {\r\n            const apiBack = new BackendServices();\r\n            if (Type == \"DBalanceActivo\") {\r\n              console.log(props.debtorId);\r\n              apiBack.eliminarBalanceActivoAC(dataLocation?.transactionId ?? 0, props.debtorId, dataDelete.itemActiveId).then(resp => {\r\n                if (resp.statusCode == \"500\" || undefined) {\r\n                  setconfirm_alert(false)\r\n                  seterror_dlg(true)\r\n                } else {\r\n                  setconfirm_alert(false)\r\n                  setsuccessSave_dlg(true)\r\n                }\r\n              }).catch(error => {\r\n                setconfirm_alert(false)\r\n                seterror_dlg(true)\r\n              })\r\n            }\r\n            if (Type == \"DBalancePasivo\") {\r\n              apiBack.eliminarBalancePasivoAC(dataLocation?.transactionId ?? 0, props.debtorId, dataDelete.itemPassiveId).then(resp => {\r\n                if (resp.statusCode == \"500\" || undefined) {\r\n                  setconfirm_alert(false)\r\n                  seterror_dlg(true)\r\n                } else {\r\n                  setconfirm_alert(false)\r\n                  setsuccessSave_dlg(true)\r\n                }\r\n              }).catch(error => {\r\n                setconfirm_alert(false)\r\n                seterror_dlg(true)\r\n              })\r\n            }\r\n            if (Type == \"DOrigenAplicacionn\") {\r\n              apiBack.eliminarEstadoOrigenAplicacionesxDeudor(dataLocation?.transactionId ?? 0, props.debtorId, dataDelete.sourceApplicationItemId).then(resp => {\r\n                if (resp.statusCode == \"500\" || undefined) {\r\n                  setconfirm_alert(false)\r\n                  seterror_dlg(true)\r\n                } else {\r\n                  setconfirm_alert(false)\r\n                  setsuccessSave_dlg(true)\r\n                }\r\n              }).catch(error => {\r\n                setconfirm_alert(false)\r\n                seterror_dlg(true)\r\n              })\r\n            }\r\n            if (Type == \"Dindicadores\") {\r\n              apiBack.eliminarListaIndicadores(dataLocation?.transactionId ?? 0, props.debtorId, dataDelete.itemIndicatorsId).then(resp => {\r\n                if (resp.statusCode == \"500\" || undefined) {\r\n                  setconfirm_alert(false)\r\n                  seterror_dlg(true)\r\n                } else {\r\n                  setconfirm_alert(false)\r\n                  setsuccessSave_dlg(true)\r\n                }\r\n              }).catch(error => {\r\n                setconfirm_alert(false)\r\n                seterror_dlg(true)\r\n              })\r\n            }\r\n          }}\r\n          onCancel={() => setconfirm_alert(false)}\r\n        >\r\n          {t(\"Youwontbeabletorevertthis\")}\r\n        </SweetAlert>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nBalance.propTypes = {\r\n  title: PropTypes.string,\r\n  headers: PropTypes.array.isRequired,\r\n};\r\n\r\n\r\nexport default Balance;\r\n"]},"metadata":{},"sourceType":"module"}