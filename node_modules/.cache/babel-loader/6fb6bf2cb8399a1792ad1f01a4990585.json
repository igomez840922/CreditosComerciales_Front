{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{withTranslation}from\"react-i18next\";import{useTranslation}from'react-i18next';import Select from\"react-select\";import{useLocation,useHistory}from'react-router-dom';import moment from\"moment\";import{Row,Col,Label,Table}from\"reactstrap\";import{AvForm,AvField}from\"availity-reactstrap-validation\";import ApiServiceBackend from\"../../../../../services/BackendServices/Services\";import MaskSoaint from\"../../../../../api/plugins_soaint/maskNumber\";import{BackendServices,CoreServices}from'../../../../../services';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DatosGenerales=/*#__PURE__*/React.forwardRef(function(props,ref){React.useImperativeHandle(ref,function(){return{validateForm:function validateForm(){var form=document.getElementById('frmDatosGenerales');form.requestSubmit();},getFormValidation:function getFormValidation(){return formValid;},dataReturn2:dataReturn2};});var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var location=useLocation();var _useState=useState(location.data),_useState2=_slicedToArray(_useState,2),locationData=_useState2[0],setLocationData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),identificationTypeList=_useState4[0],setIdentificationTypeList=_useState4[1];var _useState5=useState(undefined),_useState6=_slicedToArray(_useState5,2),identificationTypeSelected=_useState6[0],setIdentificationTypeSelected=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),gruposEconomicos=_useState8[0],setGruposEconomicos=_useState8[1];var _useState9=useState(undefined),_useState10=_slicedToArray(_useState9,2),gruposEconomicosSelected=_useState10[0],setGruposEconomicosSelected=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),banca=_useState12[0],setBanca=_useState12[1];var _useState13=useState(undefined),_useState14=_slicedToArray(_useState13,2),bancaSelected=_useState14[0],setBancaSelected=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),actividadEmpresa=_useState16[0],setActividadEmpresa=_useState16[1];var _useState17=useState(undefined),_useState18=_slicedToArray(_useState17,2),actividadEmpresaSelected=_useState18[0],setActividadEmpresaSelected=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),subactividadEmpresa=_useState20[0],setSubActividadEmpresa=_useState20[1];var _useState21=useState(undefined),_useState22=_slicedToArray(_useState21,2),subactividadEmpresaSelected=_useState22[0],setSubActividadEmpresaSelected=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),bancaDate=_useState24[0],setDataBanca=_useState24[1];var _useState25=useState(null),_useState26=_slicedToArray(_useState25,2),codigoGrupo=_useState26[0],setCodigoGrupo=_useState26[1];var _useState27=useState(null),_useState28=_slicedToArray(_useState27,2),nombreGrupo=_useState28[0],setCNombreGrupo=_useState28[1];var _useState29=useState({codigoTipoPersona:null,codigoTipoIdentificacion:null,numeroCliente:null,primerNombre:null,segundoNombre:null,primerApellido:null,segundoApellido:null,numeroIdentificacion:null,transactId:0,economicGroup:{code:\"\",name:\"\"},economicActivity:{code:\"\",name:\"\"},subeconomicActivity:{code:\"\",name:\"\"},bank:{code:\"\",name:\"\"}}),_useState30=_slicedToArray(_useState29,2),dataReturn=_useState30[0],setDataReturn=_useState30[1];var _useState31=useState(),_useState32=_slicedToArray(_useState31,2),dataReturn2=_useState32[0],setDataReturn2=_useState32[1];var _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),formValid=_useState34[0],setFormValid=_useState34[1];var _useState35=useState(2),_useState36=_slicedToArray(_useState35,2),cambio=_useState36[0],setCambio=_useState36[1];var _useState37=useState(false),_useState38=_slicedToArray(_useState37,2),campoRequeridoGrupo=_useState38[0],setcampoRequeridoGrupo=_useState38[1];var _useState39=useState(false),_useState40=_slicedToArray(_useState39,2),campoRequeridoActividad=_useState40[0],setcampoRequeridoActividad=_useState40[1];var _useState41=useState(false),_useState42=_slicedToArray(_useState41,2),campoRequeridoSubActividad=_useState42[0],setcampoRequeridoSubActividad=_useState42[1];var _useState43=useState(false),_useState44=_slicedToArray(_useState43,2),campoRequeridoBanca=_useState44[0],setcampoRequeridoBanca=_useState44[1];var _useState45=useState(null),_useState46=_slicedToArray(_useState45,2),dataDeudores=_useState46[0],setdataDeudores=_useState46[1];var _useState47=useState(0),_useState48=_slicedToArray(_useState47,2),numberExpresion=_useState48[0],setnumberExpresion=_useState48[1];//On Mounting (componentDidMount)\nReact.useEffect(function(){// Read Api Service data      \nloadData();loadInitialData();loadListGroupEconomic();loadBank();loadActivityEconomic();},[]);React.useEffect(function(){// Read Api Service data      \nconsole.log(props);},[props]);React.useEffect(function(){// Read Api Service data \nvar defaultVal=null;try{if(identificationTypeList.length>0&&dataReturn.codigoTipoIdentificacion!==null&&identificationTypeSelected===undefined){defaultVal=identificationTypeList.find(function(x){return x.value===dataReturn.codigoTipoIdentificacion;});if(defaultVal!==undefined){setIdentificationTypeSelected(defaultVal);}}if(gruposEconomicos.length>0&&dataReturn.economicGroup!==null&&gruposEconomicosSelected===undefined){defaultVal=gruposEconomicos.find(function(x){return x.value===dataReturn.economicGroup.code;});if(defaultVal!==undefined){setGruposEconomicosSelected(defaultVal);}}if(banca.length>0&&dataReturn.bank!==null&&bancaSelected===undefined){defaultVal=banca.find(function(x){return x.value===dataReturn.bank.code;});if(defaultVal!==undefined){setBancaSelected(defaultVal);}}if(actividadEmpresa.length>0&&dataReturn.economicActivity!==null&&actividadEmpresaSelected===undefined){defaultVal=actividadEmpresa.find(function(x){return x.value===dataReturn.economicActivity.code;});if(defaultVal!==undefined){setActividadEmpresaSelected(defaultVal);}}if(subactividadEmpresa.length>0&&dataReturn.subeconomicActivity!==null&&subactividadEmpresaSelected===undefined){defaultVal=subactividadEmpresa.find(function(x){return x.value===dataReturn.subeconomicActivity.code;});if(defaultVal!==undefined){setSubActividadEmpresaSelected(defaultVal);}}}catch(err){}},[cambio]);React.useEffect(function(){try{if(props.selectedClient!==null&&props.selectedClient!==undefined){loadClientSelectedData(props.selectedClient);}}catch(err){}},[props.selectedClient]);React.useEffect(function(){console.log(numberExpresion);},[numberExpresion]);///////////..... CHEQUEAMOS LA DATA PARA INICIALIZAR VALORES POR DEFECTO EN LOS SELECT2 .... ////////\n// cargar actividad economica\nfunction loadActivityEconomic(){var api=new CoreServices();// getActividadEconomicaCatalogo\napi.getActividadEconomicaCatalogo().then(function(response){if(response===null){return;}var json=[];for(var i=0;i<response.Records.length;i++){json.push({label:response.Records[i][\"Description\"],value:response.Records[i][\"Code\"]});}setActividadEmpresa(json);if(dataReturn.economicActivity!==null){loadSubActivityEconomic(dataReturn.economicActivity.code);}setCambio(null);setCambio(5);});}// cargarSubActividadEconomica\nfunction loadSubActivityEconomic(codActividad){var api=new CoreServices();// getSubActividadEconomicaCatalogo\napi.getSubActividadEconomicaCatalogo(codActividad).then(function(response){if(response===null){return;}var json=[];for(var i=0;i<response.Records.length;i++){json.push({label:response.Records[i][\"Description\"],value:response.Records[i][\"Code\"]});}setSubActividadEmpresa(json);if(dataReturn.subeconomicActivity!==null){setSubActividadEmpresaSelected(json.find(function(x){return x.value===dataReturn.subeconomicActivity.code;}));}else{dataReturn.subeconomicActivity={code:json[0].value,name:json[0].label};setSubActividadEmpresaSelected(json[0]);}setCambio(null);setCambio(5);});}// cargarListaGrupoEconomico\nfunction loadListGroupEconomic(){var api=new CoreServices();// getGrupoEconomicoCatalogo\napi.getGrupoEconomicoCatalogo().then(function(response){if(response===null){return;}var json=[];for(var i=0;i<response.Records.length;i++){if(response.Records[i][\"Code\"]==\"0003\"){json.push({label:response.Records[i][\"Description\"],value:response.Records[i][\"Code\"]});}else{json.push({label:response.Records[i][\"Description\"],value:response.Records[i][\"Code\"]});}}setGruposEconomicos(json);setCambio(null);setCambio(5);});}// cargarBancas\nfunction loadBank(){var api=new CoreServices();api.getBancaCatalogo().then(function(response){if(response===null){return;}var json=[];for(var i=0;i<response.Records.length;i++){json.push({label:response.Records[i][\"Description\"],value:response.Records[i][\"Code\"]});}setBanca(json);setCambio(null);setCambio(5);});}// consultarDatos\nfunction loadData(){var apiBack=new BackendServices();//consultarDeudorPrincipal\napiBack.consultPrincipalDebtor(locationData.transactionId).then(function(resp){dataReturn.numeroCliente=resp.customerNumberT24;dataReturn.primerNombre=resp.name;dataReturn.segundoNombre=resp.name2;dataReturn.primerApellido=resp.lastName;dataReturn.segundoApellido=resp.lastName2;dataReturn.numeroIdentificacion=resp.clientDocId;dataReturn.nuevoDato=\"\";setDataReturn(dataReturn);});// consultarDatosGeneralesIGR\napiBack.consultGeneralDataIGR(locationData.transactionId).then(function(resp){dataReturn.codigoTipoIdentificacion=resp.identificationType;dataReturn.transactId=locationData.transactionId;dataReturn.economicGroup.code=resp.economicGroup.code;dataReturn.economicGroup.name=resp.economicGroup.name;dataReturn.economicActivity.code=resp.economicActivity.code;dataReturn.economicActivity.name=resp.economicActivity.name;dataReturn.subeconomicActivity.code=resp.subeconomicActivity.code;dataReturn.subeconomicActivity.name=resp.subeconomicActivity.name;dataReturn.bank.code=resp.bank.code;dataReturn.bank.name=resp.bank.name;setDataReturn(dataReturn);setCambio(null);setCambio(5);}).catch(function(error){});}// guardarDatosGenerales\nfunction saveDataGeneral(){var apiBack=new BackendServices();/* ---------------------------------------------------------------------------------------------- */ /*                               Actualizamos los datos del cliente                               */ /* ---------------------------------------------------------------------------------------------- */var dataGenerales={customerId:locationData.customerId,transactId:Number(locationData.transactionId),personType:dataReturn.codigoTipoPersona,identificationType:dataReturn.codigoTipoIdentificacion,customerDocumentId:dataReturn.numeroIdentificacion,customerNumberT24:dataReturn.numeroCliente,firstName:dataReturn.primerNombre,secondName:dataReturn.segundoNombre,firstLastName:dataReturn.primerApellido,secondLastName:dataReturn.segundoApellido,\"economicGroup\":{\"code\":dataReturn.economicGroup.code,\"name\":dataReturn.economicGroup.name},\"economicActivity\":{\"code\":dataReturn.economicActivity.code,\"name\":dataReturn.economicActivity.name},\"subeconomicActivity\":{\"code\":dataReturn.subeconomicActivity.code,\"name\":dataReturn.subeconomicActivity.name},\"bank\":{\"code\":dataReturn.bank.code,\"name\":dataReturn.bank.name},date:moment().format(\"YYYY-MM-DD\"),status:true};// guardarDatosGeneralesIGR\napiBack.saveGeneralDataIGR(dataGenerales).then(function(resp){setFormValid(true);});}// Form Submission\nfunction handleSubmit(event,errors,values){event.preventDefault();if(errors.length>0){setFormValid(false);return;}setDataReturn2(dataReturn);setDataReturn(dataReturn);saveDataGeneral();setFormValid(true);}function loadInitialData(){var apiServiceBackend=new ApiServiceBackend();// consultarCatalogoTipoIdentificacion\napiServiceBackend.consultarCatalogoTipoIdentificacion().then(function(data){if(data!==null&&data!==undefined){var json=[];for(var i=0;i<data.length;i++){json.push({label:t(data[i][\"description\"]),value:data[i][\"id\"]});}setIdentificationTypeList(json);}});// consultarCatalogoTipoPersonaDescripcion\napiServiceBackend.consultarCatalogoTipoPersonaDescripcion(\"\").then(function(resp2){// consultarDeudores\napiServiceBackend.consultarDeudores(locationData.transactionId).then(function(resp){if(resp.length>0){setdataDeudores(resp.map(function(data){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:resp2.find(function(x){return x.code===Number(data.typePerson);}).label}),/*#__PURE__*/_jsx(\"td\",{children:Number(data.typePerson)===2?data.name:data.name+\" \"+data.name2+\" \"+data.lastName+\" \"+data.lastName2}),/*#__PURE__*/_jsx(\"td\",{children:data.idType}),/*#__PURE__*/_jsx(\"td\",{children:data.clientDocId})]},data.personId);}));}else{setdataDeudores(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\",style:{textAlign:'center'}})},1));}}).catch(function(error){});});}function changeAll(e,tipo){if(tipo==\"tipoPersona\"){dataReturn.codigoTipoPersona=e.value;}if(tipo==\"Tipo\"){dataReturn.codigoTipoIdentificacion=e.value;}if(tipo==\"codigoGrupo\"){dataReturn.economicGroup.code=e.value;dataReturn.economicGroup.name=e.label;setCodigoGrupo(e.value);setCNombreGrupo(e.label);}if(tipo==\"codigoBanca\"){dataReturn.bank.code=e.value;dataReturn.bank.name=e.label;setDataBanca(e);}if(tipo==\"numeroCliente\"){dataReturn.numeroCliente=e.target.value;}if(tipo==\"primerNombre\"){dataReturn.primerNombre=e.target.value;}if(tipo==\"segundoNombre\"){dataReturn.segundoNombre=e.target.value;}if(tipo==\"primerApellido\"){dataReturn.primerApellido=e.target.value;}if(tipo==\"segundoApellido\"){dataReturn.segundoApellido=e.target.value;}if(tipo==\"numeroIdentificacion\"){dataReturn.numeroIdentificacion=e.target.value;}if(tipo==\"actividadEconomica\"){dataReturn.economicActivity.code=e.value;dataReturn.economicActivity.name=e.label;dataReturn.subeconomicActivity=null;loadSubActivityEconomic(e.value);}if(tipo==\"subactividadEconomica\"){dataReturn.subeconomicActivity.code=e.value;dataReturn.subeconomicActivity.name=e.label;}setDataReturn(dataReturn);}/////////////// CARGA LOS DATOS DEL CLIENTE SELECCIONADO DE T24 //////\nfunction loadClientSelectedData(selectedClient){dataReturn.numeroCliente=selectedClient.id;dataReturn.primerNombre=selectedClient.firstname;dataReturn.segundoNombre=selectedClient.secondname;dataReturn.primerApellido=selectedClient.lastname;dataReturn.segundoApellido=selectedClient.secondlastname;dataReturn.codigoTipoIdentificacion=selectedClient.idtype;dataReturn.numeroIdentificacion=selectedClient.idnumber;dataReturn.codigoTipoPersona=selectedClient.partyType;setDataReturn(dataReturn);var defaultVal=identificationTypeList.find(function(x){return x.value===dataReturn.codigoTipoIdentificacion;});if(defaultVal!==undefined){setIdentificationTypeSelected(defaultVal);}}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"h5\",{children:t(\"General Data\")}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsxs(AvForm,{id:\"frmDatosGenerales\",className:\"needs-validation\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{md:\"12\",children:[/*#__PURE__*/_jsx(Label,{children:t(\"Debtors\")}),/*#__PURE__*/_jsxs(Table,{className:\"table mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"PersonType\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"FullName\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"IdentificationType\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"IdentificationNumber\")})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataDeudores})]})]})}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Label,{children:t(\"Economic Group\")}),/*#__PURE__*/_jsx(Select,{onChange:function onChange(e){setGruposEconomicosSelected(gruposEconomicos.find(function(x){return x.value===e.value;}));changeAll(e,\"codigoGrupo\");},options:gruposEconomicos,classNamePrefix:\"select2-selection\",placeholder:t(\"SelectGroup\"),value:gruposEconomicosSelected}),campoRequeridoGrupo?/*#__PURE__*/_jsx(\"p\",{className:\"message-error-parrafo\",children:t(\"Required Field\")}):null]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Label,{children:t(\"Banking\")}),/*#__PURE__*/_jsx(Select,{onChange:function onChange(e){setBancaSelected(banca.find(function(x){return x.value===e.value;}));changeAll(e,\"codigoBanca\");},options:banca,value:bancaSelected//defaultValue={props.datosGenerales.bank.code}\n,classNamePrefix:\"select2-selection\",placeholder:t(\"SelectBanking\")}),campoRequeridoBanca?/*#__PURE__*/_jsx(\"p\",{className:\"message-error-parrafo\",children:t(\"Required Field\")}):null]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Label,{children:t(\"Economic Activity\")}),/*#__PURE__*/_jsx(Select,{onChange:function onChange(e){setActividadEmpresaSelected(actividadEmpresa.find(function(x){return x.value===e.value;}));changeAll(e,\"actividadEconomica\");},placeholder:t(\"Selectcompanyactivity\"),options:actividadEmpresa,classNamePrefix:\"select2-selection\",value:actividadEmpresaSelected}),campoRequeridoActividad?/*#__PURE__*/_jsx(\"p\",{className:\"message-error-parrafo\",children:t(\"Required Field\")}):null]})}),/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(Label,{children:[\"Sub\",t(\"Economic Activity\")]}),/*#__PURE__*/_jsx(Select,{onChange:function onChange(e){setSubActividadEmpresaSelected(subactividadEmpresa.find(function(x){return x.value===e.value;}));changeAll(e,\"subactividadEconomica\");},placeholder:t(\"Selectcompanysubactivity\"),options:subactividadEmpresa,classNamePrefix:\"select2-selection\",value:subactividadEmpresaSelected}),campoRequeridoSubActividad?/*#__PURE__*/_jsx(\"p\",{className:\"message-error-parrafo\",children:t(\"Required Field\")}):null]})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"4\"})})]})]});});export default DatosGenerales;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/DatosGenerales.js"],"names":["React","useState","withTranslation","useTranslation","Select","useLocation","useHistory","moment","Row","Col","Label","Table","AvForm","AvField","ApiServiceBackend","MaskSoaint","BackendServices","CoreServices","DatosGenerales","forwardRef","props","ref","useImperativeHandle","validateForm","form","document","getElementById","requestSubmit","getFormValidation","formValid","dataReturn2","t","i18n","location","data","locationData","setLocationData","identificationTypeList","setIdentificationTypeList","undefined","identificationTypeSelected","setIdentificationTypeSelected","gruposEconomicos","setGruposEconomicos","gruposEconomicosSelected","setGruposEconomicosSelected","banca","setBanca","bancaSelected","setBancaSelected","actividadEmpresa","setActividadEmpresa","actividadEmpresaSelected","setActividadEmpresaSelected","subactividadEmpresa","setSubActividadEmpresa","subactividadEmpresaSelected","setSubActividadEmpresaSelected","bancaDate","setDataBanca","codigoGrupo","setCodigoGrupo","nombreGrupo","setCNombreGrupo","codigoTipoPersona","codigoTipoIdentificacion","numeroCliente","primerNombre","segundoNombre","primerApellido","segundoApellido","numeroIdentificacion","transactId","economicGroup","code","name","economicActivity","subeconomicActivity","bank","dataReturn","setDataReturn","setDataReturn2","setFormValid","cambio","setCambio","campoRequeridoGrupo","setcampoRequeridoGrupo","campoRequeridoActividad","setcampoRequeridoActividad","campoRequeridoSubActividad","setcampoRequeridoSubActividad","campoRequeridoBanca","setcampoRequeridoBanca","dataDeudores","setdataDeudores","numberExpresion","setnumberExpresion","useEffect","loadData","loadInitialData","loadListGroupEconomic","loadBank","loadActivityEconomic","console","log","defaultVal","length","find","x","value","err","selectedClient","loadClientSelectedData","api","getActividadEconomicaCatalogo","then","response","json","i","Records","push","label","loadSubActivityEconomic","codActividad","getSubActividadEconomicaCatalogo","getGrupoEconomicoCatalogo","getBancaCatalogo","apiBack","consultPrincipalDebtor","transactionId","resp","customerNumberT24","name2","lastName","lastName2","clientDocId","nuevoDato","consultGeneralDataIGR","identificationType","catch","error","saveDataGeneral","dataGenerales","customerId","Number","personType","customerDocumentId","firstName","secondName","firstLastName","secondLastName","date","format","status","saveGeneralDataIGR","handleSubmit","event","errors","values","preventDefault","apiServiceBackend","consultarCatalogoTipoIdentificacion","consultarCatalogoTipoPersonaDescripcion","resp2","consultarDeudores","map","typePerson","idType","personId","textAlign","changeAll","e","tipo","target","id","firstname","secondname","lastname","secondlastname","idtype","idnumber","partyType"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { withTranslation } from \"react-i18next\"\r\nimport PropTypes from 'prop-types';\r\nimport { useTranslation } from 'react-i18next'\r\nimport Select from \"react-select\";\r\nimport { useLocation, useHistory } from 'react-router-dom'\r\nimport moment from \"moment\";\r\n\r\nimport {\r\n  Row,\r\n  Col,\r\n  Label,\r\n  Table,\r\n} from \"reactstrap\"\r\nimport { AvForm, AvField } from \"availity-reactstrap-validation\"\r\nimport ApiServiceBackend from \"../../../../../services/BackendServices/Services\";\r\nimport MaskSoaint from \"../../../../../api/plugins_soaint/maskNumber\";\r\nimport { BackendServices, CoreServices } from '../../../../../services';\r\nconst DatosGenerales = React.forwardRef((props, ref) => {\r\n  React.useImperativeHandle(ref, () => ({\r\n    validateForm: () => {\r\n      const form = document.getElementById('frmDatosGenerales');\r\n      form.requestSubmit();\r\n    },\r\n    getFormValidation: () => {\r\n      return formValid;\r\n    }, dataReturn2\r\n  }))\r\n  const { t, i18n } = useTranslation();\r\n  const location = useLocation()\r\n  const [locationData, setLocationData] = useState(location.data);\r\n  const [identificationTypeList, setIdentificationTypeList] = useState([]);\r\n  const [identificationTypeSelected, setIdentificationTypeSelected] = useState(undefined);\r\n  const [gruposEconomicos, setGruposEconomicos] = useState([]);\r\n  const [gruposEconomicosSelected, setGruposEconomicosSelected] = useState(undefined);\r\n  const [banca, setBanca] = useState([]);\r\n  const [bancaSelected, setBancaSelected] = useState(undefined);\r\n  const [actividadEmpresa, setActividadEmpresa] = useState([]);\r\n  const [actividadEmpresaSelected, setActividadEmpresaSelected] = useState(undefined);\r\n  const [subactividadEmpresa, setSubActividadEmpresa] = useState([]);\r\n  const [subactividadEmpresaSelected, setSubActividadEmpresaSelected] = useState(undefined);\r\n  const [bancaDate, setDataBanca] = useState([]);\r\n  const [codigoGrupo, setCodigoGrupo] = useState(null);\r\n  const [nombreGrupo, setCNombreGrupo] = useState(null);\r\n  const [dataReturn, setDataReturn] = useState({\r\n    codigoTipoPersona: null,\r\n    codigoTipoIdentificacion: null,\r\n    numeroCliente: null,\r\n    primerNombre: null,\r\n    segundoNombre: null,\r\n    primerApellido: null,\r\n    segundoApellido: null,\r\n    numeroIdentificacion: null,\r\n    transactId: 0,\r\n    economicGroup: {\r\n      code: \"\",\r\n      name: \"\"\r\n    },\r\n    economicActivity: {\r\n      code: \"\",\r\n      name: \"\"\r\n    },\r\n    subeconomicActivity: {\r\n      code: \"\",\r\n      name: \"\"\r\n    },\r\n    bank: {\r\n      code: \"\",\r\n      name: \"\"\r\n    },\r\n  });\r\n  const [dataReturn2, setDataReturn2] = useState();\r\n  const [formValid, setFormValid] = useState(false);\r\n  const [cambio, setCambio] = useState(2);\r\n  const [campoRequeridoGrupo, setcampoRequeridoGrupo] = useState(false);\r\n  const [campoRequeridoActividad, setcampoRequeridoActividad] = useState(false);\r\n  const [campoRequeridoSubActividad, setcampoRequeridoSubActividad] = useState(false);\r\n  const [campoRequeridoBanca, setcampoRequeridoBanca] = useState(false);\r\n  const [dataDeudores, setdataDeudores] = useState(null);\r\n  const [numberExpresion, setnumberExpresion]=useState(0);\r\n\r\n  //On Mounting (componentDidMount)\r\n  React.useEffect(() => {\r\n    // Read Api Service data      \r\n    loadData();\r\n    loadInitialData();\r\n    loadListGroupEconomic();\r\n    loadBank();\r\n    loadActivityEconomic()\r\n  }, []);\r\n  React.useEffect(() => {\r\n    // Read Api Service data      \r\n    console.log(props);\r\n  }, [props]);\r\n  React.useEffect(() => {\r\n    // Read Api Service data \r\n    var defaultVal = null;\r\n    try {\r\n      if (identificationTypeList.length > 0 && dataReturn.codigoTipoIdentificacion !== null && identificationTypeSelected === undefined) {\r\n        defaultVal = identificationTypeList.find(x => x.value === dataReturn.codigoTipoIdentificacion);\r\n        if (defaultVal !== undefined) {\r\n          setIdentificationTypeSelected(defaultVal);\r\n        }\r\n      }\r\n      if (gruposEconomicos.length > 0 && dataReturn.economicGroup !== null && gruposEconomicosSelected === undefined) {\r\n        defaultVal = gruposEconomicos.find(x => x.value === dataReturn.economicGroup.code);\r\n        if (defaultVal !== undefined) {\r\n          setGruposEconomicosSelected(defaultVal);\r\n        }\r\n      }\r\n      if (banca.length > 0 && dataReturn.bank !== null && bancaSelected === undefined) {\r\n        defaultVal = banca.find(x => x.value === dataReturn.bank.code);\r\n        if (defaultVal !== undefined) {\r\n          setBancaSelected(defaultVal);\r\n        }\r\n      }\r\n      if (actividadEmpresa.length > 0 && dataReturn.economicActivity !== null && actividadEmpresaSelected === undefined) {\r\n        defaultVal = actividadEmpresa.find(x => x.value === dataReturn.economicActivity.code);\r\n        if (defaultVal !== undefined) {\r\n          setActividadEmpresaSelected(defaultVal);\r\n        }\r\n      }\r\n      if (subactividadEmpresa.length > 0 && dataReturn.subeconomicActivity !== null && subactividadEmpresaSelected === undefined) {\r\n        defaultVal = subactividadEmpresa.find(x => x.value === dataReturn.subeconomicActivity.code);\r\n        if (defaultVal !== undefined) {\r\n          setSubActividadEmpresaSelected(defaultVal);\r\n        }\r\n      }\r\n    }\r\n    catch (err) { }\r\n  }, [cambio]);\r\n  React.useEffect(() => {\r\n    try {\r\n      if (props.selectedClient !== null && props.selectedClient !== undefined) {\r\n        loadClientSelectedData(props.selectedClient);\r\n      }\r\n    }\r\n    catch (err) { }\r\n  }, [props.selectedClient]);\r\n  React.useEffect(() => {\r\n    console.log(numberExpresion);\r\n  }, [numberExpresion]);\r\n  ///////////..... CHEQUEAMOS LA DATA PARA INICIALIZAR VALORES POR DEFECTO EN LOS SELECT2 .... ////////\r\n  // cargar actividad economica\r\n  function loadActivityEconomic() {\r\n    const api = new CoreServices();\r\n    // getActividadEconomicaCatalogo\r\n    api.getActividadEconomicaCatalogo().then(response => {\r\n      if (response === null) { return; }\r\n      let json = [];\r\n      for (let i = 0; i < response.Records.length; i++) {\r\n        json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n      }\r\n      setActividadEmpresa(json);\r\n      if (dataReturn.economicActivity !== null) {\r\n        loadSubActivityEconomic(dataReturn.economicActivity.code);\r\n      }\r\n      setCambio(null);\r\n      setCambio(5);\r\n    })\r\n  }\r\n  // cargarSubActividadEconomica\r\n  function loadSubActivityEconomic(codActividad) {\r\n    const api = new CoreServices();\r\n    // getSubActividadEconomicaCatalogo\r\n    api.getSubActividadEconomicaCatalogo(codActividad).then(response => {\r\n      if (response === null) { return; }\r\n      let json = [];\r\n      for (let i = 0; i < response.Records.length; i++) {\r\n        json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n      }\r\n      setSubActividadEmpresa(json);\r\n      if (dataReturn.subeconomicActivity !== null) {\r\n        setSubActividadEmpresaSelected(json.find(x => x.value === dataReturn.subeconomicActivity.code));\r\n      }\r\n      else {\r\n        dataReturn.subeconomicActivity = { code: json[0].value, name: json[0].label }\r\n        setSubActividadEmpresaSelected(json[0]);\r\n      }\r\n      setCambio(null);\r\n      setCambio(5);\r\n    })\r\n  }\r\n  // cargarListaGrupoEconomico\r\n  function loadListGroupEconomic() {\r\n    const api = new CoreServices();\r\n    // getGrupoEconomicoCatalogo\r\n    api.getGrupoEconomicoCatalogo()\r\n      .then(response => {\r\n        if (response === null) { return; }\r\n        let json = [];\r\n        for (let i = 0; i < response.Records.length; i++) {\r\n          if (response.Records[i][\"Code\"] == \"0003\") {\r\n            json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n          } else {\r\n            json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n          }\r\n        }\r\n        setGruposEconomicos(json);\r\n        setCambio(null);\r\n        setCambio(5);\r\n      });\r\n  }\r\n  // cargarBancas\r\n  function loadBank() {\r\n    const api = new CoreServices();\r\n    api.getBancaCatalogo()\r\n      .then(response => {\r\n        if (response === null) { return; }\r\n        let json = [];\r\n        for (let i = 0; i < response.Records.length; i++) {\r\n          json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n        }\r\n        setBanca(json);\r\n        setCambio(null);\r\n        setCambio(5);\r\n      });\r\n  }\r\n  // consultarDatos\r\n  function loadData() {\r\n    const apiBack = new BackendServices();\r\n    //consultarDeudorPrincipal\r\n    apiBack.consultPrincipalDebtor(locationData.transactionId).then(resp => {\r\n      dataReturn.numeroCliente = resp.customerNumberT24\r\n      dataReturn.primerNombre = resp.name\r\n      dataReturn.segundoNombre = resp.name2\r\n      dataReturn.primerApellido = resp.lastName\r\n      dataReturn.segundoApellido = resp.lastName2\r\n      dataReturn.numeroIdentificacion = resp.clientDocId\r\n      dataReturn.nuevoDato = \"\"\r\n      setDataReturn(dataReturn);\r\n    })\r\n    // consultarDatosGeneralesIGR\r\n    apiBack.consultGeneralDataIGR(locationData.transactionId).then(resp => {\r\n      dataReturn.codigoTipoIdentificacion = resp.identificationType\r\n      dataReturn.transactId = locationData.transactionId;\r\n      dataReturn.economicGroup.code = resp.economicGroup.code;\r\n      dataReturn.economicGroup.name = resp.economicGroup.name;\r\n      dataReturn.economicActivity.code = resp.economicActivity.code;\r\n      dataReturn.economicActivity.name = resp.economicActivity.name;\r\n      dataReturn.subeconomicActivity.code = resp.subeconomicActivity.code;\r\n      dataReturn.subeconomicActivity.name = resp.subeconomicActivity.name;\r\n      dataReturn.bank.code = resp.bank.code;\r\n      dataReturn.bank.name = resp.bank.name;\r\n      setDataReturn(dataReturn);\r\n      setCambio(null);\r\n      setCambio(5);\r\n    }).catch((error) => {\r\n\r\n    });\r\n  }\r\n  // guardarDatosGenerales\r\n  function saveDataGeneral() {\r\n    const apiBack = new BackendServices();\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                               Actualizamos los datos del cliente                               */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    let dataGenerales =\r\n    {\r\n      customerId: locationData.customerId,\r\n      transactId: Number(locationData.transactionId),\r\n      personType: dataReturn.codigoTipoPersona,\r\n      identificationType: dataReturn.codigoTipoIdentificacion,\r\n      customerDocumentId: dataReturn.numeroIdentificacion,\r\n      customerNumberT24: dataReturn.numeroCliente,\r\n      firstName: dataReturn.primerNombre,\r\n      secondName: dataReturn.segundoNombre,\r\n      firstLastName: dataReturn.primerApellido,\r\n      secondLastName: dataReturn.segundoApellido,\r\n      \"economicGroup\": {\r\n        \"code\": dataReturn.economicGroup.code,\r\n        \"name\": dataReturn.economicGroup.name\r\n      },\r\n      \"economicActivity\": {\r\n        \"code\": dataReturn.economicActivity.code,\r\n        \"name\": dataReturn.economicActivity.name\r\n      },\r\n      \"subeconomicActivity\": {\r\n        \"code\": dataReturn.subeconomicActivity.code,\r\n        \"name\": dataReturn.subeconomicActivity.name\r\n      },\r\n      \"bank\": {\r\n        \"code\": dataReturn.bank.code,\r\n        \"name\": dataReturn.bank.name\r\n      },\r\n      date: moment().format(\"YYYY-MM-DD\"),\r\n      status: true,\r\n    }\r\n    // guardarDatosGeneralesIGR\r\n    apiBack.saveGeneralDataIGR(dataGenerales).then(resp => {\r\n      setFormValid(true);\r\n    })\r\n  }\r\n  // Form Submission\r\n  function handleSubmit(event, errors, values) {\r\n    event.preventDefault();\r\n    if (errors.length > 0) {\r\n      setFormValid(false);\r\n      return;\r\n    }\r\n    setDataReturn2(dataReturn)\r\n    setDataReturn(dataReturn)\r\n    saveDataGeneral();\r\n    setFormValid(true);\r\n  }\r\n  function loadInitialData() {\r\n    const apiServiceBackend = new ApiServiceBackend();\r\n    // consultarCatalogoTipoIdentificacion\r\n    apiServiceBackend.consultarCatalogoTipoIdentificacion()\r\n      .then((data) => {\r\n        if (data !== null && data !== undefined) {\r\n          let json = [];\r\n          for (let i = 0; i < data.length; i++) {\r\n            json.push({ label: t(data[i][\"description\"]), value: data[i][\"id\"] })\r\n          }\r\n          setIdentificationTypeList(json)\r\n        }\r\n      })\r\n    // consultarCatalogoTipoPersonaDescripcion\r\n    apiServiceBackend.consultarCatalogoTipoPersonaDescripcion(\"\").then(resp2 => {\r\n      // consultarDeudores\r\n      apiServiceBackend.consultarDeudores(locationData.transactionId).then(resp => {\r\n        if (resp.length > 0) {\r\n          setdataDeudores(resp.map((data) => (\r\n            <tr key={data.personId}>\r\n              <td>{resp2.find(x => x.code === Number(data.typePerson)).label}</td>\r\n              <td>{Number(data.typePerson) === 2 ? data.name : data.name + \" \" + data.name2 + \" \" + data.lastName + \" \" + data.lastName2}</td>\r\n              <td>{data.idType}</td>\r\n              <td>{data.clientDocId}</td>\r\n            </tr>)))\r\n        } else {\r\n          setdataDeudores(\r\n            <tr key={1}>\r\n              <td colSpan=\"4\" style={{ textAlign: 'center' }}></td>\r\n            </tr>);\r\n        }\r\n\r\n      }).catch((error) => {\r\n\r\n      });\r\n    });\r\n  }\r\n  function changeAll(e, tipo) {\r\n    if (tipo == \"tipoPersona\") {\r\n      dataReturn.codigoTipoPersona = e.value\r\n    }\r\n    if (tipo == \"Tipo\") {\r\n      dataReturn.codigoTipoIdentificacion = e.value\r\n    }\r\n    if (tipo == \"codigoGrupo\") {\r\n      dataReturn.economicGroup.code = e.value;\r\n      dataReturn.economicGroup.name = e.label;\r\n      setCodigoGrupo(e.value)\r\n      setCNombreGrupo(e.label)\r\n    }\r\n    if (tipo == \"codigoBanca\") {\r\n      dataReturn.bank.code = e.value;\r\n      dataReturn.bank.name = e.label;\r\n      setDataBanca(e);\r\n    }\r\n    if (tipo == \"numeroCliente\") {\r\n      dataReturn.numeroCliente = e.target.value;\r\n    }\r\n    if (tipo == \"primerNombre\") {\r\n      dataReturn.primerNombre = e.target.value;\r\n    }\r\n    if (tipo == \"segundoNombre\") {\r\n      dataReturn.segundoNombre = e.target.value;\r\n    }\r\n    if (tipo == \"primerApellido\") {\r\n      dataReturn.primerApellido = e.target.value;\r\n    }\r\n    if (tipo == \"segundoApellido\") {\r\n      dataReturn.segundoApellido = e.target.value;\r\n    }\r\n    if (tipo == \"numeroIdentificacion\") {\r\n      dataReturn.numeroIdentificacion = e.target.value;\r\n    }\r\n    if (tipo == \"actividadEconomica\") {\r\n      dataReturn.economicActivity.code = e.value;\r\n      dataReturn.economicActivity.name = e.label;\r\n\r\n      dataReturn.subeconomicActivity = null;\r\n      loadSubActivityEconomic(e.value)\r\n    }\r\n    if (tipo == \"subactividadEconomica\") {\r\n      dataReturn.subeconomicActivity.code = e.value;\r\n      dataReturn.subeconomicActivity.name = e.label;\r\n    }\r\n    setDataReturn(dataReturn)\r\n\r\n  }\r\n\r\n  /////////////// CARGA LOS DATOS DEL CLIENTE SELECCIONADO DE T24 //////\r\n  function loadClientSelectedData(selectedClient) {\r\n    dataReturn.numeroCliente = selectedClient.id;\r\n    dataReturn.primerNombre = selectedClient.firstname;\r\n    dataReturn.segundoNombre = selectedClient.secondname;\r\n    dataReturn.primerApellido = selectedClient.lastname;\r\n    dataReturn.segundoApellido = selectedClient.secondlastname;\r\n    dataReturn.codigoTipoIdentificacion = selectedClient.idtype;\r\n    dataReturn.numeroIdentificacion = selectedClient.idnumber;\r\n    dataReturn.codigoTipoPersona = selectedClient.partyType;\r\n    setDataReturn(dataReturn);\r\n    var defaultVal = identificationTypeList.find(x => x.value === dataReturn.codigoTipoIdentificacion);\r\n    if (defaultVal !== undefined) {\r\n      setIdentificationTypeSelected(defaultVal);\r\n    }\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <h5>{t(\"General Data\")}</h5>\r\n      <p className=\"card-title-desc\">\r\n      </p>\r\n      <AvForm id=\"frmDatosGenerales\" className=\"needs-validation\" onSubmit={handleSubmit}>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <Label>{t(\"Debtors\")}</Label>\r\n            <Table className=\"table mb-0\">\r\n              <thead className=\"table-light\">\r\n                <tr>\r\n                  <th>{t(\"PersonType\")}</th>\r\n                  <th>{t(\"FullName\")}</th>\r\n                  <th>{t(\"IdentificationType\")}</th>\r\n                  <th>{t(\"IdentificationNumber\")}</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {dataDeudores}\r\n              </tbody>\r\n            </Table>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-4\">\r\n              <Label>{t(\"Economic Group\")}</Label>\r\n              <Select\r\n                onChange={(e) => {\r\n                  setGruposEconomicosSelected(gruposEconomicos.find(x => x.value === e.value))\r\n                  changeAll(e, \"codigoGrupo\");\r\n                }}\r\n                options={gruposEconomicos}\r\n                classNamePrefix=\"select2-selection\"\r\n                placeholder={t(\"SelectGroup\")}\r\n                value={gruposEconomicosSelected}\r\n              />\r\n              {campoRequeridoGrupo ?\r\n                <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n                : null}\r\n            </div>\r\n          </Col>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-4\">\r\n              <Label>{t(\"Banking\")}</Label>\r\n              <Select\r\n                onChange={(e) => {\r\n                  setBancaSelected(banca.find(x => x.value === e.value))\r\n                  changeAll(e, \"codigoBanca\");\r\n                }}\r\n                options={banca}\r\n                value={bancaSelected}//defaultValue={props.datosGenerales.bank.code}\r\n                classNamePrefix=\"select2-selection\"\r\n                placeholder={t(\"SelectBanking\")}\r\n              />\r\n              {campoRequeridoBanca ?\r\n                <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n                : null}\r\n            </div>\r\n          </Col>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-4\">\r\n              <Label>{t(\"Economic Activity\")}</Label>\r\n              <Select\r\n                onChange={(e) => {\r\n                  setActividadEmpresaSelected(actividadEmpresa.find(x => x.value === e.value))\r\n                  changeAll(e, \"actividadEconomica\")\r\n                }}\r\n                placeholder={t(\"Selectcompanyactivity\")}\r\n                options={actividadEmpresa}\r\n                classNamePrefix=\"select2-selection\"\r\n                value={actividadEmpresaSelected}\r\n              />\r\n              {campoRequeridoActividad ?\r\n                <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n                : null}\r\n            </div>\r\n          </Col>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-4\">\r\n              <Label>Sub{t(\"Economic Activity\")}</Label>\r\n              <Select\r\n                onChange={(e) => {\r\n                  setSubActividadEmpresaSelected(subactividadEmpresa.find(x => x.value === e.value))\r\n                  changeAll(e, \"subactividadEconomica\")\r\n                }}\r\n                placeholder={t(\"Selectcompanysubactivity\")}\r\n                options={subactividadEmpresa}\r\n                classNamePrefix=\"select2-selection\"\r\n                value={subactividadEmpresaSelected}\r\n              />\r\n              {campoRequeridoSubActividad ?\r\n                <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n                : null}\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"4\">\r\n            {/* <MaskSoaint setnumberExpresion={setnumberExpresion} numberExpresion={numberExpresion}/> */}\r\n          </Col>\r\n        </Row>\r\n      </AvForm>\r\n    </React.Fragment>\r\n  )\r\n})\r\nDatosGenerales.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n  onOpenClientSelection: PropTypes.func,\r\n}\r\nexport default DatosGenerales;\r\n"]},"metadata":{},"sourceType":"module"}