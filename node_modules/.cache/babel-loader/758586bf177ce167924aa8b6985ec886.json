{"ast":null,"code":"var _jsxFileName = \"D:\\\\_PROJECTS\\\\_SOAINT\\\\JBPM\\\\App\\\\banescocreditoscomerciales\\\\src\\\\pages\\\\CommercialCredit\\\\4_InformeGestionReforzado\\\\FormularioIGR\\\\Secciones\\\\DatosGenerales.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { withTranslation } from \"react-i18next\";\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport Select from \"react-select\";\nimport { useLocation, useHistory } from 'react-router-dom';\nimport moment from \"moment\";\nimport { Row, Col, Card, CardBody, Button, Label } from \"reactstrap\";\nimport { AvForm, AvField } from \"availity-reactstrap-validation\";\nimport ApiServicesCommon from \"../../../../../services/Common/ApiServicesCommon\";\nimport ApiServiceBackend from \"../../../../../services/BackendServices/Services\";\nimport { BackendServices, CoreServices } from '../../../../../services';\nimport SearchClientCore from \"../../../../../components/Common/SearchClientCore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DatosGenerales = /*#__PURE__*/React.forwardRef(_c = _s((props, ref) => {\n  _s();\n\n  React.useImperativeHandle(ref, () => ({\n    validateForm: () => {\n      const form = document.getElementById('frmDatosGenerales');\n      form.requestSubmit();\n    },\n    getFormValidation: () => {\n      return formValid;\n    },\n    dataReturn2\n  }));\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  const location = useLocation();\n  const [locationData, setLocationData] = useState(location.data);\n  const [datosClientes, setDatosCliente] = useState([]);\n  const [identificationTypeList, setIdentificationTypeList] = useState([]);\n  const [identificationTypeSelected, setIdentificationTypeSelected] = useState(undefined);\n  const [gruposEconomicos, setGruposEconomicos] = useState([]);\n  const [gruposEconomicosSelected, setGruposEconomicosSelected] = useState(undefined);\n  const [banca, setBanca] = useState([]);\n  const [bancaSelected, setBancaSelected] = useState(undefined);\n  const [actividadEmpresa, setActividadEmpresa] = useState([]);\n  const [actividadEmpresaSelected, setActividadEmpresaSelected] = useState(undefined);\n  const [subactividadEmpresa, setSubActividadEmpresa] = useState([]);\n  const [subactividadEmpresaSelected, setSubActividadEmpresaSelected] = useState(undefined);\n  const [bancaDate, setDataBanca] = useState([]);\n  const [codigoGrupo, setCodigoGrupo] = useState(null);\n  const [nombreGrupo, setCNombreGrupo] = useState(null);\n  const [dataReturn, setDataReturn] = useState({\n    codigoTipoPersona: null,\n    codigoTipoIdentificacion: null,\n    numeroCliente: null,\n    primerNombre: null,\n    segundoNombre: null,\n    primerApellido: null,\n    segundoApellido: null,\n    numeroIdentificacion: null,\n    transactId: 0,\n    economicGroup: {\n      code: \"\",\n      name: \"\"\n    },\n    economicActivity: {\n      code: \"\",\n      name: \"\"\n    },\n    subeconomicActivity: {\n      code: \"\",\n      name: \"\"\n    },\n    bank: {\n      code: \"\",\n      name: \"\"\n    }\n  });\n  const [dataReturn2, setDataReturn2] = useState();\n  const [formValid, setFormValid] = useState(false);\n  const [cambio, setCambio] = useState(2);\n  const [campoRequeridoGrupo, setcampoRequeridoGrupo] = useState(false);\n  const [campoRequeridoActividad, setcampoRequeridoActividad] = useState(false);\n  const [campoRequeridoSubActividad, setcampoRequeridoSubActividad] = useState(false);\n  const [campoRequeridoBanca, setcampoRequeridoBanca] = useState(false);\n  const [campoRequeridoIdentificacion, setcampoRequeridoIdentificacion] = useState(false);\n  const [dataActividadEmpresa, setdataActividadEmpresa] = useState({\n    label: \"\",\n    value: \"\"\n  });\n  const [personTypeList, setPersonTypeList] = useState(undefined);\n  const [personTypeSelected, setPersonTypeSelected] = useState([]);\n\n  function handleChange(e) {\n    setFormValid(false);\n  } //On Mounting (componentDidMount)\n\n\n  React.useEffect(() => {\n    // Read Api Service data      \n    consultarDatos();\n    loadInitialData();\n    cargarListaGrupoEconomico();\n    cargarBancas();\n    cargarActividadEconomica();\n  }, []);\n  React.useEffect(() => {\n    // Read Api Service data \n    var defaultVal = null;\n\n    try {\n      if (personTypeList.length > 0 && dataReturn.codigoTipoPersona !== null && personTypeSelected === undefined) {\n        defaultVal = personTypeList.find(x => x.value === dataReturn.codigoTipoPersona);\n\n        if (defaultVal !== undefined) {\n          setPersonTypeSelected(defaultVal);\n        }\n      }\n\n      if (identificationTypeList.length > 0 && dataReturn.codigoTipoIdentificacion !== null && identificationTypeSelected === undefined) {\n        defaultVal = identificationTypeList.find(x => x.value === dataReturn.codigoTipoIdentificacion);\n\n        if (defaultVal !== undefined) {\n          setIdentificationTypeSelected(defaultVal);\n        }\n      }\n\n      if (gruposEconomicos.length > 0 && dataReturn.economicGroup !== null && gruposEconomicosSelected === undefined) {\n        defaultVal = gruposEconomicos.find(x => x.value === dataReturn.economicGroup.code);\n\n        if (defaultVal !== undefined) {\n          setGruposEconomicosSelected(defaultVal);\n        }\n      }\n\n      if (banca.length > 0 && dataReturn.bank !== null && bancaSelected === undefined) {\n        defaultVal = banca.find(x => x.value === dataReturn.bank.code);\n\n        if (defaultVal !== undefined) {\n          setBancaSelected(defaultVal);\n        }\n      }\n\n      if (actividadEmpresa.length > 0 && dataReturn.economicActivity !== null && actividadEmpresaSelected === undefined) {\n        defaultVal = actividadEmpresa.find(x => x.value === dataReturn.economicActivity.code);\n\n        if (defaultVal !== undefined) {\n          setActividadEmpresaSelected(defaultVal);\n        }\n      }\n\n      if (subactividadEmpresa.length > 0 && dataReturn.subeconomicActivity !== null && subactividadEmpresaSelected === undefined) {\n        defaultVal = subactividadEmpresa.find(x => x.value === dataReturn.subeconomicActivity.code);\n\n        if (defaultVal !== undefined) {\n          setSubActividadEmpresaSelected(defaultVal);\n        }\n      }\n    } catch (err) {}\n  }, [cambio]);\n  React.useEffect(() => {\n    try {\n      console.log(\"setSelectedClient\", props.selectedClient);\n\n      if (props.selectedClient !== null && props.selectedClient !== undefined) {\n        loadClientSelectedData(props.selectedClient);\n      }\n    } catch (err) {}\n  }, [props.selectedClient]); ///////////..... CHEQUEAMOS LA DATA PARA INICIALIZAR VALORES POR DEFECTO EN LOS SELECT2 .... ////////\n  ///////////////////////////////////////////////\n\n  function cargarActividadEconomica() {\n    const api = new CoreServices();\n    api.getActividadEconomicaCatalogo().then(response => {\n      if (response === null) {\n        return;\n      }\n\n      let json = [];\n\n      for (let i = 0; i < response.Records.length; i++) {\n        json.push({\n          label: response.Records[i][\"Description\"],\n          value: response.Records[i][\"Code\"]\n        });\n      }\n      /*const optionGroup1 = [\r\n        {\r\n          label: t(\"Selectcompanyactivity\"),\r\n          options: json,\r\n        },\r\n      ];*/\n\n\n      setActividadEmpresa(json);\n\n      if (dataReturn.economicActivity !== null) {\n        cargarSubActividadEconomica(dataReturn.economicActivity.code);\n      }\n\n      setCambio(null);\n      setCambio(5);\n    });\n  }\n\n  function cargarSubActividadEconomica(codActividad) {\n    const api = new CoreServices();\n    api.getSubActividadEconomicaCatalogo(codActividad).then(response => {\n      if (response === null) {\n        return;\n      }\n\n      let json = [];\n\n      for (let i = 0; i < response.Records.length; i++) {\n        json.push({\n          label: response.Records[i][\"Description\"],\n          value: response.Records[i][\"Code\"]\n        });\n      }\n      /*const optionGroup1 = [\r\n        {\r\n          label: t(\"Selectcompanyactivity\"),\r\n          options: json,\r\n        },\r\n      ];*/\n\n\n      setSubActividadEmpresa(json);\n\n      if (dataReturn.subeconomicActivity !== null) {\n        setSubActividadEmpresaSelected(json.find(x => x.value === dataReturn.subeconomicActivity.code));\n      } else {\n        dataReturn.subeconomicActivity = {\n          code: json[0].value,\n          name: json[0].label\n        };\n        setSubActividadEmpresaSelected(json[0]);\n      }\n\n      setCambio(null);\n      setCambio(5);\n    });\n  }\n\n  function cargarListaGrupoEconomico() {\n    const api = new CoreServices();\n    api.getGrupoEconomicoCatalogo().then(response => {\n      if (response === null) {\n        return;\n      }\n\n      let json = [];\n\n      for (let i = 0; i < response.Records.length; i++) {\n        if (response.Records[i][\"Code\"] == \"0003\") {\n          json.push({\n            label: response.Records[i][\"Description\"],\n            value: response.Records[i][\"Code\"]\n          });\n        } else {\n          json.push({\n            label: response.Records[i][\"Description\"],\n            value: response.Records[i][\"Code\"]\n          });\n        }\n      }\n      /*const optionGroup1 = [\r\n        {\r\n          label: t(\"SelectGroup\"),\r\n          options: json,\r\n        },\r\n      ];*/\n\n\n      setGruposEconomicos(json);\n      setCambio(null);\n      setCambio(5);\n    });\n  }\n\n  function cargarBancas() {\n    const api = new CoreServices();\n    api.getBancaCatalogo().then(response => {\n      if (response === null) {\n        return;\n      }\n\n      let json = [];\n\n      for (let i = 0; i < response.Records.length; i++) {\n        json.push({\n          label: response.Records[i][\"Description\"],\n          value: response.Records[i][\"Code\"]\n        });\n      }\n      /*const optionGroup1 = [\r\n        {\r\n          label: t(\"SelectBanking\"),\r\n          options: json,\r\n        },\r\n      ];*/\n\n\n      setBanca(json);\n      setCambio(null);\n      setCambio(5);\n    });\n  }\n\n  function consultarDatos() {\n    const apiBack = new BackendServices(); //{ transactId: location.data.transactionId, processId: location.data.processId, activityId: location.data.activityId }\n\n    apiBack.consultarUsuarioProspecto(locationData.transactionId).then(resp => {\n      dataReturn.codigoTipoPersona = resp.personType;\n      dataReturn.numeroCliente = resp.customerNumberT24;\n      dataReturn.primerNombre = resp.firstName;\n      dataReturn.segundoNombre = resp.secondName;\n      dataReturn.primerApellido = resp.firstLastName;\n      dataReturn.segundoApellido = resp.secondLastName;\n      dataReturn.numeroIdentificacion = resp.customerDocumentId;\n      dataReturn.nuevoDato = \"\";\n      setDataReturn(dataReturn);\n    });\n    apiBack.consultarDatosGeneralesIGR(locationData.transactionId).then(resp => {\n      dataReturn.codigoTipoIdentificacion = resp.identificationType;\n      dataReturn.transactId = locationData.transactionId;\n      dataReturn.economicGroup.code = resp.economicGroup.code;\n      dataReturn.economicGroup.name = resp.economicGroup.name;\n      dataReturn.economicActivity.code = resp.economicActivity.code;\n      dataReturn.economicActivity.name = resp.economicActivity.name;\n      dataReturn.subeconomicActivity.code = resp.subeconomicActivity.code;\n      dataReturn.subeconomicActivity.name = resp.subeconomicActivity.name;\n      dataReturn.bank.code = resp.bank.code;\n      dataReturn.bank.name = resp.bank.name;\n      setDataReturn(dataReturn);\n      setCambio(null);\n      setCambio(5);\n    }).catch(error => {});\n  }\n\n  function guardarDatosGenerales() {\n    const apiBack = new BackendServices();\n    /* ---------------------------------------------------------------------------------------------- */\n\n    /*                               Actualizamos los datos del cliente                               */\n\n    /* ---------------------------------------------------------------------------------------------- */\n\n    let data0 = {\n      idCustomer: locationData.customerId,\n      customerId: locationData.customerId,\n      transactId: locationData.transactionId,\n      personType: dataReturn.codigoTipoPersona,\n      identificationType: dataReturn.codigoTipoIdentificacion,\n      customerDocumentId: dataReturn.numeroIdentificacion,\n      customerNumberT24: dataReturn.numeroCliente,\n      firstName: dataReturn.primerNombre,\n      secondName: dataReturn.segundoNombre,\n      firstLastName: dataReturn.primerApellido,\n      secondLastName: dataReturn.segundoApellido,\n      date: moment().format(\"YYYY-MM-DD\"),\n      status: true\n    };\n    let dataGenerales = {\n      customerId: locationData.customerId,\n      transactId: Number(locationData.transactionId),\n      personType: dataReturn.codigoTipoPersona,\n      identificationType: dataReturn.codigoTipoIdentificacion,\n      customerDocumentId: dataReturn.numeroIdentificacion,\n      customerNumberT24: dataReturn.numeroCliente,\n      firstName: dataReturn.primerNombre,\n      secondName: dataReturn.segundoNombre,\n      firstLastName: dataReturn.primerApellido,\n      secondLastName: dataReturn.segundoApellido,\n      \"economicGroup\": {\n        \"code\": dataReturn.economicGroup.code,\n        \"name\": dataReturn.economicGroup.name\n      },\n      \"economicActivity\": {\n        \"code\": dataReturn.economicActivity.code,\n        \"name\": dataReturn.economicActivity.name\n      },\n      \"subeconomicActivity\": {\n        \"code\": dataReturn.subeconomicActivity.code,\n        \"name\": dataReturn.subeconomicActivity.name\n      },\n      \"bank\": {\n        \"code\": dataReturn.bank.code,\n        \"name\": dataReturn.bank.name\n      },\n      date: moment().format(\"YYYY-MM-DD\"),\n      status: true\n    };\n    apiBack.guardarUsuarioProspecto(data0).then(response => {});\n    apiBack.guardarDatosGeneralesIGR(dataGenerales).then(resp => {\n      setFormValid(true);\n    });\n  } // Form Submission\n\n\n  function handleSubmit(event, errors, values) {\n    // if (dataReturn.economicGroup.code == \"\" || dataReturn.economicGroup.code == null) {\n    //   setcampoRequeridoGrupo(true);\n    //   return;\n    // } else {\n    //   setcampoRequeridoGrupo(false);\n    // }\n    // if (dataReturn.bank.code == \"\" || dataReturn.bank.code == null) {\n    //   setcampoRequeridoBanca(true);\n    //   return;\n    // } else {\n    //   setcampoRequeridoBanca(false);\n    // }\n    // if (dataReturn.economicActivity.code == \"\" || dataReturn.economicActivity.code == null) {\n    //   setcampoRequeridoActividad(true);\n    //   return;\n    // } else {\n    //   setcampoRequeridoActividad(false);\n    // }\n    if (dataReturn.codigoTipoIdentificacion == \"\" || dataReturn.codigoTipoIdentificacion == null) {\n      setcampoRequeridoIdentificacion(true);\n      return;\n    } else {\n      setcampoRequeridoIdentificacion(false);\n    }\n\n    event.preventDefault();\n\n    if (errors.length > 0) {\n      setFormValid(false);\n      return;\n    }\n\n    setDataReturn2(dataReturn);\n    setDataReturn(dataReturn);\n    guardarDatosGenerales();\n    setFormValid(true); // props.onSubmit();\n  }\n\n  function loadInitialData() {\n    //cargamos los datos de tipo de persona\n    let json = [{\n      label: t(\"LegalPerson\"),\n      value: 2\n    }, {\n      label: t(\"NaturalPerson\"),\n      value: 1\n    }];\n    setPersonTypeList(json);\n    setPersonTypeSelected(json[0]);\n    const apiServiceBackend = new ApiServiceBackend();\n    apiServiceBackend.consultarCatalogoTipoIdentificacion().then(data => {\n      if (data !== null && data !== undefined) {\n        let json = [];\n\n        for (let i = 0; i < data.length; i++) {\n          json.push({\n            label: t(data[i][\"description\"]),\n            value: data[i][\"id\"]\n          });\n        }\n        /*const optionGroup1 = [\r\n          {\r\n            label: t(\"ID Type\"),\r\n            options: json,\r\n          },\r\n        ];*/\n\n\n        setIdentificationTypeList(json);\n      }\n    }).catch(error => {\n      console.error('api error: ', error);\n    }); // api.getIdentificationTypeList()\n    // .then((data) => {\n    //   setIdentificationTypeList(data);        \n    // })\n    // .catch((error) => {    \n    //   console.error('Error fetching documents', error);\n    // });    \n  }\n\n  function changeAll(e, tipo) {\n    if (tipo == \"tipoPersona\") {\n      dataReturn.codigoTipoPersona = e.value;\n    }\n\n    if (tipo == \"Tipo\") {\n      dataReturn.codigoTipoIdentificacion = e.value;\n    }\n\n    if (tipo == \"codigoGrupo\") {\n      dataReturn.economicGroup.code = e.value;\n      dataReturn.economicGroup.name = e.label;\n      setCodigoGrupo(e.value);\n      setCNombreGrupo(e.label);\n    }\n\n    if (tipo == \"codigoBanca\") {\n      dataReturn.bank.code = e.value;\n      dataReturn.bank.name = e.label;\n      setDataBanca(e);\n    }\n\n    if (tipo == \"numeroCliente\") {\n      dataReturn.numeroCliente = e.target.value;\n      console.log(dataReturn);\n    }\n\n    if (tipo == \"primerNombre\") {\n      dataReturn.primerNombre = e.target.value;\n    }\n\n    if (tipo == \"segundoNombre\") {\n      dataReturn.segundoNombre = e.target.value;\n    }\n\n    if (tipo == \"primerApellido\") {\n      dataReturn.primerApellido = e.target.value;\n    }\n\n    if (tipo == \"segundoApellido\") {\n      dataReturn.segundoApellido = e.target.value;\n    }\n\n    if (tipo == \"numeroIdentificacion\") {\n      dataReturn.numeroIdentificacion = e.target.value;\n    }\n\n    if (tipo == \"actividadEconomica\") {\n      dataReturn.economicActivity.code = e.value;\n      dataReturn.economicActivity.name = e.label;\n      dataReturn.subeconomicActivity = null;\n      cargarSubActividadEconomica(e.value);\n    }\n\n    if (tipo == \"subactividadEconomica\") {\n      dataReturn.subeconomicActivity.code = e.value;\n      dataReturn.subeconomicActivity.name = e.label;\n    }\n\n    setDataReturn(dataReturn);\n  } /////////////// CARGA LOS DATOS DEL CLIENTE SELECCIONADO DE T24 //////\n\n\n  function loadClientSelectedData(selectedClient) {\n    dataReturn.numeroCliente = selectedClient.id;\n    dataReturn.primerNombre = selectedClient.firstname;\n    dataReturn.segundoNombre = selectedClient.secondname;\n    dataReturn.primerApellido = selectedClient.lastname;\n    dataReturn.segundoApellido = selectedClient.secondlastname;\n    dataReturn.codigoTipoIdentificacion = selectedClient.idtype;\n    dataReturn.numeroIdentificacion = selectedClient.idnumber;\n    dataReturn.codigoTipoPersona = selectedClient.partyType;\n    setDataReturn(dataReturn);\n    var defaultVal = identificationTypeList.find(x => x.value === dataReturn.codigoTipoIdentificacion);\n\n    if (defaultVal !== undefined) {\n      setIdentificationTypeSelected(defaultVal);\n    }\n\n    defaultVal = personTypeList.find(x => x.value === dataReturn.codigoTipoPersona);\n\n    if (defaultVal !== undefined) {\n      setPersonTypeSelected(defaultVal);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(SearchClientCore, {\n      onClientSelect: data => {\n        loadClientSelectedData(data);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: t(\"General Data\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"card-title-desc\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 516,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AvForm, {\n      id: \"frmDatosGenerales\",\n      className: \"needs-validation\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: \"6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"clientNumber\",\n              children: t(\"Client Number\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AvField, {\n              onChange: e => {\n                changeAll(e, \"numeroCliente\");\n              },\n              className: \"form-control\",\n              name: \"clientNumber\",\n              type: \"number\",\n              id: \"clientNumber\",\n              value: dataReturn.numeroCliente // validate={{\n              //   required: { value: true, errorMessage: t(\"Required Field\") }\n              // }}\n\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: \"6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: t(\"PersonType\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              onChange: e => {\n                setPersonTypeSelected(personTypeList.find(x => x.value === e.value));\n                changeAll(e, \"tipoPersona\");\n              },\n              options: personTypeList,\n              placeholder: t(\"SelectType\"),\n              value: personTypeSelected,\n              name: \"PersonType\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: \"6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: t(\"ID Type\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              onChange: e => {\n                setIdentificationTypeSelected(identificationTypeList.find(x => x.value === e.value));\n                changeAll(e, \"Tipo\");\n              },\n              options: identificationTypeList,\n              placeholder: t(\"SelectType\"),\n              value: identificationTypeSelected\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 15\n            }, this), campoRequeridoIdentificacion ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"message-error-parrafo\",\n              children: t(\"Required Field\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 17\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: \"6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"idnumber\",\n              children: t(\"ID Number\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 575,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AvField, {\n              onChange: e => {\n                changeAll(e, \"numeroIdentificacion\");\n              },\n              className: \"form-control\",\n              name: \"idnumber\",\n              type: \"text\",\n              id: \"idnumber\",\n              validate: {\n                required: {\n                  value: true,\n                  errorMessage: t(\"Required Field\")\n                }\n              },\n              value: dataReturn.numeroIdentificacion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 9\n      }, this), personTypeSelected && personTypeSelected.value === 2 ? /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"firstname\",\n              children: t(\"LegalCompanyName\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 595,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AvField, {\n              onChange: e => {\n                changeAll(e, \"primerNombre\");\n              },\n              className: \"form-control\",\n              name: \"firstname\",\n              type: \"text\",\n              id: \"firstname\",\n              validate: {\n                required: {\n                  value: true,\n                  errorMessage: t(\"Required Field\")\n                }\n              },\n              value: dataReturn.primerNombre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"secondname\",\n              children: t(\"ComercialName\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 610,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AvField, {\n              onChange: e => {\n                changeAll(e, \"segundoNombre\");\n              },\n              className: \"form-control\",\n              name: \"secondname\",\n              type: \"text\",\n              id: \"secondname\",\n              value: dataReturn.segundoNombre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 611,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 608,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: \"6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"firstname\",\n              children: t(\"FirstName\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 625,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AvField, {\n              onChange: e => {\n                changeAll(e, \"primerNombre\");\n              },\n              className: \"form-control\",\n              name: \"firstname\",\n              type: \"text\",\n              id: \"firstname\",\n              validate: {\n                required: {\n                  value: true,\n                  errorMessage: t(\"Required Field\")\n                }\n              },\n              value: dataReturn.primerNombre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 626,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 624,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: \"6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"secoundname\",\n              children: t(\"SecondName\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 640,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AvField, {\n              onChange: e => {\n                changeAll(e, \"segundoNombre\");\n              },\n              className: \"form-control\",\n              name: \"secondname\",\n              type: \"text\",\n              id: \"secondname\",\n              value: dataReturn.segundoNombre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 641,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 639,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 638,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: \"6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"lastname\",\n              children: t(\"FirstLastName\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 652,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AvField, {\n              onChange: e => {\n                changeAll(e, \"primerApellido\");\n              },\n              className: \"form-control\",\n              name: \"lastname\",\n              type: \"text\",\n              value: dataReturn.primerApellido\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 653,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 651,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 650,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: \"6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"secondlastname\",\n              children: t(\"SecondLastName\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 663,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AvField, {\n              onChange: e => {\n                changeAll(e, \"segundoApellido\");\n              },\n              className: \"form-control\",\n              name: \"secondlastname\",\n              type: \"text\",\n              value: dataReturn.segundoApellido\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 664,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 662,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 661,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"secondlastname\",\n              children: t(\"DebtorName\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 674,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AvField, {\n              readOnly: true,\n              className: \"form-control\",\n              name: \"debtorName\",\n              type: \"text\",\n              value: (dataReturn.primerNombre !== null && dataReturn.primerNombre !== undefined ? dataReturn.primerNombre + \" \" : \"\") + (dataReturn.segundoNombre !== null && dataReturn.segundoNombre !== undefined ? dataReturn.segundoNombre + \" \" : \"\") + (dataReturn.primerApellido !== null && dataReturn.primerApellido !== undefined ? dataReturn.primerApellido + \" \" : \"\") + (dataReturn.segundoApellido !== null && dataReturn.segundoApellido !== undefined ? dataReturn.segundoApellido + \" \" : \"\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 675,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 673,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 672,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 622,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: \"6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: t(\"Economic Group\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 691,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              onChange: e => {\n                setGruposEconomicosSelected(gruposEconomicos.find(x => x.value === e.value));\n                changeAll(e, \"codigoGrupo\");\n              },\n              options: gruposEconomicos,\n              classNamePrefix: \"select2-selection\",\n              placeholder: t(\"SelectGroup\"),\n              value: gruposEconomicosSelected\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 692,\n              columnNumber: 15\n            }, this), campoRequeridoGrupo ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"message-error-parrafo\",\n              children: t(\"Required Field\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 703,\n              columnNumber: 17\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 690,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 689,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: \"6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: t(\"Banking\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 709,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              onChange: e => {\n                setBancaSelected(banca.find(x => x.value === e.value));\n                changeAll(e, \"codigoBanca\");\n              },\n              options: banca,\n              value: bancaSelected //defaultValue={props.datosGenerales.bank.code}\n              ,\n              classNamePrefix: \"select2-selection\",\n              placeholder: t(\"SelectBanking\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 710,\n              columnNumber: 15\n            }, this), campoRequeridoBanca ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"message-error-parrafo\",\n              children: t(\"Required Field\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 721,\n              columnNumber: 17\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 708,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 707,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: \"6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: t(\"Economic Activity\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 727,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              onChange: e => {\n                setActividadEmpresaSelected(actividadEmpresa.find(x => x.value === e.value));\n                changeAll(e, \"actividadEconomica\");\n              },\n              placeholder: t(\"Selectcompanyactivity\"),\n              options: actividadEmpresa,\n              classNamePrefix: \"select2-selection\",\n              value: actividadEmpresaSelected\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 728,\n              columnNumber: 15\n            }, this), campoRequeridoActividad ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"message-error-parrafo\",\n              children: t(\"Required Field\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 739,\n              columnNumber: 17\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 726,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 725,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: \"6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: [\"Sub\", t(\"Economic Activity\")]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 745,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              onChange: e => {\n                setSubActividadEmpresaSelected(subactividadEmpresa.find(x => x.value === e.value));\n                changeAll(e, \"subactividadEconomica\");\n              },\n              placeholder: t(\"Selectcompanysubactivity\"),\n              options: subactividadEmpresa,\n              classNamePrefix: \"select2-selection\",\n              value: subactividadEmpresaSelected\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 746,\n              columnNumber: 15\n            }, this), campoRequeridoSubActividad ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"message-error-parrafo\",\n              children: t(\"Required Field\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 757,\n              columnNumber: 17\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 744,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 743,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 688,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 511,\n    columnNumber: 5\n  }, this);\n}, \"EnhzrL7pJK5cQ2/qBqRXpjM6gN4=\", false, function () {\n  return [React.useImperativeHandle, useTranslation, useLocation];\n}));\n_c2 = DatosGenerales;\nDatosGenerales.propTypes = {\n  onSubmit: PropTypes.func,\n  onOpenClientSelection: PropTypes.func\n}; //export default (withTranslation()(DatosGenerales));\n\nexport default DatosGenerales;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"DatosGenerales$React.forwardRef\");\n$RefreshReg$(_c2, \"DatosGenerales\");","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/DatosGenerales.js"],"names":["React","useState","withTranslation","PropTypes","useTranslation","Select","useLocation","useHistory","moment","Row","Col","Card","CardBody","Button","Label","AvForm","AvField","ApiServicesCommon","ApiServiceBackend","BackendServices","CoreServices","SearchClientCore","DatosGenerales","forwardRef","props","ref","useImperativeHandle","validateForm","form","document","getElementById","requestSubmit","getFormValidation","formValid","dataReturn2","t","i18n","location","locationData","setLocationData","data","datosClientes","setDatosCliente","identificationTypeList","setIdentificationTypeList","identificationTypeSelected","setIdentificationTypeSelected","undefined","gruposEconomicos","setGruposEconomicos","gruposEconomicosSelected","setGruposEconomicosSelected","banca","setBanca","bancaSelected","setBancaSelected","actividadEmpresa","setActividadEmpresa","actividadEmpresaSelected","setActividadEmpresaSelected","subactividadEmpresa","setSubActividadEmpresa","subactividadEmpresaSelected","setSubActividadEmpresaSelected","bancaDate","setDataBanca","codigoGrupo","setCodigoGrupo","nombreGrupo","setCNombreGrupo","dataReturn","setDataReturn","codigoTipoPersona","codigoTipoIdentificacion","numeroCliente","primerNombre","segundoNombre","primerApellido","segundoApellido","numeroIdentificacion","transactId","economicGroup","code","name","economicActivity","subeconomicActivity","bank","setDataReturn2","setFormValid","cambio","setCambio","campoRequeridoGrupo","setcampoRequeridoGrupo","campoRequeridoActividad","setcampoRequeridoActividad","campoRequeridoSubActividad","setcampoRequeridoSubActividad","campoRequeridoBanca","setcampoRequeridoBanca","campoRequeridoIdentificacion","setcampoRequeridoIdentificacion","dataActividadEmpresa","setdataActividadEmpresa","label","value","personTypeList","setPersonTypeList","personTypeSelected","setPersonTypeSelected","handleChange","e","useEffect","consultarDatos","loadInitialData","cargarListaGrupoEconomico","cargarBancas","cargarActividadEconomica","defaultVal","length","find","x","err","console","log","selectedClient","loadClientSelectedData","api","getActividadEconomicaCatalogo","then","response","json","i","Records","push","cargarSubActividadEconomica","codActividad","getSubActividadEconomicaCatalogo","getGrupoEconomicoCatalogo","getBancaCatalogo","apiBack","consultarUsuarioProspecto","transactionId","resp","personType","customerNumberT24","firstName","secondName","firstLastName","secondLastName","customerDocumentId","nuevoDato","consultarDatosGeneralesIGR","identificationType","catch","error","guardarDatosGenerales","data0","idCustomer","customerId","date","format","status","dataGenerales","Number","guardarUsuarioProspecto","guardarDatosGeneralesIGR","handleSubmit","event","errors","values","preventDefault","apiServiceBackend","consultarCatalogoTipoIdentificacion","changeAll","tipo","target","id","firstname","secondname","lastname","secondlastname","idtype","idnumber","partyType","required","errorMessage","propTypes","onSubmit","func","onOpenClientSelection"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { withTranslation } from \"react-i18next\"\r\nimport PropTypes from 'prop-types';\r\nimport { useTranslation } from 'react-i18next'\r\nimport Select from \"react-select\";\r\nimport { useLocation, useHistory } from 'react-router-dom'\r\nimport moment from \"moment\";\r\n\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardBody,\r\n  Button,\r\n  Label,\r\n} from \"reactstrap\"\r\n\r\nimport { AvForm, AvField } from \"availity-reactstrap-validation\"\r\n\r\nimport ApiServicesCommon from \"../../../../../services/Common/ApiServicesCommon\";\r\nimport ApiServiceBackend from \"../../../../../services/BackendServices/Services\";\r\nimport { BackendServices, CoreServices } from '../../../../../services';\r\nimport SearchClientCore from \"../../../../../components/Common/SearchClientCore\"\r\n\r\n\r\nconst DatosGenerales = React.forwardRef((props, ref) => {\r\n  React.useImperativeHandle(ref, () => ({\r\n    validateForm: () => {\r\n      const form = document.getElementById('frmDatosGenerales');\r\n      form.requestSubmit();\r\n    },\r\n    getFormValidation: () => {\r\n      return formValid;\r\n    }, dataReturn2\r\n  }))\r\n  const { t, i18n } = useTranslation();\r\n  const location = useLocation()\r\n  const [locationData, setLocationData] = useState(location.data);  \r\n\r\n  const [datosClientes, setDatosCliente] = useState([]);\r\n  const [identificationTypeList, setIdentificationTypeList] = useState([]);\r\n  const [identificationTypeSelected, setIdentificationTypeSelected] = useState(undefined);\r\n  const [gruposEconomicos, setGruposEconomicos] = useState([]);\r\n  const [gruposEconomicosSelected, setGruposEconomicosSelected] = useState(undefined);\r\n  const [banca, setBanca] = useState([]);\r\n  const [bancaSelected, setBancaSelected] = useState(undefined);\r\n  const [actividadEmpresa, setActividadEmpresa] = useState([]);\r\n  const [actividadEmpresaSelected, setActividadEmpresaSelected] = useState(undefined);\r\n  \r\n  const [subactividadEmpresa, setSubActividadEmpresa] = useState([]);\r\n  const [subactividadEmpresaSelected, setSubActividadEmpresaSelected] = useState(undefined);\r\n  \r\n  const [bancaDate, setDataBanca] = useState([]);\r\n  const [codigoGrupo, setCodigoGrupo] = useState(null);\r\n  const [nombreGrupo, setCNombreGrupo] = useState(null);\r\n  const [dataReturn, setDataReturn] = useState({\r\n    codigoTipoPersona:null,\r\n    codigoTipoIdentificacion: null,\r\n    numeroCliente: null,\r\n    primerNombre: null,\r\n    segundoNombre: null,\r\n    primerApellido: null,\r\n    segundoApellido: null,\r\n    numeroIdentificacion: null,\r\n    transactId: 0,\r\n    economicGroup: {\r\n      code: \"\",\r\n      name: \"\"\r\n    },\r\n    economicActivity: {\r\n      code: \"\",\r\n      name: \"\"\r\n    },\r\n    subeconomicActivity: {\r\n      code: \"\",\r\n      name: \"\"\r\n    },\r\n    bank: {\r\n      code: \"\",\r\n      name: \"\"\r\n    },\r\n  });\r\n  const [dataReturn2, setDataReturn2] = useState();\r\n  const [formValid, setFormValid] = useState(false);\r\n  const [cambio, setCambio] = useState(2);\r\n  const [campoRequeridoGrupo, setcampoRequeridoGrupo] = useState(false);\r\n  const [campoRequeridoActividad, setcampoRequeridoActividad] = useState(false);\r\n  const [campoRequeridoSubActividad, setcampoRequeridoSubActividad] = useState(false);\r\n  const [campoRequeridoBanca, setcampoRequeridoBanca] = useState(false);\r\n  const [campoRequeridoIdentificacion, setcampoRequeridoIdentificacion] = useState(false);\r\n  const [dataActividadEmpresa, setdataActividadEmpresa] = useState({ label: \"\", value: \"\" });\r\n  \r\n  const [personTypeList, setPersonTypeList] = useState(undefined);\r\n  const [personTypeSelected, setPersonTypeSelected] = useState([]);\r\n    \r\n  function handleChange(e) {\r\n    setFormValid(false);\r\n  }\r\n\r\n  //On Mounting (componentDidMount)\r\n  React.useEffect(() => {\r\n    // Read Api Service data      \r\n    consultarDatos();\r\n    loadInitialData();\r\n    cargarListaGrupoEconomico();\r\n    cargarBancas();\r\n    cargarActividadEconomica()\r\n  }, []);\r\n  React.useEffect(() => {\r\n    // Read Api Service data \r\n    var defaultVal = null;\r\n    try {\r\n      if (personTypeList.length > 0 && dataReturn.codigoTipoPersona !== null && personTypeSelected === undefined) {\r\n        defaultVal = personTypeList.find(x => x.value === dataReturn.codigoTipoPersona);\r\n        if (defaultVal !== undefined) {\r\n          setPersonTypeSelected(defaultVal);\r\n        }\r\n      }\r\n      if (identificationTypeList.length > 0 && dataReturn.codigoTipoIdentificacion !== null && identificationTypeSelected === undefined) {\r\n        defaultVal = identificationTypeList.find(x => x.value === dataReturn.codigoTipoIdentificacion);\r\n        if (defaultVal !== undefined) {\r\n          setIdentificationTypeSelected(defaultVal);\r\n        }\r\n      }\r\n      if (gruposEconomicos.length > 0 && dataReturn.economicGroup !== null && gruposEconomicosSelected === undefined) {\r\n        defaultVal = gruposEconomicos.find(x => x.value === dataReturn.economicGroup.code);\r\n        if (defaultVal !== undefined) {\r\n          setGruposEconomicosSelected(defaultVal);\r\n        }\r\n      }\r\n      if (banca.length > 0 && dataReturn.bank !== null && bancaSelected === undefined) {\r\n        defaultVal = banca.find(x => x.value === dataReturn.bank.code);\r\n        if (defaultVal !== undefined) {\r\n          setBancaSelected(defaultVal);\r\n        }\r\n      }\r\n      if (actividadEmpresa.length > 0 && dataReturn.economicActivity !== null && actividadEmpresaSelected === undefined) {\r\n        defaultVal = actividadEmpresa.find(x => x.value === dataReturn.economicActivity.code);\r\n        if (defaultVal !== undefined) {\r\n          setActividadEmpresaSelected(defaultVal);\r\n        }\r\n      }\r\n      if (subactividadEmpresa.length > 0 && dataReturn.subeconomicActivity !== null && subactividadEmpresaSelected === undefined) {\r\n        defaultVal = subactividadEmpresa.find(x => x.value === dataReturn.subeconomicActivity.code);\r\n        if (defaultVal !== undefined) {\r\n          setSubActividadEmpresaSelected(defaultVal);\r\n        }\r\n      }\r\n    }\r\n    catch (err) { }\r\n  }, [cambio]);\r\n  React.useEffect(() => {\r\n    try {\r\n      console.log(\"setSelectedClient\",props.selectedClient);      \r\n      if(props.selectedClient!==null && props.selectedClient!==undefined) {\r\n        loadClientSelectedData(props.selectedClient);\r\n      }        \r\n    }\r\n    catch (err) { }\r\n  }, [props.selectedClient]);\r\n\r\n  ///////////..... CHEQUEAMOS LA DATA PARA INICIALIZAR VALORES POR DEFECTO EN LOS SELECT2 .... ////////\r\n\r\n  ///////////////////////////////////////////////\r\n\r\n  function cargarActividadEconomica() {\r\n    const api = new CoreServices();\r\n    api.getActividadEconomicaCatalogo().then(response => {\r\n\r\n      if (response === null) { return; }\r\n\r\n      let json = [];\r\n      for (let i = 0; i < response.Records.length; i++) {\r\n        json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n      }\r\n      /*const optionGroup1 = [\r\n        {\r\n          label: t(\"Selectcompanyactivity\"),\r\n          options: json,\r\n        },\r\n      ];*/\r\n      setActividadEmpresa(json);\r\n      if(dataReturn.economicActivity !== null){\r\n        cargarSubActividadEconomica(dataReturn.economicActivity.code);\r\n      }\r\n      \r\n      setCambio(null);\r\n      setCambio(5);\r\n    })\r\n  }\r\n  function cargarSubActividadEconomica(codActividad) {\r\n    const api = new CoreServices();\r\n    api.getSubActividadEconomicaCatalogo(codActividad).then(response => {\r\n\r\n      if (response === null) { return; }\r\n\r\n      let json = [];\r\n      for (let i = 0; i < response.Records.length; i++) {\r\n        json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n      }\r\n      /*const optionGroup1 = [\r\n        {\r\n          label: t(\"Selectcompanyactivity\"),\r\n          options: json,\r\n        },\r\n      ];*/\r\n      setSubActividadEmpresa(json);\r\n      if(dataReturn.subeconomicActivity !== null){\r\n        setSubActividadEmpresaSelected(json.find(x => x.value === dataReturn.subeconomicActivity.code));\r\n      }\r\n      else{\r\n        dataReturn.subeconomicActivity = {code:json[0].value,name:json[0].label}\r\n\r\n        setSubActividadEmpresaSelected(json[0]);\r\n      }      \r\n\r\n      setCambio(null);\r\n      setCambio(5);\r\n    })\r\n  }\r\n  function cargarListaGrupoEconomico() {\r\n    const api = new CoreServices();\r\n    api.getGrupoEconomicoCatalogo()\r\n      .then(response => {\r\n        if (response === null) { return; }\r\n\r\n        let json = [];\r\n        for (let i = 0; i < response.Records.length; i++) {\r\n          if (response.Records[i][\"Code\"] == \"0003\") {\r\n            json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n\r\n          } else {\r\n\r\n            json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n          }\r\n        }\r\n        /*const optionGroup1 = [\r\n          {\r\n            label: t(\"SelectGroup\"),\r\n            options: json,\r\n          },\r\n        ];*/\r\n        setGruposEconomicos(json);\r\n        setCambio(null);\r\n        setCambio(5);\r\n      });\r\n  }\r\n  function cargarBancas() {\r\n    const api = new CoreServices();\r\n    api.getBancaCatalogo()\r\n      .then(response => {\r\n        if (response === null) { return; }\r\n        let json = [];\r\n        for (let i = 0; i < response.Records.length; i++) {\r\n          json.push({ label: response.Records[i][\"Description\"], value: response.Records[i][\"Code\"] })\r\n        }\r\n        /*const optionGroup1 = [\r\n          {\r\n            label: t(\"SelectBanking\"),\r\n            options: json,\r\n          },\r\n        ];*/\r\n        setBanca(json);\r\n        setCambio(null);\r\n        setCambio(5);\r\n      });\r\n  }\r\n  function consultarDatos() {\r\n\r\n    const apiBack = new BackendServices();\r\n    //{ transactId: location.data.transactionId, processId: location.data.processId, activityId: location.data.activityId }\r\n    apiBack.consultarUsuarioProspecto(locationData.transactionId).then(resp => {      \r\n      dataReturn.codigoTipoPersona = resp.personType\r\n      dataReturn.numeroCliente = resp.customerNumberT24\r\n      dataReturn.primerNombre = resp.firstName\r\n      dataReturn.segundoNombre = resp.secondName\r\n      dataReturn.primerApellido = resp.firstLastName\r\n      dataReturn.segundoApellido = resp.secondLastName\r\n      dataReturn.numeroIdentificacion = resp.customerDocumentId\r\n      dataReturn.nuevoDato = \"\"\r\n      setDataReturn(dataReturn);\r\n    })\r\n    apiBack.consultarDatosGeneralesIGR(locationData.transactionId).then(resp => {\r\n      dataReturn.codigoTipoIdentificacion = resp.identificationType\r\n      dataReturn.transactId = locationData.transactionId;\r\n      dataReturn.economicGroup.code = resp.economicGroup.code;\r\n      dataReturn.economicGroup.name = resp.economicGroup.name;\r\n      dataReturn.economicActivity.code = resp.economicActivity.code;\r\n      dataReturn.economicActivity.name = resp.economicActivity.name;\r\n      dataReturn.subeconomicActivity.code = resp.subeconomicActivity.code;\r\n      dataReturn.subeconomicActivity.name = resp.subeconomicActivity.name;\r\n      dataReturn.bank.code = resp.bank.code;\r\n      dataReturn.bank.name = resp.bank.name;\r\n      setDataReturn(dataReturn);\r\n      setCambio(null);\r\n      setCambio(5);\r\n    }).catch((error) => {\r\n\r\n    });\r\n  }\r\n  function guardarDatosGenerales() {\r\n    const apiBack = new BackendServices();\r\n\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                               Actualizamos los datos del cliente                               */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    let data0 =\r\n    {\r\n      idCustomer: locationData.customerId,\r\n      customerId: locationData.customerId,\r\n      transactId: locationData.transactionId,\r\n      personType: dataReturn.codigoTipoPersona,\r\n      identificationType: dataReturn.codigoTipoIdentificacion,\r\n      customerDocumentId: dataReturn.numeroIdentificacion,\r\n      customerNumberT24: dataReturn.numeroCliente,\r\n      firstName: dataReturn.primerNombre,\r\n      secondName: dataReturn.segundoNombre,\r\n      firstLastName: dataReturn.primerApellido,\r\n      secondLastName: dataReturn.segundoApellido,\r\n      date: moment().format(\"YYYY-MM-DD\"),\r\n      status: true,\r\n    }\r\n\r\n    let dataGenerales =\r\n    {      \r\n      customerId: locationData.customerId,\r\n      transactId: Number(locationData.transactionId),\r\n      personType: dataReturn.codigoTipoPersona,\r\n      identificationType: dataReturn.codigoTipoIdentificacion,\r\n      customerDocumentId: dataReturn.numeroIdentificacion,\r\n      customerNumberT24: dataReturn.numeroCliente,\r\n      firstName: dataReturn.primerNombre,\r\n      secondName: dataReturn.segundoNombre,\r\n      firstLastName: dataReturn.primerApellido,\r\n      secondLastName: dataReturn.segundoApellido,\r\n      \"economicGroup\": {\r\n        \"code\": dataReturn.economicGroup.code,\r\n        \"name\": dataReturn.economicGroup.name\r\n      },\r\n      \"economicActivity\": {\r\n        \"code\": dataReturn.economicActivity.code,\r\n        \"name\": dataReturn.economicActivity.name\r\n      },\r\n      \"subeconomicActivity\": {\r\n        \"code\": dataReturn.subeconomicActivity.code,\r\n        \"name\": dataReturn.subeconomicActivity.name\r\n      },\r\n      \"bank\": {\r\n        \"code\": dataReturn.bank.code,\r\n        \"name\": dataReturn.bank.name\r\n      },\r\n      date: moment().format(\"YYYY-MM-DD\"),\r\n      status: true,\r\n    }\r\n    apiBack.guardarUsuarioProspecto(data0).then(response => {\r\n    });\r\n    apiBack.guardarDatosGeneralesIGR(dataGenerales).then(resp => {\r\n      setFormValid(true);\r\n    })\r\n  }\r\n  // Form Submission\r\n  function handleSubmit(event, errors, values) {\r\n    // if (dataReturn.economicGroup.code == \"\" || dataReturn.economicGroup.code == null) {\r\n    //   setcampoRequeridoGrupo(true);\r\n    //   return;\r\n    // } else {\r\n    //   setcampoRequeridoGrupo(false);\r\n    // }\r\n    // if (dataReturn.bank.code == \"\" || dataReturn.bank.code == null) {\r\n    //   setcampoRequeridoBanca(true);\r\n    //   return;\r\n    // } else {\r\n    //   setcampoRequeridoBanca(false);\r\n    // }\r\n    // if (dataReturn.economicActivity.code == \"\" || dataReturn.economicActivity.code == null) {\r\n    //   setcampoRequeridoActividad(true);\r\n    //   return;\r\n    // } else {\r\n    //   setcampoRequeridoActividad(false);\r\n    // }\r\n    if (dataReturn.codigoTipoIdentificacion == \"\" || dataReturn.codigoTipoIdentificacion == null) {\r\n      setcampoRequeridoIdentificacion(true);\r\n      return;\r\n    } else {\r\n      setcampoRequeridoIdentificacion(false);\r\n    }\r\n    event.preventDefault();\r\n    if (errors.length > 0) {\r\n      setFormValid(false);\r\n      return;\r\n    }\r\n    setDataReturn2(dataReturn)\r\n    setDataReturn(dataReturn)\r\n    guardarDatosGenerales();\r\n    setFormValid(true);\r\n    // props.onSubmit();\r\n  }\r\n    \r\n  function loadInitialData() {\r\n\r\n    //cargamos los datos de tipo de persona\r\n    let json = [{ label: t(\"LegalPerson\"), value: 2 },{ label: t(\"NaturalPerson\"), value: 1 },];\r\n    setPersonTypeList(json);\r\n    setPersonTypeSelected(json[0]);\r\n\r\n\r\n    const apiServiceBackend = new ApiServiceBackend();\r\n    apiServiceBackend.consultarCatalogoTipoIdentificacion()\r\n      .then((data) => {\r\n        if (data !== null && data !== undefined) {\r\n          let json = [];\r\n          for (let i = 0; i < data.length; i++) {\r\n            json.push({ label: t(data[i][\"description\"]), value: data[i][\"id\"] })\r\n          }\r\n          /*const optionGroup1 = [\r\n            {\r\n              label: t(\"ID Type\"),\r\n              options: json,\r\n            },\r\n          ];*/\r\n          setIdentificationTypeList(json)\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error('api error: ', error);\r\n      });\r\n    // api.getIdentificationTypeList()\r\n    // .then((data) => {\r\n    //   setIdentificationTypeList(data);        \r\n    // })\r\n    // .catch((error) => {    \r\n    //   console.error('Error fetching documents', error);\r\n    // });    \r\n  }\r\n  function changeAll(e, tipo) {    \r\n    if (tipo == \"tipoPersona\") {\r\n      dataReturn.codigoTipoPersona = e.value\r\n    }\r\n    if (tipo == \"Tipo\") {\r\n      dataReturn.codigoTipoIdentificacion = e.value\r\n    }\r\n    if (tipo == \"codigoGrupo\") {\r\n      dataReturn.economicGroup.code = e.value;\r\n      dataReturn.economicGroup.name = e.label;\r\n      setCodigoGrupo(e.value)\r\n      setCNombreGrupo(e.label)\r\n    }\r\n    if (tipo == \"codigoBanca\") {\r\n      dataReturn.bank.code = e.value;\r\n      dataReturn.bank.name = e.label;\r\n      setDataBanca(e);\r\n    }\r\n    if (tipo == \"numeroCliente\") {\r\n      dataReturn.numeroCliente = e.target.value;\r\n      console.log(dataReturn);\r\n    }\r\n    if (tipo == \"primerNombre\") {\r\n      dataReturn.primerNombre = e.target.value;\r\n    }\r\n    if (tipo == \"segundoNombre\") {\r\n      dataReturn.segundoNombre = e.target.value;\r\n    }\r\n    if (tipo == \"primerApellido\") {\r\n      dataReturn.primerApellido = e.target.value;\r\n    }\r\n    if (tipo == \"segundoApellido\") {\r\n      dataReturn.segundoApellido = e.target.value;\r\n    }\r\n    if (tipo == \"numeroIdentificacion\") {\r\n      dataReturn.numeroIdentificacion = e.target.value;\r\n    }\r\n    if (tipo == \"actividadEconomica\") {\r\n      dataReturn.economicActivity.code = e.value;\r\n      dataReturn.economicActivity.name = e.label;\r\n\r\n      dataReturn.subeconomicActivity = null;\r\n      cargarSubActividadEconomica(e.value)\r\n    }\r\n    if (tipo == \"subactividadEconomica\") {\r\n      dataReturn.subeconomicActivity.code = e.value;\r\n      dataReturn.subeconomicActivity.name = e.label;\r\n    }\r\n    setDataReturn(dataReturn)\r\n\r\n  }\r\n\r\n  /////////////// CARGA LOS DATOS DEL CLIENTE SELECCIONADO DE T24 //////\r\n  function loadClientSelectedData(selectedClient){    \r\n    dataReturn.numeroCliente = selectedClient.id;\r\n    dataReturn.primerNombre = selectedClient.firstname;\r\n    dataReturn.segundoNombre = selectedClient.secondname;\r\n    dataReturn.primerApellido = selectedClient.lastname;\r\n    dataReturn.segundoApellido = selectedClient.secondlastname;\r\n    dataReturn.codigoTipoIdentificacion = selectedClient.idtype;\r\n    dataReturn.numeroIdentificacion = selectedClient.idnumber;\r\n    dataReturn.codigoTipoPersona = selectedClient.partyType;\r\n\r\n    setDataReturn(dataReturn);\r\n    var defaultVal = identificationTypeList.find(x => x.value === dataReturn.codigoTipoIdentificacion);\r\n    if (defaultVal !== undefined) {\r\n        setIdentificationTypeSelected(defaultVal);\r\n    }\r\n    defaultVal = personTypeList.find(x => x.value === dataReturn.codigoTipoPersona);    \r\n    if (defaultVal !== undefined) {      \r\n        setPersonTypeSelected(defaultVal);\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      \r\n      <SearchClientCore onClientSelect={(data)=> {loadClientSelectedData(data)} }/>\r\n\r\n      <h5>{t(\"General Data\")}</h5>\r\n      <p className=\"card-title-desc\">\r\n      </p>\r\n      <AvForm id=\"frmDatosGenerales\" className=\"needs-validation\" onSubmit={handleSubmit}>\r\n        \r\n        <Row>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"clientNumber\">{t(\"Client Number\")}</Label>\r\n              <AvField onChange={(e) => { changeAll(e, \"numeroCliente\") }}\r\n                className=\"form-control\"\r\n                name=\"clientNumber\"\r\n                type=\"number\"\r\n                id=\"clientNumber\"\r\n                value={dataReturn.numeroCliente}\r\n                // validate={{\r\n                //   required: { value: true, errorMessage: t(\"Required Field\") }\r\n                // }}\r\n              />\r\n            </div>\r\n          </Col>\r\n          \r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label>{t(\"PersonType\")}</Label>\r\n              <Select\r\n                onChange={(e) => {\r\n                  setPersonTypeSelected(personTypeList.find(x => x.value === e.value))\r\n                  changeAll(e, \"tipoPersona\");\r\n                }}\r\n                options={personTypeList}\r\n                placeholder={t(\"SelectType\")}\r\n                value={personTypeSelected}\r\n                name=\"PersonType\"/>\r\n              {/*campoRequeridoIdentificacion ?\r\n                <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n              : null*/}\r\n            </div>\r\n          </Col>\r\n          \r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label>{t(\"ID Type\")}</Label>\r\n              <Select\r\n                onChange={(e) => {\r\n                  setIdentificationTypeSelected(identificationTypeList.find(x => x.value === e.value))\r\n                  changeAll(e, \"Tipo\");\r\n                }}\r\n                options={identificationTypeList}\r\n                placeholder={t(\"SelectType\")}\r\n                value={identificationTypeSelected}\r\n              />\r\n              {campoRequeridoIdentificacion ?\r\n                <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n                : null}\r\n            </div>\r\n          </Col>\r\n\r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"idnumber\">{t(\"ID Number\")}</Label>\r\n              <AvField onChange={(e) => { changeAll(e, \"numeroIdentificacion\") }}\r\n                className=\"form-control\"\r\n                name=\"idnumber\"\r\n                type=\"text\"\r\n                id=\"idnumber\"\r\n                validate={{\r\n                  required: { value: true, errorMessage: t(\"Required Field\") }\r\n                }}\r\n                value={dataReturn.numeroIdentificacion}\r\n              />\r\n            </div>\r\n          </Col>    \r\n        </Row>\r\n        \r\n{personTypeSelected && personTypeSelected.value === 2?\r\n                \r\n                <Row>\r\n          <Col md=\"12\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"firstname\">{t(\"LegalCompanyName\")}</Label>\r\n              <AvField onChange={(e) => { changeAll(e, \"primerNombre\") }}\r\n                className=\"form-control\"\r\n                name=\"firstname\"\r\n                type=\"text\"\r\n                id=\"firstname\"\r\n                validate={{\r\n                  required: { value: true, errorMessage: t(\"Required Field\") }\r\n                }}\r\n                value={dataReturn.primerNombre}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"12\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"secondname\">{t(\"ComercialName\")}</Label>\r\n              <AvField onChange={(e) => { changeAll(e, \"segundoNombre\") }}\r\n                className=\"form-control\"\r\n                name=\"secondname\"\r\n                type=\"text\"\r\n                id=\"secondname\"\r\n                value={dataReturn.segundoNombre}\r\n              />\r\n            </div>\r\n          </Col>          \r\n        </Row>        \r\n              :\r\n        <Row>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"firstname\">{t(\"FirstName\")}</Label>\r\n              <AvField onChange={(e) => { changeAll(e, \"primerNombre\") }}\r\n                className=\"form-control\"\r\n                name=\"firstname\"\r\n                type=\"text\"\r\n                id=\"firstname\"\r\n                validate={{\r\n                  required: { value: true, errorMessage: t(\"Required Field\") }\r\n                }}\r\n                value={dataReturn.primerNombre}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"secoundname\">{t(\"SecondName\")}</Label>\r\n              <AvField onChange={(e) => { changeAll(e, \"segundoNombre\") }}\r\n                className=\"form-control\"\r\n                name=\"secondname\"\r\n                type=\"text\"\r\n                id=\"secondname\"\r\n                value={dataReturn.segundoNombre}\r\n              />\r\n            </div>\r\n          </Col>          \r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"lastname\">{t(\"FirstLastName\")}</Label>\r\n              <AvField onChange={(e) => { changeAll(e, \"primerApellido\") }}\r\n                className=\"form-control\"\r\n                name=\"lastname\"\r\n                type=\"text\"\r\n                value={dataReturn.primerApellido}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"secondlastname\">{t(\"SecondLastName\")}</Label>\r\n              <AvField onChange={(e) => { changeAll(e, \"segundoApellido\") }}\r\n                className=\"form-control\"\r\n                name=\"secondlastname\"\r\n                type=\"text\"\r\n                value={dataReturn.segundoApellido}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col md=\"12\">\r\n            <div className=\"mb-3\">\r\n              <Label htmlFor=\"secondlastname\">{t(\"DebtorName\")}</Label>\r\n              <AvField readOnly={true} \r\n                className=\"form-control\"\r\n                name=\"debtorName\"\r\n                type=\"text\"\r\n                value={( (dataReturn.primerNombre!==null && dataReturn.primerNombre!==undefined ?dataReturn.primerNombre + \" \":\"\")  +   (dataReturn.segundoNombre!==null && dataReturn.segundoNombre!==undefined ?dataReturn.segundoNombre + \" \":\"\") + (dataReturn.primerApellido!==null && dataReturn.primerApellido!==undefined ?dataReturn.primerApellido + \" \":\"\") + (dataReturn.segundoApellido!==null && dataReturn.segundoApellido!==undefined ?dataReturn.segundoApellido + \" \":\"\"))}\r\n              />\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n        \r\n              }\r\n\r\n        \r\n        <Row>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-4\">\r\n              <Label>{t(\"Economic Group\")}</Label>\r\n              <Select\r\n                onChange={(e) => {\r\n                  setGruposEconomicosSelected(gruposEconomicos.find(x => x.value === e.value))\r\n                  changeAll(e, \"codigoGrupo\");\r\n                }}\r\n                options={gruposEconomicos}\r\n                classNamePrefix=\"select2-selection\"\r\n                placeholder={t(\"SelectGroup\")}\r\n                value={gruposEconomicosSelected}\r\n              />\r\n              {campoRequeridoGrupo ?\r\n                <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n                : null}\r\n            </div>\r\n          </Col>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-4\">\r\n              <Label>{t(\"Banking\")}</Label>\r\n              <Select\r\n                onChange={(e) => {\r\n                  setBancaSelected(banca.find(x => x.value === e.value))\r\n                  changeAll(e, \"codigoBanca\");\r\n                }}\r\n                options={banca}\r\n                value={bancaSelected}//defaultValue={props.datosGenerales.bank.code}\r\n                classNamePrefix=\"select2-selection\"\r\n                placeholder={t(\"SelectBanking\")}\r\n              />\r\n              {campoRequeridoBanca ?\r\n                <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n                : null}\r\n            </div>\r\n          </Col>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-4\">\r\n              <Label>{t(\"Economic Activity\")}</Label>\r\n              <Select\r\n                onChange={(e) => {\r\n                  setActividadEmpresaSelected(actividadEmpresa.find(x => x.value === e.value))\r\n                  changeAll(e, \"actividadEconomica\")\r\n                }}\r\n                placeholder={t(\"Selectcompanyactivity\")}\r\n                options={actividadEmpresa}\r\n                classNamePrefix=\"select2-selection\"\r\n                value={actividadEmpresaSelected}\r\n              />\r\n              {campoRequeridoActividad ?\r\n                <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n                : null}\r\n            </div>\r\n          </Col>\r\n          <Col md=\"6\">\r\n            <div className=\"mb-4\">\r\n              <Label>Sub{t(\"Economic Activity\")}</Label>\r\n              <Select\r\n                onChange={(e) => {\r\n                  setSubActividadEmpresaSelected(subactividadEmpresa.find(x => x.value === e.value))\r\n                  changeAll(e, \"subactividadEconomica\")\r\n                }}\r\n                placeholder={t(\"Selectcompanysubactivity\")}\r\n                options={subactividadEmpresa}\r\n                classNamePrefix=\"select2-selection\"\r\n                value={subactividadEmpresaSelected}\r\n              />\r\n              {campoRequeridoSubActividad ?\r\n                <p className=\"message-error-parrafo\">{t(\"Required Field\")}</p>\r\n                : null}\r\n            </div>\r\n          </Col>      \r\n        </Row>\r\n        \r\n      </AvForm>\r\n    </React.Fragment>\r\n  )\r\n})\r\n\r\n\r\nDatosGenerales.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n  onOpenClientSelection: PropTypes.func,\r\n}\r\n\r\n//export default (withTranslation()(DatosGenerales));\r\nexport default DatosGenerales;\r\n"]},"metadata":{},"sourceType":"module"}