{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useTranslation,withTranslation}from\"react-i18next\";import{Link,useLocation,useHistory}from\"react-router-dom\";import{Row,Col,Button,Table}from\"reactstrap\";import{AvForm,AvField,AvGroup}from\"availity-reactstrap-validation\";import ModalCapex1 from\"./ModalCapex1.js\";import ModalCapex2 from\"./ModalCapex2.js\";import ModalCapex3 from\"./ModalCapex3.js\";import AttachmentFileCore from\"../../../../../components/Common/AttachmentFileCore\";import*as OPTs from\"../../../../../helpers/options_helper\";import{AttachmentFileInputModel}from'../../../../../models/Common/AttachmentFileInputModel';import SweetAlert from\"react-bootstrap-sweetalert\";import{BackendServices}from\"../../../../../services/index.js\";import*as url from\"../../../../../helpers/url_helper\";import Currency from\"../../../../../helpers/currency\";import HeaderSections from\"../../../../../components/Common/HeaderSections.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Capex=/*#__PURE__*/React.forwardRef(function(props,ref){var currencyData=new Currency();var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;// const { locationData } = props;\nvar location=useLocation();/* ---------------------------------------------------------------------------------------------- */ /*                        Variables de estados para los mensajes de alerta                        */ /* ---------------------------------------------------------------------------------------------- */var _useState=useState(false),_useState2=_slicedToArray(_useState,2),successSave_dlg=_useState2[0],setsuccessSave_dlg=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error_dlg=_useState4[0],seterror_dlg=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error_msg=_useState6[0],seterror_msg=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),confirm_alert=_useState8[0],setconfirm_alert=_useState8[1];var _useState9=useState(location.data),_useState10=_slicedToArray(_useState9,2),dataLocation=_useState10[0],setData=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),botonValidation=_useState12[0],setbotonValidation=_useState12[1];var _useState13=useState({\"transactId\":0,\"personId\":0,\"capexId\":0,\"observations\":\"\",\"thousandUse\":0,\"shareholder\":\"\",\"back\":\"\",\"status\":true}),_useState14=_slicedToArray(_useState13,2),dataCapex1=_useState14[0],setdataCapex1=_useState14[1];var _useState15=useState({\"transactId\":0,\"capexId\":0,\"budget\":\"\",\"amount\":0,\"status\":true}),_useState16=_slicedToArray(_useState15,2),dataCapex2=_useState16[0],setdataCapex2=_useState16[1];var _useState17=useState({\"transactId\":0,\"capexDetailsId\":0,\"observations\":\"\",\"amount\":0,\"status\":true}),_useState18=_slicedToArray(_useState17,2),dataCapex3=_useState18[0],setdataCapex3=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),tipo=_useState20[0],setTipo=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),formValid=_useState22[0],setFormValid=_useState22[1];var _useState23=useState(null),_useState24=_slicedToArray(_useState23,2),dataCapex1Rows=_useState24[0],setdataCapex1Rows=_useState24[1];var _useState25=useState(null),_useState26=_slicedToArray(_useState25,2),dataCapex2Rows=_useState26[0],setdataCapex2Rows=_useState26[1];var _useState27=useState(null),_useState28=_slicedToArray(_useState27,2),dataCapex3Rows=_useState28[0],setdataCapex3Rows=_useState28[1];var _useState29=useState(null),_useState30=_slicedToArray(_useState29,2),usuarioData=_useState30[0],setusuarioData=_useState30[1];React.useImperativeHandle(ref,function(){return{validateForm:function validateForm(){var form=document.getElementById('frmProveedores');form.requestSubmit();},getFormValidation:function getFormValidation(){return formValid;}};});var _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),showModalCapex1=_useState32[0],setShowModalCapex1=_useState32[1];var _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),showModalCapex2=_useState34[0],setShowModalCapex2=_useState34[1];var _useState35=useState(false),_useState36=_slicedToArray(_useState35,2),showModalCapex3=_useState36[0],setShowModalCapex3=_useState36[1];var _useState37=useState(null),_useState38=_slicedToArray(_useState37,2),locationData=_useState38[0],setLocationData=_useState38[1];var history=useHistory();React.useEffect(function(){var dataSession;if(location.data!==null&&location.data!==undefined){if(location.data.transactionId===undefined||location.data.transactionId.length<=0){//location.data.transactionId = 0;\n//checkAndCreateProcedure(location.data);\nhistory.push(url.URL_DASHBOARD);}else{sessionStorage.setItem('locationData',JSON.stringify(location.data));setLocationData(location.data);dataSession=location.data;}}else{//chequeamos si tenemos guardado en session\nvar result=sessionStorage.getItem('locationData');if(result!==undefined&&result!==null){result=JSON.parse(result);setLocationData(result);dataSession=result;}}// Read Api Service data\ninitializeData(dataSession);},[props.activeTab==23]);var api=new BackendServices();function initializeData(dataLocation){api.consultarListaCapexAC(dataLocation.transactionId).then(function(resp){if(resp!=undefined){setdataCapex1Rows(resp.map(function(data,index){return data.status?/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.observations}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",currencyData.format(data.thousandUse)]}),/*#__PURE__*/_jsx(\"td\",{children:data.shareholder}),/*#__PURE__*/_jsx(\"td\",{children:data.back}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){updateData(data,\"ECAPEX1\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){deleteData(data,\"DCAPEX1\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},index):null;}));}else{setdataCapex1Rows(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\",style:{textAlign:'center'}})},3431));}});api.consultarListaCapexPresupuestoAC(dataLocation.transactionId).then(function(resp){if(resp!=undefined){setdataCapex2Rows(resp.map(function(data,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.budget}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",currencyData.format(data.amount)]}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){updateData(data,\"ECAPEX2\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){deleteData(data,\"DCAPEX2\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},index);}));}else{setdataCapex2Rows(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",style:{textAlign:'center'}})},34321));}});api.consultarListaCapexDetallesAC(dataLocation.transactionId).then(function(resp){if(resp!=undefined){setdataCapex3Rows(resp.map(function(data,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.details}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",currencyData.format(data.amount)]}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){updateData(data,\"ECAPEX3\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){deleteData(data,\"DCAPEX3\");},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},index);}));}else{setdataCapex3Rows(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",style:{textAlign:'center'}})},1234));}});/* ---------------------------------------------------------------------------------------------- */ /*                                   Consultar deudor principal                                   */ /* ---------------------------------------------------------------------------------------------- */api.consultPrincipalDebtor(dataLocation.transactionId).then(function(resp){setusuarioData(resp);});}/* ---------------------------------------------------------------------------------------------- */ /*                                     actualizamos los datos                                     */ /* ---------------------------------------------------------------------------------------------- */function updateData(data,tipo2){setTipo(tipo2);if(tipo2==\"ECAPEX1\"){setdataCapex1(data);toggleShowModalCapex1(true);}if(tipo2==\"ECAPEX2\"){setdataCapex2(data);toggleShowModalCapex2(true);}if(tipo2==\"ECAPEX3\"){setdataCapex3(data);toggleShowModalCapex3(true);}setbotonValidation(true);}function deleteData(data,tipo2){setTipo(tipo2);if(tipo2==\"DCAPEX1\"){setdataCapex1(data);}if(tipo2==\"DCAPEX2\"){setdataCapex2(data);}if(tipo2==\"DCAPEX3\"){setdataCapex3(data);}setconfirm_alert(true);}function SaveData(data,tipo){data.transactId=Number(locationData.transactionId);data.personId=usuarioData===null||usuarioData===void 0?void 0:usuarioData.personId;/* ---------------------------------------------------------------------------------------------- */ /*                                  Guardamos los datos del cash                                  */ /* ---------------------------------------------------------------------------------------------- */if(tipo==\"CAPEX1\"){var _data$useInMiles,_Number,_Number2,_data$observations,_Number3,_data$shareholder,_data$back;data.thousandUse=Number(currencyData.getRealValue((_data$useInMiles=data===null||data===void 0?void 0:data.useInMiles)!==null&&_data$useInMiles!==void 0?_data$useInMiles:0));data.observations=data.description;data.back=data.bank;var jsonSet={transactId:(_Number=Number(data===null||data===void 0?void 0:data.transactId))!==null&&_Number!==void 0?_Number:0,personId:(_Number2=Number(data===null||data===void 0?void 0:data.personId))!==null&&_Number2!==void 0?_Number2:0,observations:(_data$observations=data===null||data===void 0?void 0:data.observations)!==null&&_data$observations!==void 0?_data$observations:\"\",thousandUse:(_Number3=Number(currencyData.getRealValue(data===null||data===void 0?void 0:data.thousandUse)))!==null&&_Number3!==void 0?_Number3:0,shareholder:(_data$shareholder=data===null||data===void 0?void 0:data.shareholder)!==null&&_data$shareholder!==void 0?_data$shareholder:\"\",back:(_data$back=data===null||data===void 0?void 0:data.back)!==null&&_data$back!==void 0?_data$back:\"\"};// guardarListaCapexAC\napi.guardarListaCapexAC(jsonSet).then(function(resp){if(resp!=undefined){setconfirm_alert(false);initializeData(locationData);toggleShowModalCapex1(false);}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});}if(tipo==\"CAPEX2\"){var _data$useInMiles2,_Number4,_Number5,_data$budget,_Number6,_data$amount;data.thousandUse=Number(currencyData.getRealValue((_data$useInMiles2=data===null||data===void 0?void 0:data.useInMiles)!==null&&_data$useInMiles2!==void 0?_data$useInMiles2:0));data.observations=data.description;data.back=data.bank;// guardarListaCapexPresupuestoAC\nvar _jsonSet={transactId:(_Number4=Number(data===null||data===void 0?void 0:data.transactId))!==null&&_Number4!==void 0?_Number4:0,personId:(_Number5=Number(data===null||data===void 0?void 0:data.personId))!==null&&_Number5!==void 0?_Number5:0,budget:(_data$budget=data===null||data===void 0?void 0:data.budget)!==null&&_data$budget!==void 0?_data$budget:\" \",amount:(_Number6=Number(currencyData.getRealValue((_data$amount=data===null||data===void 0?void 0:data.amount)!==null&&_data$amount!==void 0?_data$amount:0)))!==null&&_Number6!==void 0?_Number6:0};api.guardarListaCapexPresupuestoAC(data).then(function(resp){if(resp!=undefined){setconfirm_alert(false);initializeData(locationData);toggleShowModalCapex2(false);}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});}if(tipo==\"CAPEX3\"){var _Number7,_Number8,_data$details,_Number9,_data$amount2;data.details=data.observations;// guardarListaCapexDetallesAC\nvar _jsonSet2={transactId:(_Number7=Number(data===null||data===void 0?void 0:data.transactId))!==null&&_Number7!==void 0?_Number7:0,personId:(_Number8=Number(data===null||data===void 0?void 0:data.personId))!==null&&_Number8!==void 0?_Number8:0,details:(_data$details=data===null||data===void 0?void 0:data.details)!==null&&_data$details!==void 0?_data$details:\" \",amount:(_Number9=Number(currencyData.getRealValue((_data$amount2=data===null||data===void 0?void 0:data.amount)!==null&&_data$amount2!==void 0?_data$amount2:0)))!==null&&_Number9!==void 0?_Number9:0};api.guardarListaCapexDetallesAC(_jsonSet2).then(function(resp){if(resp!=undefined){setconfirm_alert(false);initializeData(locationData);toggleShowModalCapex3(false);}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});}}function UpdateData(data,tipo){data.transactId=Number(locationData.transactionId);data.personId=usuarioData===null||usuarioData===void 0?void 0:usuarioData.personId;/* ---------------------------------------------------------------------------------------------- */ /*                                    Editita el flujo de caja                                    */ /* ---------------------------------------------------------------------------------------------- */if(tipo==\"ECAPEX1\"){var _data$useInMiles3,_Number10,_Number11,_Number12,_data$observations2,_Number13,_data$thousandUse,_data$shareholder2,_data$back2;data.thousandUse=Number(currencyData.getRealValue((_data$useInMiles3=data===null||data===void 0?void 0:data.useInMiles)!==null&&_data$useInMiles3!==void 0?_data$useInMiles3:0));data.observations=data.description;data.back=data.bank;var jsonSet={transactId:(_Number10=Number(data===null||data===void 0?void 0:data.transactId))!==null&&_Number10!==void 0?_Number10:0,personId:(_Number11=Number(data===null||data===void 0?void 0:data.personId))!==null&&_Number11!==void 0?_Number11:0,capexId:(_Number12=Number(data===null||data===void 0?void 0:data.capexId))!==null&&_Number12!==void 0?_Number12:0,observations:(_data$observations2=data===null||data===void 0?void 0:data.observations)!==null&&_data$observations2!==void 0?_data$observations2:\" \",//\nthousandUse:(_Number13=Number(currencyData.getRealValue((_data$thousandUse=data===null||data===void 0?void 0:data.thousandUse)!==null&&_data$thousandUse!==void 0?_data$thousandUse:0)))!==null&&_Number13!==void 0?_Number13:0,shareholder:(_data$shareholder2=data===null||data===void 0?void 0:data.shareholder)!==null&&_data$shareholder2!==void 0?_data$shareholder2:\" \",//\nback:(_data$back2=data===null||data===void 0?void 0:data.back)!==null&&_data$back2!==void 0?_data$back2:\" \",//\nstatus:true};// actualizarListaCapexAC\napi.actualizarListaCapexAC(jsonSet).then(function(resp){if(resp!=undefined){setconfirm_alert(false);initializeData(locationData);toggleShowModalCapex1(false);}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});}if(tipo==\"ECAPEX2\"){var _data$useInMiles4,_Number14,_Number15,_Number16,_data$budget2,_Number17,_data$amount3;data.thousandUse=Number(currencyData.getRealValue((_data$useInMiles4=data===null||data===void 0?void 0:data.useInMiles)!==null&&_data$useInMiles4!==void 0?_data$useInMiles4:0));data.observations=data.description;data.back=data.bank;var _jsonSet3={transactId:(_Number14=Number(data===null||data===void 0?void 0:data.transactId))!==null&&_Number14!==void 0?_Number14:0,capexId:(_Number15=Number(data===null||data===void 0?void 0:data.capexId))!==null&&_Number15!==void 0?_Number15:0,personId:(_Number16=Number(data===null||data===void 0?void 0:data.personId))!==null&&_Number16!==void 0?_Number16:0,budget:(_data$budget2=data===null||data===void 0?void 0:data.budget)!==null&&_data$budget2!==void 0?_data$budget2:\" \",//\namount:(_Number17=Number(currencyData.getRealValue((_data$amount3=data===null||data===void 0?void 0:data.amount)!==null&&_data$amount3!==void 0?_data$amount3:0)))!==null&&_Number17!==void 0?_Number17:0,status:true};// actualizarListaCapexPresupuestoAC\napi.actualizarListaCapexPresupuestoAC(_jsonSet3).then(function(resp){if(resp!=undefined){setconfirm_alert(false);initializeData(locationData);toggleShowModalCapex2(false);}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});}if(tipo==\"ECAPEX3\"){var _Number18,_Number19,_Number20,_data$details2,_Number21,_data$amount4;data.details=data.observations;var _jsonSet4={transactId:(_Number18=Number(data===null||data===void 0?void 0:data.transactId))!==null&&_Number18!==void 0?_Number18:0,personId:(_Number19=Number(data===null||data===void 0?void 0:data.personId))!==null&&_Number19!==void 0?_Number19:0,capexDetailId:(_Number20=Number(data===null||data===void 0?void 0:data.capexDetailId))!==null&&_Number20!==void 0?_Number20:0,details:(_data$details2=data===null||data===void 0?void 0:data.details)!==null&&_data$details2!==void 0?_data$details2:\"\",amount:(_Number21=Number(currencyData.getRealValue((_data$amount4=data===null||data===void 0?void 0:data.amount)!==null&&_data$amount4!==void 0?_data$amount4:0)))!==null&&_Number21!==void 0?_Number21:0,status:true};// actualizarListaCapexDetallesAC\napi.actualizarListaCapexDetallesAC(_jsonSet4).then(function(resp){if(resp!=undefined){setconfirm_alert(false);initializeData(locationData);toggleShowModalCapex3(false);}else{setconfirm_alert(false);seterror_dlg(true);}}).catch(function(err){setconfirm_alert(false);seterror_dlg(true);});}}//abrimos modal para adjunar archivos\nfunction toggleShowModalCapex1(estado){setShowModalCapex1(estado);removeBodyCss();}//abrimos modal para adjunar archivos\nfunction toggleShowModalCapex2(estado){setShowModalCapex2(estado);removeBodyCss();}//abrimos modal para adjunar archivos\nfunction toggleShowModalCapex3(estado){setShowModalCapex3(estado);removeBodyCss();}function removeBodyCss(){document.body.classList.add(\"no_padding\");}function handleSubmit(event,errors,values){event.preventDefault();if(errors.length>0){return;}}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"h5\",{children:t(\"Capex\")}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsxs(AvForm,{id:\"frmSearch\",className:\"needs-validation\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(HeaderSections,{title:\"Capex\",descri:\"\",t:t}),/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsx(Link,{className:\"float-end\",onClick:function onClick(){setbotonValidation(true);setdataCapex1({\"transactId\":1,\"personId\":1,\"capexId\":0,\"observations\":\"\",\"thousandUse\":0,\"shareholder\":\"\",\"back\":\"\",\"status\":true});setTipo(\"CAPEX1\");toggleShowModalCapex1(true);},children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-plus-box-multiple-outline mdi-24px\"})})}),/*#__PURE__*/_jsx(Col,{md:\"12\",style:{\"overflowX\":\"scroll\"},children:/*#__PURE__*/_jsxs(Table,{className:\"table mt-1\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"Description\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"UsesInMiles\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Shareholder\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Bank\")}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataCapex1Rows})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(HeaderSections,{title:\"Budget\",descri:\"\",t:t}),/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsx(Link,{className:\"float-end\",onClick:function onClick(){setbotonValidation(true);setdataCapex2({\"transactId\":0,\"capexId\":0,\"budget\":\"\",\"amount\":0,\"status\":true});setTipo(\"CAPEX2\");toggleShowModalCapex2(true);},children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-plus-box-multiple-outline mdi-24px\"})})}),/*#__PURE__*/_jsx(Col,{md:\"12\",style:{\"overflowX\":\"scroll\"},children:/*#__PURE__*/_jsxs(Table,{className:\"table mt-1\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"Budget\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Amount\")}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataCapex2Rows})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(HeaderSections,{title:\"Details\",descri:\"\",t:t}),/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsx(Link,{className:\"float-end\",onClick:function onClick(){setbotonValidation(true);setdataCapex3({\"transactId\":0,\"capexDetailsId\":0,\"observations\":\"\",\"amount\":0,\"status\":true});setTipo(\"CAPEX3\");toggleShowModalCapex3(true);},children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-plus-box-multiple-outline mdi-24px\"})})}),/*#__PURE__*/_jsx(Col,{md:\"12\",style:{\"overflowX\":\"scroll\"},children:/*#__PURE__*/_jsxs(Table,{className:\"table mt-1\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"ProjectDetails\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Amount\")}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataCapex3Rows})]})})]}),locationData?(props===null||props===void 0?void 0:props.activeTab)==23?/*#__PURE__*/_jsx(AttachmentFileCore,{attachmentFileInputModel:new AttachmentFileInputModel(locationData.transactionId,OPTs.PROCESS_INFORMEGESTION,OPTs.ACT_CAPEX)}):null:null]}),/*#__PURE__*/_jsx(ModalCapex1,{SaveData:SaveData,botones:botonValidation,tipo:tipo,UpdateData:UpdateData,dataCapex1:dataCapex1,isOpen:showModalCapex1,toggle:function toggle(){toggleShowModalCapex1(false);}}),/*#__PURE__*/_jsx(ModalCapex2,{SaveData:SaveData,botones:botonValidation,tipo:tipo,UpdateData:UpdateData,dataCapex2:dataCapex2,isOpen:showModalCapex2,toggle:function toggle(){toggleShowModalCapex2(false);}}),/*#__PURE__*/_jsx(ModalCapex3,{SaveData:SaveData,botones:botonValidation,tipo:tipo,UpdateData:UpdateData,dataCapex3:dataCapex3,isOpen:showModalCapex3,toggle:function toggle(){toggleShowModalCapex3(false);}}),successSave_dlg?/*#__PURE__*/_jsx(SweetAlert,{success:true,title:t(\"SuccessDialog\"),onConfirm:function onConfirm(){setsuccessSave_dlg(false);initializeData(locationData);},children:t(\"SuccessSaveMessage\")}):null,error_dlg?/*#__PURE__*/_jsx(SweetAlert,{error:true,title:t(\"ErrorDialog\"),onConfirm:function onConfirm(){seterror_dlg(false);initializeData(locationData);},children:error_msg}):null,confirm_alert?/*#__PURE__*/_jsx(SweetAlert,{title:t(\"Areyousure\"),warning:true,showCancel:true,confirmButtonText:t(\"Yesdeleteit\"),confirmBtnBsStyle:\"success\",cancelBtnBsStyle:\"danger\",onConfirm:function onConfirm(){var apiBack=new BackendServices();if(tipo==\"DCAPEX1\"){var _locationData$transac;// eliminarListaCapexAC\napiBack.eliminarListaCapexAC((_locationData$transac=locationData===null||locationData===void 0?void 0:locationData.transactionId)!==null&&_locationData$transac!==void 0?_locationData$transac:0,usuarioData===null||usuarioData===void 0?void 0:usuarioData.personId,dataCapex1.capexId).then(function(resp){if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(true);}else{setconfirm_alert(false);initializeData(locationData);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(true);});}if(tipo==\"DCAPEX2\"){var _locationData$transac2;// eliminarListaCapexPresupuestoAC\napiBack.eliminarListaCapexPresupuestoAC((_locationData$transac2=locationData===null||locationData===void 0?void 0:locationData.transactionId)!==null&&_locationData$transac2!==void 0?_locationData$transac2:0,usuarioData===null||usuarioData===void 0?void 0:usuarioData.personId,dataCapex2.capexId).then(function(resp){if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(true);}else{setconfirm_alert(false);initializeData(locationData);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(true);});}if(tipo==\"DCAPEX3\"){var _locationData$transac3;// eliminarListaCapexDetallesAC\napiBack.eliminarListaCapexDetallesAC((_locationData$transac3=locationData===null||locationData===void 0?void 0:locationData.transactionId)!==null&&_locationData$transac3!==void 0?_locationData$transac3:0,usuarioData===null||usuarioData===void 0?void 0:usuarioData.personId,dataCapex3.capexDetailId).then(function(resp){if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(true);}else{setconfirm_alert(false);initializeData(locationData);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(true);});}},onCancel:function onCancel(){return setconfirm_alert(false);},children:t(\"Youwontbeabletorevertthis\")}):null]});});export default Capex;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/Capex.js"],"names":["React","useState","useTranslation","withTranslation","Link","useLocation","useHistory","Row","Col","Button","Table","AvForm","AvField","AvGroup","ModalCapex1","ModalCapex2","ModalCapex3","AttachmentFileCore","OPTs","AttachmentFileInputModel","SweetAlert","BackendServices","url","Currency","HeaderSections","Capex","forwardRef","props","ref","currencyData","t","i18n","location","successSave_dlg","setsuccessSave_dlg","error_dlg","seterror_dlg","error_msg","seterror_msg","confirm_alert","setconfirm_alert","data","dataLocation","setData","botonValidation","setbotonValidation","dataCapex1","setdataCapex1","dataCapex2","setdataCapex2","dataCapex3","setdataCapex3","tipo","setTipo","formValid","setFormValid","dataCapex1Rows","setdataCapex1Rows","dataCapex2Rows","setdataCapex2Rows","dataCapex3Rows","setdataCapex3Rows","usuarioData","setusuarioData","useImperativeHandle","validateForm","form","document","getElementById","requestSubmit","getFormValidation","showModalCapex1","setShowModalCapex1","showModalCapex2","setShowModalCapex2","showModalCapex3","setShowModalCapex3","locationData","setLocationData","history","useEffect","dataSession","undefined","transactionId","length","push","URL_DASHBOARD","sessionStorage","setItem","JSON","stringify","result","getItem","parse","initializeData","activeTab","api","consultarListaCapexAC","then","resp","map","index","status","observations","format","thousandUse","shareholder","back","textAlign","updateData","deleteData","consultarListaCapexPresupuestoAC","budget","amount","consultarListaCapexDetallesAC","details","consultPrincipalDebtor","tipo2","toggleShowModalCapex1","toggleShowModalCapex2","toggleShowModalCapex3","SaveData","transactId","Number","personId","getRealValue","useInMiles","description","bank","jsonSet","guardarListaCapexAC","catch","err","guardarListaCapexPresupuestoAC","guardarListaCapexDetallesAC","UpdateData","capexId","actualizarListaCapexAC","actualizarListaCapexPresupuestoAC","capexDetailId","actualizarListaCapexDetallesAC","estado","removeBodyCss","body","classList","add","handleSubmit","event","errors","values","preventDefault","PROCESS_INFORMEGESTION","ACT_CAPEX","apiBack","eliminarListaCapexAC","statusCode","error","eliminarListaCapexPresupuestoAC","eliminarListaCapexDetallesAC"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\r\nimport { useTranslation, withTranslation } from \"react-i18next\"\r\nimport PropTypes from 'prop-types'\r\nimport { Link, useLocation, useHistory } from \"react-router-dom\"\r\nimport {\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Table,\r\n} from \"reactstrap\"\r\n\r\nimport { AvForm, AvField, AvGroup } from \"availity-reactstrap-validation\"\r\nimport ModalCapex1 from \"./ModalCapex1.js\"\r\nimport ModalCapex2 from \"./ModalCapex2.js\"\r\nimport ModalCapex3 from \"./ModalCapex3.js\"\r\nimport AttachmentFileCore from \"../../../../../components/Common/AttachmentFileCore\";\r\nimport * as OPTs from \"../../../../../helpers/options_helper\";\r\nimport { AttachmentFileInputModel } from '../../../../../models/Common/AttachmentFileInputModel';\r\nimport SweetAlert from \"react-bootstrap-sweetalert\"\r\nimport { BackendServices } from \"../../../../../services/index.js\"\r\nimport * as url from \"../../../../../helpers/url_helper\"\r\nimport Currency from \"../../../../../helpers/currency\";\r\nimport HeaderSections from \"../../../../../components/Common/HeaderSections.js\"\r\nconst Capex = React.forwardRef((props, ref) => {\r\n  const currencyData = new Currency();\r\n  const { t, i18n } = useTranslation();\r\n  // const { locationData } = props;\r\n  const location = useLocation()\r\n  /* ---------------------------------------------------------------------------------------------- */\r\n  /*                        Variables de estados para los mensajes de alerta                        */\r\n  /* ---------------------------------------------------------------------------------------------- */\r\n  const [successSave_dlg, setsuccessSave_dlg] = useState(false);\r\n  const [error_dlg, seterror_dlg] = useState(false);\r\n  const [error_msg, seterror_msg] = useState(\"\");\r\n  const [confirm_alert, setconfirm_alert] = useState(false)\r\n  const [dataLocation, setData] = useState(location.data);\r\n  const [botonValidation, setbotonValidation] = useState(true);\r\n  const [dataCapex1, setdataCapex1] = useState({\r\n    \"transactId\": 0,\r\n    \"personId\": 0,\r\n    \"capexId\": 0,\r\n    \"observations\": \"\",\r\n    \"thousandUse\": 0,\r\n    \"shareholder\": \"\",\r\n    \"back\": \"\",\r\n    \"status\": true\r\n  });\r\n  const [dataCapex2, setdataCapex2] = useState({\r\n    \"transactId\": 0,\r\n    \"capexId\": 0,\r\n    \"budget\": \"\",\r\n    \"amount\": 0,\r\n    \"status\": true\r\n  });\r\n  const [dataCapex3, setdataCapex3] = useState({\r\n    \"transactId\": 0,\r\n    \"capexDetailsId\": 0,\r\n    \"observations\": \"\",\r\n    \"amount\": 0,\r\n    \"status\": true\r\n  });\r\n  const [tipo, setTipo] = useState(null);\r\n  const [formValid, setFormValid] = useState(false);\r\n  const [dataCapex1Rows, setdataCapex1Rows] = useState(null);\r\n  const [dataCapex2Rows, setdataCapex2Rows] = useState(null);\r\n  const [dataCapex3Rows, setdataCapex3Rows] = useState(null);\r\n  const [usuarioData, setusuarioData] = useState(null);\r\n  React.useImperativeHandle(ref, () => ({\r\n    validateForm: () => {\r\n      const form = document.getElementById('frmProveedores');\r\n      form.requestSubmit();\r\n    },\r\n    getFormValidation: () => {\r\n      return formValid;\r\n    }\r\n  }));\r\n  const [showModalCapex1, setShowModalCapex1] = useState(false);\r\n  const [showModalCapex2, setShowModalCapex2] = useState(false);\r\n  const [showModalCapex3, setShowModalCapex3] = useState(false);\r\n  const [locationData, setLocationData] = useState(null);\r\n  const history = useHistory();\r\n  React.useEffect(() => {\r\n    let dataSession;\r\n    if (location.data !== null && location.data !== undefined) {\r\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n        //location.data.transactionId = 0;\r\n        //checkAndCreateProcedure(location.data);\r\n        history.push(url.URL_DASHBOARD);\r\n      }\r\n      else {\r\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n        setLocationData(location.data);\r\n        dataSession = location.data;\r\n      }\r\n    }\r\n    else {\r\n      //chequeamos si tenemos guardado en session\r\n      var result = sessionStorage.getItem('locationData');\r\n      if (result !== undefined && result !== null) {\r\n        result = JSON.parse(result);\r\n        setLocationData(result);\r\n        dataSession = result;\r\n      }\r\n    }\r\n    // Read Api Service data\r\n    initializeData(dataSession);\r\n  }, [props.activeTab == 23]);\r\n  const api = new BackendServices();\r\n  function initializeData(dataLocation) {\r\n    api.consultarListaCapexAC(dataLocation.transactionId).then(resp => {\r\n      if (resp != undefined) {\r\n        setdataCapex1Rows(resp.map((data, index) => (\r\n          data.status ?\r\n            <tr key={index}>\r\n              <td>{data.observations}</td>\r\n              <td>${currencyData.format(data.thousandUse)}</td>\r\n              <td>{data.shareholder}</td>\r\n              <td>{data.back}</td>\r\n              <td style={{ textAlign: \"right\" }}>\r\n                <Button type=\"button\" color=\"link\" onClick={(resp) => { updateData(data, \"ECAPEX1\") }} className=\"btn btn-link\" ><i className=\"mdi mdi-border-color mdi-24px\"></i></Button>\r\n                <Button type=\"button\" color=\"link\" onClick={(resp) => { deleteData(data, \"DCAPEX1\") }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n              </td>\r\n            </tr> : null)\r\n        ));\r\n      } else {\r\n        setdataCapex1Rows(\r\n          <tr key={3431}>\r\n            <td colSpan=\"4\" style={{ textAlign: 'center' }}></td>\r\n          </tr>);\r\n      }\r\n    });\r\n    api.consultarListaCapexPresupuestoAC(dataLocation.transactionId).then(resp => {\r\n      if (resp != undefined) {\r\n        setdataCapex2Rows(resp.map((data, index) => (\r\n          <tr key={index}>\r\n            <td>{data.budget}</td>\r\n            <td>${currencyData.format(data.amount)}</td>\r\n            <td style={{ textAlign: \"right\" }}>\r\n              <Button type=\"button\" color=\"link\" onClick={(resp) => { updateData(data, \"ECAPEX2\") }} className=\"btn btn-link\" ><i className=\"mdi mdi-border-color mdi-24px\"></i></Button>\r\n              <Button type=\"button\" color=\"link\" onClick={(resp) => { deleteData(data, \"DCAPEX2\") }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n            </td>\r\n          </tr>)\r\n        ));\r\n      } else {\r\n        setdataCapex2Rows(\r\n          <tr key={34321}>\r\n            <td colSpan=\"2\" style={{ textAlign: 'center' }}></td>\r\n          </tr>);\r\n      }\r\n    });\r\n    api.consultarListaCapexDetallesAC(dataLocation.transactionId).then(resp => {\r\n      if (resp != undefined) {\r\n        setdataCapex3Rows(resp.map((data, index) => (\r\n          <tr key={index}>\r\n            <td>{data.details}</td>\r\n            <td>${currencyData.format(data.amount)}</td>\r\n            <td style={{ textAlign: \"right\" }}>\r\n              <Button type=\"button\" color=\"link\" onClick={(resp) => { updateData(data, \"ECAPEX3\") }} className=\"btn btn-link\" ><i className=\"mdi mdi-border-color mdi-24px\"></i></Button>\r\n              <Button type=\"button\" color=\"link\" onClick={(resp) => { deleteData(data, \"DCAPEX3\") }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n            </td>\r\n          </tr>)\r\n        ));\r\n      } else {\r\n        setdataCapex3Rows(\r\n          <tr key={1234}>\r\n            <td colSpan=\"2\" style={{ textAlign: 'center' }}></td>\r\n          </tr>);\r\n      }\r\n    });\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                                   Consultar deudor principal                                   */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    api.consultPrincipalDebtor(dataLocation.transactionId).then(resp => {\r\n      setusuarioData(resp);\r\n    })\r\n  }\r\n  /* ---------------------------------------------------------------------------------------------- */\r\n  /*                                     actualizamos los datos                                     */\r\n  /* ---------------------------------------------------------------------------------------------- */\r\n  function updateData(data, tipo2) {\r\n    setTipo(tipo2);\r\n    if (tipo2 == \"ECAPEX1\") {\r\n      setdataCapex1(data);\r\n      toggleShowModalCapex1(true)\r\n    }\r\n    if (tipo2 == \"ECAPEX2\") {\r\n      setdataCapex2(data);\r\n      toggleShowModalCapex2(true)\r\n    }\r\n    if (tipo2 == \"ECAPEX3\") {\r\n      setdataCapex3(data);\r\n      toggleShowModalCapex3(true)\r\n    }\r\n    setbotonValidation(true);\r\n  }\r\n  function deleteData(data, tipo2) {\r\n    setTipo(tipo2);\r\n    if (tipo2 == \"DCAPEX1\") {\r\n      setdataCapex1(data);\r\n    }\r\n    if (tipo2 == \"DCAPEX2\") {\r\n      setdataCapex2(data);\r\n    }\r\n    if (tipo2 == \"DCAPEX3\") {\r\n      setdataCapex3(data);\r\n    }\r\n    setconfirm_alert(true);\r\n  }\r\n  function SaveData(data, tipo) {\r\n    data.transactId = Number(locationData.transactionId);\r\n    data.personId = usuarioData?.personId;\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                                  Guardamos los datos del cash                                  */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    if (tipo == \"CAPEX1\") {\r\n      data.thousandUse = Number(currencyData.getRealValue(data?.useInMiles ?? 0));\r\n      data.observations = data.description;\r\n      data.back = data.bank;\r\n      let jsonSet = {\r\n        transactId: Number(data?.transactId) ?? 0,\r\n        personId: Number(data?.personId) ?? 0,\r\n        observations: data?.observations ?? \"\",\r\n        thousandUse: Number(currencyData.getRealValue(data?.thousandUse)) ?? 0,\r\n        shareholder: data?.shareholder ?? \"\",\r\n        back: data?.back ?? \"\"\r\n      }\r\n      // guardarListaCapexAC\r\n      api.guardarListaCapexAC(jsonSet).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          initializeData(locationData);\r\n          toggleShowModalCapex1(false);\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n    if (tipo == \"CAPEX2\") {\r\n      data.thousandUse = Number(currencyData.getRealValue(data?.useInMiles ?? 0));\r\n      data.observations = data.description;\r\n      data.back = data.bank;\r\n      // guardarListaCapexPresupuestoAC\r\n      let jsonSet = {\r\n        transactId: Number(data?.transactId) ?? 0,\r\n        personId: Number(data?.personId) ?? 0,\r\n        budget: (data?.budget) ?? \" \",\r\n        amount: Number(currencyData.getRealValue(data?.amount ?? 0)) ?? 0\r\n      }\r\n      api.guardarListaCapexPresupuestoAC(data).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          initializeData(locationData);\r\n          toggleShowModalCapex2(false);\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n    if (tipo == \"CAPEX3\") {\r\n      data.details = data.observations;\r\n      // guardarListaCapexDetallesAC\r\n      let jsonSet = {\r\n        transactId: Number(data?.transactId) ?? 0,\r\n        personId: Number(data?.personId) ?? 0,\r\n        details: data?.details ?? \" \",\r\n        amount: Number(currencyData.getRealValue(data?.amount ?? 0)) ?? 0\r\n      }\r\n      api.guardarListaCapexDetallesAC(jsonSet).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          initializeData(locationData);\r\n          toggleShowModalCapex3(false);\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n  }\r\n  function UpdateData(data, tipo) {\r\n    data.transactId = Number(locationData.transactionId);\r\n    data.personId = usuarioData?.personId;\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                                    Editita el flujo de caja                                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    if (tipo == \"ECAPEX1\") {\r\n      data.thousandUse = Number(currencyData.getRealValue(data?.useInMiles ?? 0));\r\n      data.observations = data.description;\r\n      data.back = data.bank;\r\n      let jsonSet = {\r\n        transactId: Number(data?.transactId) ?? 0,\r\n        personId: Number(data?.personId) ?? 0,\r\n        capexId: Number(data?.capexId) ?? 0,\r\n        observations: data?.observations ?? \" \",//\r\n        thousandUse: Number(currencyData.getRealValue(data?.thousandUse ?? 0)) ?? 0,\r\n        shareholder: data?.shareholder ?? \" \",//\r\n        back: data?.back ?? \" \",//\r\n        status: true\r\n      }\r\n      // actualizarListaCapexAC\r\n      api.actualizarListaCapexAC(jsonSet).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          initializeData(locationData);\r\n          toggleShowModalCapex1(false);\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n    if (tipo == \"ECAPEX2\") {\r\n      data.thousandUse = Number(currencyData.getRealValue(data?.useInMiles ?? 0));\r\n      data.observations = data.description;\r\n      data.back = data.bank;\r\n      let jsonSet = {\r\n        transactId: Number(data?.transactId) ?? 0,\r\n        capexId: Number(data?.capexId) ?? 0,\r\n        personId: Number(data?.personId) ?? 0,\r\n        budget: data?.budget ?? \" \",//\r\n        amount: Number(currencyData.getRealValue(data?.amount ?? 0)) ?? 0,\r\n        status: true\r\n      }\r\n      // actualizarListaCapexPresupuestoAC\r\n      api.actualizarListaCapexPresupuestoAC(jsonSet).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          initializeData(locationData);\r\n          toggleShowModalCapex2(false);\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n    if (tipo == \"ECAPEX3\") {\r\n      data.details = data.observations;\r\n      let jsonSet = {\r\n        transactId: Number(data?.transactId) ?? 0,\r\n        personId: Number(data?.personId) ?? 0,\r\n        capexDetailId: Number(data?.capexDetailId) ?? 0,\r\n        details: data?.details ?? \"\",\r\n        amount: Number(currencyData.getRealValue(data?.amount ?? 0)) ?? 0,\r\n        status: true\r\n      }\r\n      // actualizarListaCapexDetallesAC\r\n      api.actualizarListaCapexDetallesAC(jsonSet).then(resp => {\r\n        if (resp != undefined) {\r\n          setconfirm_alert(false)\r\n          initializeData(locationData);\r\n          toggleShowModalCapex3(false);\r\n        } else {\r\n          setconfirm_alert(false)\r\n          seterror_dlg(true)\r\n        }\r\n      }).catch(err => {\r\n        setconfirm_alert(false)\r\n        seterror_dlg(true)\r\n      });\r\n    }\r\n  }\r\n  //abrimos modal para adjunar archivos\r\n  function toggleShowModalCapex1(estado) {\r\n    setShowModalCapex1(estado);\r\n    removeBodyCss()\r\n  }\r\n  //abrimos modal para adjunar archivos\r\n  function toggleShowModalCapex2(estado) {\r\n    setShowModalCapex2(estado);\r\n    removeBodyCss()\r\n  }\r\n  //abrimos modal para adjunar archivos\r\n  function toggleShowModalCapex3(estado) {\r\n    setShowModalCapex3(estado);\r\n    removeBodyCss()\r\n  }\r\n  function removeBodyCss() {\r\n    document.body.classList.add(\"no_padding\")\r\n  }\r\n  function handleSubmit(event, errors, values) {\r\n    event.preventDefault();\r\n    if (errors.length > 0) {\r\n      return;\r\n    }\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <h5>\r\n        {t(\"Capex\")}\r\n      </h5>\r\n      <p className=\"card-title-desc\"></p>\r\n      <AvForm id=\"frmSearch\" className=\"needs-validation\" onSubmit={handleSubmit}>\r\n        <Row>\r\n          <HeaderSections title=\"Capex\" descri=\"\" t={t} />\r\n          <Col md=\"12\">\r\n            <Link className=\"float-end\" onClick={() => {\r\n              setbotonValidation(true); setdataCapex1({\r\n                \"transactId\": 1,\r\n                \"personId\": 1,\r\n                \"capexId\": 0,\r\n                \"observations\": \"\",\r\n                \"thousandUse\": 0,\r\n                \"shareholder\": \"\",\r\n                \"back\": \"\",\r\n                \"status\": true\r\n              }); setTipo(\"CAPEX1\"); toggleShowModalCapex1(true)\r\n            }}><i className=\"mdi mdi-plus-box-multiple-outline mdi-24px\"></i></Link>\r\n          </Col>\r\n          <Col md=\"12\" style={{ \"overflowX\": \"scroll\" }}>\r\n            <Table className=\"table mt-1\" >\r\n              <thead className=\"table-light\">\r\n                <tr>\r\n                  <th>{t(\"Description\")}</th>\r\n                  <th>{t(\"UsesInMiles\")}</th>\r\n                  {/* <th>{t(\"SourcesThousands\")}</th> */}\r\n                  <th>{t(\"Shareholder\")}</th>\r\n                  <th>{t(\"Bank\")}</th>\r\n                  <th></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {dataCapex1Rows}\r\n              </tbody>\r\n            </Table>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <HeaderSections title=\"Budget\" descri=\"\" t={t} />\r\n          <Col md=\"12\">\r\n            <Link className=\"float-end\" onClick={() => {\r\n              setbotonValidation(true); setdataCapex2({\r\n                \"transactId\": 0,\r\n                \"capexId\": 0,\r\n                \"budget\": \"\",\r\n                \"amount\": 0,\r\n                \"status\": true\r\n              }); setTipo(\"CAPEX2\"); toggleShowModalCapex2(true)\r\n            }}><i className=\"mdi mdi-plus-box-multiple-outline mdi-24px\"></i></Link>\r\n          </Col>\r\n          <Col md=\"12\" style={{ \"overflowX\": \"scroll\" }}>\r\n            <Table className=\"table mt-1\" >\r\n              <thead className=\"table-light\">\r\n                <tr>\r\n                  <th>{t(\"Budget\")}</th>\r\n                  <th>{t(\"Amount\")}</th>\r\n                  <th></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {dataCapex2Rows}\r\n              </tbody>\r\n            </Table>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <HeaderSections title=\"Details\" descri=\"\" t={t} />\r\n          <Col md=\"12\">\r\n            <Link className=\"float-end\" onClick={() => {\r\n              setbotonValidation(true); setdataCapex3({\r\n                \"transactId\": 0,\r\n                \"capexDetailsId\": 0,\r\n                \"observations\": \"\",\r\n                \"amount\": 0,\r\n                \"status\": true\r\n              }); setTipo(\"CAPEX3\"); toggleShowModalCapex3(true)\r\n            }}><i className=\"mdi mdi-plus-box-multiple-outline mdi-24px\"></i></Link>\r\n          </Col>\r\n          <Col md=\"12\" style={{ \"overflowX\": \"scroll\" }}>\r\n            <Table className=\"table mt-1\" >\r\n              <thead className=\"table-light\">\r\n                <tr>\r\n                  <th>{t(\"ProjectDetails\")}</th>\r\n                  <th>{t(\"Amount\")}</th>\r\n                  <th></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {dataCapex3Rows}\r\n              </tbody>\r\n            </Table>\r\n          </Col>\r\n        </Row>\r\n        {locationData ? (props?.activeTab == 23 ?\r\n          <AttachmentFileCore attachmentFileInputModel={new AttachmentFileInputModel(locationData.transactionId, OPTs.PROCESS_INFORMEGESTION, OPTs.ACT_CAPEX)} />\r\n          : null) : null}\r\n\r\n      </AvForm>\r\n      <ModalCapex1 SaveData={SaveData} botones={botonValidation} tipo={tipo} UpdateData={UpdateData} dataCapex1={dataCapex1} isOpen={showModalCapex1} toggle={() => { toggleShowModalCapex1(false) }} />\r\n      <ModalCapex2 SaveData={SaveData} botones={botonValidation} tipo={tipo} UpdateData={UpdateData} dataCapex2={dataCapex2} isOpen={showModalCapex2} toggle={() => { toggleShowModalCapex2(false) }} />\r\n      <ModalCapex3 SaveData={SaveData} botones={botonValidation} tipo={tipo} UpdateData={UpdateData} dataCapex3={dataCapex3} isOpen={showModalCapex3} toggle={() => { toggleShowModalCapex3(false) }} />\r\n      {successSave_dlg ? (\r\n        <SweetAlert\r\n          success\r\n          title={t(\"SuccessDialog\")}\r\n          onConfirm={() => {\r\n            setsuccessSave_dlg(false)\r\n            initializeData(locationData);\r\n          }}\r\n        >\r\n          {t(\"SuccessSaveMessage\")}\r\n        </SweetAlert>\r\n      ) : null}\r\n\r\n      {error_dlg ? (\r\n        <SweetAlert\r\n          error\r\n          title={t(\"ErrorDialog\")}\r\n          onConfirm={() => {\r\n            seterror_dlg(false)\r\n            initializeData(locationData);\r\n          }}\r\n        >\r\n          {error_msg}\r\n        </SweetAlert>\r\n      ) : null}\r\n      {confirm_alert ? (\r\n        <SweetAlert\r\n          title={t(\"Areyousure\")}\r\n          warning\r\n          showCancel\r\n          confirmButtonText={t(\"Yesdeleteit\")}\r\n          confirmBtnBsStyle=\"success\"\r\n          cancelBtnBsStyle=\"danger\"\r\n          onConfirm={() => {\r\n            const apiBack = new BackendServices();\r\n            if (tipo == \"DCAPEX1\") {\r\n              // eliminarListaCapexAC\r\n              apiBack.eliminarListaCapexAC(locationData?.transactionId ?? 0, usuarioData?.personId, dataCapex1.capexId).then(resp => {\r\n                if (resp.statusCode == \"500\") {\r\n                  setconfirm_alert(false)\r\n                  seterror_dlg(true)\r\n                } else {\r\n                  setconfirm_alert(false)\r\n                  initializeData(locationData);\r\n                }\r\n              }).catch(error => {\r\n                setconfirm_alert(false)\r\n                seterror_dlg(true)\r\n              })\r\n            }\r\n            if (tipo == \"DCAPEX2\") {\r\n              // eliminarListaCapexPresupuestoAC\r\n              apiBack.eliminarListaCapexPresupuestoAC(locationData?.transactionId ?? 0, usuarioData?.personId, dataCapex2.capexId).then(resp => {\r\n                if (resp.statusCode == \"500\") {\r\n                  setconfirm_alert(false)\r\n                  seterror_dlg(true)\r\n                } else {\r\n                  setconfirm_alert(false)\r\n                  initializeData(locationData);\r\n                }\r\n              }).catch(error => {\r\n                setconfirm_alert(false)\r\n                seterror_dlg(true)\r\n              })\r\n            }\r\n            if (tipo == \"DCAPEX3\") {\r\n              // eliminarListaCapexDetallesAC\r\n              apiBack.eliminarListaCapexDetallesAC(locationData?.transactionId ?? 0, usuarioData?.personId, dataCapex3.capexDetailId).then(resp => {\r\n                if (resp.statusCode == \"500\") {\r\n                  setconfirm_alert(false)\r\n                  seterror_dlg(true)\r\n                } else {\r\n                  setconfirm_alert(false)\r\n                  initializeData(locationData);\r\n                }\r\n              }).catch(error => {\r\n                setconfirm_alert(false)\r\n                seterror_dlg(true)\r\n              })\r\n            }\r\n          }}\r\n          onCancel={() => setconfirm_alert(false)}\r\n        >\r\n          {t(\"Youwontbeabletorevertthis\")}\r\n        </SweetAlert>\r\n      ) : null}\r\n    </React.Fragment>\r\n  );\r\n\r\n});\r\nCapex.propTypes = {\r\n  locationData: PropTypes.any,\r\n}\r\nexport default Capex;\r\n"]},"metadata":{},"sourceType":"module"}