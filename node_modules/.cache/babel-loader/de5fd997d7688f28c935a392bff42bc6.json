{"ast":null,"code":"var _jsxFileName = \"D:\\\\_PROJECTS\\\\_SOAINT\\\\JBPM\\\\App\\\\banescocreditoscomerciales\\\\src\\\\pages\\\\CommercialCredit\\\\10_Fideicomiso\\\\AsignarNumeroFideicomiso\\\\guarantors.js\",\n    _s = $RefreshSig$();\n\n/*ReinforcedManagementReport = Lista de Informe Reforzado*/\nimport React, { useState } from \"react\";\nimport PropTypes from 'prop-types';\nimport { BackendServices, CoreServices } from \"../../../../services\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport SweetAlert from \"react-bootstrap-sweetalert\";\nimport { Row, Col, Card, CardBody, CardHeader, Button, Label, Table } from \"reactstrap\";\nimport { AvForm, AvField } from \"availity-reactstrap-validation\"; //i18n\n\nimport { withTranslation } from \"react-i18next\";\nimport ModalBeneficiosFideicomiso from \"./ModalBeneficiosFideicomiso\";\nimport * as url from \"../../../../helpers/url_helper\";\nimport { uniq_key } from \"../../../../helpers/unq_key\";\nimport { PersonModel } from \"../../../../models/Common/PersonModel\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Guarantors = props => {\n  _s();\n\n  const apiBack = new BackendServices();\n  const location = useLocation();\n  const [botonValidation, setbotonValidation] = useState(true);\n  const [showModalFideicomitente, setShowModalFideicomitente] = useState(false);\n  const [type, settype] = useState(\"\");\n  const [dataGuarantorRow, setdataGuarantorRow] = useState(null);\n  const [dataSet, setdataSet] = useState({\n    \"transactId\": 0,\n    \"firstName\": \"\",\n    \"secondName\": \"\",\n    \"firstLastName\": \"\",\n    \"secondLastName\": \"\",\n    \"nationality\": \"\",\n    \"personType\": \"\",\n    \"documentType\": \"\",\n    \"documentNumber\": \"\",\n    \"address\": \"\",\n    \"telephone\": \"\",\n    \"relationship\": \"\",\n    \"percentage\": 0\n  });\n  const [locationData, setLocationData] = useState(null);\n  const history = useHistory();\n  React.useEffect(() => {\n    let dataSession;\n\n    if (location.data !== null && location.data !== undefined) {\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\n        //location.data.transactionId = 0;\n        //checkAndCreateProcedure(location.data);\n        history.push(url.URL_DASHBOARD);\n      } else {\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\n        setLocationData(location.data);\n        dataSession = location.data;\n      }\n    } else {\n      //chequeamos si tenemos guardado en session\n      var result = sessionStorage.getItem('locationData');\n\n      if (result !== undefined && result !== null) {\n        result = JSON.parse(result);\n        setLocationData(result);\n        dataSession = result;\n      }\n    } // Read Api Service data\n\n\n    initializeData(dataSession);\n  }, []);\n\n  function initializeData(dataSession) {\n    apiBack.consultGuarantors(dataSession.transactionId).then(response => {\n      console.log(response);\n      (response === null || response === void 0 ? void 0 : response.length) > 0 && setdataGuarantorRow(response.map(data => {\n        /*#__PURE__*/\n        _jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: `${data.name} ${data.lastName}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: data.guarantorRelationship\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: data.warrantyReason\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: data.documentType\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: data.guarantorDocument\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: data.guarantorDocument\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"button\",\n              color: \"link\",\n              onClick: resp => {\n                surveillanceList(data);\n              },\n              className: \"btn btn-link\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"mdi mdi-shield-account mdi-24px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 133\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 21\n          }, this)]\n        }, uniq_key(), true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this);\n      }));\n      (response === null || response === void 0 ? void 0 : response.length) === 0 && setdataGuarantorRow( /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: /*#__PURE__*/_jsxDEV(\"td\", {\n          colSpan: \"9\",\n          style: {\n            textAlign: 'center'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: props.t(\"NoData\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 69\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this)\n      }, 1, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this));\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  function surveillanceList(data) {\n    let model = new PersonModel();\n    data = { ...model,\n      ...data\n    };\n    props.showBlackListFormModal(data);\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        lg: \"12\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-title-desc\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-title-desc\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-row justify-content-between my-3\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"card-title\",\n            children: props.t(\"Guarantors\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-responsive styled-table-div\",\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            className: \"table table-striped table-hover styled-table table mb-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: props.t(\"Name\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: props.t(\"Guarantor Relation Ship\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: props.t(\"Warranty Reason\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: props.t(\"Document Type\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: props.t(\"Guarantor Document\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    textAlign: \"right\"\n                  },\n                  children: props.t(\"Actions\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: dataGuarantorRow\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Guarantors, \"1f7zwPfecCqPACnOEwqRc4ZUf+E=\", false, function () {\n  return [useLocation, useHistory];\n});\n\n_c = Guarantors;\nexport default withTranslation()(Guarantors);\n\nvar _c;\n\n$RefreshReg$(_c, \"Guarantors\");","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/10_Fideicomiso/AsignarNumeroFideicomiso/guarantors.js"],"names":["React","useState","PropTypes","BackendServices","CoreServices","useLocation","useHistory","SweetAlert","Row","Col","Card","CardBody","CardHeader","Button","Label","Table","AvForm","AvField","withTranslation","ModalBeneficiosFideicomiso","url","uniq_key","PersonModel","Guarantors","props","apiBack","location","botonValidation","setbotonValidation","showModalFideicomitente","setShowModalFideicomitente","type","settype","dataGuarantorRow","setdataGuarantorRow","dataSet","setdataSet","locationData","setLocationData","history","useEffect","dataSession","data","undefined","transactionId","length","push","URL_DASHBOARD","sessionStorage","setItem","JSON","stringify","result","getItem","parse","initializeData","consultGuarantors","then","response","console","log","map","name","lastName","guarantorRelationship","warrantyReason","documentType","guarantorDocument","resp","surveillanceList","textAlign","t","catch","err","model","showBlackListFormModal"],"mappings":"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","sourcesContent":["/*ReinforcedManagementReport = Lista de Informe Reforzado*/\r\nimport React, { useState } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { BackendServices, CoreServices } from \"../../../../services\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport SweetAlert from \"react-bootstrap-sweetalert\";\r\nimport {\r\n    Row,\r\n    Col,\r\n    Card,\r\n    CardBody,\r\n    CardHeader,\r\n    Button,\r\n    Label,\r\n    Table\r\n} from \"reactstrap\";\r\nimport { AvForm, AvField } from \"availity-reactstrap-validation\";\r\n//i18n\r\nimport { withTranslation } from \"react-i18next\";\r\nimport ModalBeneficiosFideicomiso from \"./ModalBeneficiosFideicomiso\";\r\nimport * as url from \"../../../../helpers/url_helper\"\r\nimport { uniq_key } from \"../../../../helpers/unq_key\";\r\nimport { PersonModel } from \"../../../../models/Common/PersonModel\";\r\n\r\nconst Guarantors = (props) => {\r\n    const apiBack = new BackendServices();\r\n    const location = useLocation()\r\n    const [botonValidation, setbotonValidation] = useState(true);\r\n    const [showModalFideicomitente, setShowModalFideicomitente] = useState(false);\r\n    const [type, settype] = useState(\"\");\r\n\r\n    const [dataGuarantorRow, setdataGuarantorRow] = useState(null)\r\n    const [dataSet, setdataSet] = useState({\r\n        \"transactId\": 0,\r\n        \"firstName\": \"\",\r\n        \"secondName\": \"\",\r\n        \"firstLastName\": \"\",\r\n        \"secondLastName\": \"\",\r\n        \"nationality\": \"\",\r\n        \"personType\": \"\",\r\n        \"documentType\": \"\",\r\n        \"documentNumber\": \"\",\r\n        \"address\": \"\",\r\n        \"telephone\": \"\",\r\n        \"relationship\": \"\",\r\n        \"percentage\": 0\r\n    });\r\n\r\n    const [locationData, setLocationData] = useState(null);\r\n    const history = useHistory();\r\n\r\n    React.useEffect(() => {\r\n\r\n        let dataSession;\r\n\r\n        if (location.data !== null && location.data !== undefined) {\r\n            if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n                //location.data.transactionId = 0;\r\n                //checkAndCreateProcedure(location.data);\r\n                history.push(url.URL_DASHBOARD);\r\n            }\r\n            else {\r\n                sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n                setLocationData(location.data);\r\n                dataSession = location.data;\r\n            }\r\n        }\r\n        else {\r\n            //chequeamos si tenemos guardado en session\r\n            var result = sessionStorage.getItem('locationData');\r\n            if (result !== undefined && result !== null) {\r\n                result = JSON.parse(result);\r\n                setLocationData(result);\r\n                dataSession = result;\r\n            }\r\n        }\r\n\r\n\r\n        // Read Api Service data\r\n        initializeData(dataSession);\r\n    }, []);\r\n\r\n    function initializeData(dataSession) {\r\n        apiBack.consultGuarantors(dataSession.transactionId).then(response => {\r\n            console.log(response)\r\n            response?.length > 0 && setdataGuarantorRow(response.map(data => {\r\n                <tr key={uniq_key()}>\r\n                    <td>\r\n                        {`${data.name} ${data.lastName}`}\r\n                    </td>\r\n                    <td>\r\n                        {data.guarantorRelationship}\r\n                    </td>\r\n                    <td>\r\n                        {data.warrantyReason}\r\n                    </td>\r\n                    <td>\r\n                        {data.documentType}\r\n                    </td>\r\n                    <td>\r\n                        {data.guarantorDocument}\r\n                    </td>\r\n                    <td>\r\n                        {data.guarantorDocument}\r\n                    </td>\r\n                    <td>\r\n                        <Button type=\"button\" color=\"link\" onClick={(resp) => { surveillanceList(data) }} className=\"btn btn-link\" ><i className=\"mdi mdi-shield-account mdi-24px\"></i></Button>\r\n                    </td>\r\n                </tr>\r\n            }))\r\n            response?.length === 0 && setdataGuarantorRow(\r\n                <tr key={1}>\r\n                    <td colSpan=\"9\" style={{ textAlign: 'center' }}><h5>{props.t(\"NoData\")}</h5></td>\r\n                </tr>)\r\n        }).catch(err => { console.log(err) })\r\n    }\r\n    function surveillanceList(data) {\r\n        let model = new PersonModel();\r\n        data = { ...model, ...data }\r\n        props.showBlackListFormModal(data)\r\n    }\r\n    return (\r\n        <React.Fragment>\r\n            <Row>\r\n                <Col lg=\"12\">\r\n                    <p className=\"card-title-desc\"></p>\r\n                    <p className=\"card-title-desc\"></p>\r\n                    <div className=\"d-flex flex-row justify-content-between my-3\">\r\n                        <h4 className=\"card-title\">{props.t(\"Guarantors\")}</h4>\r\n                    </div>\r\n                    <div className=\"table-responsive styled-table-div\">\r\n                        <Table className=\"table table-striped table-hover styled-table table mb-0\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>{props.t(\"Name\")}</th>\r\n                                    <th>{props.t(\"Guarantor Relation Ship\")}</th>\r\n                                    <th>{props.t(\"Warranty Reason\")}</th>\r\n                                    <th>{props.t(\"Document Type\")}</th>\r\n                                    <th>{props.t(\"Guarantor Document\")}</th>\r\n                                    <th style={{ textAlign: \"right\" }}>\r\n                                        {props.t(\"Actions\")}\r\n                                    </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {dataGuarantorRow}\r\n                            </tbody>\r\n                        </Table>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n        </React.Fragment>\r\n    );\r\n}\r\nexport default (withTranslation()(Guarantors))\r\n"]},"metadata":{},"sourceType":"module"}