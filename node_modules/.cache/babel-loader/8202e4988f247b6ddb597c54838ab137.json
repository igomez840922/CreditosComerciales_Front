{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Modal,ModalHeader,ModalBody,Label,Row,Col,Button}from\"reactstrap\";import{AvForm,AvField,AvGroup}from\"availity-reactstrap-validation\";import{BackendServices}from'../../../../services';import Select from\"react-select\";import{values}from'lodash';import{useTranslation}from'react-i18next';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ModalNewSurety=function ModalNewSurety(props){var api=new BackendServices();var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),tipoPropuesta=_useState2[0],settipoPropuesta=_useState2[1];var _useState3=useState(undefined),_useState4=_slicedToArray(_useState3,2),tipoPropuestaSelect=_useState4[0],settipoPropuestaSelect=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),propuestaSet=_useState6[0],setpropuestaSet=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),tipoPropuestaRequerido=_useState8[0],settipoPropuestaRequerido=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),dataReturn=_useState10[0],setdataReturn=_useState10[1];function handleSubmit(){dataReturn.typeBail=tipoPropuestaSelect.value;setdataReturn(dataReturn);props.saveData(dataReturn,props.tipo);props.toggle();}function handleCancel(){props.toggle();}React.useEffect(function(){// Read Api Service data\ninitializeData();},[]);React.useEffect(function(){// Read Api Service data \nvar defaultVal=null;// settipoPropuestaSelect(undefined);\nsetdataReturn(props.dataSet);setpropuestaSet(props.dataSet.typeBail);try{if(tipoPropuesta.length>0&&props.dataSet.typeBail!==null){defaultVal=tipoPropuesta.find(function(x){return x.value===props.dataSet.typeBail;});if(defaultVal!==undefined){settipoPropuestaSelect(defaultVal);}}}catch(err){}},[props.isOpen]);function initializeData(){api.retrieveBailType().then(function(response){if(response===null){return;}var json=[];for(var i=0;i<response.length;i++){json.push({label:response[i][\"description\"],value:response[i][\"id\"]});}settipoPropuesta(json);}).catch(function(error){console.error('api error: ',error);});}return/*#__PURE__*/_jsxs(Modal,{isOpen:props.isOpen,toggle:props.toggle,centered:true,size:\"md\",children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:props.toggle,color:\"primary\",children:t(\"Sureties\")}),/*#__PURE__*/_jsxs(ModalBody,{children:[/*#__PURE__*/_jsxs(AvGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"type\",children:t(\"Surety Type\")}),/*#__PURE__*/_jsx(Select,{noOptionsMessage:function noOptionsMessage(){return\"\";},onChange:function onChange(e){settipoPropuestaSelect(tipoPropuesta.find(function(x){return x.label===e.label;}));setpropuestaSet(e.label);},options:tipoPropuesta,placeholder:t(\"Select\"),value:tipoPropuestaSelect}),tipoPropuestaRequerido?/*#__PURE__*/_jsx(\"p\",{className:\"message-error-parrafo\",children:t(\"Required\")}):null]}),/*#__PURE__*/_jsxs(AvGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"description\",children:t(\"Description\")}),/*#__PURE__*/_jsx(AvField,{className:\"form-control\",name:\"observations\",type:\"textarea\",onChange:function onChange(e){dataReturn.observations=e.target.value;setdataReturn(dataReturn);},value:dataReturn===null||dataReturn===void 0?void 0:dataReturn.observations,id:\"observations\",rows:\"4\"})]}),/*#__PURE__*/_jsx(Row,{className:\"my-2\",children:/*#__PURE__*/_jsxs(Col,{xl:\"12 text-end\",children:[/*#__PURE__*/_jsxs(Button,{id:\"btnCancel\",color:\"danger\",type:\"button\",style:{margin:'5px'},onClick:handleCancel,children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-cancel mid-12px\"}),\" \",t(\"Cancel\")]}),props.botones?/*#__PURE__*/_jsxs(Button,{id:\"btnSearch\",color:\"success\",type:\"button\",onClick:function onClick(e){handleSubmit();},style:{margin:'5px'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-content-save mdi-12px\"}),\" \",\" \",props.tipo==\"COMISION\"?t(\"Save\"):t(\"Edit\")]}):null]})})]})]});};export default ModalNewSurety;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/5_PropuestaCredito/Secciones/ModalNewSurety.js"],"names":["React","useState","Modal","ModalHeader","ModalBody","Label","Row","Col","Button","AvForm","AvField","AvGroup","BackendServices","Select","values","useTranslation","ModalNewSurety","props","api","t","i18n","tipoPropuesta","settipoPropuesta","undefined","tipoPropuestaSelect","settipoPropuestaSelect","propuestaSet","setpropuestaSet","tipoPropuestaRequerido","settipoPropuestaRequerido","dataReturn","setdataReturn","handleSubmit","typeBail","value","saveData","tipo","toggle","handleCancel","useEffect","initializeData","defaultVal","dataSet","length","find","x","err","isOpen","retrieveBailType","then","response","json","i","push","label","catch","error","console","e","observations","target","margin","botones"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types'\r\n\r\nimport {\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  Label,\r\n  Row,\r\n  Col,\r\n  Button\r\n} from \"reactstrap\"\r\n\r\nimport { AvForm, AvField, AvGroup } from \"availity-reactstrap-validation\"\r\nimport { BackendServices } from '../../../../services';\r\nimport Select from \"react-select\";\r\nimport { values } from 'lodash';\r\nimport { useTranslation } from 'react-i18next';\r\nconst ModalNewSurety = (props) => {\r\n  const api = new BackendServices();\r\n  const { t, i18n } = useTranslation();\r\n  const [tipoPropuesta, settipoPropuesta] = useState(null);\r\n  const [tipoPropuestaSelect, settipoPropuestaSelect] = useState(undefined);\r\n  const [propuestaSet, setpropuestaSet] = useState(null);\r\n  const [tipoPropuestaRequerido, settipoPropuestaRequerido] = useState(false);\r\n  const [dataReturn, setdataReturn] = useState(null);\r\n  function handleSubmit() {\r\n    dataReturn.typeBail = tipoPropuestaSelect.value;\r\n    setdataReturn(dataReturn)\r\n    props.saveData(dataReturn, props.tipo);\r\n    props.toggle();\r\n  }\r\n  function handleCancel() {\r\n    props.toggle();\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    // Read Api Service data\r\n    initializeData();\r\n  }, []);\r\n  React.useEffect(() => {\r\n    // Read Api Service data \r\n    var defaultVal = null;\r\n    // settipoPropuestaSelect(undefined);\r\n    setdataReturn(props.dataSet)\r\n    setpropuestaSet(props.dataSet.typeBail)\r\n    try {\r\n      if (tipoPropuesta.length > 0 && props.dataSet.typeBail !== null) {\r\n        defaultVal = tipoPropuesta.find(x => x.value === props.dataSet.typeBail);\r\n        if (defaultVal !== undefined) {\r\n          settipoPropuestaSelect(defaultVal);\r\n        }\r\n      }\r\n    }\r\n    catch (err) { }\r\n  }, [props.isOpen]);\r\n  function initializeData() {\r\n    api.retrieveBailType()\r\n      .then((response) => {\r\n        if (response === null) { return; }\r\n        let json = [];\r\n        for (let i = 0; i < response.length; i++) {\r\n          json.push({ label: response[i][\"description\"], value: response[i][\"id\"] })\r\n        }\r\n        settipoPropuesta(json);\r\n      })\r\n      .catch((error) => {\r\n        console.error('api error: ', error);\r\n      });\r\n  }\r\n  return (\r\n    <Modal isOpen={props.isOpen}\r\n      toggle={props.toggle}\r\n      centered={true}\r\n      size=\"md\">\r\n      <ModalHeader toggle={props.toggle} color=\"primary\">{t(\"Sureties\")}</ModalHeader>\r\n      <ModalBody>\r\n        <AvGroup className=\"mb-3\">\r\n          <Label htmlFor=\"type\">{t(\"Surety Type\")}</Label>\r\n          <Select noOptionsMessage={() => \"\"} \r\n            onChange={(e) => {\r\n              settipoPropuestaSelect(tipoPropuesta.find(x => x.label === e.label))\r\n              setpropuestaSet(e.label);\r\n            }}\r\n            options={tipoPropuesta}\r\n            placeholder={t(\"Select\")}\r\n            value={tipoPropuestaSelect}\r\n          />\r\n          {tipoPropuestaRequerido ?\r\n            <p className=\"message-error-parrafo\">{t(\"Required\")}</p>\r\n            : null}\r\n        </AvGroup>\r\n        <AvGroup className=\"mb-3\">\r\n          <Label htmlFor=\"description\">{t(\"Description\")}</Label>\r\n          <AvField\r\n            className=\"form-control\"\r\n            name=\"observations\"\r\n            type=\"textarea\"\r\n            onChange={(e) => { dataReturn.observations = e.target.value; setdataReturn(dataReturn); }}\r\n            value={dataReturn?.observations}\r\n            id=\"observations\"\r\n            rows=\"4\" />\r\n        </AvGroup>\r\n        <Row className=\"my-2\">\r\n          <Col xl=\"12 text-end\">\r\n            <Button id=\"btnCancel\" color=\"danger\" type=\"button\" style={{ margin: '5px' }} onClick={handleCancel}>\r\n              <i className=\"mdi mdi-cancel mid-12px\"></i> {t(\"Cancel\")}\r\n            </Button>\r\n            {props.botones ?\r\n              <Button id=\"btnSearch\" color=\"success\" type=\"button\" onClick={(e) => { handleSubmit() }} style={{ margin: '5px' }}><i className=\"mdi mdi-content-save mdi-12px\"></i>\r\n                {\" \"} {props.tipo == \"COMISION\" ? t(\"Save\") : t(\"Edit\")}\r\n              </Button> : null}\r\n          </Col>\r\n        </Row>\r\n      </ModalBody>\r\n    </Modal>\r\n  )\r\n};\r\nModalNewSurety.propTypes = {\r\n  onSave: PropTypes.func.isRequired,\r\n  toggle: PropTypes.func,\r\n  isOpen: PropTypes.bool\r\n};\r\nexport default ModalNewSurety;\r\n"]},"metadata":{},"sourceType":"module"}