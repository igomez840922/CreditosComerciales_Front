{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Link,useHistory,useLocation}from\"react-router-dom\";import Breadcrumbs from'../../../components/Common/Breadcrumb';import{useTranslation}from'react-i18next';import{AvForm,AvField,AvGroup}from\"availity-reactstrap-validation\";import{Tabs,Tab}from'react-bootstrap';import PantallaBusqueda from\"../../CommercialCredit/14_AdminDesembolso/Colateral/CreacionLinea/Formulario\";import{CardTitle,Button,Card,CardBody,Label,Col,Table,CardHeader}from\"reactstrap\";import BootstrapTable from'react-bootstrap-table-next';import ToolkitProvider,{Search}from'react-bootstrap-table2-toolkit';import paginationFactory from'react-bootstrap-table2-paginator';import LoadingOverlay from\"react-loading-overlay\";import InstructivoNuevo from\"../23_bandejaInstructivo/Desembolso/Instructivo/index\";//import ActiveDirectoryService from \"../../services/ActiveDirectory\";\nimport moment from\"moment\";import Select from\"react-select\";import{Row}from\"react-bootstrap\";import{BackendServices}from\"../../../services\";import HorizontalSteeper from\"../../../components/Common/HorizontalSteeper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EjecutarInstructivoDesembolso=function EjecutarInstructivoDesembolso(){var _dataLocation$transac;var _useTranslation=useTranslation(),t=_useTranslation.t;var history=useHistory();var location=useLocation();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),dataLocation=_useState2[0],setdataLocation=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),dataUsuario=_useState4[0],setdataUsuario=_useState4[1];var backendServices=new BackendServices();useEffect(function(){if(location.data!==null&&location.data!==undefined){if(location.data.transactionId===undefined||location.data.transactionId.length<=0){location.data.transactionId=0;}else{sessionStorage.setItem('locationData',JSON.stringify(location.data));setdataLocation(location.data);loadData(location.data);}}else{//chequeamos si tenemos guardado en session\nvar result=sessionStorage.getItem('locationData');if(result!==undefined&&result!==null){result=JSON.parse(result);setdataLocation(result);loadData(result);}}},[]);function loadData(data){backendServices.consultPrincipalDebtor(data.transactionId).then(function(data){if(data!==undefined){setdataUsuario(data);}});}return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(Breadcrumbs,{title:t(\"Credito comercial\"),breadcrumbItem:t(\"Ejecutar Instructivo\")}),/*#__PURE__*/_jsx(HorizontalSteeper,{processNumber:3,activeStep:2}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(\"h4\",{className:\"card-title\",children:t(\"Ejecutar Instructivo\")})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{sm:12,style:{textAlign:\"right\"},children:/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title title-header\",children:[dataUsuario!=null?dataUsuario.typePerson===\"1\"?dataUsuario.name+\" \"+dataUsuario.name2+\" \"+dataUsuario.lastName+\" \"+dataUsuario.lastName2:dataUsuario.name:\"\",\" \"]})}),/*#__PURE__*/_jsx(Col,{sm:12,style:{textAlign:\"right\"},children:/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",style:{textAlign:\"right\"},children:[t(\"Tramit\"),\":\",\" \",\"#\",(_dataLocation$transac=dataLocation===null||dataLocation===void 0?void 0:dataLocation.transactionId)!==null&&_dataLocation$transac!==void 0?_dataLocation$transac:0]})})]})})]})}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(Tabs,{defaultActiveKey:\"0\",id:\"uncontrolled-tab-example\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(Tab,{className:\"m-4\",eventKey:0,title:\"L\\xEDnea de cr\\xE9ditos\",children:/*#__PURE__*/_jsx(PantallaBusqueda,{administracion:true})},0),/*#__PURE__*/_jsx(Tab,{className:\"m-4\",eventKey:1,title:\"Instructivo de desembolso\",children:/*#__PURE__*/_jsx(InstructivoNuevo,{adminDesembolso:true,ejecutarDesembolso:false,ejecutivoDesembolso:true})},1)]})})]})]})});};export default EjecutarInstructivoDesembolso;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/23_bandejaInstructivo/InstructivoDesembolsoEjecutar.js"],"names":["React","useEffect","useState","Link","useHistory","useLocation","Breadcrumbs","useTranslation","AvForm","AvField","AvGroup","Tabs","Tab","PantallaBusqueda","CardTitle","Button","Card","CardBody","Label","Col","Table","CardHeader","BootstrapTable","ToolkitProvider","Search","paginationFactory","LoadingOverlay","InstructivoNuevo","moment","Select","Row","BackendServices","HorizontalSteeper","EjecutarInstructivoDesembolso","t","history","location","dataLocation","setdataLocation","dataUsuario","setdataUsuario","backendServices","data","undefined","transactionId","length","sessionStorage","setItem","JSON","stringify","loadData","result","getItem","parse","consultPrincipalDebtor","then","textAlign","typePerson","name","name2","lastName","lastName2"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { Link, useHistory, useLocation } from \"react-router-dom\"\r\nimport Breadcrumbs from '../../../components/Common/Breadcrumb';\r\nimport { useTranslation } from 'react-i18next'\r\nimport { AvForm, AvField, AvGroup } from \"availity-reactstrap-validation\"\r\nimport { Tabs, Tab } from 'react-bootstrap';\r\nimport PantallaBusqueda from \"../../CommercialCredit/14_AdminDesembolso/Colateral/CreacionLinea/Formulario\"\r\nimport {\r\n    CardTitle, Button,\r\n    Card, CardBody, Label, Col, Table, CardHeader\r\n} from \"reactstrap\"\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport ToolkitProvider, { Search } from 'react-bootstrap-table2-toolkit';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport LoadingOverlay from \"react-loading-overlay\";\r\nimport InstructivoNuevo from \"../23_bandejaInstructivo/Desembolso/Instructivo/index\";\r\n//import ActiveDirectoryService from \"../../services/ActiveDirectory\";\r\nimport moment from \"moment\";\r\nimport Select from \"react-select\";\r\nimport { Row } from \"react-bootstrap\";\r\nimport { BackendServices } from \"../../../services\";\r\nimport HorizontalSteeper from \"../../../components/Common/HorizontalSteeper\";\r\n\r\nconst EjecutarInstructivoDesembolso = () => {\r\n    const { t } = useTranslation();\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    const [dataLocation, setdataLocation] = useState(null);\r\n    const [dataUsuario, setdataUsuario] = useState(null);\r\n    const backendServices = new BackendServices();\r\n    useEffect(() => {\r\n        if (location.data !== null && location.data !== undefined) {\r\n            if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n                location.data.transactionId = 0;\r\n            }\r\n            else {\r\n                sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n                setdataLocation(location.data);\r\n                loadData(location.data)\r\n            }\r\n        }\r\n        else {\r\n            //chequeamos si tenemos guardado en session\r\n            var result = sessionStorage.getItem('locationData');\r\n            if (result !== undefined && result !== null) {\r\n                result = JSON.parse(result);\r\n                setdataLocation(result);\r\n                loadData(result)\r\n            }\r\n        }\r\n    }, []);\r\n    function loadData(data) {\r\n        backendServices.consultPrincipalDebtor(data.transactionId)\r\n            .then((data) => {\r\n                if (data !== undefined) {\r\n                    setdataUsuario(data);\r\n                }\r\n            });\r\n    }\r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"page-content\">\r\n                <Breadcrumbs title={t(\"Credito comercial\")} breadcrumbItem={t(\"Ejecutar Instructivo\")} />\r\n\r\n                <HorizontalSteeper processNumber={3} activeStep={2}></HorizontalSteeper>\r\n\r\n\r\n                <Card>\r\n                    <CardHeader>\r\n                        <Row>\r\n                            <Col md={6}>\r\n                                <h4 className=\"card-title\">{t(\"Ejecutar Instructivo\")}</h4>\r\n                            </Col>\r\n                            <Col md={6}>\r\n                                <Row>\r\n                                    <Col sm={12} style={{ textAlign: \"right\" }}>\r\n                                        <h5 className=\"card-title title-header\">{dataUsuario != null ? (dataUsuario.typePerson === \"1\" ? (dataUsuario.name + \" \" + dataUsuario.name2 + \" \" + dataUsuario.lastName + \" \" + dataUsuario.lastName2) : (dataUsuario.name)) : \"\"} </h5>\r\n                                    </Col>\r\n                                    <Col sm={12} style={{ textAlign: \"right\" }}>\r\n                                        <h5 className=\"card-title\" style={{ textAlign: \"right\" }}>{t(\"Tramit\")}:{\" \"}#{dataLocation?.transactionId ?? 0}</h5>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Col>\r\n                        </Row>\r\n                    </CardHeader>\r\n                    <CardBody>\r\n                        <Tabs defaultActiveKey=\"0\" id=\"uncontrolled-tab-example\" className=\"mb-3\">\r\n                            <Tab className=\"m-4\" key={0} eventKey={0} title=\"Línea de créditos\">\r\n                                <PantallaBusqueda administracion={true} />\r\n                            </Tab>\r\n                            <Tab className=\"m-4\" key={1} eventKey={1} title=\"Instructivo de desembolso\">\r\n                                <InstructivoNuevo adminDesembolso={true} ejecutarDesembolso={false} ejecutivoDesembolso={true} />\r\n                            </Tab>\r\n                        </Tabs>\r\n                    </CardBody>\r\n                </Card>\r\n            </div>\r\n\r\n        </React.Fragment >\r\n    );\r\n}\r\n\r\nexport default EjecutarInstructivoDesembolso\r\n"]},"metadata":{},"sourceType":"module"}