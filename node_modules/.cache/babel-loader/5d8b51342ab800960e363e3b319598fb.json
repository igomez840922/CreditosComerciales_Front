{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{formatCurrency,translationHelpers}from'../../../../helpers';import{Table,Card,CardBody}from\"reactstrap\";import React,{useEffect,useState}from\"react\";import{BackendServices,CoreServices,BpmServices}from\"../../../../services\";import{useTranslation}from'react-i18next';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ExposicionCorporativaClientes=function ExposicionCorporativaClientes(props){var coreServices=new CoreServices();var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),dataRows=_React$useState2[0],setdataRows=_React$useState2[1];var _useState=useState(null),_useState2=_slicedToArray(_useState,2),CorporateExposure=_useState2[0],setCorporateExposure=_useState2[1];var _React$useState3=React.useState(props.customerNumberT24),_React$useState4=_slicedToArray(_React$useState3,2),customerNumberT24=_React$useState4[0],setcustomerNumberT24=_React$useState4[1];useEffect(function(){getCoporateExhibitionClient();},[]);function getCoporateExhibitionClient(){coreServices.getCorporateExhibitionByClients(customerNumberT24).then(function(resp){if(resp===undefined){return;}setCorporateExposure(resp);setdataRows(resp.map(function(item,index){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",width:\"30%\",children:item.clinteId}),/*#__PURE__*/_jsx(\"th\",{scope:\"row\",className:\"text-end\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"row\",className:\"text-end\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"row\",className:\"text-end\"})]},'row-'+index),item.data.map(function(item2,index2){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{scope:\"row\",width:\"30%\"}),/*#__PURE__*/_jsx(\"td\",{scope:\"row\",className:\"text-start\",children:formatCurrency('$',item2.approvalRisk,0)}),/*#__PURE__*/_jsx(\"td\",{scope:\"row\",className:\"text-start\",children:formatCurrency('$',item2.variationRisk,0)}),/*#__PURE__*/_jsx(\"td\",{scope:\"row\",className:\"text-start\",children:formatCurrency('$',item2.proposalRisk,0)})]},'subrow-'+index2);})]});}));});}return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsx(\"h5\",{children:props.title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(Table,{className:\"table mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{className:\"table-right\",children:t(\"ApprovedRisk\")}),/*#__PURE__*/_jsx(\"th\",{className:\"table-right\",children:t(\"ProposedRisk\")}),/*#__PURE__*/_jsx(\"th\",{className:\"table-right\",children:t(\"Variation\")})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[dataRows,/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",width:\"30%\",children:t(\"Total\")}),/*#__PURE__*/_jsx(\"th\",{scope:\"row\",className:\"table-right\",children:formatCurrency('$',CorporateExposure===null||CorporateExposure===void 0?void 0:CorporateExposure.reduce(function(acu,crr){var _acu$data$reduce,_acu$data,_crr$data;var data1=(_acu$data$reduce=(_acu$data=acu.data)===null||_acu$data===void 0?void 0:_acu$data.reduce(function(acu2,crr2){var _acu2$approvalRisk;return((_acu2$approvalRisk=acu2.approvalRisk)!==null&&_acu2$approvalRisk!==void 0?_acu2$approvalRisk:acu2)+crr2.approvalRisk;}))!==null&&_acu$data$reduce!==void 0?_acu$data$reduce:acu;var data2=(_crr$data=crr.data)===null||_crr$data===void 0?void 0:_crr$data.reduce(function(acu2,crr2){var _acu2$approvalRisk2;return((_acu2$approvalRisk2=acu2.approvalRisk)!==null&&_acu2$approvalRisk2!==void 0?_acu2$approvalRisk2:acu2)+crr2.approvalRisk;});return data1+data2;}),0)}),/*#__PURE__*/_jsx(\"th\",{scope:\"row\",className:\"table-right\",children:formatCurrency('$',CorporateExposure===null||CorporateExposure===void 0?void 0:CorporateExposure.reduce(function(acu,crr){var _acu$data$reduce2,_acu$data2,_crr$data2;var data1=(_acu$data$reduce2=(_acu$data2=acu.data)===null||_acu$data2===void 0?void 0:_acu$data2.reduce(function(acu2,crr2){var _acu2$variationRisk;return((_acu2$variationRisk=acu2.variationRisk)!==null&&_acu2$variationRisk!==void 0?_acu2$variationRisk:acu2)+crr2.variationRisk;}))!==null&&_acu$data$reduce2!==void 0?_acu$data$reduce2:acu;var data2=(_crr$data2=crr.data)===null||_crr$data2===void 0?void 0:_crr$data2.reduce(function(acu2,crr2){var _acu2$variationRisk2;return((_acu2$variationRisk2=acu2.variationRisk)!==null&&_acu2$variationRisk2!==void 0?_acu2$variationRisk2:acu2)+crr2.variationRisk;});return data1+data2;}),0)}),/*#__PURE__*/_jsx(\"th\",{scope:\"row\",className:\"table-right\",children:formatCurrency('$',CorporateExposure===null||CorporateExposure===void 0?void 0:CorporateExposure.reduce(function(acu,crr){var _acu$data$reduce3,_acu$data3,_crr$data3;var data1=(_acu$data$reduce3=(_acu$data3=acu.data)===null||_acu$data3===void 0?void 0:_acu$data3.reduce(function(acu2,crr2){var _acu2$proposalRisk;return((_acu2$proposalRisk=acu2.proposalRisk)!==null&&_acu2$proposalRisk!==void 0?_acu2$proposalRisk:acu2)+crr2.proposalRisk;}))!==null&&_acu$data$reduce3!==void 0?_acu$data$reduce3:acu;var data2=(_crr$data3=crr.data)===null||_crr$data3===void 0?void 0:_crr$data3.reduce(function(acu2,crr2){var _acu2$proposalRisk2;return((_acu2$proposalRisk2=acu2.proposalRisk)!==null&&_acu2$proposalRisk2!==void 0?_acu2$proposalRisk2:acu2)+crr2.proposalRisk;});return data1+data2;}),0)})]})]})]})})]})})});};export default ExposicionCorporativaClientes;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/5_PropuestaCredito/Secciones/ExposicionCorporativaCliente.js"],"names":["formatCurrency","translationHelpers","Table","Card","CardBody","React","useEffect","useState","BackendServices","CoreServices","BpmServices","useTranslation","ExposicionCorporativaClientes","props","coreServices","t","i18n","dataRows","setdataRows","CorporateExposure","setCorporateExposure","customerNumberT24","setcustomerNumberT24","getCoporateExhibitionClient","getCorporateExhibitionByClients","then","resp","undefined","map","item","index","clinteId","data","item2","index2","approvalRisk","variationRisk","proposalRisk","title","reduce","acu","crr","data1","acu2","crr2","data2"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { formatCurrency, translationHelpers } from '../../../../helpers';\r\n\r\nimport {\r\n  Table,\r\n  Card,\r\n  CardBody,\r\n} from \"reactstrap\"\r\nimport React, { useEffect, useState } from \"react\"\r\nimport { BackendServices, CoreServices, BpmServices, } from \"../../../../services\";\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n\r\nconst ExposicionCorporativaClientes = (props) => {\r\n  const coreServices = new CoreServices();\r\n\r\n  const { t, i18n } = useTranslation();\r\n  const [dataRows, setdataRows] = React.useState(null);\r\n  const [CorporateExposure, setCorporateExposure] = useState(null);\r\n  const [customerNumberT24, setcustomerNumberT24] = React.useState(props.customerNumberT24);\r\n  \r\n  useEffect(() => {\r\n    getCoporateExhibitionClient();\r\n  }, []);\r\n\r\n  function getCoporateExhibitionClient() {\r\n    coreServices.getCorporateExhibitionByClients(customerNumberT24).then(resp => {\r\n      if(resp === undefined){\r\n        return;\r\n      }    \r\n      \r\n      setCorporateExposure(resp);\r\n      setdataRows(resp.map((item, index) => (\r\n        <>\r\n          <tr key={'row-' + index}>\r\n            <th scope=\"row\" width=\"30%\">{item.clinteId}</th>\r\n            <th scope=\"row\" className=\"text-end\"></th>\r\n            <th scope=\"row\" className=\"text-end\"></th>\r\n            <th scope=\"row\" className=\"text-end\"></th>\r\n          </tr>\r\n          {item.data.map((item2, index2) => (\r\n            <tr key={'subrow-' + index2}>\r\n              <td scope=\"row\" width=\"30%\"></td>\r\n              <td scope=\"row\" className=\"text-start\">{formatCurrency('$', item2.approvalRisk, 0)}</td>\r\n              <td scope=\"row\" className=\"text-start\">{formatCurrency('$', item2.variationRisk, 0)}</td>\r\n              <td scope=\"row\" className=\"text-start\">{formatCurrency('$', item2.proposalRisk, 0)}</td>\r\n            </tr>\r\n          ))}\r\n        </>\r\n      )\r\n      ));\r\n    });\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Card>\r\n        <CardBody>\r\n          <h5>{props.title}</h5>\r\n          <p className=\"card-title-desc\">\r\n          </p>\r\n          <div className=\"table-responsive\">\r\n            <Table className=\"table mb-0\">\r\n              <thead className=\"table-light\">\r\n                <tr>\r\n                  <th></th>\r\n                  <th className=\"table-right\">{t(\"ApprovedRisk\")}</th>\r\n                  <th className=\"table-right\">{t(\"ProposedRisk\")}</th>\r\n                  <th className=\"table-right\">{t(\"Variation\")}</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {dataRows}\r\n                <tr>\r\n                  <th scope=\"row\" width=\"30%\">{t(\"Total\")}</th>\r\n                  <th scope=\"row\" className=\"table-right\">{formatCurrency('$', CorporateExposure?.reduce((acu, crr) => {\r\n                    let data1 = (acu.data?.reduce((acu2, crr2) => ((acu2.approvalRisk ?? acu2) + crr2.approvalRisk)) ?? acu);\r\n                    let data2 = crr.data?.reduce((acu2, crr2) => ((acu2.approvalRisk ?? acu2) + crr2.approvalRisk));\r\n                    return (data1 + data2)\r\n                  }), 0)}</th>\r\n                  <th scope=\"row\" className=\"table-right\">{formatCurrency('$', CorporateExposure?.reduce((acu, crr) => {\r\n                    let data1 = (acu.data?.reduce((acu2, crr2) => ((acu2.variationRisk ?? acu2) + crr2.variationRisk)) ?? acu);\r\n                    let data2 = crr.data?.reduce((acu2, crr2) => ((acu2.variationRisk ?? acu2) + crr2.variationRisk));\r\n                    return (data1 + data2)\r\n                  }), 0)}</th>\r\n                  <th scope=\"row\" className=\"table-right\">{formatCurrency('$', CorporateExposure?.reduce((acu, crr) => {\r\n                    let data1 = (acu.data?.reduce((acu2, crr2) => ((acu2.proposalRisk ?? acu2) + crr2.proposalRisk)) ?? acu);\r\n                    let data2 = crr.data?.reduce((acu2, crr2) => ((acu2.proposalRisk ?? acu2) + crr2.proposalRisk));\r\n                    return (data1 + data2)\r\n                  }), 0)}</th>\r\n                </tr>\r\n              </tbody>\r\n            </Table>\r\n          </div>\r\n        </CardBody>\r\n      </Card>\r\n    </React.Fragment>\r\n  );\r\n\r\n};\r\n\r\nExposicionCorporativaClientes.propTypes = {\r\n  title: PropTypes.string,\r\n  customerNumberT24: PropTypes.string,\r\n};\r\n\r\n\r\nexport default ExposicionCorporativaClientes;\r\n"]},"metadata":{},"sourceType":"module"}