{"ast":null,"code":"var _jsxFileName = \"D:\\\\_PROJECTS\\\\_SOAINT\\\\JBPM\\\\App\\\\banescocreditoscomerciales\\\\src\\\\components\\\\InformeFinanciero\\\\ModalReportingServices.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport PropTypes from 'prop-types';\nimport { useLocation } from 'react-router-dom';\nimport { translationHelpers } from \"../../helpers\";\nimport { Row, Col, Button, Label, Input, Modal, ModalHeader, ModalBody, Card, CardBody, CardFooter, Table } from \"reactstrap\";\nimport CoreServices from '../../services/CoreServices/Services';\nimport { BackendServices } from \"../../services\";\nimport * as moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ModalReportingServices = props => {\n  _s();\n\n  var _location$data;\n\n  const [t, c] = translationHelpers('commercial_credit', 'common');\n  const location = useLocation();\n  const [records, setRecords] = useState([]);\n  const [customerNumberT24, setcustomerNumberT24] = useState(null);\n  const backendServices = new BackendServices();\n  const coreServices = new CoreServices();\n  const [dataLocation, setData] = useState((_location$data = location.data) !== null && _location$data !== void 0 ? _location$data : JSON.parse(sessionStorage.getItem('locationData')));\n  useEffect(() => {\n    // const partyId = \"600133774\";\n    const transactionId = dataLocation.transactionId;\n    Promise.allSettled([backendServices.consultPrincipalDebtor(transactionId)]).then(resp => {\n      const [{\n        value: PrincipalDebtor\n      }] = resp;\n      console.log('fetchProspect', PrincipalDebtor);\n      fetchReportingServices(PrincipalDebtor.customerNumberT24);\n    });\n  }, []);\n\n  function fetchProspect(transactionId) {\n    return backendServices.consultPrincipalDebtor(transactionId).then(resp => {\n      // console.log('prospecto', resp);\n      setcustomerNumberT24(resp.customerNumberT24);\n      return resp.customerNumberT24;\n    }).catch(error => {\n      console.error('error fetching prospect', error);\n    });\n  }\n\n  function fetchReportingServices(customerNumberT24) {\n    //console.log(\"fetchReportingServices\",customerNumberT24,coreServices);\n    coreServices.getReportingServices(customerNumberT24).then(reportingServices => {\n      console.log('getReportingServices', reportingServices);\n\n      if (!reportingServices || !reportingServices.Status) {\n        throw new Error('Error Fetching Data');\n      }\n\n      if (reportingServices.Status.StatusCode !== \"M0000\") {\n        throw new Error('Invalid Status Response');\n      }\n\n      setRecords(reportingServices.records);\n    }).catch(error => {\n      console.error('error fetching reporting services', error);\n    });\n  }\n\n  const fields = [{\n    key: 'FECHA',\n    label: 'FECHA',\n    type: 'date'\n  }, {\n    key: 'T_CREDITO',\n    label: 'T_CREDITO',\n    type: 'text'\n  }, {\n    key: 'T_FACILIDAD',\n    label: 'T_FACILIDAD COSTO',\n    type: 'text'\n  }, {\n    key: 'CLASIFICACION',\n    label: 'CLASIFICACION',\n    type: 'text'\n  }, {\n    key: 'LOC_EXT',\n    label: 'LOC_EXT',\n    type: 'text'\n  }, {\n    key: 'REGION',\n    label: 'REGION',\n    type: 'text'\n  }, {\n    key: 'CLIENTE_RUC',\n    label: 'CLIENTE_RUC',\n    type: 'text'\n  }, {\n    key: 'TNO_EMPRESA',\n    label: 'TNO_EMPRESA',\n    type: 'text'\n  }, {\n    key: 'NOMBRE_CLIENTE',\n    label: 'NOMBRE_CLIENTE',\n    type: 'text'\n  }, {\n    key: 'GRUPO_ECON',\n    label: 'GRUPO_ECON',\n    type: 'text'\n  }, {\n    key: 'GRUPO_RUC',\n    label: 'GRUPO_RUC',\n    type: 'text'\n  }, {\n    key: 'T_RELACION',\n    label: 'T_RELACION',\n    type: 'text'\n  }, {\n    key: 'ACT_ECON',\n    label: 'ACT_ECON',\n    type: 'text'\n  }, {\n    key: 'TASA_INT',\n    label: 'TASA_INT',\n    type: 'number'\n  }, {\n    key: 'MONTO_IN',\n    label: 'MONTO_IN',\n    type: 'number'\n  }, {\n    key: 'INT_PC',\n    label: 'INT_PC',\n    type: 'number'\n  }, {\n    key: 'FECHA_INI',\n    label: 'FECHA_INI',\n    type: 'date'\n  }, {\n    key: 'FECHA_FIN',\n    label: 'FECHA_FIN',\n    type: 'date'\n  }, {\n    key: 'FECHA_REFIN',\n    label: 'FECHA_REFIN',\n    type: 'date'\n  }, {\n    key: 'FECHA_RENEG',\n    label: 'FECHA_RENEG',\n    type: 'date'\n  }, {\n    key: 'G1',\n    label: 'G1',\n    type: 'text'\n  }, {\n    key: 'MONTO_G1',\n    label: 'MONTO_G1',\n    type: 'number'\n  }, {\n    key: 'G2',\n    label: 'G2',\n    type: 'text'\n  }, {\n    key: 'MONTO_G2',\n    label: 'MONTO_G2',\n    type: 'number'\n  }, {\n    key: 'G3',\n    label: 'G3',\n    type: 'text'\n  }, {\n    key: 'MONTO_G3',\n    label: 'MONTO_G3',\n    type: 'number'\n  }, {\n    key: 'G4',\n    label: 'G4',\n    type: 'text'\n  }, {\n    key: 'MONTO_G4',\n    label: 'MONTO_G4',\n    type: 'number'\n  }, {\n    key: 'G5',\n    label: 'G5',\n    type: 'text'\n  }, {\n    key: 'MONTO_G5',\n    label: 'MONTO_G5',\n    type: 'number'\n  }, {\n    key: 'PROV_REG',\n    label: 'PROV_REG',\n    type: 'number'\n  }, {\n    key: 'PROV_NIIF',\n    label: 'PROV_NIIF',\n    type: 'number'\n  }, {\n    key: 'PROV_PAIS',\n    label: 'PROV_PAIS',\n    type: 'number'\n  }, {\n    key: 'SALDO',\n    label: 'SALDO',\n    type: 'number'\n  }, {\n    key: 'N_CUOTAS_VENCER',\n    label: 'N_CUOTAS_VENCER',\n    type: 'text'\n  }, {\n    key: 'X_VENCER30',\n    label: 'X_VENCER30',\n    type: 'number'\n  }, {\n    key: 'X_VENCER60',\n    label: 'X_VENCER60',\n    type: 'number'\n  }, {\n    key: 'X_VENCER90',\n    label: 'X_VENCER90',\n    type: 'number'\n  }, {\n    key: 'X_VENCER120',\n    label: 'X_VENCER120',\n    type: 'number'\n  }, {\n    key: 'X_VENCER180',\n    label: 'X_VENCER180',\n    type: 'number'\n  }, {\n    key: 'X_VENCER1A',\n    label: 'X_VENCER1A',\n    type: 'number'\n  }, {\n    key: 'X_VENCER5A',\n    label: 'X_VENCER5A',\n    type: 'number'\n  }, {\n    key: 'X_VENCER10A',\n    label: 'X_VENCER10A',\n    type: 'number'\n  }, {\n    key: 'X_VENCERM10A',\n    label: 'X_VENCERM10A',\n    type: 'number'\n  }, {\n    key: 'N_CUOTA_VENCIDAS',\n    label: 'N_CUOTA_VENCIDAS',\n    type: 'text'\n  }, {\n    key: 'VENCIDOS30',\n    label: 'VENCIDOS30',\n    type: 'number'\n  }, {\n    key: 'VENCIDOS60',\n    label: 'VENCIDOS60',\n    type: 'number'\n  }, {\n    key: 'VENCIDOS90',\n    label: 'VENCIDOS90',\n    type: 'number'\n  }, {\n    key: 'VENCIDOS120',\n    label: 'VENCIDOS120',\n    type: 'number'\n  }, {\n    key: 'VENCIDOS180',\n    label: 'VENCIDOS180',\n    type: 'number'\n  }, {\n    key: 'VENCIDOS1A',\n    label: 'VENCIDOS1A',\n    type: 'number'\n  }, {\n    key: 'VENCIDOSM1A',\n    label: 'VENCIDOSM1A',\n    type: 'number'\n  }, {\n    key: 'RANGO_MORA',\n    label: 'RANGO_MORA',\n    type: 'text'\n  }, {\n    key: 'DIAS_MORA',\n    label: 'DIAS_MORA',\n    type: 'number'\n  }, {\n    key: 'PROX_CAP',\n    label: 'PROX_CAP',\n    type: 'date'\n  }, {\n    key: 'PER_CAP',\n    label: 'PER_CAP',\n    type: 'text'\n  }, {\n    key: 'PROX_INT',\n    label: 'PROX_INT',\n    type: 'date'\n  }, {\n    key: 'PER_INT',\n    label: 'PER_INT',\n    type: 'text'\n  }, {\n    key: 'CUOTA_XPAGAR',\n    label: 'CUOTA_XPAGAR',\n    type: 'number'\n  }, {\n    key: 'SUCURSAL',\n    label: 'SUCURSAL',\n    type: 'text'\n  }, {\n    key: 'SUCURSAL',\n    label: 'SUCURSAL',\n    type: 'text'\n  }, {\n    key: 'GRUPO_ECON',\n    label: 'GRUPO_ECON',\n    type: 'text'\n  }, {\n    key: 'GRUPO_RUC',\n    label: 'GRUPO_RUC',\n    type: 'text'\n  }, {\n    key: 'INT_PC',\n    label: 'INT_PC',\n    type: 'number'\n  }, {\n    key: 'LOC_EXT',\n    label: 'LOC_EXT',\n    type: 'text'\n  }, {\n    key: 'MONEDA',\n    label: 'MONEDA',\n    type: 'text'\n  }, {\n    key: 'MONTO_G1',\n    label: 'MONTO G1',\n    type: 'number'\n  }, {\n    key: 'MONTO_G2',\n    label: 'MONTO G2',\n    type: 'number'\n  }, {\n    key: 'MONTO_G3',\n    label: 'MONTO G3',\n    type: 'number'\n  }, {\n    key: 'MONTO_G4',\n    label: 'MONTO G4',\n    type: 'number'\n  }, {\n    key: 'MONTO_G5',\n    label: 'MONTO G5',\n    type: 'number'\n  }, {\n    key: 'MONTO_IN',\n    label: 'MONTO IN',\n    type: 'number'\n  }, {\n    key: 'NOMBRE_CLIENTE',\n    label: 'NOMBRE CLIENTE',\n    type: 'text'\n  }, {\n    key: 'NUM_CLIENTE',\n    label: 'NUM CLIENTE',\n    type: 'text'\n  }, {\n    key: 'NUM_LINEA',\n    label: 'NUM LINEA',\n    type: 'text'\n  }, {\n    key: 'NUM_OPS',\n    label: 'NUM OPS',\n    type: 'text'\n  }, {\n    key: 'N_CUOTAS_VENCER',\n    label: 'NUM CUOTAS VENCER',\n    type: 'number'\n  }, {\n    key: 'N_CUOTA_VENCIDAS',\n    label: 'NUM CUOTAS VENCIDAS',\n    type: 'number'\n  }, {\n    key: 'PER_CAP',\n    label: 'PER CAP',\n    type: 'text'\n  }, {\n    key: 'PER_INT',\n    label: 'PER INT',\n    type: 'text'\n  }, {\n    key: 'PRODUCTO',\n    label: 'PRODUCTO',\n    type: 'text'\n  }, {\n    key: 'PRODUCTO1',\n    label: 'PRODUCTO1',\n    type: 'text'\n  }, {\n    key: 'PRODUCTO2',\n    label: 'PRODUCTO2',\n    type: 'text'\n  }, {\n    key: 'PRODUCTO3',\n    label: 'PRODUCTO3',\n    type: 'text'\n  }, {\n    key: 'PROV_NIIF',\n    label: 'PROV NIIF',\n    type: 'number'\n  }, {\n    key: 'PROV_PAIS',\n    label: 'PROV PAIS',\n    type: 'number'\n  }, {\n    key: 'PROV_REG',\n    label: 'PROV REG',\n    type: 'number'\n  }, {\n    key: 'PROX_CAP',\n    label: 'PROX CAP',\n    type: 'date'\n  }, {\n    key: 'PROX_INT',\n    label: 'PROX INT',\n    type: 'date'\n  }, {\n    key: 'RANGO_MORA',\n    label: 'RANGO MORA',\n    type: 'text'\n  }, {\n    key: 'REGION',\n    label: 'REGION',\n    type: 'text'\n  }, {\n    key: 'SALDO',\n    label: 'SALDO',\n    type: 'number'\n  }, {\n    key: 'SECTOR1',\n    label: 'SECTOR1',\n    type: 'text'\n  }, {\n    key: 'SECTOR2',\n    label: 'SECTOR2',\n    type: 'text'\n  }, {\n    key: 'SECTOR3',\n    label: 'SECTOR3',\n    type: 'text'\n  }, {\n    key: 'SECTOR4',\n    label: 'SECTOR4',\n    type: 'text'\n  }, {\n    key: 'SUCURSAL',\n    label: 'SUCURSAL',\n    type: 'text'\n  }, {\n    key: 'TASA_INT',\n    label: 'TASA INT',\n    type: 'number'\n  }, {\n    key: 'TNO_EMPRESA',\n    label: 'TNO EMPRESA',\n    type: 'text'\n  }, {\n    key: 'T_CREDITO',\n    label: 'T_CREDITO',\n    type: 'text'\n  }, {\n    key: 'T_FACILIDAD',\n    label: 'T_FACILIDAD',\n    type: 'text'\n  }, {\n    key: 'T_RELACION',\n    label: 'T_RELACION',\n    type: 'text'\n  }, {\n    key: 'VENCIDOS1A',\n    label: 'VENCIDOS1A',\n    type: 'number'\n  }, {\n    key: 'VENCIDOS30',\n    label: 'VENCIDOS30',\n    type: 'number'\n  }, {\n    key: 'VENCIDOS60',\n    label: 'VENCIDOS60',\n    type: 'number'\n  }, {\n    key: 'VENCIDOS90',\n    label: 'VENCIDOS90',\n    type: 'number'\n  }, {\n    key: 'VENCIDOS120',\n    label: 'VENCIDOS120',\n    type: 'number'\n  }, {\n    key: 'VENCIDOS180',\n    label: 'VENCIDOS180',\n    type: 'number'\n  }, {\n    key: 'VENCIDOSM1A',\n    label: 'VENCIDOSM1A',\n    type: 'number'\n  }, {\n    key: 'X_VENCER1A',\n    label: 'X_VENCER1A',\n    type: 'number'\n  }, {\n    key: 'X_VENCER5A',\n    label: 'X_VENCER5A',\n    type: 'number'\n  }, {\n    key: 'X_VENCER10A',\n    label: 'X_VENCER10A',\n    type: 'number'\n  }, {\n    key: 'X_VENCER30',\n    label: 'X_VENCER30',\n    type: 'number'\n  }, {\n    key: 'X_VENCER60',\n    label: 'X_VENCER60',\n    type: 'number'\n  }, {\n    key: 'X_VENCER90',\n    label: 'X_VENCER90',\n    type: 'number'\n  }, {\n    key: 'X_VENCER120',\n    label: 'X_VENCER120',\n    type: 'number'\n  }, {\n    key: 'X_VENCER180',\n    label: 'X_VENCER180',\n    type: 'number'\n  }, {\n    key: 'X_VENCERM10A',\n    label: 'X_VENCERM10A',\n    type: 'number'\n  }];\n\n  const cellAlign = type => {\n    return type === 'number' ? 'text-end' : '';\n  };\n\n  const formatCell = (value, type) => {\n    switch (type) {\n      case 'date':\n        const m = moment(value, 'YYYYMMDD');\n        return m.format('DD/MM/YYYY');\n\n      default:\n        return value;\n    }\n  };\n\n  const headerRow = /*#__PURE__*/_jsxDEV(\"tr\", {\n    children: fields.map((field, index) => /*#__PURE__*/_jsxDEV(\"th\", {\n      className: cellAlign(field.type),\n      children: field.label\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 35\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 222,\n    columnNumber: 22\n  }, this);\n\n  const rows = records.map((record, index) => {\n    const cols = fields.map(field => /*#__PURE__*/_jsxDEV(\"td\", {\n      className: cellAlign(field.type),\n      children: formatCell(record[field.key], field.type)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this));\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: cols\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 13\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: props.isOpen,\n    toggle: props.toggle,\n    centered: true,\n    size: \"xl\",\n    children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n      toggle: props.toggle,\n      color: \"primary\",\n      children: t(\"Reporting Services\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mt-2\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          xl: \"12\",\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            responsive: true,\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"table-light\",\n              children: headerRow\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: rows\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 238,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ModalReportingServices, \"9+DT96MyyE+ytsOFnh6brWZLDmM=\", false, function () {\n  return [useLocation];\n});\n\n_c = ModalReportingServices;\nModalReportingServices.propTypes = {\n  isOpen: PropTypes.bool,\n  toggle: PropTypes.func // onSelectClient: PropTypes.func.isRequired\n\n};\nexport default ModalReportingServices;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalReportingServices\");","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/components/InformeFinanciero/ModalReportingServices.js"],"names":["React","useState","useEffect","PropTypes","useLocation","translationHelpers","Row","Col","Button","Label","Input","Modal","ModalHeader","ModalBody","Card","CardBody","CardFooter","Table","CoreServices","BackendServices","moment","ModalReportingServices","props","t","c","location","records","setRecords","customerNumberT24","setcustomerNumberT24","backendServices","coreServices","dataLocation","setData","data","JSON","parse","sessionStorage","getItem","transactionId","Promise","allSettled","consultPrincipalDebtor","then","resp","value","PrincipalDebtor","console","log","fetchReportingServices","fetchProspect","catch","error","getReportingServices","reportingServices","Status","Error","StatusCode","fields","key","label","type","cellAlign","formatCell","m","format","headerRow","map","field","index","rows","record","cols","isOpen","toggle","propTypes","bool","func"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\r\nimport PropTypes from 'prop-types';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { translationHelpers } from \"../../helpers\";\r\n\r\nimport {\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Label,\r\n  Input,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  Card,\r\n  CardBody,\r\n  CardFooter,\r\n  Table,\r\n} from \"reactstrap\"\r\n\r\nimport CoreServices from '../../services/CoreServices/Services';\r\nimport { BackendServices } from \"../../services\";\r\nimport * as moment from 'moment';\r\n\r\nconst ModalReportingServices = (props) => {\r\n\r\n  const [t, c] = translationHelpers('commercial_credit', 'common');\r\n\r\n  const location = useLocation();\r\n  const [records, setRecords] = useState([]);\r\n  const [customerNumberT24, setcustomerNumberT24] = useState(null);\r\n\r\n  const backendServices = new BackendServices();\r\n  const coreServices = new CoreServices();\r\n\r\n  const [dataLocation, setData] = useState(location.data ?? JSON.parse(sessionStorage.getItem('locationData')));\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    // const partyId = \"600133774\";\r\n    const transactionId = dataLocation.transactionId;\r\n\r\n    Promise.allSettled([\r\n      backendServices.consultPrincipalDebtor(transactionId)\r\n    ]).then(resp => {\r\n      const [{ value: PrincipalDebtor }] = resp;\r\n       console.log('fetchProspect', PrincipalDebtor);\r\n      fetchReportingServices(PrincipalDebtor.customerNumberT24);\r\n    });\r\n\r\n  }, []);\r\n\r\n  function fetchProspect(transactionId) {\r\n    return backendServices.consultPrincipalDebtor(transactionId)\r\n      .then(resp => {\r\n        // console.log('prospecto', resp);\r\n        setcustomerNumberT24(resp.customerNumberT24);\r\n        return resp.customerNumberT24;\r\n      })\r\n      .catch((error) => {\r\n        console.error('error fetching prospect', error);\r\n      })\r\n  }\r\n\r\n  function fetchReportingServices(customerNumberT24) {\r\n\r\n    //console.log(\"fetchReportingServices\",customerNumberT24,coreServices);\r\n    coreServices.getReportingServices(customerNumberT24)\r\n      .then((reportingServices) => {\r\n        console.log('getReportingServices', reportingServices);\r\n        if (!reportingServices || !reportingServices.Status) {\r\n          throw new Error('Error Fetching Data');\r\n        }\r\n        if (reportingServices.Status.StatusCode !== \"M0000\") {\r\n          throw new Error('Invalid Status Response');\r\n        }\r\n        setRecords(reportingServices.records);\r\n      })\r\n      .catch((error) => {\r\n        console.error('error fetching reporting services', error);\r\n      });\r\n  }\r\n\r\n  const fields = [\r\n    { key: 'FECHA', label: 'FECHA', type: 'date' },\r\n    { key: 'T_CREDITO', label: 'T_CREDITO', type: 'text' },\r\n    { key: 'T_FACILIDAD', label: 'T_FACILIDAD COSTO', type: 'text' },\r\n    { key: 'CLASIFICACION', label: 'CLASIFICACION', type: 'text' },\r\n    { key: 'LOC_EXT', label: 'LOC_EXT', type: 'text' },\r\n    { key: 'REGION', label: 'REGION', type: 'text' },\r\n    { key: 'CLIENTE_RUC', label: 'CLIENTE_RUC', type: 'text' },\r\n    { key: 'TNO_EMPRESA', label: 'TNO_EMPRESA', type: 'text' },\r\n    { key: 'NOMBRE_CLIENTE', label: 'NOMBRE_CLIENTE', type: 'text' },\r\n    { key: 'GRUPO_ECON', label: 'GRUPO_ECON', type: 'text' },\r\n    { key: 'GRUPO_RUC', label: 'GRUPO_RUC', type: 'text' },\r\n    { key: 'T_RELACION', label: 'T_RELACION', type: 'text' },\r\n    { key: 'ACT_ECON', label: 'ACT_ECON', type: 'text' },\r\n    { key: 'TASA_INT', label: 'TASA_INT', type: 'number' },\r\n    { key: 'MONTO_IN', label: 'MONTO_IN', type: 'number' },\r\n    { key: 'INT_PC', label: 'INT_PC', type: 'number' },\r\n    { key: 'FECHA_INI', label: 'FECHA_INI', type: 'date' },\r\n    { key: 'FECHA_FIN', label: 'FECHA_FIN', type: 'date' },\r\n    { key: 'FECHA_REFIN', label: 'FECHA_REFIN', type: 'date' },\r\n    { key: 'FECHA_RENEG', label: 'FECHA_RENEG', type: 'date' },\r\n    { key: 'G1', label: 'G1', type: 'text' },\r\n    { key: 'MONTO_G1', label: 'MONTO_G1', type: 'number' },\r\n    { key: 'G2', label: 'G2', type: 'text' },\r\n    { key: 'MONTO_G2', label: 'MONTO_G2', type: 'number' },\r\n    { key: 'G3', label: 'G3', type: 'text' },\r\n    { key: 'MONTO_G3', label: 'MONTO_G3', type: 'number' },\r\n    { key: 'G4', label: 'G4', type: 'text' },\r\n    { key: 'MONTO_G4', label: 'MONTO_G4', type: 'number' },\r\n    { key: 'G5', label: 'G5', type: 'text' },\r\n    { key: 'MONTO_G5', label: 'MONTO_G5', type: 'number' },\r\n    { key: 'PROV_REG', label: 'PROV_REG', type: 'number' },\r\n    { key: 'PROV_NIIF', label: 'PROV_NIIF', type: 'number' },\r\n    { key: 'PROV_PAIS', label: 'PROV_PAIS', type: 'number' },\r\n    { key: 'SALDO', label: 'SALDO', type: 'number' },\r\n    { key: 'N_CUOTAS_VENCER', label: 'N_CUOTAS_VENCER', type: 'text' },\r\n    { key: 'X_VENCER30', label: 'X_VENCER30', type: 'number' },\r\n    { key: 'X_VENCER60', label: 'X_VENCER60', type: 'number' },\r\n    { key: 'X_VENCER90', label: 'X_VENCER90', type: 'number' },\r\n    { key: 'X_VENCER120', label: 'X_VENCER120', type: 'number' },\r\n    { key: 'X_VENCER180', label: 'X_VENCER180', type: 'number' },\r\n    { key: 'X_VENCER1A', label: 'X_VENCER1A', type: 'number' },\r\n    { key: 'X_VENCER5A', label: 'X_VENCER5A', type: 'number' },\r\n    { key: 'X_VENCER10A', label: 'X_VENCER10A', type: 'number' },\r\n    { key: 'X_VENCERM10A', label: 'X_VENCERM10A', type: 'number' },\r\n    { key: 'N_CUOTA_VENCIDAS', label: 'N_CUOTA_VENCIDAS', type: 'text' },\r\n    { key: 'VENCIDOS30', label: 'VENCIDOS30', type: 'number' },\r\n    { key: 'VENCIDOS60', label: 'VENCIDOS60', type: 'number' },\r\n    { key: 'VENCIDOS90', label: 'VENCIDOS90', type: 'number' },\r\n    { key: 'VENCIDOS120', label: 'VENCIDOS120', type: 'number' },\r\n    { key: 'VENCIDOS180', label: 'VENCIDOS180', type: 'number' },\r\n    { key: 'VENCIDOS1A', label: 'VENCIDOS1A', type: 'number' },\r\n    { key: 'VENCIDOSM1A', label: 'VENCIDOSM1A', type: 'number' },\r\n    { key: 'RANGO_MORA', label: 'RANGO_MORA', type: 'text' },\r\n    { key: 'DIAS_MORA', label: 'DIAS_MORA', type: 'number' },\r\n    { key: 'PROX_CAP', label: 'PROX_CAP', type: 'date' },\r\n    { key: 'PER_CAP', label: 'PER_CAP', type: 'text' },\r\n    { key: 'PROX_INT', label: 'PROX_INT', type: 'date' },\r\n    { key: 'PER_INT', label: 'PER_INT', type: 'text' },\r\n    { key: 'CUOTA_XPAGAR', label: 'CUOTA_XPAGAR', type: 'number' },\r\n    { key: 'SUCURSAL', label: 'SUCURSAL', type: 'text' },\r\n    { key: 'SUCURSAL', label: 'SUCURSAL', type: 'text' },\r\n\r\n\r\n    { key: 'GRUPO_ECON', label: 'GRUPO_ECON', type: 'text' },\r\n    { key: 'GRUPO_RUC', label: 'GRUPO_RUC', type: 'text' },\r\n    { key: 'INT_PC', label: 'INT_PC', type: 'number' },\r\n    { key: 'LOC_EXT', label: 'LOC_EXT', type: 'text' },\r\n    { key: 'MONEDA', label: 'MONEDA', type: 'text' },\r\n    { key: 'MONTO_G1', label: 'MONTO G1', type: 'number' },\r\n    { key: 'MONTO_G2', label: 'MONTO G2', type: 'number' },\r\n    { key: 'MONTO_G3', label: 'MONTO G3', type: 'number' },\r\n    { key: 'MONTO_G4', label: 'MONTO G4', type: 'number' },\r\n    { key: 'MONTO_G5', label: 'MONTO G5', type: 'number' },\r\n    { key: 'MONTO_IN', label: 'MONTO IN', type: 'number' },\r\n    { key: 'NOMBRE_CLIENTE', label: 'NOMBRE CLIENTE', type: 'text' },\r\n    { key: 'NUM_CLIENTE', label: 'NUM CLIENTE', type: 'text' },\r\n    { key: 'NUM_LINEA', label: 'NUM LINEA', type: 'text' },\r\n    { key: 'NUM_OPS', label: 'NUM OPS', type: 'text' },\r\n    { key: 'N_CUOTAS_VENCER', label: 'NUM CUOTAS VENCER', type: 'number' },\r\n    { key: 'N_CUOTA_VENCIDAS', label: 'NUM CUOTAS VENCIDAS', type: 'number' },\r\n    { key: 'PER_CAP', label: 'PER CAP', type: 'text' },\r\n    { key: 'PER_INT', label: 'PER INT', type: 'text' },\r\n    { key: 'PRODUCTO', label: 'PRODUCTO', type: 'text' },\r\n    { key: 'PRODUCTO1', label: 'PRODUCTO1', type: 'text' },\r\n    { key: 'PRODUCTO2', label: 'PRODUCTO2', type: 'text' },\r\n    { key: 'PRODUCTO3', label: 'PRODUCTO3', type: 'text' },\r\n    { key: 'PROV_NIIF', label: 'PROV NIIF', type: 'number' },\r\n    { key: 'PROV_PAIS', label: 'PROV PAIS', type: 'number' },\r\n    { key: 'PROV_REG', label: 'PROV REG', type: 'number' },\r\n    { key: 'PROX_CAP', label: 'PROX CAP', type: 'date' },\r\n    { key: 'PROX_INT', label: 'PROX INT', type: 'date' },\r\n    { key: 'RANGO_MORA', label: 'RANGO MORA', type: 'text' },\r\n    { key: 'REGION', label: 'REGION', type: 'text' },\r\n    { key: 'SALDO', label: 'SALDO', type: 'number' },\r\n    { key: 'SECTOR1', label: 'SECTOR1', type: 'text' },\r\n    { key: 'SECTOR2', label: 'SECTOR2', type: 'text' },\r\n    { key: 'SECTOR3', label: 'SECTOR3', type: 'text' },\r\n    { key: 'SECTOR4', label: 'SECTOR4', type: 'text' },\r\n    { key: 'SUCURSAL', label: 'SUCURSAL', type: 'text' },\r\n    { key: 'TASA_INT', label: 'TASA INT', type: 'number' },\r\n    { key: 'TNO_EMPRESA', label: 'TNO EMPRESA', type: 'text' },\r\n    { key: 'T_CREDITO', label: 'T_CREDITO', type: 'text' },\r\n    { key: 'T_FACILIDAD', label: 'T_FACILIDAD', type: 'text' },\r\n    { key: 'T_RELACION', label: 'T_RELACION', type: 'text' },\r\n    { key: 'VENCIDOS1A', label: 'VENCIDOS1A', type: 'number' },\r\n    { key: 'VENCIDOS30', label: 'VENCIDOS30', type: 'number' },\r\n    { key: 'VENCIDOS60', label: 'VENCIDOS60', type: 'number' },\r\n    { key: 'VENCIDOS90', label: 'VENCIDOS90', type: 'number' },\r\n    { key: 'VENCIDOS120', label: 'VENCIDOS120', type: 'number' },\r\n    { key: 'VENCIDOS180', label: 'VENCIDOS180', type: 'number' },\r\n    { key: 'VENCIDOSM1A', label: 'VENCIDOSM1A', type: 'number' },\r\n    { key: 'X_VENCER1A', label: 'X_VENCER1A', type: 'number' },\r\n    { key: 'X_VENCER5A', label: 'X_VENCER5A', type: 'number' },\r\n    { key: 'X_VENCER10A', label: 'X_VENCER10A', type: 'number' },\r\n    { key: 'X_VENCER30', label: 'X_VENCER30', type: 'number' },\r\n    { key: 'X_VENCER60', label: 'X_VENCER60', type: 'number' },\r\n    { key: 'X_VENCER90', label: 'X_VENCER90', type: 'number' },\r\n    { key: 'X_VENCER120', label: 'X_VENCER120', type: 'number' },\r\n    { key: 'X_VENCER180', label: 'X_VENCER180', type: 'number' },\r\n    { key: 'X_VENCERM10A', label: 'X_VENCERM10A', type: 'number' },\r\n  ];\r\n\r\n  const cellAlign = (type) => {\r\n    return type === 'number' ? 'text-end' : ''\r\n  };\r\n\r\n  const formatCell = (value, type) => {\r\n    switch (type) {\r\n      case 'date':\r\n        const m = moment(value, 'YYYYMMDD');\r\n        return m.format('DD/MM/YYYY');\r\n      default:\r\n        return value;\r\n    }\r\n  }\r\n\r\n  const headerRow = (<tr>\r\n    {fields.map((field, index) => <th key={index} className={cellAlign(field.type)}>{field.label}</th>)}\r\n  </tr>);\r\n\r\n  const rows = records.map((record, index) => {\r\n\r\n    const cols = fields.map((field) => (\r\n      <td key={index} className={cellAlign(field.type)}>{formatCell(record[field.key], field.type)}</td>\r\n    ));\r\n\r\n    return (<tr key={index}>\r\n      {cols}\r\n    </tr>)\r\n  })\r\n\r\n  return (\r\n    <Modal isOpen={props.isOpen}\r\n      toggle={props.toggle}\r\n      centered={true}\r\n      size=\"xl\">\r\n\r\n      <ModalHeader toggle={props.toggle} color=\"primary\">{t(\"Reporting Services\")}</ModalHeader>\r\n\r\n      <ModalBody>\r\n        <Row className=\"mt-2\">\r\n          <Col xl=\"12\">\r\n            <Table responsive>\r\n              <thead className=\"table-light\">\r\n                {headerRow}\r\n              </thead>\r\n              <tbody>\r\n                {rows}\r\n              </tbody>\r\n            </Table>\r\n          </Col>\r\n        </Row>\r\n      </ModalBody>\r\n    </Modal>);\r\n\r\n};\r\n\r\nModalReportingServices.propTypes = {\r\n  isOpen: PropTypes.bool,\r\n  toggle: PropTypes.func,\r\n  // onSelectClient: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ModalReportingServices;\r\n"]},"metadata":{},"sourceType":"module"}