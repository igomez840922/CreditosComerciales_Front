{"ast":null,"code":"import _regeneratorRuntime from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import axios from\"axios\";//apply base url for axios\nvar API_URL=\"\";// headers: {\n//   \"Content-Type\": \"application/json\",\n//   'Cache-Control': 'no-cache',\n//   'Pragma': 'no-cache',\n//   'Expires': '0',\n// },\nvar axiosApi=axios.create({baseURL:API_URL,headers:{\"Content-Type\":\"application/json\"}});var ApiServiceBackend=/*#__PURE__*/function(){function ApiServiceBackend(){_classCallCheck(this,ApiServiceBackend);}_createClass(ApiServiceBackend,[{key:\"setDataError\",value:function setDataError(err){var jsonError={code:err.response.status,error:true,message:err.response.data,method:err.response.config.method,serviceType:\"bk\",url:err.response.config.url};//localStorage.setItem(\"jsonError\", JSON.stringify(jsonError))\n//const event = new CustomEvent('errorSoaint', jsonError);\n//event.initEvent(\"errorSoaint\", true, true);\n//window.dispatchEvent(event);\n}},{key:\"get\",value:function(){var _get=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url){var _this=this;var config,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:config=_args.length>1&&_args[1]!==undefined?_args[1]:{};_context.next=3;return axiosApi.get(url,_objectSpread({},config)).then(function(response){return response.data;}).catch(function(err){_this.setDataError(err);});case 3:return _context.abrupt(\"return\",_context.sent);case 4:case\"end\":return _context.stop();}}},_callee);}));function get(_x){return _get.apply(this,arguments);}return get;}()},{key:\"getSinData\",value:function(){var _getSinData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(url){var config,_args2=arguments;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:config=_args2.length>1&&_args2[1]!==undefined?_args2[1]:{};_context2.next=3;return axiosApi.get(url,_objectSpread({},config)).then(function(response){return response;});case 3:return _context2.abrupt(\"return\",_context2.sent);case 4:case\"end\":return _context2.stop();}}},_callee2);}));function getSinData(_x2){return _getSinData.apply(this,arguments);}return getSinData;}()},{key:\"post\",value:function(){var _post=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(url,data){var _this2=this;var config,_args3=arguments;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:config=_args3.length>2&&_args3[2]!==undefined?_args3[2]:{};return _context3.abrupt(\"return\",axiosApi.post(url,_objectSpread({},data),_objectSpread({},config)).then(function(response){return response.data;}).catch(function(err){_this2.setDataError(err);}));case 2:case\"end\":return _context3.stop();}}},_callee3);}));function post(_x3,_x4){return _post.apply(this,arguments);}return post;}()},{key:\"put\",value:function(){var _put=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(url,data){var _this3=this;var config,_args4=arguments;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:config=_args4.length>2&&_args4[2]!==undefined?_args4[2]:{};return _context4.abrupt(\"return\",axiosApi.put(url,_objectSpread({},data),_objectSpread({},config)).then(function(response){return response.data;}).catch(function(err){_this3.setDataError(err);}));case 2:case\"end\":return _context4.stop();}}},_callee4);}));function put(_x5,_x6){return _put.apply(this,arguments);}return put;}()},{key:\"del\",value:function(){var _del=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(url,data){var _this4=this;var config,_args5=arguments;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:config=_args5.length>2&&_args5[2]!==undefined?_args5[2]:{};_context5.next=3;return axiosApi.delete(url,{data:data},_objectSpread({},config)).then(function(response){if(response.statusCode==\"500\"){_this4.setDataError({code:500,error:true,message:\"Error del servidor\",method:'Delete',serviceType:\"bk\",url:''});}return response.data;}).catch(function(err){_this4.setDataError(err);});case 3:return _context5.abrupt(\"return\",_context5.sent);case 4:case\"end\":return _context5.stop();}}},_callee5);}));function del(_x7,_x8){return _del.apply(this,arguments);}return del;}()}]);return ApiServiceBackend;}();export{ApiServiceBackend as default};","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/services/ApiServiceBackend.js"],"names":["axios","API_URL","axiosApi","create","baseURL","headers","ApiServiceBackend","err","jsonError","code","response","status","error","message","data","method","config","serviceType","url","get","then","catch","setDataError","post","put","delete","statusCode"],"mappings":"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","sourcesContent":["import axios from \"axios\"\r\n//apply base url for axios\r\nconst API_URL = \"\"\r\n// headers: {\r\n//   \"Content-Type\": \"application/json\",\r\n//   'Cache-Control': 'no-cache',\r\n//   'Pragma': 'no-cache',\r\n//   'Expires': '0',\r\n// },\r\nconst axiosApi = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\"\r\n  },\r\n})\r\n\r\n\r\nexport default class ApiServiceBackend {\r\n\r\n  setDataError(err) {\r\n    let jsonError = {\r\n      code: err.response.status,\r\n      error: true,\r\n      message: err.response.data,\r\n      method: err.response.config.method,\r\n      serviceType: \"bk\",\r\n      url: err.response.config.url,\r\n    }\r\n\r\n    //localStorage.setItem(\"jsonError\", JSON.stringify(jsonError))\r\n    //const event = new CustomEvent('errorSoaint', jsonError);\r\n    //event.initEvent(\"errorSoaint\", true, true);\r\n    //window.dispatchEvent(event);\r\n  }\r\n\r\n  async get(url, config = {}) {\r\n    return await axiosApi\r\n      .get(url, { ...config })\r\n      .then(response => response.data).catch(err => {\r\n        this.setDataError(err);\r\n      });\r\n  }\r\n  async getSinData(url, config = {}) {\r\n    return await axiosApi\r\n      .get(url, { ...config })\r\n      .then(response => response)\r\n  }\r\n\r\n  async post(url, data, config = {}) {\r\n    return axiosApi\r\n      .post(url, { ...data }, { ...config })\r\n      .then(response => response.data).catch(err => {\r\n        this.setDataError(err);\r\n      });\r\n  }\r\n\r\n  async put(url, data, config = {}) {\r\n    return axiosApi\r\n      .put(url, { ...data }, { ...config })\r\n      .then(response => response.data).catch(err => {\r\n        this.setDataError(err);\r\n      });\r\n  }\r\n\r\n  async del(url, data, config = {}) {\r\n    return await axiosApi\r\n      .delete(url, { data: data }, { ...config })\r\n      .then(response => {\r\n        if (response.statusCode == \"500\") {\r\n          this.setDataError({\r\n            code: 500,\r\n            error: true,\r\n            message: \"Error del servidor\",\r\n            method: 'Delete',\r\n            serviceType: \"bk\",\r\n            url: '',\r\n          });\r\n        }\r\n        return response.data\r\n      }).catch(err => {\r\n        this.setDataError(err);\r\n      });\r\n  }\r\n}\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}