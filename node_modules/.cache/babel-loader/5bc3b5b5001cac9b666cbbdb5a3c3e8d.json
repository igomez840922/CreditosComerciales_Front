{"ast":null,"code":"import _slicedToArray from\"D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useTranslation,withTranslation}from\"react-i18next\";import{Link,useLocation,useHistory}from\"react-router-dom\";import{Row,Col,Button,Label,Table}from\"reactstrap\";import{AvForm,AvField,AvGroup}from\"availity-reactstrap-validation\";import AvInput from'availity-reactstrap-validation/lib/AvInput';import ModalFacilidadActivosFijos from\"./ModalFacilidadActivosFijos\";import AttachmentFileCore from\"../../../../../components/Common/AttachmentFileCore\";import*as OPTs from\"../../../../../helpers/options_helper\";import{AttachmentFileInputModel}from'../../../../../models/Common/AttachmentFileInputModel';import{BackendServices}from\"../../../../../services\";import SweetAlert from\"react-bootstrap-sweetalert\";import*as url from\"../../../../../helpers/url_helper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FacilidadActivosFijos=/*#__PURE__*/React.forwardRef(function(props,ref){var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;// const { locationData } = props;\nvar location=useLocation();/* ---------------------------------------------------------------------------------------------- */ /*                        Variables de estados para los mensajes de alerta                        */ /* ---------------------------------------------------------------------------------------------- */var _useState=useState(false),_useState2=_slicedToArray(_useState,2),successSave_dlg=_useState2[0],setsuccessSave_dlg=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error_dlg=_useState4[0],seterror_dlg=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error_msg=_useState6[0],seterror_msg=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),confirm_alert=_useState8[0],setconfirm_alert=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),dataDelete=_useState10[0],setDataDelete=_useState10[1];var _useState11=useState(location.data),_useState12=_slicedToArray(_useState11,2),dataLocation=_useState12[0],setData=_useState12[1];var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),botonValidation=_useState14[0],setbotonValidation=_useState14[1];var _useState15=useState(props.dataFacilidadActivosFijos),_useState16=_slicedToArray(_useState15,2),dataReturn=_useState16[0],setdataReturn=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),formValid=_useState18[0],setFormValid=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),showModalFacilidadActivosFijos=_useState20[0],setShowModalFacilidadActivosFijos=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),showModelAttachment=_useState22[0],setShowModelAttachment=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),showBlock1=_useState24[0],setShowBlock1=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),showBlock2=_useState26[0],setShowBlock2=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),showBlock3=_useState28[0],setShowBlock3=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),showBlock4=_useState30[0],setShowBlock4=_useState30[1];var _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),showBlock5=_useState32[0],setShowBlock5=_useState32[1];var _useState33=useState(null),_useState34=_slicedToArray(_useState33,2),dataFixedAssetsFacilitiesRows=_useState34[0],setdataFixedAssetsFacilitiesRows=_useState34[1];var _useState35=useState(\"\"),_useState36=_slicedToArray(_useState35,2),tipo=_useState36[0],setTipo=_useState36[1];var _useState37=useState({\"transactId\":0,\"address\":null,\"propertyType\":{\"code\":\"\",\"name\":\"\"},\"observations\":null,\"ownerCompany\":null,\"leaseFee\":0,\"leaseConditions\":null,\"contractDuration\":0}),_useState38=_slicedToArray(_useState37,2),dataFacilidad=_useState38[0],setdataFacilidad=_useState38[1];var _useState39=useState(null),_useState40=_slicedToArray(_useState39,2),locationData=_useState40[0],setLocationData=_useState40[1];var history=useHistory();React.useImperativeHandle(ref,function(){return{validateForm:function validateForm(){var form=document.getElementById('frmActivosFijos');form.requestSubmit();},getFormValidation:function getFormValidation(){return formValid;},dataReturn:dataReturn};});React.useEffect(function(){var dataSession;if(location.data!==null&&location.data!==undefined){if(location.data.transactionId===undefined||location.data.transactionId.length<=0){//location.data.transactionId = 0;\n//checkAndCreateProcedure(location.data);\nhistory.push(url.URL_DASHBOARD);}else{sessionStorage.setItem('locationData',JSON.stringify(location.data));setLocationData(location.data);dataSession=location.data;}}else{//chequeamos si tenemos guardado en session\nvar result=sessionStorage.getItem('locationData');if(result!==undefined&&result!==null){result=JSON.parse(result);setLocationData(result);dataSession=result;}}if(props.activeTab==17){// Read Api Service data   \ninitializeData(dataSession);}},[props.activeTab==17]);React.useEffect(function(){// Read Api Service data   \nsetShowBlock1(props.dataFacilidadActivosFijos.variationsAssets);setShowBlock2(props.dataFacilidadActivosFijos.manufacturingAgroCompanies);setShowBlock3(props.dataFacilidadActivosFijos.tradingCompany);setShowBlock4(props.dataFacilidadActivosFijos.transportDistributionFleet);setShowBlock5(props.dataFacilidadActivosFijos.notApplicable);},[props.activeTab==17]);function initializeData(dataLocation){var api=new BackendServices();// consultarActivosFijosIGR\napi.consultFixedAssetsIGR(dataLocation.transactionId).then(function(resp){if(resp!=undefined&&resp.fixedAssets.length>0){setdataFixedAssetsFacilitiesRows(resp.fixedAssets.map(function(data,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"Address\"),children:data.address}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"Description\"),children:data.observations}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"PropertyType\"),children:data.propertyType.code}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"OwnerCompany\"),children:data.ownerCompany}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"LeaseFee\"),children:data.leaseFee}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"ContractPeriod\")+\" (\"+t(\"Year\")+\"s)\",children:data.contractDuration}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t(\"LeaseTerms\"),children:data.leaseConditions}),/*#__PURE__*/_jsxs(\"td\",{\"data-label\":t(\"Actions\"),style:{textAlign:\"right\",display:\"flex\"},children:[/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){updateDataFacility(data);},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-border-color mdi-24px\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",onClick:function onClick(resp){deleteDataFacility(data);},className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-trash-can-outline mdi-24px\"})})]})]},index);}));}else{setdataFixedAssetsFacilitiesRows(/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"7\",style:{textAlign:'center'},children:t(\"NoData\")})},6548));}});}function cerrarModal(){setShowModalFacilidadActivosFijos(false);removeBodyCss();}function abrirModal(){setShowModalFacilidadActivosFijos(true);removeBodyCss();}function updateDataFacility(data){setdataFacilidad(data);setbotonValidation(true);setTipo(\"editar\");abrirModal();}function deleteDataFacility(data){setDataDelete(data);setconfirm_alert(true);}// gestion de datos\nfunction dataManagament(data,tipo){var api=new BackendServices();data.transactId=locationData.transactionId;var datos={\"transactId\":Number(locationData.transactionId),\"address\":data.address,\"propertyType\":{\"code\":data.propertyType.name,\"name\":data.propertyType.name},\"observations\":data.observations,\"ownerCompany\":data.ownerCompany,\"leaseFee\":Number(data.leaseFee),\"leaseConditions\":data.leaseConditions,\"rentAmount\":0,\"contractDuration\":Number(data.contractDuration)};if(tipo==\"guardar\"){// nuevoActivosFijosIGR\napi.newFixedAssetsIGR(datos).then(function(resp){if(resp!==null&&resp!==undefined){initializeData(locationData);cerrarModal();}else{cerrarModal();seterror_dlg(true);}}).catch(function(err){seterror_dlg(true);});}else{datos.facilityAssetId=data.facilityAssetId;// actualizarActivosFijosIGR\napi.updateFixedAssetsIGR(datos).then(function(resp){if(resp!==null&&resp!==undefined){initializeData(locationData);cerrarModal();}else{cerrarModal();seterror_dlg(true);}}).catch(function(err){seterror_dlg(true);});}}//abrimos modal para adjunar archivos\nfunction toggleShowModalFacilidadActivosFijos(){setShowModalFacilidadActivosFijos(!showModalFacilidadActivosFijos);removeBodyCss();}function removeBodyCss(){document.body.classList.add(\"no_padding\");}// Form Submission\nfunction handleSubmit(event,errors,values){var _values$showBlock,_values$variationsAss,_values$showBlock2,_values$productionLin,_values$capacity,_values$usedCapacity,_values$showBlock3,_values$warehouseCapa,_values$showBlock4,_values$showBlock5,_values$units,_values$renovation;event.preventDefault();if(errors.length>0){return;}var datosSet={transactId:1,variationsAssets:(_values$showBlock=values.showBlock1)!==null&&_values$showBlock!==void 0?_values$showBlock:false,variationsAssetsObs:(_values$variationsAss=values.variationsAssetsObs1)!==null&&_values$variationsAss!==void 0?_values$variationsAss:\"\",manufacturingAgroCompanies:(_values$showBlock2=values.showBlock2)!==null&&_values$showBlock2!==void 0?_values$showBlock2:false,productionLine:(_values$productionLin=values.productionLine1)!==null&&_values$productionLin!==void 0?_values$productionLin:\"\",capacity:(_values$capacity=values.capacity1)!==null&&_values$capacity!==void 0?_values$capacity:\"\",usedCapacity:(_values$usedCapacity=values.usedCapacity1)!==null&&_values$usedCapacity!==void 0?_values$usedCapacity:\"\",tradingCompany:(_values$showBlock3=values.showBlock3)!==null&&_values$showBlock3!==void 0?_values$showBlock3:false,warehouseCapacity:(_values$warehouseCapa=values.warehouseCapacity1)!==null&&_values$warehouseCapa!==void 0?_values$warehouseCapa:\"\",transportDistributionFleet:(_values$showBlock4=values.showBlock4)!==null&&_values$showBlock4!==void 0?_values$showBlock4:false,notApplicable:(_values$showBlock5=values.showBlock5)!==null&&_values$showBlock5!==void 0?_values$showBlock5:false,units:(_values$units=values.units1)!==null&&_values$units!==void 0?_values$units:\"\",renovation:(_values$renovation=values.renovation1)!==null&&_values$renovation!==void 0?_values$renovation:\"\"};setdataReturn(datosSet);setFormValid(true);}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"card-title-desc\"}),/*#__PURE__*/_jsxs(AvForm,{id:\"frmActivosFijos\",className:\"needs-validation\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"6\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"card-sub-title\",children:t(\"FixedAssetsFacilities\")})}),/*#__PURE__*/_jsx(Col,{md:\"6\",style:{textAlign:\"right\"},children:/*#__PURE__*/_jsxs(Button,{className:\"btn\",color:\"success\",type:\"button\",style:{margin:'5px'},onClick:function onClick(){setbotonValidation(true);setTipo(\"guardar\");setdataFacilidad({\"transactId\":0,\"address\":null,\"propertyType\":{\"code\":\"\",\"name\":\"\"},\"observations\":null,\"ownerCompany\":null,\"leaseFee\":0,\"leaseConditions\":null,\"contractDuration\":0});abrirModal();},title:t(\"Add\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lg fa-plus-circle\"}),\" \",\" \"]})}),/*#__PURE__*/_jsx(Col,{lg:\"12\",className:\"table-responsive styled-table-div\",children:/*#__PURE__*/_jsxs(Table,{className:\"table table-striped table-hover styled-table table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"Address\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Description\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"PropertyType\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"OwnerCompany\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"LeaseFee\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"ContractPeriod\")+\" (\"+t(\"Year\")+\"s)\"}),/*#__PURE__*/_jsx(\"th\",{children:t(\"LeaseTerms\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Actions\")})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataFixedAssetsFacilitiesRows})]})})]}),/*#__PURE__*/_jsxs(Row,{style:{marginTop:\"15px\"},children:[/*#__PURE__*/_jsx(Col,{md:\"1\",style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(AvField,{type:\"checkbox\",name:\"showBlock1\",checked:showBlock1,onChange:function onChange(){setShowBlock1(!showBlock1);}})}),/*#__PURE__*/_jsx(Col,{md:\"11\",style:{textAlign:\"left\"},children:/*#__PURE__*/_jsx(Label,{htmlFor:\"variationsAssets\",children:t(\"ThereSignificanVariationsFixedAssetsCompanies\")})}),showBlock1&&/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{style:{textAlign:\"left\"},htmlFor:\"variationsAssetsObs1\",children:t(\"IndicateTypeInvestmentWasMadeAdvantagesCompanyInvestmentWasFinanced\")}),/*#__PURE__*/_jsx(AvField,{type:\"textarea\",name:\"variationsAssetsObs1\",id:\"variationsAssetsObs1\",maxLength:\"1000\",rows:\"7\",validate:{required:{value:true,errorMessage:t(\"Required Field\")}},value:props.dataFacilidadActivosFijos.variationsAssetsObs})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"1\",style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(AvField,{type:\"checkbox\",name:\"showBlock2\",checked:showBlock2,onChange:function onChange(){setShowBlock2(!showBlock2);}})}),/*#__PURE__*/_jsx(Col,{md:\"11\",style:{textAlign:\"left\"},children:/*#__PURE__*/_jsx(Label,{htmlFor:\"variationsAssets\",children:t(\"HasManufacturingCompaniesAgroindustries\")})}),showBlock2&&/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{style:{textAlign:\"left\"},htmlFor:\"typeInvestmentWasMade\",children:t(\"MainProductionLinesWhatDoesConsist\")}),/*#__PURE__*/_jsx(AvField,{type:\"textarea\",name:\"productionLine1\",id:\"productionLine1\",maxLength:\"1000\",rows:\"7\",validate:{required:{value:true,errorMessage:t(\"Required Field\")}},value:props.dataFacilidadActivosFijos.productionLine})]})}),/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{style:{textAlign:\"left\"},htmlFor:\"installedCapacity\",children:t(\"Installed Capacity in units amount of finished products that the company can produce per period per year, per month, etc\")}),/*#__PURE__*/_jsx(AvField,{type:\"textarea\",name:\"capacity1\",id:\"capacity1\",maxLength:\"1000\",rows:\"7\",validate:{required:{value:true,errorMessage:t(\"Required Field\")}},value:props.dataFacilidadActivosFijos.capacity})]})}),/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{style:{textAlign:\"left\"},htmlFor:\"percentCapacityUsed\",children:t(\"Percentage of capacity used number of finished products that are currently producing per year, per month, etc\")}),/*#__PURE__*/_jsx(AvField,{type:\"textarea\",name:\"usedCapacity1\",id:\"usedCapacity1\",maxLength:\"1000\",rows:\"7\",validate:{required:{value:true,errorMessage:t(\"Required Field\")}},value:props.dataFacilidadActivosFijos.usedCapacity})]})})]})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"1\",style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(AvField,{type:\"checkbox\",name:\"showBlock3\",checked:showBlock3,onChange:function onChange(){setShowBlock3(!showBlock3);}})}),/*#__PURE__*/_jsx(Col,{md:\"11\",style:{textAlign:\"left\"},children:/*#__PURE__*/_jsx(Label,{htmlFor:\"variationsAssets\",children:t(\"Has Marketing Companies\")})}),showBlock3&&/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{style:{textAlign:\"left\"},htmlFor:\"storageDistributionCapacity\",children:t(\"Storage and Distribution Capacity (Installed and percentage of use)\")}),/*#__PURE__*/_jsx(AvField,{type:\"textarea\",name:\"warehouseCapacity1\",id:\"warehouseCapacity1\",maxLength:\"1000\",rows:\"7\",validate:{required:{value:true,errorMessage:t(\"Required Field\")}},value:props.dataFacilidadActivosFijos.warehouseCapacity})]})})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"1\",style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(AvField,{type:\"checkbox\",name:\"showBlock4\",checked:showBlock4,onChange:function onChange(){setShowBlock4(!showBlock4);}})}),/*#__PURE__*/_jsx(Col,{md:\"11\",style:{textAlign:\"left\"},children:/*#__PURE__*/_jsx(Label,{htmlFor:\"variationsAssets\",children:t(\"It has a transportation / distribution fleet\")})}),showBlock4&&/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{style:{textAlign:\"left\"},htmlFor:\"indicatenumberunits\",children:t(\"Indicate the number of units with which it has the age of said vehicles the average number of trips per month average costs of routine and preventive maintenance of each vehicle and the frequency in which they do it\")}),/*#__PURE__*/_jsx(AvField,{type:\"textarea\",name:\"units1\",id:\"units1\",maxLength:\"1000\",rows:\"7\",validate:{required:{value:true,errorMessage:t(\"Required Field\")}},value:props.dataFacilidadActivosFijos.units})]})}),/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{style:{textAlign:\"left\"},htmlFor:\"estimateashorttermrenewal\",children:t(\"Do you estimate a short-term renewal of the fleet? How do you plan to finance it?\")}),/*#__PURE__*/_jsx(AvField,{type:\"textarea\",name:\"renovation1\",id:\"renovation1\",maxLength:\"1000\",rows:\"7\",validate:{required:{value:true,errorMessage:t(\"Required Field\")}},value:props.dataFacilidadActivosFijos.renovation})]})})]})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"1\",style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(AvField,{type:\"checkbox\",name:\"showBlock5\",checked:showBlock5,onChange:function onChange(){setShowBlock5(!showBlock5);}})}),/*#__PURE__*/_jsx(Col,{md:\"11\",style:{textAlign:\"left\"},children:/*#__PURE__*/_jsx(Label,{htmlFor:\"variationsAssets\",children:t(\"N/A\")})})]}),locationData?(props===null||props===void 0?void 0:props.activeTab)==17?/*#__PURE__*/_jsx(AttachmentFileCore,{attachmentFileInputModel:new AttachmentFileInputModel(locationData.transactionId,OPTs.PROCESS_INFORMEGESTION,OPTs.ACT_FACILIDADACTIVOSFIJOS)}):null:null]}),/*#__PURE__*/_jsx(ModalFacilidadActivosFijos,{dataManagament:dataManagament,botones:botonValidation,tipo:tipo,dataFacilidad:dataFacilidad,isOpen:showModalFacilidadActivosFijos,toggle:function toggle(){cerrarModal();}}),successSave_dlg?/*#__PURE__*/_jsx(SweetAlert,{success:true,title:t(\"SuccessDialog\"),confirmButtonText:t(\"Confirm\"),cancelButtonText:t(\"Cancel\"),onConfirm:function onConfirm(){setsuccessSave_dlg(false);initializeData(locationData);},children:t(\"SuccessSaveMessage\")}):null,error_dlg?/*#__PURE__*/_jsx(SweetAlert,{error:true,title:t(\"ErrorDialog\"),confirmButtonText:t(\"Confirm\"),cancelButtonText:t(\"Cancel\"),onConfirm:function onConfirm(){seterror_dlg(false);initializeData(locationData);},children:error_msg}):null,confirm_alert?/*#__PURE__*/_jsx(SweetAlert,{title:t(\"Areyousure\"),warning:true,showCancel:true,confirmButtonText:t(\"Yesdeleteit\"),cancelButtonText:t(\"Cancel\"),confirmBtnBsStyle:\"success\",cancelBtnBsStyle:\"danger\",onConfirm:function onConfirm(){var apiBack=new BackendServices();// eliminarActivosFijosIGR\napiBack.removeFixedAssetsIGR({transactId:Number(locationData.transactionId),fixedAssetId:dataDelete.facilityAssetId}).then(function(resp){if(resp.statusCode==\"500\"){setconfirm_alert(false);seterror_dlg(true);}else{setconfirm_alert(false);initializeData(locationData);}}).catch(function(error){setconfirm_alert(false);seterror_dlg(true);});},onCancel:function onCancel(){return setconfirm_alert(false);},children:t(\"Youwontbeabletorevertthis\")}):null]});});export default FacilidadActivosFijos;","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/4_InformeGestionReforzado/FormularioIGR/Secciones/FacilidadActivosFijos.js"],"names":["React","useState","useTranslation","withTranslation","Link","useLocation","useHistory","Row","Col","Button","Label","Table","AvForm","AvField","AvGroup","AvInput","ModalFacilidadActivosFijos","AttachmentFileCore","OPTs","AttachmentFileInputModel","BackendServices","SweetAlert","url","FacilidadActivosFijos","forwardRef","props","ref","t","i18n","location","successSave_dlg","setsuccessSave_dlg","error_dlg","seterror_dlg","error_msg","seterror_msg","confirm_alert","setconfirm_alert","dataDelete","setDataDelete","data","dataLocation","setData","botonValidation","setbotonValidation","dataFacilidadActivosFijos","dataReturn","setdataReturn","formValid","setFormValid","showModalFacilidadActivosFijos","setShowModalFacilidadActivosFijos","showModelAttachment","setShowModelAttachment","showBlock1","setShowBlock1","showBlock2","setShowBlock2","showBlock3","setShowBlock3","showBlock4","setShowBlock4","showBlock5","setShowBlock5","dataFixedAssetsFacilitiesRows","setdataFixedAssetsFacilitiesRows","tipo","setTipo","dataFacilidad","setdataFacilidad","locationData","setLocationData","history","useImperativeHandle","validateForm","form","document","getElementById","requestSubmit","getFormValidation","useEffect","dataSession","undefined","transactionId","length","push","URL_DASHBOARD","sessionStorage","setItem","JSON","stringify","result","getItem","parse","activeTab","initializeData","variationsAssets","manufacturingAgroCompanies","tradingCompany","transportDistributionFleet","notApplicable","api","consultFixedAssetsIGR","then","resp","fixedAssets","map","index","address","observations","propertyType","code","ownerCompany","leaseFee","contractDuration","leaseConditions","textAlign","display","updateDataFacility","deleteDataFacility","cerrarModal","removeBodyCss","abrirModal","dataManagament","transactId","datos","Number","name","newFixedAssetsIGR","catch","err","facilityAssetId","updateFixedAssetsIGR","toggleShowModalFacilidadActivosFijos","body","classList","add","handleSubmit","event","errors","values","preventDefault","datosSet","variationsAssetsObs","variationsAssetsObs1","productionLine","productionLine1","capacity","capacity1","usedCapacity","usedCapacity1","warehouseCapacity","warehouseCapacity1","units","units1","renovation","renovation1","margin","marginTop","required","value","errorMessage","PROCESS_INFORMEGESTION","ACT_FACILIDADACTIVOSFIJOS","apiBack","removeFixedAssetsIGR","fixedAssetId","statusCode","error"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\r\nimport { useTranslation, withTranslation } from \"react-i18next\"\r\nimport PropTypes from 'prop-types'\r\nimport { Link, useLocation, useHistory } from \"react-router-dom\"\r\nimport {\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Label,\r\n  Table,\r\n} from \"reactstrap\"\r\nimport { AvForm, AvField, AvGroup } from \"availity-reactstrap-validation\"\r\nimport AvInput from 'availity-reactstrap-validation/lib/AvInput'\r\nimport ModalFacilidadActivosFijos from \"./ModalFacilidadActivosFijos\"\r\nimport AttachmentFileCore from \"../../../../../components/Common/AttachmentFileCore\";\r\nimport * as OPTs from \"../../../../../helpers/options_helper\";\r\nimport { AttachmentFileInputModel } from '../../../../../models/Common/AttachmentFileInputModel';\r\nimport { BackendServices } from \"../../../../../services\"\r\nimport SweetAlert from \"react-bootstrap-sweetalert\"\r\nimport * as url from \"../../../../../helpers/url_helper\"\r\nconst FacilidadActivosFijos = React.forwardRef((props, ref) => {\r\n  const { t, i18n } = useTranslation();\r\n  // const { locationData } = props;\r\n  const location = useLocation()\r\n  /* ---------------------------------------------------------------------------------------------- */\r\n  /*                        Variables de estados para los mensajes de alerta                        */\r\n  /* ---------------------------------------------------------------------------------------------- */\r\n  const [successSave_dlg, setsuccessSave_dlg] = useState(false);\r\n  const [error_dlg, seterror_dlg] = useState(false);\r\n  const [error_msg, seterror_msg] = useState(\"\");\r\n  const [confirm_alert, setconfirm_alert] = useState(false)\r\n  const [dataDelete, setDataDelete] = useState([]);\r\n  const [dataLocation, setData] = useState(location.data);\r\n  const [botonValidation, setbotonValidation] = useState(true);\r\n  const [dataReturn, setdataReturn] = useState(props.dataFacilidadActivosFijos);\r\n  const [formValid, setFormValid] = useState(false);\r\n  const [showModalFacilidadActivosFijos, setShowModalFacilidadActivosFijos] = useState(false);\r\n  const [showModelAttachment, setShowModelAttachment] = useState(false);\r\n  const [showBlock1, setShowBlock1] = useState(false);\r\n  const [showBlock2, setShowBlock2] = useState(false);\r\n  const [showBlock3, setShowBlock3] = useState(false);\r\n  const [showBlock4, setShowBlock4] = useState(false);\r\n  const [showBlock5, setShowBlock5] = useState(false);\r\n  const [dataFixedAssetsFacilitiesRows, setdataFixedAssetsFacilitiesRows] = useState(null);\r\n  const [tipo, setTipo] = useState(\"\")\r\n  const [dataFacilidad, setdataFacilidad] = useState({\r\n    \"transactId\": 0,\r\n    \"address\": null,\r\n    \"propertyType\": {\r\n      \"code\": \"\",\r\n      \"name\": \"\"\r\n    },\r\n    \"observations\": null,\r\n    \"ownerCompany\": null,\r\n    \"leaseFee\": 0,\r\n    \"leaseConditions\": null,\r\n    \"contractDuration\": 0\r\n  });\r\n\r\n  const [locationData, setLocationData] = useState(null);\r\n  const history = useHistory();\r\n\r\n  React.useImperativeHandle(ref, () => ({\r\n    validateForm: () => {\r\n      const form = document.getElementById('frmActivosFijos');\r\n      form.requestSubmit();\r\n    },\r\n    getFormValidation: () => {\r\n      return formValid;\r\n    }, dataReturn\r\n  }));\r\n  React.useEffect(() => {\r\n    let dataSession;\r\n    if (location.data !== null && location.data !== undefined) {\r\n      if (location.data.transactionId === undefined || location.data.transactionId.length <= 0) {\r\n        //location.data.transactionId = 0;\r\n        //checkAndCreateProcedure(location.data);\r\n        history.push(url.URL_DASHBOARD);\r\n      }\r\n      else {\r\n        sessionStorage.setItem('locationData', JSON.stringify(location.data));\r\n        setLocationData(location.data);\r\n        dataSession = location.data;\r\n      }\r\n    }\r\n    else {\r\n      //chequeamos si tenemos guardado en session\r\n      var result = sessionStorage.getItem('locationData');\r\n      if (result !== undefined && result !== null) {\r\n        result = JSON.parse(result);\r\n        setLocationData(result);\r\n        dataSession = result;\r\n      }\r\n    }\r\n    if (props.activeTab == 17) {\r\n      // Read Api Service data   \r\n      initializeData(dataSession);\r\n    }\r\n  }, [props.activeTab == 17]);\r\n  React.useEffect(() => {\r\n    // Read Api Service data   \r\n    setShowBlock1(props.dataFacilidadActivosFijos.variationsAssets);\r\n    setShowBlock2(props.dataFacilidadActivosFijos.manufacturingAgroCompanies);\r\n    setShowBlock3(props.dataFacilidadActivosFijos.tradingCompany);\r\n    setShowBlock4(props.dataFacilidadActivosFijos.transportDistributionFleet);\r\n    setShowBlock5(props.dataFacilidadActivosFijos.notApplicable);\r\n  }, [props.activeTab == 17]);\r\n  function initializeData(dataLocation) {\r\n    const api = new BackendServices();\r\n    // consultarActivosFijosIGR\r\n    api.consultFixedAssetsIGR(dataLocation.transactionId).then(resp => {\r\n      if (resp != undefined && resp.fixedAssets.length>0) {\r\n        setdataFixedAssetsFacilitiesRows(resp.fixedAssets.map((data, index) => (\r\n          <tr key={index}>\r\n            <td data-label={t(\"Address\")}>{data.address}</td>\r\n            <td data-label={t(\"Description\")}>{data.observations}</td>\r\n            <td data-label={t(\"PropertyType\")}>{data.propertyType.code}</td>\r\n            <td data-label={t(\"OwnerCompany\")}>{data.ownerCompany}</td>\r\n            <td data-label={t(\"LeaseFee\")}>{data.leaseFee}</td>\r\n            <td data-label={t(\"ContractPeriod\")+\" (\"+t(\"Year\")+\"s)\"}>{data.contractDuration}</td>\r\n            <td data-label={t(\"LeaseTerms\")}>{data.leaseConditions}</td>\r\n            <td data-label={t(\"Actions\")} style={{ textAlign: \"right\",display:\"flex\" }}>\r\n              <Button type=\"button\" color=\"link\" onClick={(resp) => { updateDataFacility(data) }} className=\"btn btn-link\" ><i className=\"mdi mdi-border-color mdi-24px\"></i></Button>\r\n              <Button type=\"button\" color=\"link\" onClick={(resp) => { deleteDataFacility(data) }} className=\"btn btn-link\" ><i className=\"mdi mdi-trash-can-outline mdi-24px\"></i></Button>\r\n            </td>\r\n          </tr>)\r\n        ));\r\n      } else {\r\n        setdataFixedAssetsFacilitiesRows(\r\n          <tr key={6548}>\r\n            <td colSpan=\"7\" style={{ textAlign: 'center' }}>{t(\"NoData\")}</td>\r\n          </tr>);\r\n      }\r\n    })\r\n  }\r\n  function cerrarModal() {\r\n    setShowModalFacilidadActivosFijos(false);\r\n    removeBodyCss()\r\n  }\r\n  function abrirModal() {\r\n    setShowModalFacilidadActivosFijos(true);\r\n    removeBodyCss()\r\n  }\r\n  function updateDataFacility(data) {\r\n    setdataFacilidad(data)\r\n    setbotonValidation(true);\r\n    setTipo(\"editar\")\r\n    abrirModal()\r\n  }\r\n  function deleteDataFacility(data) {\r\n    setDataDelete(data)\r\n    setconfirm_alert(true);\r\n  }\r\n  // gestion de datos\r\n  function dataManagament(data, tipo) {\r\n    const api = new BackendServices()\r\n    data.transactId = locationData.transactionId;\r\n    let datos = {\r\n      \"transactId\": Number(locationData.transactionId),\r\n      \"address\": data.address,\r\n      \"propertyType\": {\r\n        \"code\": data.propertyType.name,\r\n        \"name\": data.propertyType.name\r\n      },\r\n      \"observations\": data.observations,\r\n      \"ownerCompany\": data.ownerCompany,\r\n      \"leaseFee\": Number(data.leaseFee),\r\n      \"leaseConditions\": data.leaseConditions,\r\n      \"rentAmount\": 0,\r\n      \"contractDuration\": Number(data.contractDuration)\r\n    }\r\n    if (tipo == \"guardar\") {\r\n      // nuevoActivosFijosIGR\r\n      api.newFixedAssetsIGR(datos).then(resp => {\r\n        if (resp !== null && resp !== undefined) {\r\n          initializeData(locationData);\r\n          cerrarModal();\r\n        } else {\r\n          cerrarModal();\r\n          seterror_dlg(true);\r\n        }\r\n      }).catch(err => {\r\n        seterror_dlg(true);\r\n      })\r\n    } else {\r\n      datos.facilityAssetId = data.facilityAssetId;\r\n      // actualizarActivosFijosIGR\r\n      api.updateFixedAssetsIGR(datos).then(resp => {\r\n        if (resp !== null && resp !== undefined) {\r\n          initializeData(locationData);\r\n          cerrarModal();\r\n        } else {\r\n          cerrarModal();\r\n          seterror_dlg(true);\r\n        }\r\n      }).catch(err => {\r\n        seterror_dlg(true);\r\n      })\r\n    }\r\n  }\r\n  //abrimos modal para adjunar archivos\r\n  function toggleShowModalFacilidadActivosFijos() {\r\n    setShowModalFacilidadActivosFijos(!showModalFacilidadActivosFijos);\r\n    removeBodyCss()\r\n  }\r\n  function removeBodyCss() {\r\n    document.body.classList.add(\"no_padding\")\r\n  }\r\n  // Form Submission\r\n  function handleSubmit(event, errors, values) {\r\n    event.preventDefault();\r\n    if (errors.length > 0) {\r\n      return;\r\n    }\r\n    let datosSet = {\r\n      transactId: 1,\r\n      variationsAssets: values.showBlock1 ?? false,\r\n      variationsAssetsObs: values.variationsAssetsObs1 ?? \"\",\r\n      manufacturingAgroCompanies: values.showBlock2 ?? false,\r\n      productionLine: values.productionLine1 ?? \"\",\r\n      capacity: values.capacity1 ?? \"\",\r\n      usedCapacity: values.usedCapacity1 ?? \"\",\r\n      tradingCompany: values.showBlock3 ?? false,\r\n      warehouseCapacity: values.warehouseCapacity1 ?? \"\",\r\n      transportDistributionFleet: values.showBlock4 ?? false,\r\n      notApplicable: values.showBlock5 ?? false,\r\n      units: values.units1 ?? \"\",\r\n      renovation: values.renovation1 ?? \"\",\r\n    }\r\n    setdataReturn(datosSet)\r\n    setFormValid(true)\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      {/* <h5>\r\n        {t(\"FixedAssetsFacilities\")}\r\n      </h5> */}\r\n      <p className=\"card-title-desc\"></p>\r\n      <AvForm id=\"frmActivosFijos\" className=\"needs-validation\" onSubmit={handleSubmit}>\r\n        <Row>\r\n        <Col md=\"6\">\r\n            <h5 className=\"card-sub-title\">{t(\"FixedAssetsFacilities\")}</h5>\r\n          </Col>\r\n          <Col md=\"6\" style={{ textAlign: \"right\" }}>\r\n            <Button className=\"btn\" color=\"success\" type=\"button\" style={{ margin: '5px' }}  onClick={() => {\r\n              setbotonValidation(true); setTipo(\"guardar\"); setdataFacilidad({\r\n                \"transactId\": 0,\r\n                \"address\": null,\r\n                \"propertyType\": {\r\n                  \"code\": \"\",\r\n                  \"name\": \"\"\r\n                },\r\n                \"observations\": null,\r\n                \"ownerCompany\": null,\r\n                \"leaseFee\": 0,\r\n                \"leaseConditions\": null,\r\n                \"contractDuration\": 0\r\n              }); abrirModal();\r\n            }} title={t(\"Add\")}><i className=\"fas fa-lg fa-plus-circle\"></i> {(\" \")}</Button>\r\n          </Col>\r\n          <Col lg=\"12\" className=\"table-responsive styled-table-div\">\r\n            <Table className=\"table table-striped table-hover styled-table table\" >\r\n              <thead>\r\n                <tr>\r\n                  <th>{t(\"Address\")}</th>\r\n                  <th>{t(\"Description\")}</th>\r\n                  <th>{t(\"PropertyType\")}</th>\r\n                  <th>{t(\"OwnerCompany\")}</th>\r\n                  <th>{t(\"LeaseFee\")}</th>\r\n                  <th>{t(\"ContractPeriod\")+\" (\"+t(\"Year\")+\"s)\"}</th>\r\n                  <th>{t(\"LeaseTerms\")}</th>\r\n                  <th>{t(\"Actions\")}</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {dataFixedAssetsFacilitiesRows}\r\n              </tbody>\r\n            </Table>\r\n\r\n          </Col>\r\n        </Row>\r\n        <Row style={{ marginTop: \"15px\" }}>\r\n          <Col md=\"1\" style={{ textAlign: \"center\" }}>\r\n            <AvField type=\"checkbox\" name=\"showBlock1\" checked={showBlock1} onChange={() => { setShowBlock1(!showBlock1) }} />\r\n          </Col>\r\n          <Col md=\"11\" style={{ textAlign: \"left\" }}>\r\n            <Label htmlFor=\"variationsAssets\">{t(\"ThereSignificanVariationsFixedAssetsCompanies\")}</Label>\r\n          </Col>\r\n          {showBlock1 && (\r\n            <Col md=\"12\">\r\n              <div className=\"mb-3\">\r\n                <Label style={{ textAlign: \"left\" }} htmlFor=\"variationsAssetsObs1\">{t(\"IndicateTypeInvestmentWasMadeAdvantagesCompanyInvestmentWasFinanced\")}</Label>\r\n                <AvField\r\n                  type=\"textarea\"\r\n                  name=\"variationsAssetsObs1\"\r\n                  id=\"variationsAssetsObs1\"\r\n                  maxLength=\"1000\"\r\n                  rows=\"7\"\r\n                  validate={{\r\n                    required: { value: true, errorMessage: t(\"Required Field\") },\r\n                  }}\r\n                  value={props.dataFacilidadActivosFijos.variationsAssetsObs}\r\n                />\r\n              </div>\r\n            </Col>\r\n          )}\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"1\" style={{ textAlign: \"center\" }}>\r\n            <AvField type=\"checkbox\" name=\"showBlock2\" checked={showBlock2} onChange={() => { setShowBlock2(!showBlock2) }} />\r\n          </Col>\r\n          <Col md=\"11\" style={{ textAlign: \"left\" }}>\r\n            <Label htmlFor=\"variationsAssets\">{t(\"HasManufacturingCompaniesAgroindustries\")}</Label>\r\n          </Col>\r\n          {/* <Col md=\"12\">\r\n            <AvGroup check className=\"mb-3\">\r\n              <AvField type=\"checkbox\" name=\"showBlock2\" checked={showBlock2} onChange={() => { setShowBlock2(!showBlock2) }} />\r\n              <Label style={{ textAlign: \"left\" }} htmlFor=\"manufacturingAgroCompanies\">{t(\"HasManufacturingCompaniesAgroindustries\")}</Label>\r\n            </AvGroup>\r\n          </Col> */}\r\n          {showBlock2 &&\r\n            <React.Fragment>\r\n              <Col md=\"12\">\r\n                <div className=\"mb-3\">\r\n                  <Label style={{ textAlign: \"left\" }} htmlFor=\"typeInvestmentWasMade\">{t(\"MainProductionLinesWhatDoesConsist\")}</Label>\r\n                  <AvField\r\n                    type=\"textarea\"\r\n                    name=\"productionLine1\"\r\n                    id=\"productionLine1\"\r\n                    maxLength=\"1000\"\r\n                    rows=\"7\"\r\n                    validate={{\r\n                      required: { value: true, errorMessage: t(\"Required Field\") },\r\n                    }}\r\n                    value={props.dataFacilidadActivosFijos.productionLine}\r\n                  />\r\n                </div>\r\n              </Col>\r\n              <Col md=\"12\">\r\n                <div className=\"mb-3\">\r\n                  <Label style={{ textAlign: \"left\" }} htmlFor=\"installedCapacity\">{t(\"Installed Capacity in units amount of finished products that the company can produce per period per year, per month, etc\")}</Label>\r\n                  <AvField\r\n                    type=\"textarea\"\r\n                    name=\"capacity1\"\r\n                    id=\"capacity1\"\r\n                    maxLength=\"1000\"\r\n                    rows=\"7\"\r\n                    validate={{\r\n                      required: { value: true, errorMessage: t(\"Required Field\") },\r\n                    }}\r\n                    value={props.dataFacilidadActivosFijos.capacity}\r\n                  />\r\n                </div>\r\n              </Col>\r\n              <Col md=\"12\">\r\n                <div className=\"mb-3\">\r\n                  <Label style={{ textAlign: \"left\" }} htmlFor=\"percentCapacityUsed\">{t(\"Percentage of capacity used number of finished products that are currently producing per year, per month, etc\")}</Label>\r\n                  <AvField\r\n                    type=\"textarea\"\r\n                    name=\"usedCapacity1\"\r\n                    id=\"usedCapacity1\"\r\n                    maxLength=\"1000\"\r\n                    rows=\"7\"\r\n                    validate={{\r\n                      required: { value: true, errorMessage: t(\"Required Field\") },\r\n                    }}\r\n                    value={props.dataFacilidadActivosFijos.usedCapacity}\r\n                  />\r\n                </div>\r\n              </Col>\r\n            </React.Fragment>\r\n          }\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"1\" style={{ textAlign: \"center\" }}>\r\n            <AvField type=\"checkbox\" name=\"showBlock3\" checked={showBlock3} onChange={() => { setShowBlock3(!showBlock3) }} />\r\n          </Col>\r\n          <Col md=\"11\" style={{ textAlign: \"left\" }}>\r\n            <Label htmlFor=\"variationsAssets\">{t(\"Has Marketing Companies\")}</Label>\r\n          </Col>\r\n          {/* <Col md=\"12\">\r\n            <AvGroup check className=\"mb-3\">\r\n              <AvField type=\"checkbox\" name=\"showBlock3\" checked={showBlock3} onChange={() => { setShowBlock3(!showBlock3) }} />\r\n              <Label style={{ textAlign: \"left\" }} htmlFor=\"tradingCompany\">{t(\"Has Marketing Companies\")}</Label>\r\n            </AvGroup>\r\n          </Col> */}\r\n          {showBlock3 &&\r\n            <React.Fragment>\r\n              <Col md=\"12\">\r\n                <div className=\"mb-3\">\r\n                  <Label style={{ textAlign: \"left\" }} htmlFor=\"storageDistributionCapacity\">{t(\"Storage and Distribution Capacity (Installed and percentage of use)\")}</Label>\r\n                  <AvField\r\n                    type=\"textarea\"\r\n                    name=\"warehouseCapacity1\"\r\n                    id=\"warehouseCapacity1\"\r\n                    maxLength=\"1000\"\r\n                    rows=\"7\"\r\n                    validate={{\r\n                      required: { value: true, errorMessage: t(\"Required Field\") },\r\n                    }}\r\n                    value={props.dataFacilidadActivosFijos.warehouseCapacity}\r\n                  />\r\n                </div>\r\n              </Col>\r\n            </React.Fragment>\r\n          }\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"1\" style={{ textAlign: \"center\" }}>\r\n            <AvField type=\"checkbox\" name=\"showBlock4\" checked={showBlock4} onChange={() => { setShowBlock4(!showBlock4) }} />\r\n          </Col>\r\n          <Col md=\"11\" style={{ textAlign: \"left\" }}>\r\n            <Label htmlFor=\"variationsAssets\">{t(\"It has a transportation / distribution fleet\")}</Label>\r\n          </Col>\r\n          {showBlock4 &&\r\n            <React.Fragment>\r\n              <Col md=\"12\">\r\n                <div className=\"mb-3\">\r\n                  <Label style={{ textAlign: \"left\" }} htmlFor=\"indicatenumberunits\">{t(\"Indicate the number of units with which it has the age of said vehicles the average number of trips per month average costs of routine and preventive maintenance of each vehicle and the frequency in which they do it\")}</Label>\r\n                  <AvField\r\n                    type=\"textarea\"\r\n                    name=\"units1\"\r\n                    id=\"units1\"\r\n                    maxLength=\"1000\"\r\n                    rows=\"7\"\r\n                    validate={{\r\n                      required: { value: true, errorMessage: t(\"Required Field\") },\r\n                    }}\r\n                    value={props.dataFacilidadActivosFijos.units}\r\n                  />\r\n                </div>\r\n              </Col>\r\n              <Col md=\"12\">\r\n                <div className=\"mb-3\">\r\n                  <Label style={{ textAlign: \"left\" }} htmlFor=\"estimateashorttermrenewal\">{t(\"Do you estimate a short-term renewal of the fleet? How do you plan to finance it?\")}</Label>\r\n                  <AvField\r\n                    type=\"textarea\"\r\n                    name=\"renovation1\"\r\n                    id=\"renovation1\"\r\n                    maxLength=\"1000\"\r\n                    rows=\"7\"\r\n                    validate={{\r\n                      required: { value: true, errorMessage: t(\"Required Field\") },\r\n                    }}\r\n                    value={props.dataFacilidadActivosFijos.renovation}\r\n                  />\r\n                </div>\r\n              </Col>\r\n            </React.Fragment>\r\n          }\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"1\" style={{ textAlign: \"center\" }}>\r\n            <AvField type=\"checkbox\" name=\"showBlock5\" checked={showBlock5} onChange={() => { setShowBlock5(!showBlock5) }} />\r\n          </Col>\r\n          <Col md=\"11\" style={{ textAlign: \"left\" }}>\r\n            <Label htmlFor=\"variationsAssets\">{t(\"N/A\")}</Label>\r\n          </Col>\r\n        </Row>\r\n        {locationData ? (props?.activeTab == 17 ?\r\n          <AttachmentFileCore attachmentFileInputModel={new AttachmentFileInputModel(locationData.transactionId, OPTs.PROCESS_INFORMEGESTION, OPTs.ACT_FACILIDADACTIVOSFIJOS)} />\r\n          : null) : null}\r\n      </AvForm>\r\n      <ModalFacilidadActivosFijos dataManagament={dataManagament} botones={botonValidation} tipo={tipo} dataFacilidad={dataFacilidad} isOpen={showModalFacilidadActivosFijos} toggle={() => { cerrarModal() }} />\r\n      {successSave_dlg ? (\r\n        <SweetAlert\r\n          success\r\n          title={t(\"SuccessDialog\")}\r\n          confirmButtonText= {t(\"Confirm\")}\r\n          cancelButtonText= {t(\"Cancel\")}\r\n          onConfirm={() => {\r\n            setsuccessSave_dlg(false)\r\n            initializeData(locationData);\r\n          }}\r\n        >\r\n          {t(\"SuccessSaveMessage\")}\r\n        </SweetAlert>\r\n      ) : null}\r\n\r\n      {error_dlg ? (\r\n        <SweetAlert\r\n          error\r\n          title={t(\"ErrorDialog\")}\r\n          confirmButtonText= {t(\"Confirm\")}\r\n          cancelButtonText= {t(\"Cancel\")}\r\n          onConfirm={() => {\r\n            seterror_dlg(false)\r\n            initializeData(locationData);\r\n          }}\r\n        >\r\n          {error_msg}\r\n        </SweetAlert>\r\n      ) : null}\r\n      {confirm_alert ? (\r\n        <SweetAlert\r\n          title={t(\"Areyousure\")}\r\n          warning\r\n          showCancel\r\n          confirmButtonText={t(\"Yesdeleteit\")}\r\n          cancelButtonText= {t(\"Cancel\")}\r\n          confirmBtnBsStyle=\"success\"\r\n          cancelBtnBsStyle=\"danger\"\r\n          onConfirm={() => {\r\n            const apiBack = new BackendServices();\r\n            // eliminarActivosFijosIGR\r\n            apiBack.removeFixedAssetsIGR({ transactId: Number(locationData.transactionId), fixedAssetId: dataDelete.facilityAssetId }).then(resp => {\r\n              if (resp.statusCode == \"500\") {\r\n                setconfirm_alert(false)\r\n                seterror_dlg(true)\r\n              } else {\r\n                setconfirm_alert(false)\r\n                initializeData(locationData);\r\n              }\r\n            }).catch(error => {\r\n              setconfirm_alert(false)\r\n              seterror_dlg(true)\r\n            })\r\n          }}\r\n          onCancel={() => setconfirm_alert(false)}\r\n        >\r\n          {t(\"Youwontbeabletorevertthis\")}\r\n        </SweetAlert>\r\n      ) : null}\r\n    </React.Fragment>\r\n  );\r\n\r\n});\r\nFacilidadActivosFijos.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n  locationData: PropTypes.any,\r\n}\r\nexport default FacilidadActivosFijos;\r\n"]},"metadata":{},"sourceType":"module"}