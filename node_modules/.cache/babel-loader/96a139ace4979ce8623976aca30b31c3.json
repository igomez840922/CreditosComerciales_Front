{"ast":null,"code":"var _jsxFileName = \"D:\\\\_PROJECTS\\\\_SOAINT\\\\JBPM\\\\App\\\\banescocreditoscomerciales\\\\src\\\\pages\\\\CommercialCredit\\\\7_SupervisorAnalisisCredito\\\\PantallaDetalle\\\\index.js\",\n    _s = $RefreshSig$();\n\n/*ReinforcedManagementReport = Lista de Informe Reforzado*/\nimport React, { useState } from \"react\";\nimport PropTypes from 'prop-types';\nimport { Link } from \"react-router-dom\";\nimport { useLocation, useHistory } from 'react-router-dom';\nimport * as url from \"../../../../helpers/url_helper\";\nimport { Card, CardBody, CardFooter, Button } from \"reactstrap\"; //Import Breadcrumb\n\nimport Breadcrumbs from \"../../../../components/Common/Breadcrumb\"; //i18n\n\nimport { withTranslation } from \"react-i18next\";\nimport DatosGenerales from \"./DatosGenerales\";\nimport ExposicionCorporativa from \"./ExposicionCorporativa\";\nimport ExposicionCorporativaCliente from \"./ExposicionCorporativaCliente\";\nimport Facilidades from \"./Facilidades\";\nimport Refinanciamientos from \"./Refinanciamientos\";\nimport ModalFacilidadDetalle from \"./ModalFacilidadDetalle\";\nimport { BackendServices, CoreServices, BpmServices } from \"../../../../services\";\nimport SweetAlert from \"react-bootstrap-sweetalert\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PantallaBusqueda = props => {\n  _s();\n\n  const history = useHistory();\n  const location = useLocation();\n  const {\n    selectedData\n  } = location;\n  const [successSave_dlg, setsuccessSave_dlg] = useState(false);\n  const [error_dlg, seterror_dlg] = useState(false);\n  const [error_msg, seterror_msg] = useState(\"\");\n  const [showModalFacilidadDetalle, setShowModalFacilidadDetalle] = useState(false); //nuevo informe abrimos modal para buscar y seleccionar cliente\n\n  function toggleShowModalFacilidadDetalle() {\n    console.log(\"toggleShowModalFacilidadDetalle\");\n    setShowModalFacilidadDetalle(!showModalFacilidadDetalle);\n    removeBodyCss();\n  }\n\n  function removeBodyCss() {\n    document.body.classList.add(\"no_padding\");\n  }\n\n  function processNext() {\n    /* ---------------------------------------------------------------------------------------------- */\n\n    /*                                      Avanzamos el proceso                                      */\n\n    /* ---------------------------------------------------------------------------------------------- */\n    const api = new BpmServices();\n    let taskId = \"\";\n    api.completedStatusTask(taskId).then(resp => {\n      if (resp !== undefined) {\n        setsuccessSave_dlg(true);\n      } else {\n        //Mensaje ERROR\n        seterror_msg(props.t(\"ErrorSaveMessage\"));\n        seterror_dlg(true);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  function closeProcess() {\n    /* ---------------------------------------------------------------------------------------------- */\n\n    /*                    Cerramos el proceso y retornamos a la bandeja de entrada                    */\n\n    /* ---------------------------------------------------------------------------------------------- */\n    const api = new BpmServices(); // let instanceId = location.data.instanceId\n\n    let instanceId = 0;\n    api.abortProcess(instanceId).then(data => {\n      if (data !== undefined) {\n        history.push(url.URL_DASHBOARD);\n      } else {\n        //Mensaje ERROR\n        seterror_msg(props.t(\"TheProcessCouldNotFinish\"));\n        seterror_dlg(true);\n      }\n    });\n  }\n\n  function devolverEjecutivo() {\n    /* ---------------------------------------------------------------------------------------------- */\n\n    /*                 Retornamos el proceso a ejecutivo para la evaluacion respectiva                */\n\n    /* ---------------------------------------------------------------------------------------------- */\n    seterror_msg(props.t(\"TheProcessCouldNotFinish\"));\n    seterror_dlg(true);\n  }\n\n  function devolverAnalista() {\n    /* ---------------------------------------------------------------------------------------------- */\n\n    /*                 Retornamos el proceso a analista para la evaluacion respectiva                 */\n\n    /* ---------------------------------------------------------------------------------------------- */\n    seterror_msg(props.t(\"TheProcessCouldNotFinish\"));\n    seterror_dlg(true);\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-content\",\n      children: [/*#__PURE__*/_jsxDEV(Breadcrumbs, {\n        title: props.t(\"CommercialCredit\"),\n        breadcrumbItem: props.t(\"CreditAnalysisSupervisor\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(DatosGenerales, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ExposicionCorporativa, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ExposicionCorporativaCliente, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Facilidades, {\n          onSelectFacilidad: () => {\n            toggleShowModalFacilidadDetalle();\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Refinanciamientos, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalFacilidadDetalle, {\n          isOpen: showModalFacilidadDetalle,\n          toggle: () => {\n            toggleShowModalFacilidadDetalle();\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardFooter, {\n          style: {\n            textAlign: \"right\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            id: \"btnSearch\",\n            color: \"dark\",\n            type: \"button\",\n            style: {\n              margin: '5px'\n            },\n            onClick: closeProcess,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \" mdi mdi-arrow-top-right-bold-outline mid-12px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 112\n            }, this), \" \", \" \", props.t(\"Close\")]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            id: \"btnSearch\",\n            color: \"negative\",\n            type: \"button\",\n            style: {\n              margin: '5px'\n            },\n            onClick: devolverEjecutivo,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"mdi mdi-arrow-top-right-bold-outline mid-12px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 121\n            }, this), \" \", \" \", props.t(\"BackToExecutive\")]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            id: \"btnSearch\",\n            color: \"negative\",\n            type: \"button\",\n            style: {\n              margin: '5px'\n            },\n            onClick: devolverAnalista,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"mdi mdi-call-missed mid-12px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 120\n            }, this), \" \", \" \", props.t(\"BackToAnalyst\")]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            id: \"btnSearch\",\n            color: \"success\",\n            type: \"button\",\n            style: {\n              margin: '5px'\n            },\n            onClick: processNext,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"mdi mdi-arrow-right-bold-circle-outline mid-12px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 114\n            }, this), \" \", \" \", props.t(\"Advance\")]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), successSave_dlg ? /*#__PURE__*/_jsxDEV(SweetAlert, {\n        success: true,\n        title: props.t(\"SuccessDialog\"),\n        onConfirm: () => {\n          setsuccessSave_dlg(false);\n          history.push(url.URL_DASHBOARD);\n        },\n        children: props.t(\"SuccessSaveMessage\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }, this) : null, error_dlg ? /*#__PURE__*/_jsxDEV(SweetAlert, {\n        error: true,\n        title: props.t(\"ErrorDialog\"),\n        onConfirm: () => {\n          seterror_dlg(false);\n        },\n        children: error_msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PantallaBusqueda, \"vAEmyUKgxXKaz6GLLn42AiZY0uw=\", false, function () {\n  return [useHistory, useLocation];\n});\n\n_c = PantallaBusqueda;\nPantallaBusqueda.propTypes = {\n  //    onSelectIdPropuesta: PropTypes.func.isRequired\n  selectedIdPropuesta: PropTypes.any,\n  onClose: PropTypes.func.isRequired\n};\nexport default withTranslation()(PantallaBusqueda);\n\nvar _c;\n\n$RefreshReg$(_c, \"PantallaBusqueda\");","map":{"version":3,"sources":["D:/_PROJECTS/_SOAINT/JBPM/App/banescocreditoscomerciales/src/pages/CommercialCredit/7_SupervisorAnalisisCredito/PantallaDetalle/index.js"],"names":["React","useState","PropTypes","Link","useLocation","useHistory","url","Card","CardBody","CardFooter","Button","Breadcrumbs","withTranslation","DatosGenerales","ExposicionCorporativa","ExposicionCorporativaCliente","Facilidades","Refinanciamientos","ModalFacilidadDetalle","BackendServices","CoreServices","BpmServices","SweetAlert","PantallaBusqueda","props","history","location","selectedData","successSave_dlg","setsuccessSave_dlg","error_dlg","seterror_dlg","error_msg","seterror_msg","showModalFacilidadDetalle","setShowModalFacilidadDetalle","toggleShowModalFacilidadDetalle","console","log","removeBodyCss","document","body","classList","add","processNext","api","taskId","completedStatusTask","then","resp","undefined","t","catch","err","closeProcess","instanceId","abortProcess","data","push","URL_DASHBOARD","devolverEjecutivo","devolverAnalista","textAlign","margin","propTypes","selectedIdPropuesta","any","onClose","func","isRequired"],"mappings":"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","sourcesContent":["/*ReinforcedManagementReport = Lista de Informe Reforzado*/\r\nimport React, { useState } from \"react\"\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from \"react-router-dom\"\r\nimport { useLocation, useHistory } from 'react-router-dom'\r\nimport * as url from \"../../../../helpers/url_helper\"\r\n\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardFooter,\r\n  Button,\r\n} from \"reactstrap\"\r\n\r\n//Import Breadcrumb\r\nimport Breadcrumbs from \"../../../../components/Common/Breadcrumb\"\r\n\r\n//i18n\r\nimport { withTranslation } from \"react-i18next\"\r\n\r\nimport DatosGenerales from \"./DatosGenerales\"\r\nimport ExposicionCorporativa from \"./ExposicionCorporativa\"\r\nimport ExposicionCorporativaCliente from \"./ExposicionCorporativaCliente\"\r\nimport Facilidades from \"./Facilidades\"\r\nimport Refinanciamientos from \"./Refinanciamientos\"\r\nimport ModalFacilidadDetalle from \"./ModalFacilidadDetalle\"\r\nimport { BackendServices, CoreServices, BpmServices, } from \"../../../../services\";\r\nimport SweetAlert from \"react-bootstrap-sweetalert\";\r\n\r\nconst PantallaBusqueda = props => {\r\n  const history = useHistory();\r\n  const location = useLocation()\r\n  const { selectedData } = location;\r\n  const [successSave_dlg, setsuccessSave_dlg] = useState(false);\r\n  const [error_dlg, seterror_dlg] = useState(false);\r\n  const [error_msg, seterror_msg] = useState(\"\");\r\n  const [showModalFacilidadDetalle, setShowModalFacilidadDetalle] = useState(false);\r\n\r\n  //nuevo informe abrimos modal para buscar y seleccionar cliente\r\n  function toggleShowModalFacilidadDetalle() {\r\n    console.log(\"toggleShowModalFacilidadDetalle\");\r\n    setShowModalFacilidadDetalle(!showModalFacilidadDetalle);\r\n    removeBodyCss()\r\n  }\r\n\r\n  function removeBodyCss() {\r\n    document.body.classList.add(\"no_padding\")\r\n  }\r\n  function processNext() {\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                                      Avanzamos el proceso                                      */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    const api = new BpmServices();\r\n    let taskId = \"\";\r\n    api.completedStatusTask(taskId).then(resp => {\r\n      if (resp !== undefined) {\r\n        setsuccessSave_dlg(true);\r\n      }\r\n      else {\r\n        //Mensaje ERROR\r\n        seterror_msg(props.t(\"ErrorSaveMessage\"))\r\n        seterror_dlg(true)\r\n      }\r\n    }).catch(err => {\r\n      console.log(err);\r\n    })\r\n  }\r\n  function closeProcess() {\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                    Cerramos el proceso y retornamos a la bandeja de entrada                    */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    const api = new BpmServices();\r\n    // let instanceId = location.data.instanceId\r\n    let instanceId = 0\r\n    api.abortProcess(instanceId).then((data) => {\r\n      if (data !== undefined) {\r\n        history.push(url.URL_DASHBOARD);\r\n      }\r\n      else {\r\n        //Mensaje ERROR\r\n        seterror_msg(props.t(\"TheProcessCouldNotFinish\"))\r\n        seterror_dlg(true)\r\n      }\r\n    });\r\n  }\r\n  function devolverEjecutivo() {\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                 Retornamos el proceso a ejecutivo para la evaluacion respectiva                */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    seterror_msg(props.t(\"TheProcessCouldNotFinish\"))\r\n    seterror_dlg(true)\r\n  }\r\n  function devolverAnalista() {\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    /*                 Retornamos el proceso a analista para la evaluacion respectiva                 */\r\n    /* ---------------------------------------------------------------------------------------------- */\r\n    seterror_msg(props.t(\"TheProcessCouldNotFinish\"))\r\n    seterror_dlg(true)\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n\r\n      <div className=\"page-content\">\r\n\r\n        <Breadcrumbs title={props.t(\"CommercialCredit\")} breadcrumbItem={props.t(\"CreditAnalysisSupervisor\")} />\r\n\r\n        <Card>\r\n          <DatosGenerales />\r\n          <ExposicionCorporativa />\r\n          <ExposicionCorporativaCliente />\r\n          <Facilidades onSelectFacilidad={() => { toggleShowModalFacilidadDetalle() }} />\r\n          <Refinanciamientos />\r\n\r\n          <ModalFacilidadDetalle isOpen={showModalFacilidadDetalle} toggle={() => { toggleShowModalFacilidadDetalle() }} />\r\n\r\n          <CardFooter style={{ textAlign: \"right\" }}>\r\n            <Button id=\"btnSearch\" color=\"dark\" type=\"button\" style={{ margin: '5px' }} onClick={closeProcess}><i className=\" mdi mdi-arrow-top-right-bold-outline mid-12px\"></i>\r\n              {\" \"} {props.t(\"Close\")}</Button>\r\n            <Button id=\"btnSearch\" color=\"negative\" type=\"button\" style={{ margin: '5px' }} onClick={devolverEjecutivo}><i className=\"mdi mdi-arrow-top-right-bold-outline mid-12px\"></i>\r\n              {\" \"} {props.t(\"BackToExecutive\")}</Button>\r\n            <Button id=\"btnSearch\" color=\"negative\" type=\"button\" style={{ margin: '5px' }} onClick={devolverAnalista}><i className=\"mdi mdi-call-missed mid-12px\"></i>\r\n              {\" \"} {props.t(\"BackToAnalyst\")}</Button>\r\n            <Button id=\"btnSearch\" color=\"success\" type=\"button\" style={{ margin: '5px' }} onClick={processNext}><i className=\"mdi mdi-arrow-right-bold-circle-outline mid-12px\"></i>\r\n              {\" \"} {props.t(\"Advance\")}</Button>\r\n          </CardFooter>\r\n        </Card>\r\n        {successSave_dlg ? (\r\n          <SweetAlert\r\n            success\r\n            title={props.t(\"SuccessDialog\")}\r\n            onConfirm={() => {\r\n              setsuccessSave_dlg(false)\r\n\r\n              history.push(url.URL_DASHBOARD);\r\n            }}\r\n          >\r\n            {props.t(\"SuccessSaveMessage\")}\r\n          </SweetAlert>\r\n        ) : null}\r\n\r\n        {error_dlg ? (\r\n          <SweetAlert\r\n            error\r\n            title={props.t(\"ErrorDialog\")}\r\n            onConfirm={() => {\r\n              seterror_dlg(false)\r\n            }}\r\n          >\r\n            {error_msg}\r\n          </SweetAlert>\r\n        ) : null}\r\n      </div>\r\n\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nPantallaBusqueda.propTypes = {\r\n  //    onSelectIdPropuesta: PropTypes.func.isRequired\r\n  selectedIdPropuesta: PropTypes.any,\r\n  onClose: PropTypes.func.isRequired\r\n}\r\n\r\nexport default (withTranslation()(PantallaBusqueda))\r\n"]},"metadata":{},"sourceType":"module"}